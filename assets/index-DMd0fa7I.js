var _X=Object.defineProperty;var d4=e=>{throw TypeError(e)};var wX=(e,t,r)=>t in e?_X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Up=(e,t,r)=>wX(e,typeof t!="symbol"?t+"":t,r),Mj=(e,t,r)=>t.has(e)||d4("Cannot "+r);var ye=(e,t,r)=>(Mj(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>t.has(e)?d4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),dt=(e,t,r,n)=>(Mj(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Kt=(e,t,r)=>(Mj(e,t,"access private method"),r);var Ex=(e,t,r,n)=>({set _(a){dt(e,t,a,r)},get _(){return ye(e,t,n)}});function jX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var v$={exports:{}},y_={},x$={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv=Symbol.for("react.element"),SX=Symbol.for("react.portal"),NX=Symbol.for("react.fragment"),kX=Symbol.for("react.strict_mode"),CX=Symbol.for("react.profiler"),EX=Symbol.for("react.provider"),TX=Symbol.for("react.context"),AX=Symbol.for("react.forward_ref"),PX=Symbol.for("react.suspense"),OX=Symbol.for("react.memo"),DX=Symbol.for("react.lazy"),f4=Symbol.iterator;function RX(e){return e===null||typeof e!="object"?null:(e=f4&&e[f4]||e["@@iterator"],typeof e=="function"?e:null)}var y$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b$=Object.assign,_$={};function lp(e,t,r){this.props=e,this.context=t,this.refs=_$,this.updater=r||y$}lp.prototype.isReactComponent={};lp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function w$(){}w$.prototype=lp.prototype;function fE(e,t,r){this.props=e,this.context=t,this.refs=_$,this.updater=r||y$}var hE=fE.prototype=new w$;hE.constructor=fE;b$(hE,lp.prototype);hE.isPureReactComponent=!0;var h4=Array.isArray,j$=Object.prototype.hasOwnProperty,mE={current:null},S$={key:!0,ref:!0,__self:!0,__source:!0};function N$(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)j$.call(t,n)&&!S$.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Pv,type:e,key:s,ref:o,props:a,_owner:mE.current}}function MX(e,t){return{$$typeof:Pv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pE(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pv}function FX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var m4=/\/+/g;function Fj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?FX(""+e.key):t.toString(36)}function Oy(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pv:case SX:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Fj(o,0):n,h4(a)?(r="",e!=null&&(r=e.replace(m4,"$&/")+"/"),Oy(a,t,r,"",function(u){return u})):a!=null&&(pE(a)&&(a=MX(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(m4,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",h4(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Fj(s,l);o+=Oy(s,t,r,c,a)}else if(c=RX(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Fj(s,l++),o+=Oy(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ax(e,t,r){if(e==null)return e;var n=[],a=0;return Oy(e,n,"","",function(s){return t.call(r,s,a++)}),n}function IX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hs={current:null},Dy={transition:null},LX={ReactCurrentDispatcher:hs,ReactCurrentBatchConfig:Dy,ReactCurrentOwner:mE};function k$(){throw Error("act(...) is not supported in production builds of React.")}Ht.Children={map:Ax,forEach:function(e,t,r){Ax(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ax(e,function(){t++}),t},toArray:function(e){return Ax(e,function(t){return t})||[]},only:function(e){if(!pE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ht.Component=lp;Ht.Fragment=NX;Ht.Profiler=CX;Ht.PureComponent=fE;Ht.StrictMode=kX;Ht.Suspense=PX;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LX;Ht.act=k$;Ht.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=b$({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=mE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j$.call(t,c)&&!S$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Pv,type:e.type,key:a,ref:s,props:n,_owner:o}};Ht.createContext=function(e){return e={$$typeof:TX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EX,_context:e},e.Consumer=e};Ht.createElement=N$;Ht.createFactory=function(e){var t=N$.bind(null,e);return t.type=e,t};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(e){return{$$typeof:AX,render:e}};Ht.isValidElement=pE;Ht.lazy=function(e){return{$$typeof:DX,_payload:{_status:-1,_result:e},_init:IX}};Ht.memo=function(e,t){return{$$typeof:OX,type:e,compare:t===void 0?null:t}};Ht.startTransition=function(e){var t=Dy.transition;Dy.transition={};try{e()}finally{Dy.transition=t}};Ht.unstable_act=k$;Ht.useCallback=function(e,t){return hs.current.useCallback(e,t)};Ht.useContext=function(e){return hs.current.useContext(e)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(e){return hs.current.useDeferredValue(e)};Ht.useEffect=function(e,t){return hs.current.useEffect(e,t)};Ht.useId=function(){return hs.current.useId()};Ht.useImperativeHandle=function(e,t,r){return hs.current.useImperativeHandle(e,t,r)};Ht.useInsertionEffect=function(e,t){return hs.current.useInsertionEffect(e,t)};Ht.useLayoutEffect=function(e,t){return hs.current.useLayoutEffect(e,t)};Ht.useMemo=function(e,t){return hs.current.useMemo(e,t)};Ht.useReducer=function(e,t,r){return hs.current.useReducer(e,t,r)};Ht.useRef=function(e){return hs.current.useRef(e)};Ht.useState=function(e){return hs.current.useState(e)};Ht.useSyncExternalStore=function(e,t,r){return hs.current.useSyncExternalStore(e,t,r)};Ht.useTransition=function(){return hs.current.useTransition()};Ht.version="18.3.1";x$.exports=Ht;var x=x$.exports;const ie=fr(x),gE=jX({__proto__:null,default:ie},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $X=x,BX=Symbol.for("react.element"),UX=Symbol.for("react.fragment"),zX=Object.prototype.hasOwnProperty,VX=$X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WX={key:!0,ref:!0,__self:!0,__source:!0};function C$(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)zX.call(t,n)&&!WX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:BX,type:e,key:s,ref:o,props:a,_owner:VX.current}}y_.Fragment=UX;y_.jsx=C$;y_.jsxs=C$;v$.exports=y_;var i=v$.exports,E$={exports:{}},ui={},T$={exports:{}},A$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,D){var q=B.length;B.push(D);e:for(;0<q;){var Y=q-1>>>1,P=B[Y];if(0<a(P,D))B[Y]=D,B[q]=P,q=Y;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var D=B[0],q=B.pop();if(q!==D){B[0]=q;e:for(var Y=0,P=B.length,G=P>>>1;Y<G;){var K=2*(Y+1)-1,Z=B[K],se=K+1,oe=B[se];if(0>a(Z,q))se<P&&0>a(oe,Z)?(B[Y]=oe,B[se]=q,Y=se):(B[Y]=Z,B[K]=q,Y=K);else if(se<P&&0>a(oe,q))B[Y]=oe,B[se]=q,Y=se;else break e}}return D}function a(B,D){var q=B.sortIndex-D.sortIndex;return q!==0?q:B.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=B)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function j(B){if(p=!1,_(B),!g)if(r(c)!==null)g=!0,F(w);else{var D=r(u);D!==null&&L(j,D.startTime-B)}}function w(B,D){g=!1,p&&(p=!1,y(k),k=-1),m=!0;var q=h;try{for(_(D),f=r(c);f!==null&&(!(f.expirationTime>D)||B&&!O());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var P=Y(f.expirationTime<=D);D=e.unstable_now(),typeof P=="function"?f.callback=P:f===r(c)&&n(c),_(D)}else n(c);f=r(c)}if(f!==null)var G=!0;else{var K=r(u);K!==null&&L(j,K.startTime-D),G=!1}return G}finally{f=null,h=q,m=!1}}var N=!1,S=null,k=-1,C=5,T=-1;function O(){return!(e.unstable_now()-T<C)}function A(){if(S!==null){var B=e.unstable_now();T=B;var D=!0;try{D=S(!0,B)}finally{D?V():(N=!1,S=null)}}else N=!1}var V;if(typeof b=="function")V=function(){b(A)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,M=H.port2;H.port1.onmessage=A,V=function(){M.postMessage(null)}}else V=function(){v(A,0)};function F(B){S=B,N||(N=!0,V())}function L(B,D){k=v(function(){B(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,F(w))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var q=h;h=D;try{return B()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,D){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=h;h=B;try{return D()}finally{h=q}},e.unstable_scheduleCallback=function(B,D,q){var Y=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,B){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=q+P,B={id:d++,callback:D,priorityLevel:B,startTime:q,expirationTime:P,sortIndex:-1},q>Y?(B.sortIndex=q,t(u,B),r(c)===null&&B===r(u)&&(p?(y(k),k=-1):p=!0,L(j,q-Y))):(B.sortIndex=P,t(c,B),g||m||(g=!0,F(w))),B},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(B){var D=h;return function(){var q=h;h=D;try{return B.apply(this,arguments)}finally{h=q}}}})(A$);T$.exports=A$;var HX=T$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qX=x,oi=HX;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P$=new Set,lg={};function _f(e,t){om(e,t),om(e+"Capture",t)}function om(e,t){for(lg[e]=t,e=0;e<t.length;e++)P$.add(t[e])}var ac=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P2=Object.prototype.hasOwnProperty,GX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p4={},g4={};function KX(e){return P2.call(g4,e)?!0:P2.call(p4,e)?!1:GX.test(e)?g4[e]=!0:(p4[e]=!0,!1)}function YX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function XX(e,t,r,n){if(t===null||typeof t>"u"||YX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ms(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var aa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){aa[e]=new ms(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];aa[t]=new ms(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){aa[e]=new ms(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){aa[e]=new ms(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){aa[e]=new ms(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){aa[e]=new ms(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){aa[e]=new ms(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){aa[e]=new ms(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){aa[e]=new ms(e,5,!1,e.toLowerCase(),null,!1,!1)});var vE=/[\-:]([a-z])/g;function xE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vE,xE);aa[t]=new ms(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vE,xE);aa[t]=new ms(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vE,xE);aa[t]=new ms(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){aa[e]=new ms(e,1,!1,e.toLowerCase(),null,!1,!1)});aa.xlinkHref=new ms("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){aa[e]=new ms(e,1,!1,e.toLowerCase(),null,!0,!0)});function yE(e,t,r,n){var a=aa.hasOwnProperty(t)?aa[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(XX(t,r,a,n)&&(r=null),n||a===null?KX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _c=qX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Px=Symbol.for("react.element"),dh=Symbol.for("react.portal"),fh=Symbol.for("react.fragment"),bE=Symbol.for("react.strict_mode"),O2=Symbol.for("react.profiler"),O$=Symbol.for("react.provider"),D$=Symbol.for("react.context"),_E=Symbol.for("react.forward_ref"),D2=Symbol.for("react.suspense"),R2=Symbol.for("react.suspense_list"),wE=Symbol.for("react.memo"),Uc=Symbol.for("react.lazy"),R$=Symbol.for("react.offscreen"),v4=Symbol.iterator;function zp(e){return e===null||typeof e!="object"?null:(e=v4&&e[v4]||e["@@iterator"],typeof e=="function"?e:null)}var Hr=Object.assign,Ij;function v0(e){if(Ij===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ij=t&&t[1]||""}return`
`+Ij+e}var Lj=!1;function $j(e,t){if(!e||Lj)return"";Lj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Lj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?v0(e):""}function QX(e){switch(e.tag){case 5:return v0(e.type);case 16:return v0("Lazy");case 13:return v0("Suspense");case 19:return v0("SuspenseList");case 0:case 2:case 15:return e=$j(e.type,!1),e;case 11:return e=$j(e.type.render,!1),e;case 1:return e=$j(e.type,!0),e;default:return""}}function M2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fh:return"Fragment";case dh:return"Portal";case O2:return"Profiler";case bE:return"StrictMode";case D2:return"Suspense";case R2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D$:return(e.displayName||"Context")+".Consumer";case O$:return(e._context.displayName||"Context")+".Provider";case _E:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wE:return t=e.displayName||null,t!==null?t:M2(e.type)||"Memo";case Uc:t=e._payload,e=e._init;try{return M2(e(t))}catch{}}return null}function JX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M2(t);case 8:return t===bE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ou(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function M$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZX(e){var t=M$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ox(e){e._valueTracker||(e._valueTracker=ZX(e))}function F$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=M$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function a1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function F2(e,t){var r=t.checked;return Hr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function x4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ou(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function I$(e,t){t=t.checked,t!=null&&yE(e,"checked",t,!1)}function I2(e,t){I$(e,t);var r=Ou(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?L2(e,t.type,r):t.hasOwnProperty("defaultValue")&&L2(e,t.type,Ou(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function y4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function L2(e,t,r){(t!=="number"||a1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var x0=Array.isArray;function Ah(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ou(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function $2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return Hr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function b4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ve(92));if(x0(r)){if(1<r.length)throw Error(Ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ou(r)}}function L$(e,t){var r=Ou(t.value),n=Ou(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function _4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dx,B$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dx=Dx||document.createElement("div"),Dx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var A0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eQ=["Webkit","ms","Moz","O"];Object.keys(A0).forEach(function(e){eQ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),A0[t]=A0[e]})});function U$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||A0.hasOwnProperty(e)&&A0[e]?(""+t).trim():t+"px"}function z$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=U$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var tQ=Hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U2(e,t){if(t){if(tQ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function z2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V2=null;function jE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var W2=null,Ph=null,Oh=null;function w4(e){if(e=Rv(e)){if(typeof W2!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=S_(t),W2(e.stateNode,e.type,t))}}function V$(e){Ph?Oh?Oh.push(e):Oh=[e]:Ph=e}function W$(){if(Ph){var e=Ph,t=Oh;if(Oh=Ph=null,w4(e),t)for(e=0;e<t.length;e++)w4(t[e])}}function H$(e,t){return e(t)}function q$(){}var Bj=!1;function G$(e,t,r){if(Bj)return e(t,r);Bj=!0;try{return H$(e,t,r)}finally{Bj=!1,(Ph!==null||Oh!==null)&&(q$(),W$())}}function ug(e,t){var r=e.stateNode;if(r===null)return null;var n=S_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ve(231,t,typeof r));return r}var H2=!1;if(ac)try{var Vp={};Object.defineProperty(Vp,"passive",{get:function(){H2=!0}}),window.addEventListener("test",Vp,Vp),window.removeEventListener("test",Vp,Vp)}catch{H2=!1}function rQ(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var P0=!1,s1=null,i1=!1,q2=null,nQ={onError:function(e){P0=!0,s1=e}};function aQ(e,t,r,n,a,s,o,l,c){P0=!1,s1=null,rQ.apply(nQ,arguments)}function sQ(e,t,r,n,a,s,o,l,c){if(aQ.apply(this,arguments),P0){if(P0){var u=s1;P0=!1,s1=null}else throw Error(Ve(198));i1||(i1=!0,q2=u)}}function wf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function K$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j4(e){if(wf(e)!==e)throw Error(Ve(188))}function iQ(e){var t=e.alternate;if(!t){if(t=wf(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return j4(a),e;if(s===n)return j4(a),t;s=s.sibling}throw Error(Ve(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(Ve(189))}}if(r.alternate!==n)throw Error(Ve(190))}if(r.tag!==3)throw Error(Ve(188));return r.stateNode.current===r?e:t}function Y$(e){return e=iQ(e),e!==null?X$(e):null}function X$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=X$(e);if(t!==null)return t;e=e.sibling}return null}var Q$=oi.unstable_scheduleCallback,S4=oi.unstable_cancelCallback,oQ=oi.unstable_shouldYield,lQ=oi.unstable_requestPaint,tn=oi.unstable_now,cQ=oi.unstable_getCurrentPriorityLevel,SE=oi.unstable_ImmediatePriority,J$=oi.unstable_UserBlockingPriority,o1=oi.unstable_NormalPriority,uQ=oi.unstable_LowPriority,Z$=oi.unstable_IdlePriority,b_=null,ll=null;function dQ(e){if(ll&&typeof ll.onCommitFiberRoot=="function")try{ll.onCommitFiberRoot(b_,e,void 0,(e.current.flags&128)===128)}catch{}}var po=Math.clz32?Math.clz32:mQ,fQ=Math.log,hQ=Math.LN2;function mQ(e){return e>>>=0,e===0?32:31-(fQ(e)/hQ|0)|0}var Rx=64,Mx=4194304;function y0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function l1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=y0(l):(s&=o,s!==0&&(n=y0(s)))}else o=r&~a,o!==0?n=y0(o):s!==0&&(n=y0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-po(t),a=1<<r,n|=e[r],t&=~a;return n}function pQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gQ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-po(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=pQ(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function G2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e8(){var e=Rx;return Rx<<=1,!(Rx&4194240)&&(Rx=64),e}function Uj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ov(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-po(t),e[t]=r}function vQ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-po(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function NE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-po(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var gr=0;function t8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var r8,kE,n8,a8,s8,K2=!1,Fx=[],gu=null,vu=null,xu=null,dg=new Map,fg=new Map,qc=[],xQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N4(e,t){switch(e){case"focusin":case"focusout":gu=null;break;case"dragenter":case"dragleave":vu=null;break;case"mouseover":case"mouseout":xu=null;break;case"pointerover":case"pointerout":dg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fg.delete(t.pointerId)}}function Wp(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Rv(t),t!==null&&kE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function yQ(e,t,r,n,a){switch(t){case"focusin":return gu=Wp(gu,e,t,r,n,a),!0;case"dragenter":return vu=Wp(vu,e,t,r,n,a),!0;case"mouseover":return xu=Wp(xu,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return dg.set(s,Wp(dg.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,fg.set(s,Wp(fg.get(s)||null,e,t,r,n,a)),!0}return!1}function i8(e){var t=vd(e.target);if(t!==null){var r=wf(t);if(r!==null){if(t=r.tag,t===13){if(t=K$(r),t!==null){e.blockedOn=t,s8(e.priority,function(){n8(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ry(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Y2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);V2=n,r.target.dispatchEvent(n),V2=null}else return t=Rv(r),t!==null&&kE(t),e.blockedOn=r,!1;t.shift()}return!0}function k4(e,t,r){Ry(e)&&r.delete(t)}function bQ(){K2=!1,gu!==null&&Ry(gu)&&(gu=null),vu!==null&&Ry(vu)&&(vu=null),xu!==null&&Ry(xu)&&(xu=null),dg.forEach(k4),fg.forEach(k4)}function Hp(e,t){e.blockedOn===t&&(e.blockedOn=null,K2||(K2=!0,oi.unstable_scheduleCallback(oi.unstable_NormalPriority,bQ)))}function hg(e){function t(a){return Hp(a,e)}if(0<Fx.length){Hp(Fx[0],e);for(var r=1;r<Fx.length;r++){var n=Fx[r];n.blockedOn===e&&(n.blockedOn=null)}}for(gu!==null&&Hp(gu,e),vu!==null&&Hp(vu,e),xu!==null&&Hp(xu,e),dg.forEach(t),fg.forEach(t),r=0;r<qc.length;r++)n=qc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qc.length&&(r=qc[0],r.blockedOn===null);)i8(r),r.blockedOn===null&&qc.shift()}var Dh=_c.ReactCurrentBatchConfig,c1=!0;function _Q(e,t,r,n){var a=gr,s=Dh.transition;Dh.transition=null;try{gr=1,CE(e,t,r,n)}finally{gr=a,Dh.transition=s}}function wQ(e,t,r,n){var a=gr,s=Dh.transition;Dh.transition=null;try{gr=4,CE(e,t,r,n)}finally{gr=a,Dh.transition=s}}function CE(e,t,r,n){if(c1){var a=Y2(e,t,r,n);if(a===null)Qj(e,t,n,u1,r),N4(e,n);else if(yQ(a,e,t,r,n))n.stopPropagation();else if(N4(e,n),t&4&&-1<xQ.indexOf(e)){for(;a!==null;){var s=Rv(a);if(s!==null&&r8(s),s=Y2(e,t,r,n),s===null&&Qj(e,t,n,u1,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Qj(e,t,n,null,r)}}var u1=null;function Y2(e,t,r,n){if(u1=null,e=jE(n),e=vd(e),e!==null)if(t=wf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=K$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return u1=e,null}function o8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cQ()){case SE:return 1;case J$:return 4;case o1:case uQ:return 16;case Z$:return 536870912;default:return 16}default:return 16}}var ou=null,EE=null,My=null;function l8(){if(My)return My;var e,t=EE,r=t.length,n,a="value"in ou?ou.value:ou.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return My=a.slice(e,1<n?1-n:void 0)}function Fy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ix(){return!0}function C4(){return!1}function di(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ix:C4,this.isPropagationStopped=C4,this}return Hr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ix)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ix)},persist:function(){},isPersistent:Ix}),t}var cp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},TE=di(cp),Dv=Hr({},cp,{view:0,detail:0}),jQ=di(Dv),zj,Vj,qp,__=Hr({},Dv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qp&&(qp&&e.type==="mousemove"?(zj=e.screenX-qp.screenX,Vj=e.screenY-qp.screenY):Vj=zj=0,qp=e),zj)},movementY:function(e){return"movementY"in e?e.movementY:Vj}}),E4=di(__),SQ=Hr({},__,{dataTransfer:0}),NQ=di(SQ),kQ=Hr({},Dv,{relatedTarget:0}),Wj=di(kQ),CQ=Hr({},cp,{animationName:0,elapsedTime:0,pseudoElement:0}),EQ=di(CQ),TQ=Hr({},cp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AQ=di(TQ),PQ=Hr({},cp,{data:0}),T4=di(PQ),OQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RQ[e])?!!t[e]:!1}function AE(){return MQ}var FQ=Hr({},Dv,{key:function(e){if(e.key){var t=OQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AE,charCode:function(e){return e.type==="keypress"?Fy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IQ=di(FQ),LQ=Hr({},__,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A4=di(LQ),$Q=Hr({},Dv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AE}),BQ=di($Q),UQ=Hr({},cp,{propertyName:0,elapsedTime:0,pseudoElement:0}),zQ=di(UQ),VQ=Hr({},__,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WQ=di(VQ),HQ=[9,13,27,32],PE=ac&&"CompositionEvent"in window,O0=null;ac&&"documentMode"in document&&(O0=document.documentMode);var qQ=ac&&"TextEvent"in window&&!O0,c8=ac&&(!PE||O0&&8<O0&&11>=O0),P4=" ",O4=!1;function u8(e,t){switch(e){case"keyup":return HQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hh=!1;function GQ(e,t){switch(e){case"compositionend":return d8(t);case"keypress":return t.which!==32?null:(O4=!0,P4);case"textInput":return e=t.data,e===P4&&O4?null:e;default:return null}}function KQ(e,t){if(hh)return e==="compositionend"||!PE&&u8(e,t)?(e=l8(),My=EE=ou=null,hh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return c8&&t.locale!=="ko"?null:t.data;default:return null}}var YQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YQ[e.type]:t==="textarea"}function f8(e,t,r,n){V$(n),t=d1(t,"onChange"),0<t.length&&(r=new TE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var D0=null,mg=null;function XQ(e){j8(e,0)}function w_(e){var t=gh(e);if(F$(t))return e}function QQ(e,t){if(e==="change")return t}var h8=!1;if(ac){var Hj;if(ac){var qj="oninput"in document;if(!qj){var R4=document.createElement("div");R4.setAttribute("oninput","return;"),qj=typeof R4.oninput=="function"}Hj=qj}else Hj=!1;h8=Hj&&(!document.documentMode||9<document.documentMode)}function M4(){D0&&(D0.detachEvent("onpropertychange",m8),mg=D0=null)}function m8(e){if(e.propertyName==="value"&&w_(mg)){var t=[];f8(t,mg,e,jE(e)),G$(XQ,t)}}function JQ(e,t,r){e==="focusin"?(M4(),D0=t,mg=r,D0.attachEvent("onpropertychange",m8)):e==="focusout"&&M4()}function ZQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return w_(mg)}function eJ(e,t){if(e==="click")return w_(t)}function tJ(e,t){if(e==="input"||e==="change")return w_(t)}function rJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wo=typeof Object.is=="function"?Object.is:rJ;function pg(e,t){if(wo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!P2.call(t,a)||!wo(e[a],t[a]))return!1}return!0}function F4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function I4(e,t){var r=F4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=F4(r)}}function p8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?p8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g8(){for(var e=window,t=a1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=a1(e.document)}return t}function OE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nJ(e){var t=g8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&p8(r.ownerDocument.documentElement,r)){if(n!==null&&OE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=I4(r,s);var o=I4(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aJ=ac&&"documentMode"in document&&11>=document.documentMode,mh=null,X2=null,R0=null,Q2=!1;function L4(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Q2||mh==null||mh!==a1(n)||(n=mh,"selectionStart"in n&&OE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),R0&&pg(R0,n)||(R0=n,n=d1(X2,"onSelect"),0<n.length&&(t=new TE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mh)))}function Lx(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ph={animationend:Lx("Animation","AnimationEnd"),animationiteration:Lx("Animation","AnimationIteration"),animationstart:Lx("Animation","AnimationStart"),transitionend:Lx("Transition","TransitionEnd")},Gj={},v8={};ac&&(v8=document.createElement("div").style,"AnimationEvent"in window||(delete ph.animationend.animation,delete ph.animationiteration.animation,delete ph.animationstart.animation),"TransitionEvent"in window||delete ph.transitionend.transition);function j_(e){if(Gj[e])return Gj[e];if(!ph[e])return e;var t=ph[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in v8)return Gj[e]=t[r];return e}var x8=j_("animationend"),y8=j_("animationiteration"),b8=j_("animationstart"),_8=j_("transitionend"),w8=new Map,$4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vu(e,t){w8.set(e,t),_f(t,[e])}for(var Kj=0;Kj<$4.length;Kj++){var Yj=$4[Kj],sJ=Yj.toLowerCase(),iJ=Yj[0].toUpperCase()+Yj.slice(1);Vu(sJ,"on"+iJ)}Vu(x8,"onAnimationEnd");Vu(y8,"onAnimationIteration");Vu(b8,"onAnimationStart");Vu("dblclick","onDoubleClick");Vu("focusin","onFocus");Vu("focusout","onBlur");Vu(_8,"onTransitionEnd");om("onMouseEnter",["mouseout","mouseover"]);om("onMouseLeave",["mouseout","mouseover"]);om("onPointerEnter",["pointerout","pointerover"]);om("onPointerLeave",["pointerout","pointerover"]);_f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_f("onBeforeInput",["compositionend","keypress","textInput","paste"]);_f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var b0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(b0));function B4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,sQ(n,t,void 0,e),e.currentTarget=null}function j8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;B4(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;B4(a,l,u),s=c}}}if(i1)throw e=q2,i1=!1,q2=null,e}function Or(e,t){var r=t[rN];r===void 0&&(r=t[rN]=new Set);var n=e+"__bubble";r.has(n)||(S8(t,e,2,!1),r.add(n))}function Xj(e,t,r){var n=0;t&&(n|=4),S8(r,e,n,t)}var $x="_reactListening"+Math.random().toString(36).slice(2);function gg(e){if(!e[$x]){e[$x]=!0,P$.forEach(function(r){r!=="selectionchange"&&(oJ.has(r)||Xj(r,!1,e),Xj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$x]||(t[$x]=!0,Xj("selectionchange",!1,t))}}function S8(e,t,r,n){switch(o8(t)){case 1:var a=_Q;break;case 4:a=wQ;break;default:a=CE}r=a.bind(null,t,r,e),a=void 0,!H2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Qj(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=vd(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}G$(function(){var u=s,d=jE(r),f=[];e:{var h=w8.get(e);if(h!==void 0){var m=TE,g=e;switch(e){case"keypress":if(Fy(r)===0)break e;case"keydown":case"keyup":m=IQ;break;case"focusin":g="focus",m=Wj;break;case"focusout":g="blur",m=Wj;break;case"beforeblur":case"afterblur":m=Wj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=E4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=BQ;break;case x8:case y8:case b8:m=EQ;break;case _8:m=zQ;break;case"scroll":m=jQ;break;case"wheel":m=WQ;break;case"copy":case"cut":case"paste":m=AQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=A4}var p=(t&4)!==0,v=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,_;b!==null;){_=b;var j=_.stateNode;if(_.tag===5&&j!==null&&(_=j,y!==null&&(j=ug(b,y),j!=null&&p.push(vg(b,j,_)))),v)break;b=b.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==V2&&(g=r.relatedTarget||r.fromElement)&&(vd(g)||g[sc]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?vd(g):null,g!==null&&(v=wf(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=E4,j="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=A4,j="onPointerLeave",y="onPointerEnter",b="pointer"),v=m==null?h:gh(m),_=g==null?h:gh(g),h=new p(j,b+"leave",m,r,d),h.target=v,h.relatedTarget=_,j=null,vd(d)===u&&(p=new p(y,b+"enter",g,r,d),p.target=_,p.relatedTarget=v,j=p),v=j,m&&g)t:{for(p=m,y=g,b=0,_=p;_;_=Bf(_))b++;for(_=0,j=y;j;j=Bf(j))_++;for(;0<b-_;)p=Bf(p),b--;for(;0<_-b;)y=Bf(y),_--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=Bf(p),y=Bf(y)}p=null}else p=null;m!==null&&U4(f,h,m,p,!1),g!==null&&v!==null&&U4(f,v,g,p,!0)}}e:{if(h=u?gh(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=QQ;else if(D4(h))if(h8)w=tJ;else{w=ZQ;var N=JQ}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=eJ);if(w&&(w=w(e,u))){f8(f,w,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&L2(h,"number",h.value)}switch(N=u?gh(u):window,e){case"focusin":(D4(N)||N.contentEditable==="true")&&(mh=N,X2=u,R0=null);break;case"focusout":R0=X2=mh=null;break;case"mousedown":Q2=!0;break;case"contextmenu":case"mouseup":case"dragend":Q2=!1,L4(f,r,d);break;case"selectionchange":if(aJ)break;case"keydown":case"keyup":L4(f,r,d)}var S;if(PE)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else hh?u8(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(c8&&r.locale!=="ko"&&(hh||k!=="onCompositionStart"?k==="onCompositionEnd"&&hh&&(S=l8()):(ou=d,EE="value"in ou?ou.value:ou.textContent,hh=!0)),N=d1(u,k),0<N.length&&(k=new T4(k,e,null,r,d),f.push({event:k,listeners:N}),S?k.data=S:(S=d8(r),S!==null&&(k.data=S)))),(S=qQ?GQ(e,r):KQ(e,r))&&(u=d1(u,"onBeforeInput"),0<u.length&&(d=new T4("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}j8(f,t)})}function vg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function d1(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=ug(e,r),s!=null&&n.unshift(vg(e,s,a)),s=ug(e,t),s!=null&&n.push(vg(e,s,a))),e=e.return}return n}function Bf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function U4(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=ug(r,s),c!=null&&o.unshift(vg(r,c,l))):a||(c=ug(r,s),c!=null&&o.push(vg(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var lJ=/\r\n?/g,cJ=/\u0000|\uFFFD/g;function z4(e){return(typeof e=="string"?e:""+e).replace(lJ,`
`).replace(cJ,"")}function Bx(e,t,r){if(t=z4(t),z4(e)!==t&&r)throw Error(Ve(425))}function f1(){}var J2=null,Z2=null;function eN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tN=typeof setTimeout=="function"?setTimeout:void 0,uJ=typeof clearTimeout=="function"?clearTimeout:void 0,V4=typeof Promise=="function"?Promise:void 0,dJ=typeof queueMicrotask=="function"?queueMicrotask:typeof V4<"u"?function(e){return V4.resolve(null).then(e).catch(fJ)}:tN;function fJ(e){setTimeout(function(){throw e})}function Jj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),hg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);hg(t)}function yu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function W4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var up=Math.random().toString(36).slice(2),Jo="__reactFiber$"+up,xg="__reactProps$"+up,sc="__reactContainer$"+up,rN="__reactEvents$"+up,hJ="__reactListeners$"+up,mJ="__reactHandles$"+up;function vd(e){var t=e[Jo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sc]||r[Jo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=W4(e);e!==null;){if(r=e[Jo])return r;e=W4(e)}return t}e=r,r=e.parentNode}return null}function Rv(e){return e=e[Jo]||e[sc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function S_(e){return e[xg]||null}var nN=[],vh=-1;function Wu(e){return{current:e}}function Mr(e){0>vh||(e.current=nN[vh],nN[vh]=null,vh--)}function Sr(e,t){vh++,nN[vh]=e.current,e.current=t}var Du={},Aa=Wu(Du),Ts=Wu(!1),qd=Du;function lm(e,t){var r=e.type.contextTypes;if(!r)return Du;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function As(e){return e=e.childContextTypes,e!=null}function h1(){Mr(Ts),Mr(Aa)}function H4(e,t,r){if(Aa.current!==Du)throw Error(Ve(168));Sr(Aa,t),Sr(Ts,r)}function N8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ve(108,JX(e)||"Unknown",a));return Hr({},r,n)}function m1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Du,qd=Aa.current,Sr(Aa,e),Sr(Ts,Ts.current),!0}function q4(e,t,r){var n=e.stateNode;if(!n)throw Error(Ve(169));r?(e=N8(e,t,qd),n.__reactInternalMemoizedMergedChildContext=e,Mr(Ts),Mr(Aa),Sr(Aa,e)):Mr(Ts),Sr(Ts,r)}var Bl=null,N_=!1,Zj=!1;function k8(e){Bl===null?Bl=[e]:Bl.push(e)}function pJ(e){N_=!0,k8(e)}function Hu(){if(!Zj&&Bl!==null){Zj=!0;var e=0,t=gr;try{var r=Bl;for(gr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Bl=null,N_=!1}catch(a){throw Bl!==null&&(Bl=Bl.slice(e+1)),Q$(SE,Hu),a}finally{gr=t,Zj=!1}}return null}var xh=[],yh=0,p1=null,g1=0,wi=[],ji=0,Gd=null,Wl=1,Hl="";function id(e,t){xh[yh++]=g1,xh[yh++]=p1,p1=e,g1=t}function C8(e,t,r){wi[ji++]=Wl,wi[ji++]=Hl,wi[ji++]=Gd,Gd=e;var n=Wl;e=Hl;var a=32-po(n)-1;n&=~(1<<a),r+=1;var s=32-po(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Wl=1<<32-po(t)+a|r<<a|n,Hl=s+e}else Wl=1<<s|r<<a|n,Hl=e}function DE(e){e.return!==null&&(id(e,1),C8(e,1,0))}function RE(e){for(;e===p1;)p1=xh[--yh],xh[yh]=null,g1=xh[--yh],xh[yh]=null;for(;e===Gd;)Gd=wi[--ji],wi[ji]=null,Hl=wi[--ji],wi[ji]=null,Wl=wi[--ji],wi[ji]=null}var ri=null,ei=null,Ir=!1,oo=null;function E8(e,t){var r=Ci(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function G4(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ri=e,ei=yu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ri=e,ei=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gd!==null?{id:Wl,overflow:Hl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ci(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ri=e,ei=null,!0):!1;default:return!1}}function aN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sN(e){if(Ir){var t=ei;if(t){var r=t;if(!G4(e,t)){if(aN(e))throw Error(Ve(418));t=yu(r.nextSibling);var n=ri;t&&G4(e,t)?E8(n,r):(e.flags=e.flags&-4097|2,Ir=!1,ri=e)}}else{if(aN(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,Ir=!1,ri=e}}}function K4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ri=e}function Ux(e){if(e!==ri)return!1;if(!Ir)return K4(e),Ir=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eN(e.type,e.memoizedProps)),t&&(t=ei)){if(aN(e))throw T8(),Error(Ve(418));for(;t;)E8(e,t),t=yu(t.nextSibling)}if(K4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ei=yu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ei=null}}else ei=ri?yu(e.stateNode.nextSibling):null;return!0}function T8(){for(var e=ei;e;)e=yu(e.nextSibling)}function cm(){ei=ri=null,Ir=!1}function ME(e){oo===null?oo=[e]:oo.push(e)}var gJ=_c.ReactCurrentBatchConfig;function Gp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ve(309));var n=r.stateNode}if(!n)throw Error(Ve(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ve(284));if(!r._owner)throw Error(Ve(290,e))}return e}function zx(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Y4(e){var t=e._init;return t(e._payload)}function A8(e){function t(y,b){if(e){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=ju(y,b),y.index=0,y.sibling=null,y}function s(y,b,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,_,j){return b===null||b.tag!==6?(b=iS(_,y.mode,j),b.return=y,b):(b=a(b,_),b.return=y,b)}function c(y,b,_,j){var w=_.type;return w===fh?d(y,b,_.props.children,j,_.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Uc&&Y4(w)===b.type)?(j=a(b,_.props),j.ref=Gp(y,b,_),j.return=y,j):(j=Vy(_.type,_.key,_.props,null,y.mode,j),j.ref=Gp(y,b,_),j.return=y,j)}function u(y,b,_,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=oS(_,y.mode,j),b.return=y,b):(b=a(b,_.children||[]),b.return=y,b)}function d(y,b,_,j,w){return b===null||b.tag!==7?(b=Ld(_,y.mode,j,w),b.return=y,b):(b=a(b,_),b.return=y,b)}function f(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=iS(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Px:return _=Vy(b.type,b.key,b.props,null,y.mode,_),_.ref=Gp(y,null,b),_.return=y,_;case dh:return b=oS(b,y.mode,_),b.return=y,b;case Uc:var j=b._init;return f(y,j(b._payload),_)}if(x0(b)||zp(b))return b=Ld(b,y.mode,_,null),b.return=y,b;zx(y,b)}return null}function h(y,b,_,j){var w=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:l(y,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Px:return _.key===w?c(y,b,_,j):null;case dh:return _.key===w?u(y,b,_,j):null;case Uc:return w=_._init,h(y,b,w(_._payload),j)}if(x0(_)||zp(_))return w!==null?null:d(y,b,_,j,null);zx(y,_)}return null}function m(y,b,_,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(_)||null,l(b,y,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Px:return y=y.get(j.key===null?_:j.key)||null,c(b,y,j,w);case dh:return y=y.get(j.key===null?_:j.key)||null,u(b,y,j,w);case Uc:var N=j._init;return m(y,b,_,N(j._payload),w)}if(x0(j)||zp(j))return y=y.get(_)||null,d(b,y,j,w,null);zx(b,j)}return null}function g(y,b,_,j){for(var w=null,N=null,S=b,k=b=0,C=null;S!==null&&k<_.length;k++){S.index>k?(C=S,S=null):C=S.sibling;var T=h(y,S,_[k],j);if(T===null){S===null&&(S=C);break}e&&S&&T.alternate===null&&t(y,S),b=s(T,b,k),N===null?w=T:N.sibling=T,N=T,S=C}if(k===_.length)return r(y,S),Ir&&id(y,k),w;if(S===null){for(;k<_.length;k++)S=f(y,_[k],j),S!==null&&(b=s(S,b,k),N===null?w=S:N.sibling=S,N=S);return Ir&&id(y,k),w}for(S=n(y,S);k<_.length;k++)C=m(S,y,k,_[k],j),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?k:C.key),b=s(C,b,k),N===null?w=C:N.sibling=C,N=C);return e&&S.forEach(function(O){return t(y,O)}),Ir&&id(y,k),w}function p(y,b,_,j){var w=zp(_);if(typeof w!="function")throw Error(Ve(150));if(_=w.call(_),_==null)throw Error(Ve(151));for(var N=w=null,S=b,k=b=0,C=null,T=_.next();S!==null&&!T.done;k++,T=_.next()){S.index>k?(C=S,S=null):C=S.sibling;var O=h(y,S,T.value,j);if(O===null){S===null&&(S=C);break}e&&S&&O.alternate===null&&t(y,S),b=s(O,b,k),N===null?w=O:N.sibling=O,N=O,S=C}if(T.done)return r(y,S),Ir&&id(y,k),w;if(S===null){for(;!T.done;k++,T=_.next())T=f(y,T.value,j),T!==null&&(b=s(T,b,k),N===null?w=T:N.sibling=T,N=T);return Ir&&id(y,k),w}for(S=n(y,S);!T.done;k++,T=_.next())T=m(S,y,k,T.value,j),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?k:T.key),b=s(T,b,k),N===null?w=T:N.sibling=T,N=T);return e&&S.forEach(function(A){return t(y,A)}),Ir&&id(y,k),w}function v(y,b,_,j){if(typeof _=="object"&&_!==null&&_.type===fh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Px:e:{for(var w=_.key,N=b;N!==null;){if(N.key===w){if(w=_.type,w===fh){if(N.tag===7){r(y,N.sibling),b=a(N,_.props.children),b.return=y,y=b;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Uc&&Y4(w)===N.type){r(y,N.sibling),b=a(N,_.props),b.ref=Gp(y,N,_),b.return=y,y=b;break e}r(y,N);break}else t(y,N);N=N.sibling}_.type===fh?(b=Ld(_.props.children,y.mode,j,_.key),b.return=y,y=b):(j=Vy(_.type,_.key,_.props,null,y.mode,j),j.ref=Gp(y,b,_),j.return=y,y=j)}return o(y);case dh:e:{for(N=_.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){r(y,b.sibling),b=a(b,_.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=oS(_,y.mode,j),b.return=y,y=b}return o(y);case Uc:return N=_._init,v(y,b,N(_._payload),j)}if(x0(_))return g(y,b,_,j);if(zp(_))return p(y,b,_,j);zx(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,_),b.return=y,y=b):(r(y,b),b=iS(_,y.mode,j),b.return=y,y=b),o(y)):r(y,b)}return v}var um=A8(!0),P8=A8(!1),v1=Wu(null),x1=null,bh=null,FE=null;function IE(){FE=bh=x1=null}function LE(e){var t=v1.current;Mr(v1),e._currentValue=t}function iN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Rh(e,t){x1=e,FE=bh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ks=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(FE!==e)if(e={context:e,memoizedValue:t,next:null},bh===null){if(x1===null)throw Error(Ve(308));bh=e,x1.dependencies={lanes:0,firstContext:e}}else bh=bh.next=e;return t}var xd=null;function $E(e){xd===null?xd=[e]:xd.push(e)}function O8(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,$E(t)):(r.next=a.next,a.next=r),t.interleaved=r,ic(e,n)}function ic(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zc=!1;function BE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ql(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,tr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ic(e,r)}return a=n.interleaved,a===null?(t.next=t,$E(n)):(t.next=a.next,a.next=t),n.interleaved=t,ic(e,r)}function Iy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,NE(e,r)}}function X4(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function y1(e,t,r,n){var a=e.updateQueue;zc=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Hr({},f,h);break e;case 2:zc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Yd|=o,e.lanes=o,e.memoizedState=f}}function Q4(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ve(191,a));a.call(n)}}}var Mv={},cl=Wu(Mv),yg=Wu(Mv),bg=Wu(Mv);function yd(e){if(e===Mv)throw Error(Ve(174));return e}function UE(e,t){switch(Sr(bg,t),Sr(yg,e),Sr(cl,Mv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:B2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=B2(t,e)}Mr(cl),Sr(cl,t)}function dm(){Mr(cl),Mr(yg),Mr(bg)}function R8(e){yd(bg.current);var t=yd(cl.current),r=B2(t,e.type);t!==r&&(Sr(yg,e),Sr(cl,r))}function zE(e){yg.current===e&&(Mr(cl),Mr(yg))}var Ur=Wu(0);function b1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eS=[];function VE(){for(var e=0;e<eS.length;e++)eS[e]._workInProgressVersionPrimary=null;eS.length=0}var Ly=_c.ReactCurrentDispatcher,tS=_c.ReactCurrentBatchConfig,Kd=0,Wr=null,kn=null,$n=null,_1=!1,M0=!1,_g=0,vJ=0;function la(){throw Error(Ve(321))}function WE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!wo(e[r],t[r]))return!1;return!0}function HE(e,t,r,n,a,s){if(Kd=s,Wr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ly.current=e===null||e.memoizedState===null?_J:wJ,e=r(n,a),M0){s=0;do{if(M0=!1,_g=0,25<=s)throw Error(Ve(301));s+=1,$n=kn=null,t.updateQueue=null,Ly.current=jJ,e=r(n,a)}while(M0)}if(Ly.current=w1,t=kn!==null&&kn.next!==null,Kd=0,$n=kn=Wr=null,_1=!1,t)throw Error(Ve(300));return e}function qE(){var e=_g!==0;return _g=0,e}function Ho(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?Wr.memoizedState=$n=e:$n=$n.next=e,$n}function Oi(){if(kn===null){var e=Wr.alternate;e=e!==null?e.memoizedState:null}else e=kn.next;var t=$n===null?Wr.memoizedState:$n.next;if(t!==null)$n=t,kn=e;else{if(e===null)throw Error(Ve(310));kn=e,e={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},$n===null?Wr.memoizedState=$n=e:$n=$n.next=e}return $n}function wg(e,t){return typeof t=="function"?t(e):t}function rS(e){var t=Oi(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=kn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Kd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Wr.lanes|=d,Yd|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,wo(n,t.memoizedState)||(ks=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Wr.lanes|=s,Yd|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nS(e){var t=Oi(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);wo(s,t.memoizedState)||(ks=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function M8(){}function F8(e,t){var r=Wr,n=Oi(),a=t(),s=!wo(n.memoizedState,a);if(s&&(n.memoizedState=a,ks=!0),n=n.queue,GE($8.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||$n!==null&&$n.memoizedState.tag&1){if(r.flags|=2048,jg(9,L8.bind(null,r,n,a,t),void 0,null),Vn===null)throw Error(Ve(349));Kd&30||I8(r,t,a)}return a}function I8(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Wr.updateQueue,t===null?(t={lastEffect:null,stores:null},Wr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function L8(e,t,r,n){t.value=r,t.getSnapshot=n,B8(t)&&U8(e)}function $8(e,t,r){return r(function(){B8(t)&&U8(e)})}function B8(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wo(e,r)}catch{return!0}}function U8(e){var t=ic(e,1);t!==null&&go(t,e,1,-1)}function J4(e){var t=Ho();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:e},t.queue=e,e=e.dispatch=bJ.bind(null,Wr,e),[t.memoizedState,e]}function jg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Wr.updateQueue,t===null?(t={lastEffect:null,stores:null},Wr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function z8(){return Oi().memoizedState}function $y(e,t,r,n){var a=Ho();Wr.flags|=e,a.memoizedState=jg(1|t,r,void 0,n===void 0?null:n)}function k_(e,t,r,n){var a=Oi();n=n===void 0?null:n;var s=void 0;if(kn!==null){var o=kn.memoizedState;if(s=o.destroy,n!==null&&WE(n,o.deps)){a.memoizedState=jg(t,r,s,n);return}}Wr.flags|=e,a.memoizedState=jg(1|t,r,s,n)}function Z4(e,t){return $y(8390656,8,e,t)}function GE(e,t){return k_(2048,8,e,t)}function V8(e,t){return k_(4,2,e,t)}function W8(e,t){return k_(4,4,e,t)}function H8(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function q8(e,t,r){return r=r!=null?r.concat([e]):null,k_(4,4,H8.bind(null,t,e),r)}function KE(){}function G8(e,t){var r=Oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&WE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function K8(e,t){var r=Oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&WE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Y8(e,t,r){return Kd&21?(wo(r,t)||(r=e8(),Wr.lanes|=r,Yd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=r)}function xJ(e,t){var r=gr;gr=r!==0&&4>r?r:4,e(!0);var n=tS.transition;tS.transition={};try{e(!1),t()}finally{gr=r,tS.transition=n}}function X8(){return Oi().memoizedState}function yJ(e,t,r){var n=wu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Q8(e))J8(t,r);else if(r=O8(e,t,r,n),r!==null){var a=rs();go(r,e,n,a),Z8(r,t,n)}}function bJ(e,t,r){var n=wu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Q8(e))J8(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,wo(l,o)){var c=t.interleaved;c===null?(a.next=a,$E(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=O8(e,t,a,n),r!==null&&(a=rs(),go(r,e,n,a),Z8(r,t,n))}}function Q8(e){var t=e.alternate;return e===Wr||t!==null&&t===Wr}function J8(e,t){M0=_1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Z8(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,NE(e,r)}}var w1={readContext:Pi,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useInsertionEffect:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useDeferredValue:la,useTransition:la,useMutableSource:la,useSyncExternalStore:la,useId:la,unstable_isNewReconciler:!1},_J={readContext:Pi,useCallback:function(e,t){return Ho().memoizedState=[e,t===void 0?null:t],e},useContext:Pi,useEffect:Z4,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$y(4194308,4,H8.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $y(4194308,4,e,t)},useInsertionEffect:function(e,t){return $y(4,2,e,t)},useMemo:function(e,t){var r=Ho();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ho();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=yJ.bind(null,Wr,e),[n.memoizedState,e]},useRef:function(e){var t=Ho();return e={current:e},t.memoizedState=e},useState:J4,useDebugValue:KE,useDeferredValue:function(e){return Ho().memoizedState=e},useTransition:function(){var e=J4(!1),t=e[0];return e=xJ.bind(null,e[1]),Ho().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Wr,a=Ho();if(Ir){if(r===void 0)throw Error(Ve(407));r=r()}else{if(r=t(),Vn===null)throw Error(Ve(349));Kd&30||I8(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Z4($8.bind(null,n,s,e),[e]),n.flags|=2048,jg(9,L8.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Ho(),t=Vn.identifierPrefix;if(Ir){var r=Hl,n=Wl;r=(n&~(1<<32-po(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=_g++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vJ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wJ={readContext:Pi,useCallback:G8,useContext:Pi,useEffect:GE,useImperativeHandle:q8,useInsertionEffect:V8,useLayoutEffect:W8,useMemo:K8,useReducer:rS,useRef:z8,useState:function(){return rS(wg)},useDebugValue:KE,useDeferredValue:function(e){var t=Oi();return Y8(t,kn.memoizedState,e)},useTransition:function(){var e=rS(wg)[0],t=Oi().memoizedState;return[e,t]},useMutableSource:M8,useSyncExternalStore:F8,useId:X8,unstable_isNewReconciler:!1},jJ={readContext:Pi,useCallback:G8,useContext:Pi,useEffect:GE,useImperativeHandle:q8,useInsertionEffect:V8,useLayoutEffect:W8,useMemo:K8,useReducer:nS,useRef:z8,useState:function(){return nS(wg)},useDebugValue:KE,useDeferredValue:function(e){var t=Oi();return kn===null?t.memoizedState=e:Y8(t,kn.memoizedState,e)},useTransition:function(){var e=nS(wg)[0],t=Oi().memoizedState;return[e,t]},useMutableSource:M8,useSyncExternalStore:F8,useId:X8,unstable_isNewReconciler:!1};function Ji(e,t){if(e&&e.defaultProps){t=Hr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function oN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Hr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var C_={isMounted:function(e){return(e=e._reactInternals)?wf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rs(),a=wu(e),s=Ql(n,a);s.payload=t,r!=null&&(s.callback=r),t=bu(e,s,a),t!==null&&(go(t,e,a,n),Iy(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rs(),a=wu(e),s=Ql(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=bu(e,s,a),t!==null&&(go(t,e,a,n),Iy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rs(),n=wu(e),a=Ql(r,n);a.tag=2,t!=null&&(a.callback=t),t=bu(e,a,n),t!==null&&(go(t,e,n,r),Iy(t,e,n))}};function eD(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!pg(r,n)||!pg(a,s):!0}function e6(e,t,r){var n=!1,a=Du,s=t.contextType;return typeof s=="object"&&s!==null?s=Pi(s):(a=As(t)?qd:Aa.current,n=t.contextTypes,s=(n=n!=null)?lm(e,a):Du),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=C_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function tD(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&C_.enqueueReplaceState(t,t.state,null)}function lN(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},BE(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Pi(s):(s=As(t)?qd:Aa.current,a.context=lm(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(oN(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&C_.enqueueReplaceState(a,a.state,null),y1(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function fm(e,t){try{var r="",n=t;do r+=QX(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function aS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var SJ=typeof WeakMap=="function"?WeakMap:Map;function t6(e,t,r){r=Ql(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){S1||(S1=!0,yN=n),cN(e,t)},r}function r6(e,t,r){r=Ql(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){cN(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){cN(e,t),typeof n!="function"&&(_u===null?_u=new Set([this]):_u.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function rD(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new SJ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=LJ.bind(null,e,t,r),t.then(e,e))}function nD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aD(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ql(-1,1),t.tag=2,bu(r,t,1))),r.lanes|=1),e)}var NJ=_c.ReactCurrentOwner,ks=!1;function Wa(e,t,r,n){t.child=e===null?P8(t,null,r,n):um(t,e.child,r,n)}function sD(e,t,r,n,a){r=r.render;var s=t.ref;return Rh(t,a),n=HE(e,t,r,n,s,a),r=qE(),e!==null&&!ks?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,oc(e,t,a)):(Ir&&r&&DE(t),t.flags|=1,Wa(e,t,n,a),t.child)}function iD(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!rT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,n6(e,t,s,n,a)):(e=Vy(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:pg,r(o,n)&&e.ref===t.ref)return oc(e,t,a)}return t.flags|=1,e=ju(s,n),e.ref=t.ref,e.return=t,t.child=e}function n6(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(pg(s,n)&&e.ref===t.ref)if(ks=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(ks=!0);else return t.lanes=e.lanes,oc(e,t,a)}return uN(e,t,r,n,a)}function a6(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(wh,qs),qs|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sr(wh,qs),qs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Sr(wh,qs),qs|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Sr(wh,qs),qs|=n;return Wa(e,t,a,r),t.child}function s6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uN(e,t,r,n,a){var s=As(r)?qd:Aa.current;return s=lm(t,s),Rh(t,a),r=HE(e,t,r,n,s,a),n=qE(),e!==null&&!ks?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,oc(e,t,a)):(Ir&&n&&DE(t),t.flags|=1,Wa(e,t,r,a),t.child)}function oD(e,t,r,n,a){if(As(r)){var s=!0;m1(t)}else s=!1;if(Rh(t,a),t.stateNode===null)By(e,t),e6(t,r,n),lN(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Pi(u):(u=As(r)?qd:Aa.current,u=lm(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&tD(t,o,n,u),zc=!1;var h=t.memoizedState;o.state=h,y1(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Ts.current||zc?(typeof d=="function"&&(oN(t,r,d,n),c=t.memoizedState),(l=zc||eD(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,D8(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ji(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pi(c):(c=As(r)?qd:Aa.current,c=lm(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&tD(t,o,n,c),zc=!1,h=t.memoizedState,o.state=h,y1(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||Ts.current||zc?(typeof m=="function"&&(oN(t,r,m,n),g=t.memoizedState),(u=zc||eD(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return dN(e,t,r,n,s,a)}function dN(e,t,r,n,a,s){s6(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&q4(t,r,!1),oc(e,t,s);n=t.stateNode,NJ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=um(t,e.child,null,s),t.child=um(t,null,l,s)):Wa(e,t,l,s),t.memoizedState=n.state,a&&q4(t,r,!0),t.child}function i6(e){var t=e.stateNode;t.pendingContext?H4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&H4(e,t.context,!1),UE(e,t.containerInfo)}function lD(e,t,r,n,a){return cm(),ME(a),t.flags|=256,Wa(e,t,r,n),t.child}var fN={dehydrated:null,treeContext:null,retryLane:0};function hN(e){return{baseLanes:e,cachePool:null,transitions:null}}function o6(e,t,r){var n=t.pendingProps,a=Ur.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Sr(Ur,a&1),e===null)return sN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=A_(o,n,0,null),e=Ld(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=hN(r),t.memoizedState=fN,e):YE(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return kJ(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ju(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=ju(l,s):(s=Ld(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?hN(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=fN,n}return s=e.child,e=s.sibling,n=ju(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function YE(e,t){return t=A_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vx(e,t,r,n){return n!==null&&ME(n),um(t,e.child,null,r),e=YE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kJ(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=aS(Error(Ve(422))),Vx(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=A_({mode:"visible",children:n.children},a,0,null),s=Ld(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&um(t,e.child,null,o),t.child.memoizedState=hN(o),t.memoizedState=fN,s);if(!(t.mode&1))return Vx(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Ve(419)),n=aS(s,n,void 0),Vx(e,t,o,n)}if(l=(o&e.childLanes)!==0,ks||l){if(n=Vn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,ic(e,a),go(n,e,a,-1))}return tT(),n=aS(Error(Ve(421))),Vx(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=$J.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ei=yu(a.nextSibling),ri=t,Ir=!0,oo=null,e!==null&&(wi[ji++]=Wl,wi[ji++]=Hl,wi[ji++]=Gd,Wl=e.id,Hl=e.overflow,Gd=t),t=YE(t,n.children),t.flags|=4096,t)}function cD(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),iN(e.return,t,r)}function sS(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function l6(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Wa(e,t,n.children,r),n=Ur.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cD(e,r,t);else if(e.tag===19)cD(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Sr(Ur,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&b1(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),sS(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&b1(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}sS(t,!0,r,null,s);break;case"together":sS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function By(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function oc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,r=ju(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ju(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function CJ(e,t,r){switch(t.tag){case 3:i6(t),cm();break;case 5:R8(t);break;case 1:As(t.type)&&m1(t);break;case 4:UE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Sr(v1,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Sr(Ur,Ur.current&1),t.flags|=128,null):r&t.child.childLanes?o6(e,t,r):(Sr(Ur,Ur.current&1),e=oc(e,t,r),e!==null?e.sibling:null);Sr(Ur,Ur.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return l6(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sr(Ur,Ur.current),n)break;return null;case 22:case 23:return t.lanes=0,a6(e,t,r)}return oc(e,t,r)}var c6,mN,u6,d6;c6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mN=function(){};u6=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,yd(cl.current);var s=null;switch(r){case"input":a=F2(e,a),n=F2(e,n),s=[];break;case"select":a=Hr({},a,{value:void 0}),n=Hr({},n,{value:void 0}),s=[];break;case"textarea":a=$2(e,a),n=$2(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=f1)}U2(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Or("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};d6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Kp(e,t){if(!Ir)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ca(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function EJ(e,t,r){var n=t.pendingProps;switch(RE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ca(t),null;case 1:return As(t.type)&&h1(),ca(t),null;case 3:return n=t.stateNode,dm(),Mr(Ts),Mr(Aa),VE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ux(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,oo!==null&&(wN(oo),oo=null))),mN(e,t),ca(t),null;case 5:zE(t);var a=yd(bg.current);if(r=t.type,e!==null&&t.stateNode!=null)u6(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ve(166));return ca(t),null}if(e=yd(cl.current),Ux(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Jo]=t,n[xg]=s,e=(t.mode&1)!==0,r){case"dialog":Or("cancel",n),Or("close",n);break;case"iframe":case"object":case"embed":Or("load",n);break;case"video":case"audio":for(a=0;a<b0.length;a++)Or(b0[a],n);break;case"source":Or("error",n);break;case"img":case"image":case"link":Or("error",n),Or("load",n);break;case"details":Or("toggle",n);break;case"input":x4(n,s),Or("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Or("invalid",n);break;case"textarea":b4(n,s),Or("invalid",n)}U2(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Bx(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Bx(n.textContent,l,e),a=["children",""+l]):lg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Or("scroll",n)}switch(r){case"input":Ox(n),y4(n,s,!0);break;case"textarea":Ox(n),_4(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=f1)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Jo]=t,e[xg]=n,c6(e,t,!1,!1),t.stateNode=e;e:{switch(o=z2(r,n),r){case"dialog":Or("cancel",e),Or("close",e),a=n;break;case"iframe":case"object":case"embed":Or("load",e),a=n;break;case"video":case"audio":for(a=0;a<b0.length;a++)Or(b0[a],e);a=n;break;case"source":Or("error",e),a=n;break;case"img":case"image":case"link":Or("error",e),Or("load",e),a=n;break;case"details":Or("toggle",e),a=n;break;case"input":x4(e,n),a=F2(e,n),Or("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Hr({},n,{value:void 0}),Or("invalid",e);break;case"textarea":b4(e,n),a=$2(e,n),Or("invalid",e);break;default:a=n}U2(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?z$(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&B$(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&cg(e,c):typeof c=="number"&&cg(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(lg.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Or("scroll",e):c!=null&&yE(e,s,c,o))}switch(r){case"input":Ox(e),y4(e,n,!1);break;case"textarea":Ox(e),_4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ou(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ah(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ah(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=f1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ca(t),null;case 6:if(e&&t.stateNode!=null)d6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ve(166));if(r=yd(bg.current),yd(cl.current),Ux(t)){if(n=t.stateNode,r=t.memoizedProps,n[Jo]=t,(s=n.nodeValue!==r)&&(e=ri,e!==null))switch(e.tag){case 3:Bx(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bx(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jo]=t,t.stateNode=n}return ca(t),null;case 13:if(Mr(Ur),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ir&&ei!==null&&t.mode&1&&!(t.flags&128))T8(),cm(),t.flags|=98560,s=!1;else if(s=Ux(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ve(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ve(317));s[Jo]=t}else cm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ca(t),s=!1}else oo!==null&&(wN(oo),oo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ur.current&1?En===0&&(En=3):tT())),t.updateQueue!==null&&(t.flags|=4),ca(t),null);case 4:return dm(),mN(e,t),e===null&&gg(t.stateNode.containerInfo),ca(t),null;case 10:return LE(t.type._context),ca(t),null;case 17:return As(t.type)&&h1(),ca(t),null;case 19:if(Mr(Ur),s=t.memoizedState,s===null)return ca(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Kp(s,!1);else{if(En!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=b1(e),o!==null){for(t.flags|=128,Kp(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Sr(Ur,Ur.current&1|2),t.child}e=e.sibling}s.tail!==null&&tn()>hm&&(t.flags|=128,n=!0,Kp(s,!1),t.lanes=4194304)}else{if(!n)if(e=b1(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Kp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ir)return ca(t),null}else 2*tn()-s.renderingStartTime>hm&&r!==1073741824&&(t.flags|=128,n=!0,Kp(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=tn(),t.sibling=null,r=Ur.current,Sr(Ur,n?r&1|2:r&1),t):(ca(t),null);case 22:case 23:return eT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qs&1073741824&&(ca(t),t.subtreeFlags&6&&(t.flags|=8192)):ca(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}function TJ(e,t){switch(RE(t),t.tag){case 1:return As(t.type)&&h1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dm(),Mr(Ts),Mr(Aa),VE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zE(t),null;case 13:if(Mr(Ur),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));cm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mr(Ur),null;case 4:return dm(),null;case 10:return LE(t.type._context),null;case 22:case 23:return eT(),null;case 24:return null;default:return null}}var Wx=!1,wa=!1,AJ=typeof WeakSet=="function"?WeakSet:Set,lt=null;function _h(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yr(e,t,n)}else r.current=null}function pN(e,t,r){try{r()}catch(n){Yr(e,t,n)}}var uD=!1;function PJ(e,t){if(J2=c1,e=g8(),OE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Z2={focusedElem:e,selectionRange:r},c1=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){t=lt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Ji(t.type,p),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(j){Yr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}return g=uD,uD=!1,g}function F0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&pN(t,r,s)}a=a.next}while(a!==n)}}function E_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function f6(e){var t=e.alternate;t!==null&&(e.alternate=null,f6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jo],delete t[xg],delete t[rN],delete t[hJ],delete t[mJ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function h6(e){return e.tag===5||e.tag===3||e.tag===4}function dD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||h6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=f1));else if(n!==4&&(e=e.child,e!==null))for(vN(e,t,r),e=e.sibling;e!==null;)vN(e,t,r),e=e.sibling}function xN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xN(e,t,r),e=e.sibling;e!==null;)xN(e,t,r),e=e.sibling}var Xn=null,ro=!1;function Rc(e,t,r){for(r=r.child;r!==null;)m6(e,t,r),r=r.sibling}function m6(e,t,r){if(ll&&typeof ll.onCommitFiberUnmount=="function")try{ll.onCommitFiberUnmount(b_,r)}catch{}switch(r.tag){case 5:wa||_h(r,t);case 6:var n=Xn,a=ro;Xn=null,Rc(e,t,r),Xn=n,ro=a,Xn!==null&&(ro?(e=Xn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xn.removeChild(r.stateNode));break;case 18:Xn!==null&&(ro?(e=Xn,r=r.stateNode,e.nodeType===8?Jj(e.parentNode,r):e.nodeType===1&&Jj(e,r),hg(e)):Jj(Xn,r.stateNode));break;case 4:n=Xn,a=ro,Xn=r.stateNode.containerInfo,ro=!0,Rc(e,t,r),Xn=n,ro=a;break;case 0:case 11:case 14:case 15:if(!wa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&pN(r,t,o),a=a.next}while(a!==n)}Rc(e,t,r);break;case 1:if(!wa&&(_h(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Yr(r,t,l)}Rc(e,t,r);break;case 21:Rc(e,t,r);break;case 22:r.mode&1?(wa=(n=wa)||r.memoizedState!==null,Rc(e,t,r),wa=n):Rc(e,t,r);break;default:Rc(e,t,r)}}function fD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new AJ),t.forEach(function(n){var a=BJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function qi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xn=l.stateNode,ro=!1;break e;case 3:Xn=l.stateNode.containerInfo,ro=!0;break e;case 4:Xn=l.stateNode.containerInfo,ro=!0;break e}l=l.return}if(Xn===null)throw Error(Ve(160));m6(s,o,a),Xn=null,ro=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Yr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)p6(t,e),t=t.sibling}function p6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qi(t,e),Lo(e),n&4){try{F0(3,e,e.return),E_(3,e)}catch(p){Yr(e,e.return,p)}try{F0(5,e,e.return)}catch(p){Yr(e,e.return,p)}}break;case 1:qi(t,e),Lo(e),n&512&&r!==null&&_h(r,r.return);break;case 5:if(qi(t,e),Lo(e),n&512&&r!==null&&_h(r,r.return),e.flags&32){var a=e.stateNode;try{cg(a,"")}catch(p){Yr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&I$(a,s),z2(l,o);var u=z2(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?z$(a,f):d==="dangerouslySetInnerHTML"?B$(a,f):d==="children"?cg(a,f):yE(a,d,f,u)}switch(l){case"input":I2(a,s);break;case"textarea":L$(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ah(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ah(a,!!s.multiple,s.defaultValue,!0):Ah(a,!!s.multiple,s.multiple?[]:"",!1))}a[xg]=s}catch(p){Yr(e,e.return,p)}}break;case 6:if(qi(t,e),Lo(e),n&4){if(e.stateNode===null)throw Error(Ve(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(p){Yr(e,e.return,p)}}break;case 3:if(qi(t,e),Lo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hg(t.containerInfo)}catch(p){Yr(e,e.return,p)}break;case 4:qi(t,e),Lo(e);break;case 13:qi(t,e),Lo(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(JE=tn())),n&4&&fD(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(wa=(u=wa)||d,qi(t,e),wa=u):qi(t,e),Lo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(lt=e,d=e.child;d!==null;){for(f=lt=d;lt!==null;){switch(h=lt,m=h.child,h.tag){case 0:case 11:case 14:case 15:F0(4,h,h.return);break;case 1:_h(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Yr(n,r,p)}}break;case 5:_h(h,h.return);break;case 22:if(h.memoizedState!==null){mD(f);continue}}m!==null?(m.return=h,lt=m):mD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=U$("display",o))}catch(p){Yr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Yr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qi(t,e),Lo(e),n&4&&fD(e);break;case 21:break;default:qi(t,e),Lo(e)}}function Lo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(h6(r)){var n=r;break e}r=r.return}throw Error(Ve(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(cg(a,""),n.flags&=-33);var s=dD(e);xN(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=dD(e);vN(e,l,o);break;default:throw Error(Ve(161))}}catch(c){Yr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OJ(e,t,r){lt=e,g6(e)}function g6(e,t,r){for(var n=(e.mode&1)!==0;lt!==null;){var a=lt,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Wx;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||wa;l=Wx;var u=wa;if(Wx=o,(wa=c)&&!u)for(lt=a;lt!==null;)o=lt,c=o.child,o.tag===22&&o.memoizedState!==null?pD(a):c!==null?(c.return=o,lt=c):pD(a);for(;s!==null;)lt=s,g6(s),s=s.sibling;lt=a,Wx=l,wa=u}hD(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,lt=s):hD(e)}}function hD(e){for(;lt!==null;){var t=lt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wa||E_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!wa)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ji(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Q4(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Q4(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&hg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}wa||t.flags&512&&gN(t)}catch(h){Yr(t,t.return,h)}}if(t===e){lt=null;break}if(r=t.sibling,r!==null){r.return=t.return,lt=r;break}lt=t.return}}function mD(e){for(;lt!==null;){var t=lt;if(t===e){lt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,lt=r;break}lt=t.return}}function pD(e){for(;lt!==null;){var t=lt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{E_(4,t)}catch(c){Yr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Yr(t,a,c)}}var s=t.return;try{gN(t)}catch(c){Yr(t,s,c)}break;case 5:var o=t.return;try{gN(t)}catch(c){Yr(t,o,c)}}}catch(c){Yr(t,t.return,c)}if(t===e){lt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,lt=l;break}lt=t.return}}var DJ=Math.ceil,j1=_c.ReactCurrentDispatcher,XE=_c.ReactCurrentOwner,Ti=_c.ReactCurrentBatchConfig,tr=0,Vn=null,pn=null,ea=0,qs=0,wh=Wu(0),En=0,Sg=null,Yd=0,T_=0,QE=0,I0=null,Ns=null,JE=0,hm=1/0,Ll=null,S1=!1,yN=null,_u=null,Hx=!1,lu=null,N1=0,L0=0,bN=null,Uy=-1,zy=0;function rs(){return tr&6?tn():Uy!==-1?Uy:Uy=tn()}function wu(e){return e.mode&1?tr&2&&ea!==0?ea&-ea:gJ.transition!==null?(zy===0&&(zy=e8()),zy):(e=gr,e!==0||(e=window.event,e=e===void 0?16:o8(e.type)),e):1}function go(e,t,r,n){if(50<L0)throw L0=0,bN=null,Error(Ve(185));Ov(e,r,n),(!(tr&2)||e!==Vn)&&(e===Vn&&(!(tr&2)&&(T_|=r),En===4&&Gc(e,ea)),Ps(e,n),r===1&&tr===0&&!(t.mode&1)&&(hm=tn()+500,N_&&Hu()))}function Ps(e,t){var r=e.callbackNode;gQ(e,t);var n=l1(e,e===Vn?ea:0);if(n===0)r!==null&&S4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&S4(r),t===1)e.tag===0?pJ(gD.bind(null,e)):k8(gD.bind(null,e)),dJ(function(){!(tr&6)&&Hu()}),r=null;else{switch(t8(n)){case 1:r=SE;break;case 4:r=J$;break;case 16:r=o1;break;case 536870912:r=Z$;break;default:r=o1}r=S6(r,v6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function v6(e,t){if(Uy=-1,zy=0,tr&6)throw Error(Ve(327));var r=e.callbackNode;if(Mh()&&e.callbackNode!==r)return null;var n=l1(e,e===Vn?ea:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=k1(e,n);else{t=n;var a=tr;tr|=2;var s=y6();(Vn!==e||ea!==t)&&(Ll=null,hm=tn()+500,Id(e,t));do try{FJ();break}catch(l){x6(e,l)}while(!0);IE(),j1.current=s,tr=a,pn!==null?t=0:(Vn=null,ea=0,t=En)}if(t!==0){if(t===2&&(a=G2(e),a!==0&&(n=a,t=_N(e,a))),t===1)throw r=Sg,Id(e,0),Gc(e,n),Ps(e,tn()),r;if(t===6)Gc(e,n);else{if(a=e.current.alternate,!(n&30)&&!RJ(a)&&(t=k1(e,n),t===2&&(s=G2(e),s!==0&&(n=s,t=_N(e,s))),t===1))throw r=Sg,Id(e,0),Gc(e,n),Ps(e,tn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ve(345));case 2:od(e,Ns,Ll);break;case 3:if(Gc(e,n),(n&130023424)===n&&(t=JE+500-tn(),10<t)){if(l1(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){rs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=tN(od.bind(null,e,Ns,Ll),t);break}od(e,Ns,Ll);break;case 4:if(Gc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-po(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=tn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*DJ(n/1960))-n,10<n){e.timeoutHandle=tN(od.bind(null,e,Ns,Ll),n);break}od(e,Ns,Ll);break;case 5:od(e,Ns,Ll);break;default:throw Error(Ve(329))}}}return Ps(e,tn()),e.callbackNode===r?v6.bind(null,e):null}function _N(e,t){var r=I0;return e.current.memoizedState.isDehydrated&&(Id(e,t).flags|=256),e=k1(e,t),e!==2&&(t=Ns,Ns=r,t!==null&&wN(t)),e}function wN(e){Ns===null?Ns=e:Ns.push.apply(Ns,e)}function RJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!wo(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gc(e,t){for(t&=~QE,t&=~T_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-po(t),n=1<<r;e[r]=-1,t&=~n}}function gD(e){if(tr&6)throw Error(Ve(327));Mh();var t=l1(e,0);if(!(t&1))return Ps(e,tn()),null;var r=k1(e,t);if(e.tag!==0&&r===2){var n=G2(e);n!==0&&(t=n,r=_N(e,n))}if(r===1)throw r=Sg,Id(e,0),Gc(e,t),Ps(e,tn()),r;if(r===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,od(e,Ns,Ll),Ps(e,tn()),null}function ZE(e,t){var r=tr;tr|=1;try{return e(t)}finally{tr=r,tr===0&&(hm=tn()+500,N_&&Hu())}}function Xd(e){lu!==null&&lu.tag===0&&!(tr&6)&&Mh();var t=tr;tr|=1;var r=Ti.transition,n=gr;try{if(Ti.transition=null,gr=1,e)return e()}finally{gr=n,Ti.transition=r,tr=t,!(tr&6)&&Hu()}}function eT(){qs=wh.current,Mr(wh)}function Id(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,uJ(r)),pn!==null)for(r=pn.return;r!==null;){var n=r;switch(RE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&h1();break;case 3:dm(),Mr(Ts),Mr(Aa),VE();break;case 5:zE(n);break;case 4:dm();break;case 13:Mr(Ur);break;case 19:Mr(Ur);break;case 10:LE(n.type._context);break;case 22:case 23:eT()}r=r.return}if(Vn=e,pn=e=ju(e.current,null),ea=qs=t,En=0,Sg=null,QE=T_=Yd=0,Ns=I0=null,xd!==null){for(t=0;t<xd.length;t++)if(r=xd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}xd=null}return e}function x6(e,t){do{var r=pn;try{if(IE(),Ly.current=w1,_1){for(var n=Wr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}_1=!1}if(Kd=0,$n=kn=Wr=null,M0=!1,_g=0,XE.current=null,r===null||r.return===null){En=1,Sg=t,pn=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=ea,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=nD(o);if(m!==null){m.flags&=-257,aD(m,o,l,s,t),m.mode&1&&rD(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){rD(s,u,t),tT();break e}c=Error(Ve(426))}}else if(Ir&&l.mode&1){var v=nD(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),aD(v,o,l,s,t),ME(fm(c,l));break e}}s=c=fm(c,l),En!==4&&(En=2),I0===null?I0=[s]:I0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=t6(s,c,t);X4(s,y);break e;case 1:l=c;var b=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(_u===null||!_u.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=r6(s,l,t);X4(s,j);break e}}s=s.return}while(s!==null)}_6(r)}catch(w){t=w,pn===r&&r!==null&&(pn=r=r.return);continue}break}while(!0)}function y6(){var e=j1.current;return j1.current=w1,e===null?w1:e}function tT(){(En===0||En===3||En===2)&&(En=4),Vn===null||!(Yd&268435455)&&!(T_&268435455)||Gc(Vn,ea)}function k1(e,t){var r=tr;tr|=2;var n=y6();(Vn!==e||ea!==t)&&(Ll=null,Id(e,t));do try{MJ();break}catch(a){x6(e,a)}while(!0);if(IE(),tr=r,j1.current=n,pn!==null)throw Error(Ve(261));return Vn=null,ea=0,En}function MJ(){for(;pn!==null;)b6(pn)}function FJ(){for(;pn!==null&&!oQ();)b6(pn)}function b6(e){var t=j6(e.alternate,e,qs);e.memoizedProps=e.pendingProps,t===null?_6(e):pn=t,XE.current=null}function _6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=TJ(r,t),r!==null){r.flags&=32767,pn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{En=6,pn=null;return}}else if(r=EJ(r,t,qs),r!==null){pn=r;return}if(t=t.sibling,t!==null){pn=t;return}pn=t=e}while(t!==null);En===0&&(En=5)}function od(e,t,r){var n=gr,a=Ti.transition;try{Ti.transition=null,gr=1,IJ(e,t,r,n)}finally{Ti.transition=a,gr=n}return null}function IJ(e,t,r,n){do Mh();while(lu!==null);if(tr&6)throw Error(Ve(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(vQ(e,s),e===Vn&&(pn=Vn=null,ea=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hx||(Hx=!0,S6(o1,function(){return Mh(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ti.transition,Ti.transition=null;var o=gr;gr=1;var l=tr;tr|=4,XE.current=null,PJ(e,r),p6(r,e),nJ(Z2),c1=!!J2,Z2=J2=null,e.current=r,OJ(r),lQ(),tr=l,gr=o,Ti.transition=s}else e.current=r;if(Hx&&(Hx=!1,lu=e,N1=a),s=e.pendingLanes,s===0&&(_u=null),dQ(r.stateNode),Ps(e,tn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(S1)throw S1=!1,e=yN,yN=null,e;return N1&1&&e.tag!==0&&Mh(),s=e.pendingLanes,s&1?e===bN?L0++:(L0=0,bN=e):L0=0,Hu(),null}function Mh(){if(lu!==null){var e=t8(N1),t=Ti.transition,r=gr;try{if(Ti.transition=null,gr=16>e?16:e,lu===null)var n=!1;else{if(e=lu,lu=null,N1=0,tr&6)throw Error(Ve(331));var a=tr;for(tr|=4,lt=e.current;lt!==null;){var s=lt,o=s.child;if(lt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(lt=u;lt!==null;){var d=lt;switch(d.tag){case 0:case 11:case 15:F0(8,d,s)}var f=d.child;if(f!==null)f.return=d,lt=f;else for(;lt!==null;){d=lt;var h=d.sibling,m=d.return;if(f6(d),d===u){lt=null;break}if(h!==null){h.return=m,lt=h;break}lt=m}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}lt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,lt=o;else e:for(;lt!==null;){if(s=lt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:F0(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,lt=y;break e}lt=s.return}}var b=e.current;for(lt=b;lt!==null;){o=lt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,lt=_;else e:for(o=b;lt!==null;){if(l=lt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:E_(9,l)}}catch(w){Yr(l,l.return,w)}if(l===o){lt=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,lt=j;break e}lt=l.return}}if(tr=a,Hu(),ll&&typeof ll.onPostCommitFiberRoot=="function")try{ll.onPostCommitFiberRoot(b_,e)}catch{}n=!0}return n}finally{gr=r,Ti.transition=t}}return!1}function vD(e,t,r){t=fm(r,t),t=t6(e,t,1),e=bu(e,t,1),t=rs(),e!==null&&(Ov(e,1,t),Ps(e,t))}function Yr(e,t,r){if(e.tag===3)vD(e,e,r);else for(;t!==null;){if(t.tag===3){vD(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_u===null||!_u.has(n))){e=fm(r,e),e=r6(t,e,1),t=bu(t,e,1),e=rs(),t!==null&&(Ov(t,1,e),Ps(t,e));break}}t=t.return}}function LJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rs(),e.pingedLanes|=e.suspendedLanes&r,Vn===e&&(ea&r)===r&&(En===4||En===3&&(ea&130023424)===ea&&500>tn()-JE?Id(e,0):QE|=r),Ps(e,t)}function w6(e,t){t===0&&(e.mode&1?(t=Mx,Mx<<=1,!(Mx&130023424)&&(Mx=4194304)):t=1);var r=rs();e=ic(e,t),e!==null&&(Ov(e,t,r),Ps(e,r))}function $J(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),w6(e,r)}function BJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(t),w6(e,r)}var j6;j6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ts.current)ks=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ks=!1,CJ(e,t,r);ks=!!(e.flags&131072)}else ks=!1,Ir&&t.flags&1048576&&C8(t,g1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;By(e,t),e=t.pendingProps;var a=lm(t,Aa.current);Rh(t,r),a=HE(null,t,n,e,a,r);var s=qE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(n)?(s=!0,m1(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,BE(t),a.updater=C_,t.stateNode=a,a._reactInternals=t,lN(t,n,e,r),t=dN(null,t,n,!0,s,r)):(t.tag=0,Ir&&s&&DE(t),Wa(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(By(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=zJ(n),e=Ji(n,e),a){case 0:t=uN(null,t,n,e,r);break e;case 1:t=oD(null,t,n,e,r);break e;case 11:t=sD(null,t,n,e,r);break e;case 14:t=iD(null,t,n,Ji(n.type,e),r);break e}throw Error(Ve(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ji(n,a),uN(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ji(n,a),oD(e,t,n,a,r);case 3:e:{if(i6(t),e===null)throw Error(Ve(387));n=t.pendingProps,s=t.memoizedState,a=s.element,D8(e,t),y1(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=fm(Error(Ve(423)),t),t=lD(e,t,n,r,a);break e}else if(n!==a){a=fm(Error(Ve(424)),t),t=lD(e,t,n,r,a);break e}else for(ei=yu(t.stateNode.containerInfo.firstChild),ri=t,Ir=!0,oo=null,r=P8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cm(),n===a){t=oc(e,t,r);break e}Wa(e,t,n,r)}t=t.child}return t;case 5:return R8(t),e===null&&sN(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,eN(n,a)?o=null:s!==null&&eN(n,s)&&(t.flags|=32),s6(e,t),Wa(e,t,o,r),t.child;case 6:return e===null&&sN(t),null;case 13:return o6(e,t,r);case 4:return UE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=um(t,null,n,r):Wa(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ji(n,a),sD(e,t,n,a,r);case 7:return Wa(e,t,t.pendingProps,r),t.child;case 8:return Wa(e,t,t.pendingProps.children,r),t.child;case 12:return Wa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Sr(v1,n._currentValue),n._currentValue=o,s!==null)if(wo(s.value,o)){if(s.children===a.children&&!Ts.current){t=oc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Ql(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),iN(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ve(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),iN(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wa(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Rh(t,r),a=Pi(a),n=n(a),t.flags|=1,Wa(e,t,n,r),t.child;case 14:return n=t.type,a=Ji(n,t.pendingProps),a=Ji(n.type,a),iD(e,t,n,a,r);case 15:return n6(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ji(n,a),By(e,t),t.tag=1,As(n)?(e=!0,m1(t)):e=!1,Rh(t,r),e6(t,n,a),lN(t,n,a,r),dN(null,t,n,!0,e,r);case 19:return l6(e,t,r);case 22:return a6(e,t,r)}throw Error(Ve(156,t.tag))};function S6(e,t){return Q$(e,t)}function UJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(e,t,r,n){return new UJ(e,t,r,n)}function rT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zJ(e){if(typeof e=="function")return rT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_E)return 11;if(e===wE)return 14}return 2}function ju(e,t){var r=e.alternate;return r===null?(r=Ci(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vy(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")rT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fh:return Ld(r.children,a,s,t);case bE:o=8,a|=8;break;case O2:return e=Ci(12,r,t,a|2),e.elementType=O2,e.lanes=s,e;case D2:return e=Ci(13,r,t,a),e.elementType=D2,e.lanes=s,e;case R2:return e=Ci(19,r,t,a),e.elementType=R2,e.lanes=s,e;case R$:return A_(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O$:o=10;break e;case D$:o=9;break e;case _E:o=11;break e;case wE:o=14;break e;case Uc:o=16,n=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=Ci(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Ld(e,t,r,n){return e=Ci(7,e,n,t),e.lanes=r,e}function A_(e,t,r,n){return e=Ci(22,e,n,t),e.elementType=R$,e.lanes=r,e.stateNode={isHidden:!1},e}function iS(e,t,r){return e=Ci(6,e,null,t),e.lanes=r,e}function oS(e,t,r){return t=Ci(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function VJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uj(0),this.expirationTimes=Uj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function nT(e,t,r,n,a,s,o,l,c){return e=new VJ(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ci(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},BE(s),e}function WJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function N6(e){if(!e)return Du;e=e._reactInternals;e:{if(wf(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var r=e.type;if(As(r))return N8(e,r,t)}return t}function k6(e,t,r,n,a,s,o,l,c){return e=nT(r,n,!0,e,a,s,o,l,c),e.context=N6(null),r=e.current,n=rs(),a=wu(r),s=Ql(n,a),s.callback=t??null,bu(r,s,a),e.current.lanes=a,Ov(e,a,n),Ps(e,n),e}function P_(e,t,r,n){var a=t.current,s=rs(),o=wu(a);return r=N6(r),t.context===null?t.context=r:t.pendingContext=r,t=Ql(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bu(a,t,o),e!==null&&(go(e,a,o,s),Iy(e,a,o)),o}function C1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function aT(e,t){xD(e,t),(e=e.alternate)&&xD(e,t)}function HJ(){return null}var C6=typeof reportError=="function"?reportError:function(e){console.error(e)};function sT(e){this._internalRoot=e}O_.prototype.render=sT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));P_(e,t,null,null)};O_.prototype.unmount=sT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xd(function(){P_(null,e,null,null)}),t[sc]=null}};function O_(e){this._internalRoot=e}O_.prototype.unstable_scheduleHydration=function(e){if(e){var t=a8();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qc.length&&t!==0&&t<qc[r].priority;r++);qc.splice(r,0,e),r===0&&i8(e)}};function iT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function D_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yD(){}function qJ(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=C1(o);s.call(u)}}var o=k6(t,n,e,0,null,!1,!1,"",yD);return e._reactRootContainer=o,e[sc]=o.current,gg(e.nodeType===8?e.parentNode:e),Xd(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=C1(c);l.call(u)}}var c=nT(e,0,!1,null,null,!1,!1,"",yD);return e._reactRootContainer=c,e[sc]=c.current,gg(e.nodeType===8?e.parentNode:e),Xd(function(){P_(t,c,r,n)}),c}function R_(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=C1(o);l.call(c)}}P_(t,o,e,a)}else o=qJ(r,t,e,a,n);return C1(o)}r8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=y0(t.pendingLanes);r!==0&&(NE(t,r|1),Ps(t,tn()),!(tr&6)&&(hm=tn()+500,Hu()))}break;case 13:Xd(function(){var n=ic(e,1);if(n!==null){var a=rs();go(n,e,1,a)}}),aT(e,1)}};kE=function(e){if(e.tag===13){var t=ic(e,134217728);if(t!==null){var r=rs();go(t,e,134217728,r)}aT(e,134217728)}};n8=function(e){if(e.tag===13){var t=wu(e),r=ic(e,t);if(r!==null){var n=rs();go(r,e,t,n)}aT(e,t)}};a8=function(){return gr};s8=function(e,t){var r=gr;try{return gr=e,t()}finally{gr=r}};W2=function(e,t,r){switch(t){case"input":if(I2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=S_(n);if(!a)throw Error(Ve(90));F$(n),I2(n,a)}}}break;case"textarea":L$(e,r);break;case"select":t=r.value,t!=null&&Ah(e,!!r.multiple,t,!1)}};H$=ZE;q$=Xd;var GJ={usingClientEntryPoint:!1,Events:[Rv,gh,S_,V$,W$,ZE]},Yp={findFiberByHostInstance:vd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KJ={bundleType:Yp.bundleType,version:Yp.version,rendererPackageName:Yp.rendererPackageName,rendererConfig:Yp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_c.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Y$(e),e===null?null:e.stateNode},findFiberByHostInstance:Yp.findFiberByHostInstance||HJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qx.isDisabled&&qx.supportsFiber)try{b_=qx.inject(KJ),ll=qx}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GJ;ui.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iT(t))throw Error(Ve(200));return WJ(e,t,null,r)};ui.createRoot=function(e,t){if(!iT(e))throw Error(Ve(299));var r=!1,n="",a=C6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=nT(e,1,!1,null,null,r,!1,n,a),e[sc]=t.current,gg(e.nodeType===8?e.parentNode:e),new sT(t)};ui.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=Y$(t),e=e===null?null:e.stateNode,e};ui.flushSync=function(e){return Xd(e)};ui.hydrate=function(e,t,r){if(!D_(t))throw Error(Ve(200));return R_(null,e,t,!0,r)};ui.hydrateRoot=function(e,t,r){if(!iT(e))throw Error(Ve(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=C6;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=k6(t,null,e,1,r??null,a,!1,s,o),e[sc]=t.current,gg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new O_(t)};ui.render=function(e,t,r){if(!D_(t))throw Error(Ve(200));return R_(null,e,t,!1,r)};ui.unmountComponentAtNode=function(e){if(!D_(e))throw Error(Ve(40));return e._reactRootContainer?(Xd(function(){R_(null,null,e,!1,function(){e._reactRootContainer=null,e[sc]=null})}),!0):!1};ui.unstable_batchedUpdates=ZE;ui.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!D_(r))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return R_(e,t,r,!1,n)};ui.version="18.3.1-next-f1338f8080-20240426";function E6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E6)}catch(e){console.error(e)}}E6(),E$.exports=ui;var dp=E$.exports;const YJ=fr(dp);var T6,bD=dp;T6=bD.createRoot,bD.hydrateRoot;var Fv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qd=typeof window>"u"||"Deno"in globalThis;function Ss(){}function XJ(e,t){return typeof e=="function"?e(t):e}function jN(e){return typeof e=="number"&&e>=0&&e!==1/0}function A6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Su(e,t){return typeof e=="function"?e(t):e}function _i(e,t){return typeof e=="function"?e(t):e}function _D(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==oT(o,t.options))return!1}else if(!kg(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function wD(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Ng(t.options.mutationKey)!==Ng(s))return!1}else if(!kg(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function oT(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ng)(e)}function Ng(e){return JSON.stringify(e,(t,r)=>NN(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function kg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>kg(e[r],t[r])):!1}function P6(e,t){if(e===t)return e;const r=jD(e)&&jD(t);if(r||NN(e)&&NN(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=P6(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function SN(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function jD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function NN(e){if(!SD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!SD(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function SD(e){return Object.prototype.toString.call(e)==="[object Object]"}function QJ(e){return new Promise(t=>{setTimeout(t,e)})}function kN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?P6(e,t):t}function JJ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ZJ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var lT=Symbol();function O6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function eZ(e,t){return typeof e=="function"?e(...t):!!e}var Ed,Zc,Yh,l$,tZ=(l$=class extends Fv{constructor(){super();St(this,Ed);St(this,Zc);St(this,Yh);dt(this,Yh,t=>{if(!Qd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ye(this,Zc)||this.setEventListener(ye(this,Yh))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,Zc))==null||t.call(this),dt(this,Zc,void 0))}setEventListener(t){var r;dt(this,Yh,t),(r=ye(this,Zc))==null||r.call(this),dt(this,Zc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ye(this,Ed)!==t&&(dt(this,Ed,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ye(this,Ed)=="boolean"?ye(this,Ed):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ed=new WeakMap,Zc=new WeakMap,Yh=new WeakMap,l$),cT=new tZ,Xh,eu,Qh,c$,rZ=(c$=class extends Fv{constructor(){super();St(this,Xh,!0);St(this,eu);St(this,Qh);dt(this,Qh,t=>{if(!Qd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ye(this,eu)||this.setEventListener(ye(this,Qh))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,eu))==null||t.call(this),dt(this,eu,void 0))}setEventListener(t){var r;dt(this,Qh,t),(r=ye(this,eu))==null||r.call(this),dt(this,eu,t(this.setOnline.bind(this)))}setOnline(t){ye(this,Xh)!==t&&(dt(this,Xh,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ye(this,Xh)}},Xh=new WeakMap,eu=new WeakMap,Qh=new WeakMap,c$),E1=new rZ;function CN(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function nZ(e){return Math.min(1e3*2**e,3e4)}function D6(e){return(e??"online")==="online"?E1.isOnline():!0}var R6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function lS(e){return e instanceof R6}function M6(e){let t=!1,r=0,n=!1,a;const s=CN(),o=p=>{var v;n||(h(new R6(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>cT.isFocused()&&(e.networkMode==="always"||E1.isOnline())&&e.canRun(),d=()=>D6(e.networkMode)&&e.canRun(),f=p=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,p),a==null||a(),s.resolve(p))},h=p=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,p),a==null||a(),s.reject(p))},m=()=>new Promise(p=>{var v;a=y=>{(n||u())&&p(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var N;if(n)return;const b=e.retry??(Qd?0:3),_=e.retryDelay??nZ,j=typeof _=="function"?_(r,y):_,w=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!w){h(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),QJ(j).then(()=>u()?void 0:m()).then(()=>{t?h(y):g()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var aZ=e=>setTimeout(e,0);function sZ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=aZ;const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Zn=sZ(),Td,u$,F6=(u$=class{constructor(){St(this,Td)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jN(this.gcTime)&&dt(this,Td,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qd?1/0:5*60*1e3))}clearGcTimeout(){ye(this,Td)&&(clearTimeout(ye(this,Td)),dt(this,Td,void 0))}},Td=new WeakMap,u$),Jh,Ad,bi,Pd,xa,Cv,Od,eo,Il,d$,iZ=(d$=class extends F6{constructor(t){super();St(this,eo);St(this,Jh);St(this,Ad);St(this,bi);St(this,Pd);St(this,xa);St(this,Cv);St(this,Od);dt(this,Od,!1),dt(this,Cv,t.defaultOptions),this.setOptions(t.options),this.observers=[],dt(this,Pd,t.client),dt(this,bi,ye(this,Pd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,dt(this,Jh,oZ(this.options)),this.state=t.state??ye(this,Jh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ye(this,xa))==null?void 0:t.promise}setOptions(t){this.options={...ye(this,Cv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ye(this,bi).remove(this)}setData(t,r){const n=kN(this.state.data,t,this.options);return Kt(this,eo,Il).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Kt(this,eo,Il).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ye(this,xa))==null?void 0:n.promise;return(a=ye(this,xa))==null||a.cancel(t),r?r.then(Ss).catch(Ss):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ye(this,Jh))}isActive(){return this.observers.some(t=>_i(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Su(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!A6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ye(this,xa))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ye(this,xa))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ye(this,bi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ye(this,xa)&&(ye(this,Od)?ye(this,xa).cancel({revert:!0}):ye(this,xa).cancelRetry()),this.scheduleGc()),ye(this,bi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kt(this,eo,Il).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ye(this,xa))return ye(this,xa).continueRetry(),ye(this,xa).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(dt(this,Od,!0),n.signal)})},s=()=>{const h=O6(this.options,r),g=(()=>{const p={client:ye(this,Pd),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return dt(this,Od,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ye(this,Pd),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),dt(this,Ad,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Kt(this,eo,Il).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,g,p,v;lS(h)&&h.silent||Kt(this,eo,Il).call(this,{type:"error",error:h}),lS(h)||((g=(m=ye(this,bi).config).onError)==null||g.call(m,h,this),(v=(p=ye(this,bi).config).onSettled)==null||v.call(p,this.state.data,h,this)),this.scheduleGc()};return dt(this,xa,M6({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,g,p,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(g=(m=ye(this,bi).config).onSuccess)==null||g.call(m,h,this),(v=(p=ye(this,bi).config).onSettled)==null||v.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Kt(this,eo,Il).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Kt(this,eo,Il).call(this,{type:"pause"})},onContinue:()=>{Kt(this,eo,Il).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ye(this,xa).start()}},Jh=new WeakMap,Ad=new WeakMap,bi=new WeakMap,Pd=new WeakMap,xa=new WeakMap,Cv=new WeakMap,Od=new WeakMap,eo=new WeakSet,Il=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...I6(n.data,this.options),fetchMeta:t.meta??null};case"success":return dt(this,Ad,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return lS(a)&&a.revert&&ye(this,Ad)?{...ye(this,Ad),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Zn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ye(this,bi).notify({query:this,type:"updated",action:t})})},d$);function I6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:D6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function oZ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Yo,f$,lZ=(f$=class extends Fv{constructor(t={}){super();St(this,Yo);this.config=t,dt(this,Yo,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??oT(a,r);let o=this.get(s);return o||(o=new iZ({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ye(this,Yo).has(t.queryHash)||(ye(this,Yo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ye(this,Yo).get(t.queryHash);r&&(t.destroy(),r===t&&ye(this,Yo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ye(this,Yo).get(t)}getAll(){return[...ye(this,Yo).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>_D(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>_D(t,n)):r}notify(t){Zn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Zn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yo=new WeakMap,f$),Xo,za,Dd,Qo,$c,h$,cZ=(h$=class extends F6{constructor(t){super();St(this,Qo);St(this,Xo);St(this,za);St(this,Dd);this.mutationId=t.mutationId,dt(this,za,t.mutationCache),dt(this,Xo,[]),this.state=t.state||uZ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ye(this,Xo).includes(t)||(ye(this,Xo).push(t),this.clearGcTimeout(),ye(this,za).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){dt(this,Xo,ye(this,Xo).filter(r=>r!==t)),this.scheduleGc(),ye(this,za).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ye(this,Xo).length||(this.state.status==="pending"?this.scheduleGc():ye(this,za).remove(this))}continue(){var t;return((t=ye(this,Dd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,c,u,d,f,h,m,g,p,v,y,b,_,j,w,N,S,k;const r=()=>{Kt(this,Qo,$c).call(this,{type:"continue"})};dt(this,Dd,M6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,T)=>{Kt(this,Qo,$c).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{Kt(this,Qo,$c).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ye(this,za).canRun(this)}));const n=this.state.status==="pending",a=!ye(this,Dd).canStart();try{if(n)r();else{Kt(this,Qo,$c).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(s=ye(this,za).config).onMutate)==null?void 0:o.call(s,t,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));T!==this.state.context&&Kt(this,Qo,$c).call(this,{type:"pending",context:T,variables:t,isPaused:a})}const C=await ye(this,Dd).start();return await((d=(u=ye(this,za).config).onSuccess)==null?void 0:d.call(u,C,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,C,t,this.state.context)),await((g=(m=ye(this,za).config).onSettled)==null?void 0:g.call(m,C,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,C,null,t,this.state.context)),Kt(this,Qo,$c).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(y=ye(this,za).config).onError)==null?void 0:b.call(y,C,t,this.state.context,this)),await((j=(_=this.options).onError)==null?void 0:j.call(_,C,t,this.state.context)),await((N=(w=ye(this,za).config).onSettled)==null?void 0:N.call(w,void 0,C,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,C,t,this.state.context)),C}finally{Kt(this,Qo,$c).call(this,{type:"error",error:C})}}finally{ye(this,za).runNext(this)}}},Xo=new WeakMap,za=new WeakMap,Dd=new WeakMap,Qo=new WeakSet,$c=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zn.batch(()=>{ye(this,Xo).forEach(n=>{n.onMutationUpdate(t)}),ye(this,za).notify({mutation:this,type:"updated",action:t})})},h$);function uZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ul,to,Ev,m$,dZ=(m$=class extends Fv{constructor(t={}){super();St(this,Ul);St(this,to);St(this,Ev);this.config=t,dt(this,Ul,new Set),dt(this,to,new Map),dt(this,Ev,0)}build(t,r,n){const a=new cZ({mutationCache:this,mutationId:++Ex(this,Ev)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ye(this,Ul).add(t);const r=Gx(t);if(typeof r=="string"){const n=ye(this,to).get(r);n?n.push(t):ye(this,to).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ye(this,Ul).delete(t)){const r=Gx(t);if(typeof r=="string"){const n=ye(this,to).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ye(this,to).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Gx(t);if(typeof r=="string"){const n=ye(this,to).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Gx(t);if(typeof r=="string"){const a=(n=ye(this,to).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zn.batch(()=>{ye(this,Ul).forEach(t=>{this.notify({type:"removed",mutation:t})}),ye(this,Ul).clear(),ye(this,to).clear()})}getAll(){return Array.from(ye(this,Ul))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wD(r,n))}findAll(t={}){return this.getAll().filter(r=>wD(t,r))}notify(t){Zn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Zn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ss))))}},Ul=new WeakMap,to=new WeakMap,Ev=new WeakMap,m$);function Gx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function ND(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=O6(t.options,t.fetchOptions),b=async(_,j,w)=>{if(p)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const S=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:j,direction:w?"backward":"forward",meta:t.options.meta};return v(O),O})(),k=await y(S),{maxPages:C}=t.options,T=w?ZJ:JJ;return{pages:T(_.pages,k,C),pageParams:T(_.pageParams,j,C)}};if(a&&s.length){const _=a==="backward",j=_?fZ:kD,w={pages:s,pageParams:o},N=j(n,w);l=await b(w,N,_)}else{const _=e??s.length;do{const j=c===0?o[0]??n.initialPageParam:kD(n,l);if(c>0&&j==null)break;l=await b(l,j),c++}while(c<_)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function kD(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function fZ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Gr,tu,ru,Zh,em,nu,tm,rm,p$,hZ=(p$=class{constructor(e={}){St(this,Gr);St(this,tu);St(this,ru);St(this,Zh);St(this,em);St(this,nu);St(this,tm);St(this,rm);dt(this,Gr,e.queryCache||new lZ),dt(this,tu,e.mutationCache||new dZ),dt(this,ru,e.defaultOptions||{}),dt(this,Zh,new Map),dt(this,em,new Map),dt(this,nu,0)}mount(){Ex(this,nu)._++,ye(this,nu)===1&&(dt(this,tm,cT.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,Gr).onFocus())})),dt(this,rm,E1.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,Gr).onOnline())})))}unmount(){var e,t;Ex(this,nu)._--,ye(this,nu)===0&&((e=ye(this,tm))==null||e.call(this),dt(this,tm,void 0),(t=ye(this,rm))==null||t.call(this),dt(this,rm,void 0))}isFetching(e){return ye(this,Gr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ye(this,tu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ye(this,Gr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ye(this,Gr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Su(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ye(this,Gr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ye(this,Gr).get(n.queryHash),s=a==null?void 0:a.state.data,o=XJ(t,s);if(o!==void 0)return ye(this,Gr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Zn.batch(()=>ye(this,Gr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ye(this,Gr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ye(this,Gr);Zn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ye(this,Gr);return Zn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Zn.batch(()=>ye(this,Gr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ss).catch(Ss)}invalidateQueries(e,t={}){return Zn.batch(()=>(ye(this,Gr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Zn.batch(()=>ye(this,Gr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Ss)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Ss)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ye(this,Gr).build(this,t);return r.isStaleByTime(Su(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ss).catch(Ss)}fetchInfiniteQuery(e){return e.behavior=ND(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ss).catch(Ss)}ensureInfiniteQueryData(e){return e.behavior=ND(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return E1.isOnline()?ye(this,tu).resumePausedMutations():Promise.resolve()}getQueryCache(){return ye(this,Gr)}getMutationCache(){return ye(this,tu)}getDefaultOptions(){return ye(this,ru)}setDefaultOptions(e){dt(this,ru,e)}setQueryDefaults(e,t){ye(this,Zh).set(Ng(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ye(this,Zh).values()],r={};return t.forEach(n=>{kg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ye(this,em).set(Ng(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ye(this,em).values()],r={};return t.forEach(n=>{kg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ye(this,ru).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=oT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===lT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ye(this,ru).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ye(this,Gr).clear(),ye(this,tu).clear()}},Gr=new WeakMap,tu=new WeakMap,ru=new WeakMap,Zh=new WeakMap,em=new WeakMap,nu=new WeakMap,tm=new WeakMap,rm=new WeakMap,p$),_s,Yt,Tv,Va,Rd,nm,au,su,Av,am,sm,Md,Fd,iu,im,dr,_0,EN,TN,AN,PN,ON,DN,RN,L6,g$,mZ=(g$=class extends Fv{constructor(t,r){super();St(this,dr);St(this,_s);St(this,Yt);St(this,Tv);St(this,Va);St(this,Rd);St(this,nm);St(this,au);St(this,su);St(this,Av);St(this,am);St(this,sm);St(this,Md);St(this,Fd);St(this,iu);St(this,im,new Set);this.options=r,dt(this,_s,t),dt(this,su,null),dt(this,au,CN()),this.options.experimental_prefetchInRender||ye(this,au).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ye(this,Yt).addObserver(this),CD(ye(this,Yt),this.options)?Kt(this,dr,_0).call(this):this.updateResult(),Kt(this,dr,PN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return MN(ye(this,Yt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return MN(ye(this,Yt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Kt(this,dr,ON).call(this),Kt(this,dr,DN).call(this),ye(this,Yt).removeObserver(this)}setOptions(t){const r=this.options,n=ye(this,Yt);if(this.options=ye(this,_s).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _i(this.options.enabled,ye(this,Yt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Kt(this,dr,RN).call(this),ye(this,Yt).setOptions(this.options),r._defaulted&&!SN(this.options,r)&&ye(this,_s).getQueryCache().notify({type:"observerOptionsUpdated",query:ye(this,Yt),observer:this});const a=this.hasListeners();a&&ED(ye(this,Yt),n,this.options,r)&&Kt(this,dr,_0).call(this),this.updateResult(),a&&(ye(this,Yt)!==n||_i(this.options.enabled,ye(this,Yt))!==_i(r.enabled,ye(this,Yt))||Su(this.options.staleTime,ye(this,Yt))!==Su(r.staleTime,ye(this,Yt)))&&Kt(this,dr,EN).call(this);const s=Kt(this,dr,TN).call(this);a&&(ye(this,Yt)!==n||_i(this.options.enabled,ye(this,Yt))!==_i(r.enabled,ye(this,Yt))||s!==ye(this,iu))&&Kt(this,dr,AN).call(this,s)}getOptimisticResult(t){const r=ye(this,_s).getQueryCache().build(ye(this,_s),t),n=this.createResult(r,t);return gZ(this,n)&&(dt(this,Va,n),dt(this,nm,this.options),dt(this,Rd,ye(this,Yt).state)),n}getCurrentResult(){return ye(this,Va)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){ye(this,im).add(t)}getCurrentQuery(){return ye(this,Yt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ye(this,_s).defaultQueryOptions(t),n=ye(this,_s).getQueryCache().build(ye(this,_s),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Kt(this,dr,_0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ye(this,Va)))}createResult(t,r){var C;const n=ye(this,Yt),a=this.options,s=ye(this,Va),o=ye(this,Rd),l=ye(this,nm),u=t!==n?t.state:ye(this,Tv),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const T=this.hasListeners(),O=!T&&CD(t,r),A=T&&ED(t,n,r,a);(O||A)&&(f={...f,...I6(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let T;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=s.data,y=!0):T=typeof r.placeholderData=="function"?r.placeholderData((C=ye(this,sm))==null?void 0:C.state.data,ye(this,sm)):r.placeholderData,T!==void 0&&(v="success",m=kN(s==null?void 0:s.data,T,r),h=!0)}if(r.select&&m!==void 0&&!y)if(s&&m===(o==null?void 0:o.data)&&r.select===ye(this,Av))m=ye(this,am);else try{dt(this,Av,r.select),m=r.select(m),m=kN(s==null?void 0:s.data,m,r),dt(this,am,m),dt(this,su,null)}catch(T){dt(this,su,T)}ye(this,su)&&(g=ye(this,su),m=ye(this,am),p=Date.now(),v="error");const b=f.fetchStatus==="fetching",_=v==="pending",j=v==="error",w=_&&b,N=m!==void 0,k={status:v,fetchStatus:f.fetchStatus,isPending:_,isSuccess:v==="success",isError:j,isInitialLoading:w,isLoading:w,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!_,isLoadingError:j&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&N,isStale:uT(t,r),refetch:this.refetch,promise:ye(this,au),isEnabled:_i(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=V=>{k.status==="error"?V.reject(k.error):k.data!==void 0&&V.resolve(k.data)},O=()=>{const V=dt(this,au,k.promise=CN());T(V)},A=ye(this,au);switch(A.status){case"pending":t.queryHash===n.queryHash&&T(A);break;case"fulfilled":(k.status==="error"||k.data!==A.value)&&O();break;case"rejected":(k.status!=="error"||k.error!==A.reason)&&O();break}}return k}updateResult(){const t=ye(this,Va),r=this.createResult(ye(this,Yt),this.options);if(dt(this,Rd,ye(this,Yt).state),dt(this,nm,this.options),ye(this,Rd).data!==void 0&&dt(this,sm,ye(this,Yt)),SN(r,t))return;dt(this,Va,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!ye(this,im).size)return!0;const o=new Set(s??ye(this,im));return this.options.throwOnError&&o.add("error"),Object.keys(ye(this,Va)).some(l=>{const c=l;return ye(this,Va)[c]!==t[c]&&o.has(c)})};Kt(this,dr,L6).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Kt(this,dr,PN).call(this)}},_s=new WeakMap,Yt=new WeakMap,Tv=new WeakMap,Va=new WeakMap,Rd=new WeakMap,nm=new WeakMap,au=new WeakMap,su=new WeakMap,Av=new WeakMap,am=new WeakMap,sm=new WeakMap,Md=new WeakMap,Fd=new WeakMap,iu=new WeakMap,im=new WeakMap,dr=new WeakSet,_0=function(t){Kt(this,dr,RN).call(this);let r=ye(this,Yt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ss)),r},EN=function(){Kt(this,dr,ON).call(this);const t=Su(this.options.staleTime,ye(this,Yt));if(Qd||ye(this,Va).isStale||!jN(t))return;const n=A6(ye(this,Va).dataUpdatedAt,t)+1;dt(this,Md,setTimeout(()=>{ye(this,Va).isStale||this.updateResult()},n))},TN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ye(this,Yt)):this.options.refetchInterval)??!1},AN=function(t){Kt(this,dr,DN).call(this),dt(this,iu,t),!(Qd||_i(this.options.enabled,ye(this,Yt))===!1||!jN(ye(this,iu))||ye(this,iu)===0)&&dt(this,Fd,setInterval(()=>{(this.options.refetchIntervalInBackground||cT.isFocused())&&Kt(this,dr,_0).call(this)},ye(this,iu)))},PN=function(){Kt(this,dr,EN).call(this),Kt(this,dr,AN).call(this,Kt(this,dr,TN).call(this))},ON=function(){ye(this,Md)&&(clearTimeout(ye(this,Md)),dt(this,Md,void 0))},DN=function(){ye(this,Fd)&&(clearInterval(ye(this,Fd)),dt(this,Fd,void 0))},RN=function(){const t=ye(this,_s).getQueryCache().build(ye(this,_s),this.options);if(t===ye(this,Yt))return;const r=ye(this,Yt);dt(this,Yt,t),dt(this,Tv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},L6=function(t){Zn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ye(this,Va))}),ye(this,_s).getQueryCache().notify({query:ye(this,Yt),type:"observerResultsUpdated"})})},g$);function pZ(e,t){return _i(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function CD(e,t){return pZ(e,t)||e.state.data!==void 0&&MN(e,t,t.refetchOnMount)}function MN(e,t,r){if(_i(t.enabled,e)!==!1&&Su(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&uT(e,t)}return!1}function ED(e,t,r,n){return(e!==t||_i(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&uT(e,r)}function uT(e,t){return _i(t.enabled,e)!==!1&&e.isStaleByTime(Su(t.staleTime,e))}function gZ(e,t){return!SN(e.getCurrentResult(),t)}var $6=x.createContext(void 0),vZ=e=>{const t=x.useContext($6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},xZ=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx($6.Provider,{value:e,children:t})),B6=x.createContext(!1),yZ=()=>x.useContext(B6);B6.Provider;function bZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _Z=x.createContext(bZ()),wZ=()=>x.useContext(_Z),jZ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},SZ=e=>{x.useEffect(()=>{e.clearReset()},[e])},NZ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||eZ(r,[e.error,n])),kZ=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},CZ=(e,t)=>e.isLoading&&e.isFetching&&!t,EZ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,TD=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function TZ(e,t,r){var f,h,m,g,p;const n=yZ(),a=wZ(),s=vZ(),o=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",kZ(o),jZ(o,a),SZ(a);const l=!s.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const y=d?c.subscribe(Zn.batchCalls(v)):Ss;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),EZ(o,u))throw TD(o,c,a);if(NZ({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,u),o.experimental_prefetchInRender&&!Qd&&CZ(u,n)){const v=l?TD(o,c,a):(p=s.getQueryCache().get(o.queryHash))==null?void 0:p.promise;v==null||v.catch(Ss).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function dT(e,t){return TZ(e,mZ)}const Et=e=>typeof e=="string",Xp=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},AD=e=>e==null?"":""+e,AZ=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},PZ=/###/g,PD=e=>e&&e.indexOf("###")>-1?e.replace(PZ,"."):e,OD=e=>!e||Et(e),$0=(e,t,r)=>{const n=Et(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(OD(e))return{};const s=PD(n[a]);!e[s]&&r&&(e[s]=new r),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return OD(e)?{}:{obj:e,k:PD(n[a])}},DD=(e,t,r)=>{const{obj:n,k:a}=$0(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let s=t[t.length-1],o=t.slice(0,t.length-1),l=$0(e,o,Object);for(;l.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),l=$0(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},OZ=(e,t,r,n)=>{const{obj:a,k:s}=$0(e,t,Object);a[s]=a[s]||[],a[s].push(r)},T1=(e,t)=>{const{obj:r,k:n}=$0(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},DZ=(e,t,r)=>{const n=T1(e,r);return n!==void 0?n:T1(t,r)},U6=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Et(e[n])||e[n]instanceof String||Et(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):U6(e[n],t[n],r):e[n]=t[n]);return e},Uf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var RZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const MZ=e=>Et(e)?e.replace(/[&<>"'\/]/g,t=>RZ[t]):e;class FZ{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const IZ=[" ",",","?","!",";"],LZ=new FZ(20),$Z=(e,t,r)=>{t=t||"",r=r||"";const n=IZ.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=LZ.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!a.test(e);if(!s){const o=e.indexOf(r);o>0&&!a.test(e.substring(0,o))&&(s=!0)}return s},FN=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}a=o}return a},Cg=e=>e==null?void 0:e.replace("_","-"),BZ={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class A1{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||BZ,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Et(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new A1(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new A1(this.logger,t)}}var nl=new A1;let M_=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a.apply(a,[t,...r])})}};class RD extends M_{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){var u,d;const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Et(n)&&s?l.push(...n.split(s)):l.push(n)));const c=T1(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!Et(n)?c:FN((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[r],n,s)}addResource(t,r,n,a,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),DD(this.data,l,a),s.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const s in n)(Et(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,s,o={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let c=T1(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?U6(c,n,s):c={...c,...n},DD(this.data,l,c),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var z6={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(s=>{var o;t=((o=this.processors[s])==null?void 0:o.process(t,r,n,a))??t}),t}};const V6=Symbol("i18next/PATH_KEY");function UZ(){const e=[],t=Object.create(null);let r;return t.get=(n,a)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),a===V6?e:(e.push(a),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function IN(e,t){const{[V6]:r}=e(UZ());return r.join((t==null?void 0:t.keySeparator)??".")}const MD={},cS=e=>!Et(e)&&typeof e!="boolean"&&typeof e!="number";class P1 extends M_{constructor(t,r={}){super(),AZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=nl.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if((a==null?void 0:a.res)===void 0)return!1;const s=cS(a.res);return!(n.returnObjects===!1&&s)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!$Z(t,n,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Et(s)?[s]:s};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(a)}return{key:t,namespaces:Et(s)?[s]:s}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=IN(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=a.lng||this.language,h=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const m=this.resolve(t,a);let g=m==null?void 0:m.res;const p=(m==null?void 0:m.usedKey)||l,v=(m==null?void 0:m.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],b=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,j=a.count!==void 0&&!Et(a.count),w=P1.hasDefaultValue(a),N=j?this.pluralResolver.getSuffix(f,a.count,a):"",S=a.ordinal&&j?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",k=j&&!a.ordinal&&a.count===0,C=k&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${N}`]||a[`defaultValue${S}`]||a.defaultValue;let T=g;_&&!g&&w&&(T=C);const O=cS(T),A=Object.prototype.toString.apply(T);if(_&&T&&O&&y.indexOf(A)<0&&!(Et(b)&&Array.isArray(T))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,T,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(m.res=V,m.usedParams=this.getUsedParamsDetails(a),m):V}if(o){const V=Array.isArray(T),H=V?[]:{},M=V?v:p;for(const F in T)if(Object.prototype.hasOwnProperty.call(T,F)){const L=`${M}${o}${F}`;w&&!g?H[F]=this.translate(L,{...a,defaultValue:cS(C)?C[F]:void 0,joinArrays:!1,ns:c}):H[F]=this.translate(L,{...a,joinArrays:!1,ns:c}),H[F]===L&&(H[F]=T[F])}g=H}}else if(_&&Et(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,t,a,n));else{let V=!1,H=!1;!this.isValidLookup(g)&&w&&(V=!0,g=C),this.isValidLookup(g)||(H=!0,g=l);const F=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&H?void 0:g,L=w&&C!==g&&this.options.updateMissing;if(H||V||L){if(this.logger.log(L?"updateKey":"missingKey",f,u,l,L?C:g),o){const Y=this.resolve(l,{...a,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let Y=0;Y<D.length;Y++)B.push(D[Y]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(a.lng||this.language):B.push(a.lng||this.language);const q=(Y,P,G)=>{var Z;const K=w&&G!==g?G:F;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,u,P,K,L,a):(Z=this.backendConnector)!=null&&Z.saveMissing&&this.backendConnector.saveMissing(Y,u,P,K,L,a),this.emit("missingKey",Y,u,P,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?B.forEach(Y=>{const P=this.pluralResolver.getSuffixes(Y,a);k&&a[`defaultValue${this.options.pluralSeparator}zero`]&&P.indexOf(`${this.options.pluralSeparator}zero`)<0&&P.push(`${this.options.pluralSeparator}zero`),P.forEach(G=>{q([Y],l+G,a[`defaultValue${G}`]||C)})}):q(B,l,C))}g=this.extendTranslation(g,t,a,m,n),H&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${l}`),(H||V)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,V?g:void 0,a))}return s?(m.res=g,m.usedParams=this.getUsedParamsDetails(a),m):g}extendTranslation(t,r,n,a,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Et(t)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=n.replace&&!Et(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),d){const m=t.match(this.interpolator.nestingRegexp),g=m&&m.length;f<g&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>(s==null?void 0:s[0])===m[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${r[0]}`),null):this.translate(...m,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=Et(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=z6.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,s,o,l;return Et(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;a=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Et(r.count),m=h&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(Et(r.context)||typeof r.context=="number")&&r.context!=="",p=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(v=>{var y,b;this.isValidLookup(n)||(l=v,!MD[`${p[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(l))&&(MD[`${p[0]}-${v}`]=!0,this.logger.warn(`key "${a}" for languages "${p.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(_=>{var N;if(this.isValidLookup(n))return;o=_;const j=[d];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(j,d,_,v,r);else{let S;h&&(S=this.pluralResolver.getSuffix(_,r.count,r));const k=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&S.indexOf(C)===0&&j.push(d+S.replace(C,this.options.pluralSeparator)),j.push(d+S),m&&j.push(d+k)),g){const T=`${d}${this.options.contextSeparator||"_"}${r.context}`;j.push(T),h&&(r.ordinal&&S.indexOf(C)===0&&j.push(T+S.replace(C,this.options.pluralSeparator)),j.push(T+S),m&&j.push(T+k))}}let w;for(;w=j.pop();)this.isValidLookup(n)||(s=w,n=this.getResource(_,v,w,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Et(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const s of r)delete a[s]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class FD{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=nl.create("languageUtils")}getScriptPartFromCode(t){if(t=Cg(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Cg(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Et(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Et(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],s=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Et(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Et(t)&&s(this.formatLanguageCode(t)),n.forEach(o=>{a.indexOf(o)<0&&s(this.formatLanguageCode(o))}),a}}const ID={zero:0,one:1,two:2,few:3,many:4,other:5},LD={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class zZ{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=nl.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=Cg(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),LD;if(!t.match(/-|_/))return LD;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,r)}return this.pluralRulesCache[s]=o,o}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>ID[a]-ID[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const $D=(e,t,r,n=".",a=!0)=>{let s=DZ(e,t,r);return!s&&a&&Et(r)&&(s=FN(e,r,n),s===void 0&&(s=FN(t,r,n))),s},uS=e=>e.replace(/\$/g,"$$$$");class VZ{constructor(t={}){var r;this.logger=nl.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=t.interpolation;this.escape=r!==void 0?r:MZ,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?Uf(s):o||"{{",this.suffix=l?Uf(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?Uf(h):m||Uf("$t("),this.nestingSuffix=g?Uf(g):p||Uf(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){var m;let s,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const b=$D(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...a,...r,interpolationkey:g}):b}const p=g.split(this.formatSeparator),v=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format($D(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...a,...r,interpolationkey:v})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=a==null?void 0:a.interpolation)==null?void 0:m.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>uS(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?uS(this.escape(g)):uS(g)}].forEach(g=>{for(l=0;s=g.regex.exec(t);){const p=s[1].trim();if(o=u(p),o===void 0)if(typeof d=="function"){const y=d(t,s,a);o=Et(y)?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,p))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),o="";else!Et(o)&&!this.useRawValueToEscape&&(o=AD(o));const v=g.safeValue(o);if(t=t.replace(s[0],v),f?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,s,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);const m=h.match(/'/g),g=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o={...u,...o})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,p),`${c}${d}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...n},o=o.replace&&!Et(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),s=r(l.call(this,a[1].trim(),o),o),s&&a[0]===t&&!Et(s))return s;Et(s)||(s=AD(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:a[1].trim()}),s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}const WZ=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},BD=e=>{const t={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const o=n+JSON.stringify(s);let l=t[o];return l||(l=e(Cg(n),a),t[o]=l),l(r)}},HZ=e=>(t,r,n)=>e(Cg(r),n)(t);class qZ{constructor(t={}){this.logger=nl.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?BD:HZ;this.formats={number:n((a,s)=>{const o=new Intl.NumberFormat(a,{...s});return l=>o.format(l)}),currency:n((a,s)=>{const o=new Intl.NumberFormat(a,{...s,style:"currency"});return l=>o.format(l)}),datetime:n((a,s)=>{const o=new Intl.DateTimeFormat(a,{...s});return l=>o.format(l)}),relativetime:n((a,s)=>{const o=new Intl.RelativeTimeFormat(a,{...s});return l=>o.format(l,s.range||"day")}),list:n((a,s)=>{const o=new Intl.ListFormat(a,{...s});return l=>o.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=BD(r)}format(t,r,n,a={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=WZ(c);if(this.formats[u]){let h=l;try{const m=((f=a==null?void 0:a.formatParams)==null?void 0:f[a.interpolationkey])||{},g=m.locale||m.lng||a.locale||a.lng||n;h=this.formats[u](l,g,{...d,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const GZ=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class KZ extends M_{constructor(t,r,n,a={}){var s,o;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=nl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,n,a.backend,a)}queueLoad(t,r,n,a){const s={},o={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,d=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),s=a[0],o=a[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{OZ(c.loaded,[s],o),GZ(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,a=0,s=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:s,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,s*2,o)},s);return}o(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Et(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Et(r)&&(r=[r]);const s=this.queueLoad(t,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,r,n,a,s,o={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const m={...o,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let p;g.length===5?p=g(t,r,n,a,m):p=g(t,r,n,a),p&&typeof p.then=="function"?p.then(v=>l(null,v)).catch(l):l(null,p)}catch(p){l(p)}else g(t,r,n,a,l,m)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const UD=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Et(e[1])&&(t.defaultValue=e[1]),Et(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),zD=e=>{var t,r;return Et(e.ns)&&(e.ns=[e.ns]),Et(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Et(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Kx=()=>{},YZ=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class B0 extends M_{constructor(t={},r){if(super(),this.options=zD(t),this.services={},this.logger=nl,this.modules={external:[]},YZ(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Et(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=UD();this.options={...n,...this.options,...zD(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?nl.init(a(this.modules.logger),this.options):nl.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=qZ;const d=new FD(this.options);this.store=new RD(this.options.resources,this.options);const f=this.services;f.logger=nl,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new zZ(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new VZ(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new KZ(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new P1(this.services,this.options),this.translator.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Kx),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=Xp(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=Kx){var s,o;let n=r;const a=Et(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,r,n){const a=Xp();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=Kx),this.services.backendConnector.reload(t,r,s=>{a.resolve(),n(s)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&z6.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=Xp();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},o=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Et(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Et(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),n}getFixedT(t,r,n){const a=(s,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([s,o].concat(l)):c={...o},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(f=>(typeof f=="function"&&(f=IN(f,{...this.options,...o})),`${c.keyPrefix}${u}${f}`)):(typeof s=="function"&&(s=IN(s,{...this.options,...o})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return Et(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!a||o(s,t)))}loadNamespaces(t,r){const n=Xp();return this.options.ns?(Et(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Xp();Et(t)&&(t=[t]);const a=this.options.preload||[],s=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=a.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){var a,s;if(t||(t=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new FD(UD());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new B0(t,r);return n.createInstance=B0.createInstance,n}cloneInstance(t={},r=Kx){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},s=new B0(a);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});s.store=new RD(l,a),s.services.resourceStore=s.store}return s.translator=new P1(s.services,a),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const zr=B0.createInstance();zr.createInstance;zr.dir;zr.init;zr.loadResources;zr.reloadResources;zr.use;zr.changeLanguage;zr.getFixedT;zr.t;zr.exists;zr.setDefaultNamespace;zr.hasLoadedNamespace;zr.loadNamespaces;zr.loadLanguages;const XZ=(e,t,r,n)=>{var s,o,l,c;const a=[r,{code:t,...n||{}}];if((o=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&o.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);Jd(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},VD={},W6=(e,t,r,n)=>{Jd(r)&&VD[r]||(Jd(r)&&(VD[r]=new Date),XZ(e,t,r,n))},H6=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},LN=(e,t,r)=>{e.loadNamespaces(t,H6(e,r))},WD=(e,t,r,n)=>{if(Jd(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return LN(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,H6(e,n))},QZ=(e,t,r={})=>!t.languages||!t.languages.length?(W6(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),Jd=e=>typeof e=="string",JZ=e=>typeof e=="object"&&e!==null,ZZ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,eee={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},tee=e=>eee[e],ree=e=>e.replace(ZZ,tee);let $N={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ree};const nee=(e={})=>{$N={...$N,...e}},aee=()=>$N;let q6;const see=e=>{q6=e},iee=()=>q6,oee={type:"3rdParty",init(e){nee(e.options.react),see(e)}},G6=x.createContext();class lee{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var K6={exports:{}},Y6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm=x;function cee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uee=typeof Object.is=="function"?Object.is:cee,dee=mm.useState,fee=mm.useEffect,hee=mm.useLayoutEffect,mee=mm.useDebugValue;function pee(e,t){var r=t(),n=dee({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return hee(function(){a.value=r,a.getSnapshot=t,dS(a)&&s({inst:a})},[e,r,t]),fee(function(){return dS(a)&&s({inst:a}),e(function(){dS(a)&&s({inst:a})})},[e]),mee(r),r}function dS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!uee(e,r)}catch{return!0}}function gee(e,t){return t()}var vee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gee:pee;Y6.useSyncExternalStore=mm.useSyncExternalStore!==void 0?mm.useSyncExternalStore:vee;K6.exports=Y6;var X6=K6.exports;const xee=(e,t)=>Jd(t)?t:JZ(t)&&Jd(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,yee={t:xee,ready:!1},bee=()=>()=>{},Rt=(e,t={})=>{var S,k;const{i18n:r}=t,{i18n:n,defaultNS:a}=x.useContext(G6)||{},s=r||n||iee();s&&!s.reportNamespaces&&(s.reportNamespaces=new lee),s||W6(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=x.useMemo(()=>{var C;return{...aee(),...(C=s==null?void 0:s.options)==null?void 0:C.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=o,u=x.useMemo(()=>{var T;const C=a||((T=s==null?void 0:s.options)==null?void 0:T.defaultNS);return Jd(C)?[C]:C||["translation"]},[e,a,s]);(k=(S=s==null?void 0:s.reportNamespaces)==null?void 0:S.addUsedNamespaces)==null||k.call(S,u);const d=x.useRef(0),f=x.useCallback(C=>{if(!s)return bee;const{bindI18n:T,bindI18nStore:O}=o,A=()=>{d.current+=1,C()};return T&&s.on(T,A),O&&s.store.on(O,A),()=>{T&&T.split(" ").forEach(V=>s.off(V,A)),O&&O.split(" ").forEach(V=>s.store.off(V,A))}},[s,o]),h=x.useRef(),m=x.useCallback(()=>{if(!s)return yee;const C=!!(s.isInitialized||s.initializedStoreOnce)&&u.every(M=>QZ(M,s,o)),T=t.lng||s.language,O=d.current,A=h.current;if(A&&A.ready===C&&A.lng===T&&A.keyPrefix===c&&A.revision===O)return A;const H={t:s.getFixedT(T,o.nsMode==="fallback"?u:u[0],c),ready:C,lng:T,keyPrefix:c,revision:O};return h.current=H,H},[s,u,c,o,t.lng]),[g,p]=x.useState(0),{t:v,ready:y}=X6.useSyncExternalStore(f,m,m);x.useEffect(()=>{if(s&&!y&&!l){const C=()=>p(T=>T+1);t.lng?WD(s,t.lng,u,C):LN(s,u,C)}},[s,t.lng,u,y,l,g]);const b=s||{},_=x.useRef(null),j=x.useRef(),w=C=>{const T=Object.getOwnPropertyDescriptors(C);T.__original&&delete T.__original;const O=Object.create(Object.getPrototypeOf(C),T);if(!Object.prototype.hasOwnProperty.call(O,"__original"))try{Object.defineProperty(O,"__original",{value:C,writable:!1,enumerable:!1,configurable:!1})}catch{}return O},N=x.useMemo(()=>{const C=b,T=C==null?void 0:C.language;let O=C;C&&(_.current&&_.current.__original===C?j.current!==T?(O=w(C),_.current=O,j.current=T):O=_.current:(O=w(C),_.current=O,j.current=T));const A=[v,O,y];return A.t=v,A.i18n=O,A.ready=y,A},[v,b,y,b.resolvedLanguage,b.language,b.languages]);if(s&&l&&!y)throw new Promise(C=>{const T=()=>C();t.lng?WD(s,t.lng,u,T):LN(s,u,T)});return N};function _ee({i18n:e,defaultNS:t,children:r}){const n=x.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return x.createElement(G6.Provider,{value:n},r)}const wee={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",whatsapp:"WhatsApp",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System",permissions:"Permissions"},jee={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},See={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},Nee={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to access your account",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Logging in...",signInButton:"Login",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",noAccount:"Don't have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google",welcomeBack:"Welcome Back",emailOrUsername:"Email / Username",enterEmail:"Enter your email",enterPassword:"Enter your password",companyCode:"Company Code",forgotPassword:"Forgot your password?",forgotPasswordDesc:"Please contact your administrator to reset your password.",loginSuccess:"Logged in successfully",loginFailed:"Failed to login. Please check your credentials.",loginFailedTitle:"Login Failed"},kee={welcome:"Welcome",loading:"Loading...",export:"Export",error:"Error",success:"Success",search:"Search",filter:"Filter",filters:"Filters",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of"},Cee={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},Eee={title:"Dashboard",subtitle:"Welcome to your CRM dashboard",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"active projects",clients:"Clients",totalClients:"total clients",teamMembers:"Team Members",activeUsers:"active users",leads:"Leads",totalLeads:"total leads",surveys:"Surveys",totalSurveys:"total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",noClient:"No client",mleadsTrend:"MLeads Trend (Last 30 Days)",recentMLeads:"Recent MLeads",companyName:"Company",contactPerson:"Contact Person",email:"Email",phone:"Phone",status:"Status",createdAt:"Created At",noMLeads:"No MLeads found",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},Tee={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},Aee={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},Pee={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",dueDate:"Due Date",stage:"Stage",manager:"Manager",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},Oee={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},Dee={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",loadingMembers:"Loading members...",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},Ree={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",allTypes:"All Types",allStages:"All Stages",noTicketsInPage:"No tickets in this page",stage:"Stage",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},Mee={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},Fee={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",description:"Description",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",totalTasks:"Total Tasks",status:"Status",assignedTo:"Assigned To",noTasksYet:"No tasks have been created yet."},Iee={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},Lee={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",partner_leader:"Partner Leader",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},$ee={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},Bee={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},Uee={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},zee={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",surveyName:"Survey Name",bulkImport:"Bulk Import",selectTemplateForImport:"Select a template to import surveys into",uploadFile:"Upload your Excel file",reviewData:"Review and map your data",importingData:"Importing your data...",importInstructions:"Import Instructions:",importInstruction1:"File must be in Excel (.xlsx, .xls) or CSV format",importInstruction2:"First row should contain column headers",importInstruction3:"Column headers should match template field names",dragDropFile:"Drag and drop your file here, or",selectFile:"Select File",fileEmpty:"The uploaded file is empty",fileParseError:"Failed to parse the file. Please check the format and try again.",validationErrors:"Validation Errors Found",requiredFieldNotFound:"Required field {{field}} not found in file",requiredFieldNotMapped:"Required field {{field}} is not mapped",columnMapping:"Column Mapping",required:"Required",notMapped:"Not Mapped",optional:"Optional",noTemplateSelected:"No template selected",previewFirstRows:"Preview First {{count}} Rows",showingRows:"Showing {{shown}} of {{total}} rows",startImport:"Start Import",processingRows:"Processing",importSuccess:"Successfully imported {{count}} surveys",importFailed:"Failed to import surveys",createdDate:"Created Date",deleteSurvey:"Delete Survey",deleteSurveyConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",setAsDefault:"Set as Default",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",noResponsesRecorded:"No responses recorded",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},Vee={company:"Company",city:"City",country:"Country",activity:"Activity",distributionCharts:"Distribution Charts",timeline:"Timeline",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",addNewLead:"+ Add New Lead",filterLeads:"Filter Leads",applyFilters:"Apply Filters",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",quotation:"Quotation",viewQuotation:"View Quotation",editLeadDescription:"Edit lead information and details",createLeadDescription:"Add a new lead to the system",leadDetailsDescription:"View and manage lead details and information",reports:"Reports",selectReport:"Select Report",leadsSummaryReport:"Leads Summary Report",leadsByCityReport:"Leads by City Report",leadsConversionReport:"Leads Conversion Report",salesPerformanceReport:"Sales Performance Report",leadsTrendReport:"Leads Trend Report",reportParameters:"Report Parameters",runReport:"Run Report",reportResults:"Report Results",records:"records",allActivities:"All Activities",allSystems:"All Systems",startDate:"Start Date",endDate:"End Date",totalLeads:"Total Leads",wonLeads:"Won Leads",lostLeads:"Lost Leads",leadsByCity:"Leads by City",salesPerformance:"Sales Performance",wonDeals:"Won Deals",lostDeals:"Lost Deals",pendingLeads:"Pending Leads",uploadQuotation:"Upload Quotation",description:"Description",decisionMaker:"Decision Maker",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",searchPlaceholder:"Search by company or address",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},Wee={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",viewContract:"View Contract",editProjectDescription:"Edit project information and details",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",searchPlaceholder:"Search by company, addresses or contract code",notStarted:"Not Started",inProgress:"In Progress",completed:"Completed",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},Hee={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},qee={navigation:wee,buttons:jee,forms:See,auth:Nee,common:kee,status:Cee,dashboard:Eee,leads:Tee,notes:Aee,projects:Pee,settings:Oee,chat:Dee,tickets:Ree,teams:Mee,tasks:Fee,landing:Iee,users:Lee,clients:$ee,employeeDashboard:Bee,chats:Uee,surveys:zee,mleads:Vee,mprojects:Wee,requests:Hee},Gee={home:"",dashboard:" ",projects:"",whatsapp:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestGroup:"",requestsGroup:"",requests:"",systemGroup:"",permissions:""},Kee={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},Yee={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},Xee={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",companyCode:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    ",emailOrUsername:"  /  ",enterEmail:"  ",enterPassword:"  ",loginSuccess:"   ",loginFailed:"  .    .",loginFailedTitle:"  "},Qee={welcome:"",retry:" ",comingSoon:"",loading:" ...",filters:"",export:"",error:"",success:"",add:"",edit:"",delete:"",create:"",update:"",save:"",cancel:"",confirm:"",close:"",submit:"",back:"",next:"",previous:"",first:"",last:"",noData:"   ",noResults:"    ",noItems:"   ",noRecords:"    ",noRecordsFound:"    ",noMatches:"    ",search:"",filter:"",notifications:"",kanban:"",list:"",select:"",view:"",status:"",assignee:" ",all:"",pickDate:" ",clearFilters:" ",created:" ",actions:"",stage:"",priority:"",veryLow:" ",low:"",medium:"",high:"",veryHigh:" ",overview:" ",unassigned:" ",page:"",of:""},Jee={fillAllFields:"   ",required:"",invalidEmail:"   ",passwordTooShort:"   ",passwordsNotMatch:"   "},Zee={title:"   ",subtitle:"     ",comingSoonMessage:"       ."},ete={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},tte={title:" ",noClient:"  ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},rte={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},nte={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},ate={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",dueDate:" ",stage:"",manager:"",total:" ",inProgress:" ",completed:"",avgProgress:" ",deleteComment:" ",deleteCommentConfirmation:"       "},ste={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",loadingMembers:"  ...",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},ite={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",allTypes:" ",allStages:" ",noTicketsInPage:"     ",stage:"",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},ote={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},lte={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",totalTasks:" ",status:"",assignedTo:" ",noTasksYet:"     ."},cte={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},ute={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},dte={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},fte={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},hte={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",minutesAgo:" {{count}} ",hoursAgo:" {{count}} ",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},mte={title:"",subtitle:"    ",fileEmpty:" ",fileParseError:"   ",requiredFieldNotFound:"   : {{field}}",requiredFieldNotMapped:"   : {{field}}",importSuccess:"  {{count}}  ",importFailed:" ",selectTemplateForImport:"  ",uploadFile:"  Excel  CSV  ",reviewData:"   ",importingData:"  ...",importInstructions:" ",importInstruction1:"        ",importInstruction2:"       ",importInstruction3:" : Excel (.xlsx, .xls)  CSV",dragDropFile:"   ",selectFile:" ",validationErrors:" ",columnMapping:" ",required:"",notMapped:" ",optional:"",noTemplateSelected:"   ",previewFirstRows:" ( {{count}} )",showingRows:"  {{shown}}  {{total}} ",processingRows:" ",startImport:" ",surveys:"",templates:"",totalSurveys:" ",deleteSurvey:" ",deleteSurveyConfirmation:'      "{{name}}"      .',createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",setAsDefault:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",surveyName:" ",surveyNameAr:"  ",createdDate:" ",bulkImport:" ",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",noResponsesRecorded:"    ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",editTemplateTitle:" ",updateTemplate:" ",deleteTemplate:" ",deleteTemplateConfirmation:'      "{{name}}"      .',templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},pte={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},gte={company:"",city:"",country:"",activity:"",addNewLead:"   ",leads:" ",leadManagement:"  ",leadOverview:"    ",filters:"",distributionCharts:"  ",timeline:" ",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",quotation:"",viewQuotation:" ",editLeadDescription:"   ",createLeadDescription:"    ",leadDetailsDescription:"    ",reports:"",selectReport:" ",leadsSummaryReport:"   ",leadsByCityReport:"    ",leadsConversionReport:"   ",salesPerformanceReport:"  ",leadsTrendReport:"   ",reportParameters:" ",runReport:" ",reportResults:" ",records:"",allActivities:" ",allSystems:" ",startDate:" ",endDate:" ",totalLeads:"  ",wonLeads:" ",lostLeads:" ",leadsByCity:"   ",salesPerformance:" ",wonDeals:" ",lostDeals:" ",pendingLeads:"  ",uploadQuotation:" ",noContactsFound:"     ",allCountries:" ",allCities:" ",allStatuses:" ",allUsers:" ",clearFilters:" ",decisionMaker:"  ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchPlaceholder:"   ",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",allStages:" ",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",createdBy:"  ",description:"",createLead:"  ",editlead:"  ",firstName:" ",lastName:" ",showLead:" ",hideLead:" "},vte={masterProjects:" ",manageMasterProjectsData:"   ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",viewContract:" ",contactName:"  ",email:" ",mobile:" ",projectName:" ",description:"",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",searchPlaceholder:"     ",notStarted:" ",inProgress:" ",completed:"",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},xte={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},yte={navigation:Gee,buttons:Kee,forms:Yee,auth:Xee,common:Qee,validation:Jee,partnerEmployeeDashboard:Zee,status:ete,dashboard:tte,leads:rte,notes:nte,projects:ate,chat:ste,tickets:ite,teams:ote,tasks:lte,landing:cte,users:ute,clients:dte,employeeDashboard:fte,chats:hte,surveys:mte,settings:pte,mleads:gte,mprojects:vte,requests:xte},bte={en:{translation:qee},ar:{translation:yte}};zr.use(oee).init({resources:bte,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const Ae=(e,t)=>{if(zr.language==="ar"){const a=`${t}_ar`;if(e[a]&&e[a].trim())return e[a]}if(e[t]&&e[t].trim())return e[t];const n=`${t}_ar`;return e[n]&&e[n].trim()?e[n]:""},lc=(e,t)=>{const r=zr.language,n={...e};return Object.entries(t).forEach(([a,s])=>{r==="ar"?(n[`${s}_ar`]=e[a],n[s]=e[a]):(n[s]=e[a],n[`${s}_ar`]=e[a])}),n},qt=()=>zr.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}var cu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cu||(cu={}));const HD="popstate";function _te(e){e===void 0&&(e={});function t(a,s){let{pathname:o="/",search:l="",hash:c=""}=jf(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),BN("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:O1(s))}function n(a,s){fT(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return jte(t,r,n,e)}function sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fT(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wte(){return Math.random().toString(36).substr(2,8)}function qD(e,t){return{usr:e.state,key:e.key,idx:t}}function BN(e,t,r,n){return r===void 0&&(r=null),Eg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jf(t):t,{state:r,key:t&&t.key||n||wte()})}function O1(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function jte(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=cu.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Eg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=cu.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:y})}function h(v,y){l=cu.Push;let b=BN(p.location,v,y);r&&r(b,v),u=d()+1;let _=qD(b,u),j=p.createHref(b);try{o.pushState(_,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(j)}s&&c&&c({action:l,location:p.location,delta:1})}function m(v,y){l=cu.Replace;let b=BN(p.location,v,y);r&&r(b,v),u=d();let _=qD(b,u),j=p.createHref(b);o.replaceState(_,"",j),s&&c&&c({action:l,location:p.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:O1(v);return b=b.replace(/ $/,"%20"),sn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(HD,f),c=v,()=>{a.removeEventListener(HD,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var GD;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(GD||(GD={}));function Ste(e,t,r){return r===void 0&&(r="/"),Nte(e,t,r,!1)}function Nte(e,t,r,n){let a=typeof t=="string"?jf(t):t,s=hT(a.pathname||"/",r);if(s==null)return null;let o=Q6(e);kte(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Ite(s);l=Mte(o[c],u,n)}return l}function Q6(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(sn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Nu([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(sn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Q6(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Dte(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of J6(s.path))a(s,o,c)}),t}function J6(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=J6(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function kte(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Rte(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Cte=/^:[\w-]+$/,Ete=3,Tte=2,Ate=1,Pte=10,Ote=-2,KD=e=>e==="*";function Dte(e,t){let r=e.split("/"),n=r.length;return r.some(KD)&&(n+=Ote),t&&(n+=Tte),r.filter(a=>!KD(a)).reduce((a,s)=>a+(Cte.test(s)?Ete:s===""?Ate:Pte),n)}function Rte(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Mte(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=YD({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=YD({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Nu([s,f.pathname]),pathnameBase:Ute(Nu([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Nu([s,f.pathnameBase]))}return o}function YD(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Fte(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Fte(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),fT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Ite(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hT(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Lte(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?jf(e):e;return{pathname:r?r.startsWith("/")?r:$te(r,t):t,search:zte(n),hash:Vte(a)}}function $te(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function fS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bte(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function mT(e,t){let r=Bte(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pT(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=jf(e):(a=Eg({},e),sn(!a.pathname||!a.pathname.includes("?"),fS("?","pathname","search",a)),sn(!a.pathname||!a.pathname.includes("#"),fS("#","pathname","hash",a)),sn(!a.search||!a.search.includes("#"),fS("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Lte(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Nu=e=>e.join("/").replace(/\/\/+/g,"/"),Ute=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Vte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Wte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Z6=["post","put","patch","delete"];new Set(Z6);const Hte=["get",...Z6];new Set(Hte);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}const gT=x.createContext(null),qte=x.createContext(null),qu=x.createContext(null),F_=x.createContext(null),wl=x.createContext({outlet:null,matches:[],isDataRoute:!1}),eB=x.createContext(null);function Gte(e,t){let{relative:r}=t===void 0?{}:t;fp()||sn(!1);let{basename:n,navigator:a}=x.useContext(qu),{hash:s,pathname:o,search:l}=rB(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Nu([n,o])),a.createHref({pathname:c,search:l,hash:s})}function fp(){return x.useContext(F_)!=null}function jl(){return fp()||sn(!1),x.useContext(F_).location}function tB(e){x.useContext(qu).static||x.useLayoutEffect(e)}function $s(){let{isDataRoute:e}=x.useContext(wl);return e?cre():Kte()}function Kte(){fp()||sn(!1);let e=x.useContext(gT),{basename:t,future:r,navigator:n}=x.useContext(qu),{matches:a}=x.useContext(wl),{pathname:s}=jl(),o=JSON.stringify(mT(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return tB(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=pT(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Nu([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}const Yte=x.createContext(null);function Xte(e){let t=x.useContext(wl).outlet;return t&&x.createElement(Yte.Provider,{value:e},t)}function Qte(){let{matches:e}=x.useContext(wl),t=e[e.length-1];return t?t.params:{}}function rB(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(qu),{matches:a}=x.useContext(wl),{pathname:s}=jl(),o=JSON.stringify(mT(a,n.v7_relativeSplatPath));return x.useMemo(()=>pT(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function Jte(e,t){return Zte(e,t)}function Zte(e,t,r,n){fp()||sn(!1);let{navigator:a}=x.useContext(qu),{matches:s}=x.useContext(wl),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=jl(),d;if(t){var f;let v=typeof t=="string"?jf(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||sn(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Ste(e,{pathname:m}),p=are(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Nu([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Nu([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&p?x.createElement(F_.Provider,{value:{location:Tg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:cu.Pop}},p):p}function ere(){let e=lre(),t=Wte(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const tre=x.createElement(ere,null);class rre extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(wl.Provider,{value:this.props.routeContext},x.createElement(eB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nre(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(gT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(wl.Provider,{value:t},n)}function are(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||sn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||tre,c&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),b=()=>{let _;return m?_=p:g?_=v:f.route.Component?_=x.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,x.createElement(nre,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(rre,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var nB=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nB||{}),D1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(D1||{});function sre(e){let t=x.useContext(gT);return t||sn(!1),t}function ire(e){let t=x.useContext(qte);return t||sn(!1),t}function ore(e){let t=x.useContext(wl);return t||sn(!1),t}function aB(e){let t=ore(),r=t.matches[t.matches.length-1];return r.route.id||sn(!1),r.route.id}function lre(){var e;let t=x.useContext(eB),r=ire(D1.UseRouteError),n=aB(D1.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function cre(){let{router:e}=sre(nB.UseNavigateStable),t=aB(D1.UseNavigateStable),r=x.useRef(!1);return tB(()=>{r.current=!0}),x.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Tg({fromRouteId:t},s)))},[e,t])}function ure(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wy(e){let{to:t,replace:r,state:n,relative:a}=e;fp()||sn(!1);let{future:s,static:o}=x.useContext(qu),{matches:l}=x.useContext(wl),{pathname:c}=jl(),u=$s(),d=pT(t,mT(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function XD(e){return Xte(e.context)}function xr(e){sn(!1)}function dre(e){let{basename:t="/",children:r=null,location:n,navigationType:a=cu.Pop,navigator:s,static:o=!1,future:l}=e;fp()&&sn(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:o,future:Tg({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=jf(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=x.useMemo(()=>{let v=hT(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return p==null?null:x.createElement(qu.Provider,{value:u},x.createElement(F_.Provider,{children:r,value:p}))}function fre(e){let{children:t,location:r}=e;return Jte(UN(t),r)}new Promise(()=>{});function UN(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,UN(n.props.children,s));return}n.type!==xr&&sn(!1),!n.props.index||!n.props.children||sn(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=UN(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zN.apply(this,arguments)}function hre(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function mre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pre(e,t){return e.button===0&&(!t||t==="_self")&&!mre(e)}const gre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vre="6";try{window.__reactRouterVersion=vre}catch{}const xre="startTransition",QD=gE[xre];function yre(e){let{basename:t,children:r,future:n,window:a}=e,s=x.useRef();s.current==null&&(s.current=_te({window:a,v5Compat:!0}));let o=s.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&QD?QD(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>ure(n),[n]),x.createElement(dre,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const bre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VN=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=hre(t,gre),{basename:m}=x.useContext(qu),g,p=!1;if(typeof u=="string"&&_re.test(u)&&(g=u,bre))try{let _=new URL(window.location.href),j=u.startsWith("//")?new URL(_.protocol+u):new URL(u),w=hT(j.pathname,m);j.origin===_.origin&&w!=null?u=w+j.search+j.hash:p=!0}catch{}let v=Gte(u,{relative:a}),y=wre(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(_){n&&n(_),_.defaultPrevented||y(_)}return x.createElement("a",zN({},h,{href:g||v,onClick:p||s?n:b,ref:r,target:c}))});var JD;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(JD||(JD={}));var ZD;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ZD||(ZD={}));function wre(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=$s(),u=jl(),d=rB(e,{relative:o});return x.useCallback(f=>{if(pre(f,r)){f.preventDefault();let h=n!==void 0?n:O1(u)===O1(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}function Tt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ms(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ha(e,t){const r=Tt(e);return isNaN(t)?Ms(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function jo(e,t){const r=Tt(e);if(isNaN(t))return Ms(e,NaN);if(!t)return r;const n=r.getDate(),a=Ms(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const vT=6048e5,jre=864e5,Yx=43200,eR=1440;let Sre={};function hp(){return Sre}function pl(e,t){var l,c,u,d;const r=hp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Tt(e),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Zd(e){return pl(e,{weekStartsOn:1})}function sB(e){const t=Tt(e),r=t.getFullYear(),n=Ms(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Zd(n),s=Ms(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Zd(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function pm(e){const t=Tt(e);return t.setHours(0,0,0,0),t}function gm(e){const t=Tt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function al(e,t){const r=pm(e),n=pm(t),a=+r-gm(r),s=+n-gm(n);return Math.round((a-s)/jre)}function Nre(e){const t=sB(e),r=Ms(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Zd(r)}function WN(e,t){const r=t*7;return Ha(e,r)}function kre(e,t){return jo(e,t*12)}function Cre(e){let t;return e.forEach(function(r){const n=Tt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Ere(e){let t;return e.forEach(r=>{const n=Tt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Hy(e,t){const r=Tt(e),n=Tt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Tre(e){return Ms(e,Date.now())}function Cs(e,t){const r=pm(e),n=pm(t);return+r==+n}function xT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Are(e){if(!xT(e)&&typeof e!="number")return!1;const t=Tt(e);return!isNaN(Number(t))}function vm(e,t){const r=Tt(e),n=Tt(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Pre(e,t,r){const n=pl(e,r),a=pl(t,r),s=+n-gm(n),o=+a-gm(a);return Math.round((s-o)/vT)}function Ore(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Dre(e,t){return+Tt(e)-+Tt(t)}function Rre(e){const t=Tt(e);return t.setHours(23,59,59,999),t}function I_(e){const t=Tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Mre(e){const t=Tt(e);return+Rre(t)==+I_(t)}function Fre(e,t){const r=Tt(e),n=Tt(t),a=Hy(r,n),s=Math.abs(vm(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=Hy(r,n)===-a;Mre(Tt(e))&&s===1&&Hy(e,n)===1&&(l=!1),o=a*(s-Number(l))}return o===0?0:o}function Ire(e,t,r){const n=Dre(e,t)/1e3;return Ore(r==null?void 0:r.roundingMethod)(n)}function Os(e){const t=Tt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function iB(e){const t=Tt(e),r=Ms(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function yT(e,t){var l,c,u,d;const r=hp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Tt(e),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function oB(e){return yT(e,{weekStartsOn:1})}const Lre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$re=(e,t,r)=>{let n;const a=Lre[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Fh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Bre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ure={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vre={date:Fh({formats:Bre,defaultWidth:"full"}),time:Fh({formats:Ure,defaultWidth:"full"}),dateTime:Fh({formats:zre,defaultWidth:"full"})},Wre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hre=(e,t,r,n)=>Wre[e];function Zo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const qre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Zre={ordinalNumber:Jre,era:Zo({values:qre,defaultWidth:"wide"}),quarter:Zo({values:Gre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zo({values:Kre,defaultWidth:"wide"}),day:Zo({values:Yre,defaultWidth:"wide"}),dayPeriod:Zo({values:Xre,defaultWidth:"wide",formattingValues:Qre,defaultFormattingWidth:"wide"})};function el(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?tne(l,f=>f.test(o)):ene(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function ene(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function tne(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function lB(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const rne=/^(\d+)(th|st|nd|rd)?/i,nne=/\d+/i,ane={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sne={any:[/^b/i,/^(a|c)/i]},ine={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},one={any:[/1/i,/2/i,/3/i,/4/i]},lne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},une={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mne={ordinalNumber:lB({matchPattern:rne,parsePattern:nne,valueCallback:e=>parseInt(e,10)}),era:el({matchPatterns:ane,defaultMatchWidth:"wide",parsePatterns:sne,defaultParseWidth:"any"}),quarter:el({matchPatterns:ine,defaultMatchWidth:"wide",parsePatterns:one,defaultParseWidth:"any",valueCallback:e=>e+1}),month:el({matchPatterns:lne,defaultMatchWidth:"wide",parsePatterns:cne,defaultParseWidth:"any"}),day:el({matchPatterns:une,defaultMatchWidth:"wide",parsePatterns:dne,defaultParseWidth:"any"}),dayPeriod:el({matchPatterns:fne,defaultMatchWidth:"any",parsePatterns:hne,defaultParseWidth:"any"})},bT={code:"en-US",formatDistance:$re,formatLong:Vre,formatRelative:Hre,localize:Zre,match:mne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pne(e){const t=Tt(e);return al(t,iB(t))+1}function cB(e){const t=Tt(e),r=+Zd(t)-+Nre(t);return Math.round(r/vT)+1}function uB(e,t){var d,f,h,m;const r=Tt(e),n=r.getFullYear(),a=hp(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ms(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=pl(o,t),c=Ms(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=pl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function gne(e,t){var l,c,u,d;const r=hp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=uB(e,t),s=Ms(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),pl(s,t)}function dB(e,t){const r=Tt(e),n=+pl(r,t)-+gne(r,t);return Math.round(n/vT)+1}function pr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Mc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return pr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):pr(r+1,2)},d(e,t){return pr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return pr(e.getHours()%12||12,t.length)},H(e,t){return pr(e.getHours(),t.length)},m(e,t){return pr(e.getMinutes(),t.length)},s(e,t){return pr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return pr(a,t.length)}},zf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Mc.y(e,t)},Y:function(e,t,r,n){const a=uB(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return pr(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):pr(s,t.length)},R:function(e,t){const r=sB(e);return pr(r,t.length)},u:function(e,t){const r=e.getFullYear();return pr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return pr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return pr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Mc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return pr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=dB(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):pr(a,t.length)},I:function(e,t,r){const n=cB(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):pr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Mc.d(e,t)},D:function(e,t,r){const n=pne(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):pr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return pr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return pr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return pr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=zf.noon:n===0?a=zf.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=zf.evening:n>=12?a=zf.afternoon:n>=4?a=zf.morning:a=zf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Mc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Mc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):pr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):pr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Mc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Mc.s(e,t)},S:function(e,t){return Mc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return nR(n);case"XXXX":case"XX":return ld(n);case"XXXXX":case"XXX":default:return ld(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return nR(n);case"xxxx":case"xx":return ld(n);case"xxxxx":case"xxx":default:return ld(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+rR(n,":");case"OOOO":default:return"GMT"+ld(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+rR(n,":");case"zzzz":default:return"GMT"+ld(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return pr(n,t.length)},T:function(e,t,r){const n=e.getTime();return pr(n,t.length)}};function rR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+pr(s,2)}function nR(e,t){return e%60===0?(e>0?"-":"+")+pr(Math.abs(e)/60,2):ld(e,t)}function ld(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=pr(Math.trunc(n/60),2),s=pr(n%60,2);return r+a+t+s}const aR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},fB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},vne=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return aR(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",aR(n,t)).replace("{{time}}",fB(a,t))},xne={p:fB,P:vne},yne=/^D+$/,bne=/^Y+$/,_ne=["D","DD","YY","YYYY"];function wne(e){return yne.test(e)}function jne(e){return bne.test(e)}function Sne(e,t,r){const n=Nne(e,t,r);if(console.warn(n),_ne.includes(e))throw new RangeError(n)}function Nne(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ene=/^'([^]*?)'?$/,Tne=/''/g,Ane=/[a-zA-Z]/;function ns(e,t,r){var d,f,h,m,g,p,v,y;const n=hp(),a=(r==null?void 0:r.locale)??n.locale??bT,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=Tt(e);if(!Are(l))throw new RangeError("Invalid time value");let c=t.match(Cne).map(b=>{const _=b[0];if(_==="p"||_==="P"){const j=xne[_];return j(b,a.formatLong)}return b}).join("").match(kne).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const _=b[0];if(_==="'")return{isToken:!1,value:Pne(b)};if(tR[_])return{isToken:!0,value:b};if(_.match(Ane))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const _=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&jne(_)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&wne(_))&&Sne(_,t,String(e));const j=tR[_[0]];return j(l,_,a.localize,u)}).join("")}function Pne(e){const t=e.match(Ene);return t?t[1].replace(Tne,"'"):e}function One(e,t,r){const n=hp(),a=(r==null?void 0:r.locale)??n.locale??bT,s=2520,o=Hy(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Tt(t),u=Tt(e)):(c=Tt(e),u=Tt(t));const d=Ire(u,c),f=(gm(u)-gm(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<eR){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<Yx){const g=Math.round(h/eR);return a.formatDistance("xDays",g,l)}else if(h<Yx*2)return m=Math.round(h/Yx),a.formatDistance("aboutXMonths",m,l)}if(m=Fre(u,c),m<12){const g=Math.round(h/Yx);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function Dne(e,t){return One(e,Tre(e),t)}function Rne(e){const t=Tt(e),r=t.getFullYear(),n=t.getMonth(),a=Ms(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Mne(e){return Math.trunc(+Tt(e)/1e3)}function Fne(e){const t=Tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Ine(e,t){return Pre(Fne(e),Os(e),t)+1}function HN(e,t){const r=Tt(e),n=Tt(t);return r.getTime()>n.getTime()}function hB(e,t){const r=Tt(e),n=Tt(t);return+r<+n}function _T(e,t){const r=Tt(e),n=Tt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Lne(e,t){const r=Tt(e),n=Tt(t);return r.getFullYear()===n.getFullYear()}function hS(e,t){return Ha(e,-t)}function mS(e,t){const r=Tt(e),n=r.getFullYear(),a=r.getDate(),s=Ms(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const o=Rne(s);return r.setMonth(t,Math.min(a,o)),r}function sR(e,t){const r=Tt(e);return isNaN(+r)?Ms(e,NaN):(r.setFullYear(t),r)}function iR(e){if(!e)return e;if(typeof e=="string")try{const t=new Date(e);return isNaN(t.getTime())?e:ns(t,"yyyy-MM-dd HH:mm:ss")}catch{return e}return e instanceof Date?ns(e,"yyyy-MM-dd HH:mm:ss"):e}function qN(e){if(e==null)return e;if(e instanceof Date)return iR(e);if(Array.isArray(e))return e.map(t=>qN(t));if(typeof e=="object"){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r.toLowerCase().includes("date")||r.toLowerCase().includes("time")?t[r]=iR(e[r]):t[r]=qN(e[r]));return t}return e}const $ne="https://api.middar.com";async function qo(e,t={}){const r={"Content-Type":"application/json",...t.headers},n=localStorage.getItem("authToken");n&&(r.Authorization=`Bearer ${n}`);try{let a=t.body;if(a&&typeof a=="string")try{const l=JSON.parse(a),c=qN(l);a=JSON.stringify(c)}catch(l){console.warn("Failed to parse request body for date formatting",l)}console.log(`API Request: ${t.method||"GET"} ${e}`,a?JSON.parse(a):null);const s=await fetch(`${$ne}${e}`,{...t,headers:r,body:a});let o;try{const l=await s.text();o=l?JSON.parse(l):{}}catch(l){console.error("Failed to parse API response:",l),o={}}if(!s.ok){const l={status:s.status,statusText:s.statusText,url:e,headers:Object.fromEntries(s.headers.entries()),response:o,requestBody:t.body?JSON.parse(t.body):null};console.error("API Error Details:",JSON.stringify(l,null,2));let c="Something went wrong";o&&typeof o=="object"?c=o.message||o.error||JSON.stringify(o):o&&(c=String(o));const u=new Error(c);throw u.status=s.status,u.response=o,u.details=l,u}return o}catch(a){throw console.error("API Request Failed:",{endpoint:e,error:a.message,stack:a.stack}),a}}const J={get:(e,t,r)=>{const n=new URLSearchParams(r).toString();return qo(`/api/v1/get/${e}/${t}${n?`?${n}`:""}`)},list:async(e,t={})=>{const r={...t},n=["m_leads","m_projects","tasks","tickets"];r.sort_by||(r.sort_by="created_at",r.sort_order=n.includes(e)?"DESC":"ASC");let a="";if(r.exact_filters&&(a=typeof r.exact_filters=="string"?r.exact_filters:JSON.stringify(r.exact_filters),delete r.exact_filters),r.advanced_filters&&typeof r.advanced_filters=="string")try{JSON.parse(r.advanced_filters)}catch{delete r.advanced_filters}else r.advanced_filters&&(r.advanced_filters=JSON.stringify(r.advanced_filters));const s=new URLSearchParams;Object.entries(r).forEach(([c,u])=>{u!=null&&s.append(c,u.toString())});const o=a?`/api/v1/${e}/list?exact_filters=${encodeURIComponent(a)}&${s.toString()}`:s.toString()?`/api/v1/${e}/list?${s.toString()}`:`/api/v1/${e}/list`;console.log("Sending request to:",o);const l=await qo(o);return{data:l.data||[],total:l.totalRows||0,page:(l.page||1)-1,pageSize:l.totalRows||0}},count:async(e,t={})=>{try{return(await J.list(e,{...t,pageSize:1})).total||0}catch{return console.warn(`Count failed for ${e}, returning 0`),0}},create:(e,t)=>e==="messages"?qo(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}):qo(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}),update:(e,t,r)=>qo(`/api/v1/update/${e}/${t}`,{method:"PUT",body:JSON.stringify(r)}),delete:(e,t)=>qo(`/api/v1/delete/${e}/${t}`,{method:"DELETE"}),getAggregates:async(e,t={})=>{try{console.log("[API] Getting aggregates for tables:",e);const r=e.map(async s=>{try{const l={m_projects:"m_projects",m_leads:"m_leads",clients:"Users",users:"Users",surveys:"surveys",tasks:"tasks"}[s]||s,u=(await J.list(l,{pageSize:1})).total||0;return console.log(`[API] Got count for ${s} (${l}):`,u),{[s]:{Count:u}}}catch(o){return console.warn(`[API] Count failed for ${s}, using fallback:`,o),{[s]:{Count:0}}}}),a=(await Promise.all(r)).reduce((s,o)=>({...s,...o}),{});return console.log("[API] Combined aggregates result:",a),a}catch(r){return console.error("[API] Failed to get aggregates:",r),{}}},auth:{login:async e=>qo("/api/v1/account/login",{method:"POST",body:JSON.stringify(e)})},permissions:{list:(e={})=>J.list("permissions",e),get:e=>J.get("permissions",e),create:e=>J.create("permissions",e),update:(e,t)=>J.update("permissions",e,t),delete:e=>J.delete("permissions",e)},comments:{list:(e={})=>J.list("comments",e),get:e=>J.get("comments",e),create:e=>J.create("comments",e),update:(e,t)=>J.update("comments",e,t),delete:e=>J.delete("comments",e)},leads:{list:(e={})=>J.list("leads",e),get:e=>J.get("leads",e),create:e=>J.create("leads",e),update:(e,t)=>J.update("leads",e,t),delete:e=>J.delete("leads",e)},mAction:{list:(e={})=>J.list("m_action",e),get:e=>J.get("m_action",e),create:e=>J.create("m_action",e),update:(e,t)=>J.update("m_action",e,t),delete:e=>J.delete("m_action",e)},mActivity:{list:(e={})=>J.list("m_activity",e),get:e=>J.get("m_activity",e),create:e=>J.create("m_activity",e),update:(e,t)=>J.update("m_activity",e,t),delete:e=>J.delete("m_activity",e)},messages:{list:(e={})=>J.list("messages",e),get:e=>J.get("messages",e),create:e=>J.create("messages",e),update:(e,t)=>J.update("messages",e,t),delete:e=>J.delete("messages",e)},mContacts:{list:(e={})=>J.list("m_contacts",e),get:e=>J.get("m_contacts",e),create:e=>J.create("m_contacts",e),update:(e,t)=>J.update("m_contacts",e,t),delete:e=>J.delete("m_contacts",e)},mCountry:{list:(e={})=>J.list("m_country",e),get:e=>J.get("m_country",e),create:e=>J.create("m_country",e),update:(e,t)=>J.update("m_country",e,t),delete:e=>J.delete("m_country",e)},mCity:{list:(e={})=>J.list("m_city",e),get:e=>J.get("m_city",e),create:e=>J.create("m_city",e),update:(e,t)=>J.update("m_city",e,t),delete:e=>J.delete("m_city",e),getByCountry:(e,t={})=>J.list("m_city",{...t,exact_filters:{country_id:e}})},mJobtitle:{list:(e={})=>J.list("m_jobtitle",e),get:e=>J.get("m_jobtitle",e),create:e=>J.create("m_jobtitle",e),update:(e,t)=>J.update("m_jobtitle",e,t),delete:e=>J.delete("m_jobtitle",e)},mLeads:{list:(e={})=>J.list("m_leads",e),get:e=>J.get("m_leads",e),create:e=>J.create("m_leads",e),update:(e,t)=>J.update("m_leads",e,t),delete:e=>J.delete("m_leads",e),getByStage:(e,t={})=>J.list("m_leads",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>J.list("m_leads",{...t,exact_filters:{assigned_to:e}}),getByStatus:(e,t={})=>J.list("m_leads",{...t,exact_filters:{status_id:e}})},mSystem:{list:(e={})=>J.list("m_system",e),get:e=>J.get("m_system",e),create:e=>J.create("m_system",e),update:(e,t)=>J.update("m_system",e,t),delete:e=>J.delete("m_system",e)},mLeadsTrans:{list:(e={})=>J.list("m_leads_trans",e),get:e=>J.get("m_leads_trans",e),create:e=>J.create("m_leads_trans",e),update:(e,t)=>J.update("m_leads_trans",e,t),delete:e=>J.delete("m_leads_trans",e),getByLead:(e,t={})=>J.list("m_leads_trans",{...t,exact_filters:{leads_id:e}}),getByUser:(e,t={})=>J.list("m_leads_trans",{...t,exact_filters:{user_id:e}})},mProjects:{list:(e={})=>J.list("m_projects",e),get:e=>J.get("m_projects",e),create:e=>J.create("m_projects",e),update:(e,t)=>J.update("m_projects",e,t),delete:e=>J.delete("m_projects",e)},mStatus:{list:(e={})=>J.list("m_status",e),get:e=>J.get("m_status",e),create:e=>J.create("m_status",e),update:(e,t)=>J.update("m_status",e,t),delete:e=>J.delete("m_status",e)},notes:{list:(e={})=>J.list("notes",e),get:e=>J.get("notes",e),create:e=>J.create("notes",e),update:(e,t)=>J.update("notes",e,t),delete:e=>J.delete("notes",e),getByRelated:(e,t,r={})=>J.list("notes",{...r,exact_filters:{related_to_type:e,related_to_id:t}})},partnerApply:{list:(e={})=>J.list("partner_apply",e),get:e=>J.get("partner_apply",e),create:e=>J.create("partner_apply",e),update:(e,t)=>J.update("partner_apply",e,t),delete:e=>J.delete("partner_apply",e),getPending:(e={})=>J.list("partner_apply",{...e,exact_filters:{status:"Pending"}}),getByStatus:(e,t={})=>J.list("partner_apply",{...t,exact_filters:{status:e}})},projectUsers:{list:(e={})=>J.list("project_users",e),get:e=>J.get("project_users",e),create:e=>J.create("project_users",e),update:(e,t)=>J.update("project_users",e,t),delete:e=>J.delete("project_users",e),getByProject:(e,t={})=>J.list("project_users",{...t,exact_filters:{project_id:e}})},projectImages:{list:(e={})=>J.list("project_images",e),get:e=>J.get("project_images",e),create:e=>J.create("project_images",e),update:(e,t)=>J.update("project_images",e,t),delete:e=>J.delete("project_images",e),getByProject:(e,t={})=>J.list("project_images",{...t,exact_filters:{project_id:e}})},projects:{list:(e={})=>J.list("projects",e),get:e=>J.get("projects",e),create:e=>J.create("projects",e),update:(e,t)=>J.update("projects",e,t),delete:e=>J.delete("projects",e),getByStage:(e,t={})=>J.list("projects",{...t,exact_filters:{stage:e}}),getByLead:(e,t={})=>J.list("projects",{...t,exact_filters:{lead_id:e}})},requests:{list:(e={})=>J.list("requests_crm",e),get:e=>J.get("requests_crm",e),create:e=>J.create("requests_crm",e),update:(e,t)=>J.update("requests_crm",e,t),delete:e=>J.delete("requests_crm",e)},rooms:{list:(e={})=>J.list("rooms",e),get:e=>J.get("rooms",e),create:e=>J.create("rooms",e),update:(e,t)=>J.update("rooms",e,t),delete:e=>J.delete("rooms",e),getByProject:(e,t={})=>J.list("rooms",{...t,exact_filters:{project_id:e}}),getByTeam:(e,t={})=>J.list("rooms",{...t,exact_filters:{team_id:e}})},roomMembers:{list:(e={})=>J.list("room_members",e),get:e=>J.get("room_members",e),create:e=>J.create("room_members",e),update:(e,t)=>J.update("room_members",e,t),delete:e=>J.delete("room_members",e),getByRoom:(e,t={})=>J.list("room_members",{...t,exact_filters:{room_id:e}})},stages:{list:(e={})=>J.list("stages",e),get:e=>J.get("stages",e),create:e=>J.create("stages",e),update:(e,t)=>J.update("stages",e,t),delete:e=>J.delete("stages",e)},tasks:{list:(e={})=>J.list("tasks",e),get:e=>J.get("tasks",e),create:e=>J.create("tasks",e),update:(e,t)=>J.update("tasks",e,t),delete:e=>J.delete("tasks",e),getByStage:(e,t={})=>J.list("tasks",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>J.list("tasks",{...t,exact_filters:{assigned_to:e}})},surveyTemplates:{list:(e={})=>J.list("survey_templates",e),get:e=>J.get("survey_templates",e),create:e=>J.create("survey_templates",e),update:(e,t)=>J.update("survey_templates",e,t),delete:e=>J.delete("survey_templates",e)},surveyTemplateFields:{list:(e={})=>J.list("survey_template_fields",e),get:e=>J.get("survey_template_fields",e),create:e=>J.create("survey_template_fields",e),update:(e,t)=>J.update("survey_template_fields",e,t),delete:e=>J.delete("survey_template_fields",e),getByTemplate:(e,t={})=>J.list("survey_template_fields",{...t,exact_filters:{template_id:e}})},surveys:{list:(e={})=>J.list("surveys",e),get:e=>J.get("surveys",e),create:e=>J.create("surveys",e),update:(e,t)=>J.update("surveys",e,t),delete:e=>J.delete("surveys",e)},teams:{list:(e={})=>J.list("teams",e),get:e=>J.get("teams",e),create:e=>J.create("teams",e),update:(e,t)=>J.update("teams",e,t),delete:e=>J.delete("teams",e)},teamMembers:{list:(e={})=>J.list("team_members",e),get:e=>J.get("team_members",e),create:e=>{const{team_id:t,user_id:r,userid:n,...a}=e??{},s={...a};t!==void 0&&(s.team_id=t);const o=r??(n!==void 0?Number(n):void 0);return o!==void 0&&!Number.isNaN(o)&&(s.user_id=o),J.create("team_members",s)},update:(e,t)=>J.update("team_members",e,t),delete:e=>J.delete("team_members",e),getByTeam:(e,t={})=>J.list("team_members",{...t,exact_filters:{team_id:e}})},tickets:{list:(e={})=>J.list("tickets",e),get:e=>J.get("tickets",e),create:e=>J.create("tickets",e),update:(e,t)=>J.update("tickets",e,t),delete:e=>J.delete("tickets",e),getByStatus:(e,t={})=>J.list("tickets",{...t,exact_filters:{status:e}}),getByStage:(e,t={})=>J.list("tickets",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>J.list("tickets",{...t,exact_filters:{assigned_to:e}})},Users:{list:(e={})=>J.list("Users",e),get:e=>J.get("Users",e),create:e=>J.create("Users",e),update:(e,t)=>J.update("Users",e,t),delete:e=>J.delete("Users",e)},whatsappConversations:{list:(e={})=>J.list("whatsapp_conversations",e),get:e=>J.get("whatsapp_conversations",e),create:e=>J.create("whatsapp_conversations",e),update:(e,t)=>J.update("whatsapp_conversations",e,t),delete:e=>J.delete("whatsapp_conversations",e),getByLead:(e,t={})=>J.list("whatsapp_conversations",{...t,exact_filters:{lead_id:e}}),getByUser:(e,t={})=>J.list("whatsapp_conversations",{...t,exact_filters:{user_id:e}})},whatsappMessages:{list:(e={})=>J.list("whatsapp_messages",e),get:e=>J.get("whatsapp_messages",e),create:e=>J.create("whatsapp_messages",e),update:(e,t)=>J.update("whatsapp_messages",e,t),delete:e=>J.delete("whatsapp_messages",e),getByConversation:(e,t={})=>J.list("whatsapp_messages",{...t,exact_filters:{conversation_id:e}})}};let pS=null,Vf=null;async function wT(){return pS||Vf||(Vf=J.permissions.list().then(e=>{const t=e.data||[];return pS=t,Vf=null,t}).catch(e=>(Vf=null,console.error("Failed to fetch permissions:",e),[])),Vf)}const mB=x.createContext(void 0),Bne=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[s,o]=x.useState(!0);x.useEffect(()=>{(()=>{try{const h=localStorage.getItem("authToken"),m=localStorage.getItem("authUser");if(h&&m){const g=JSON.parse(m);if(g&&g.role&&(g.role=g.role.toLowerCase()),!g.permissions_permissions_Name)if(g.profile&&g.profile.permissions_permissions_Name)g.permissions_permissions_Name=g.profile.permissions_permissions_Name;else if(g.profile&&g.profile.permissions){const p=g.profile.permissions,v={1:"admin",2:"manager",3:"employee",4:"team_leader",5:"partner_employee",6:"partner_leader"};v[p]&&(g.permissions_permissions_Name=v[p],g.role=v[p])}else g.isAdmin===1&&(g.permissions_permissions_Name="admin",g.role="admin");a(h),r(g)}}catch(h){console.error("Failed to parse stored auth data:",h),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}finally{o(!1)}})()},[]);const l=x.useCallback(async(f,h)=>{a(f),localStorage.setItem("authToken",f);try{await new Promise(v=>setTimeout(v,100)),await wT()}catch(v){console.warn("Failed to preload permissions:",v)}let m=h;try{let v=null;try{v=await J.list("Users",{exact_filters:{userid:h.id},pageSize:1})}catch{const b=await fetch(`https://api.middar.com/api/v1/Users/list?exact_filters=${encodeURIComponent(JSON.stringify({userid:h.id}))}&pageSize=1`,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});b.ok&&(v=await b.json())}v&&v.data&&v.data.length>0&&(m=v.data[0])}catch(v){console.warn("Failed to fetch full user profile, using basic login data:",v)}let g="employee";if(m.permissions_permissions_Name){const v=m.permissions_permissions_Name.toLowerCase();v==="admin"?g="admin":v==="manager"?g="manager":v==="employee"?g="employee":v==="team_leader"?g="team_leader":v==="partner_employee"?g="partner_employee":v==="partner_leader"?g="partner_leader":g="employee"}else m.isAdmin===1&&(g="admin");const p={id:m.userid||m.id||"unknown",email:m.Email||m.email||h.email||"",role:g,profile:m,userid:m.userid||0,permissions:m.permissions||0,permissions_permissions_Name:m.permissions_permissions_Name||"",Employee:m.Employee||0,AccountNumber:m.AccountNumber||null,mobile:m.mobile||null,Owner:m.Owner||0,Email_v:m.Email_v||0,IsActive:m.IsActive||0,user_pasword:m.user_pasword||"",name:m.name||h.name||"",Email:m.Email||m.email||h.email||"",pin:m.pin||null,isAllBranches:m.isAllBranches||0,Safe:m.Safe||0,reset_code:m.reset_code||null,reset_expires:m.reset_expires||"",reset_used:m.reset_used||0,isAdmin:m.isAdmin||0};r(p),localStorage.setItem("authUser",JSON.stringify(p)),await new Promise(v=>setTimeout(v,50))},[]),c=x.useCallback(()=>{a(null),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")},[]),u=x.useCallback(f=>!t||!t.role?!1:f.includes(t.role),[t]),d=x.useMemo(()=>({user:t,token:n,isAuthenticated:!!t&&!!n,loading:s,login:l,logout:c,hasRole:u}),[t,n,s,l,c,u]);return i.jsx(mB.Provider,{value:d,children:e})},hr=()=>{const e=x.useContext(mB);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},pB=x.createContext(void 0),Une=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],zne=({children:e})=>{const[t,r]=x.useState(zr.language||"ar"),[n,a]=x.useState(qt());x.useEffect(()=>{const l=c=>{r(c),a(qt())};return zr.on("languageChanged",l),()=>{zr.off("languageChanged",l)}},[]);const o={currentLanguage:t,changeLanguage:async l=>{try{await zr.changeLanguage(l),r(l),a(qt())}catch(c){console.error("Failed to change language:",c)}},isRTL:n,languages:Une};return i.jsx(pB.Provider,{value:o,children:e})},Ma=()=>{const e=x.useContext(pB);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},gB=x.createContext(void 0);function Vne({children:e}){const[t,r]=x.useState([]);return i.jsx(gB.Provider,{value:{breadcrumbs:t,setBreadcrumbs:r},children:e})}function Iv(){const e=x.useContext(gB);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var R1=["light","dark"],jT="(prefers-color-scheme: dark)",Wne=typeof window>"u",ST=x.createContext(void 0),Hne={setTheme:e=>{},themes:[]},qne=()=>{var e;return(e=x.useContext(ST))!=null?e:Hne},vB=e=>x.useContext(ST)?e.children:x.createElement(Kne,{...e}),Gne=["light","dark"],Kne=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=Gne,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=x.useState(()=>oR(a,o)),[m,g]=x.useState(()=>oR(a)),p=c?Object.values(c):s,v=x.useCallback(j=>{let w=j;if(!w)return;j==="system"&&r&&(w=lR());let N=c?c[w]:w,S=t?Xne():null,k=document.documentElement;if(l==="class"?(k.classList.remove(...p),N&&k.classList.add(N)):N?k.setAttribute(l,N):k.removeAttribute(l),n){let C=R1.includes(o)?o:null,T=R1.includes(w)?w:C;k.style.colorScheme=T}S==null||S()},[]),y=x.useCallback(j=>{let w=typeof j=="function"?j(j):j;h(w);try{localStorage.setItem(a,w)}catch{}},[e]),b=x.useCallback(j=>{let w=lR(j);g(w),f==="system"&&r&&!e&&v("system")},[f,e]);x.useEffect(()=>{let j=window.matchMedia(jT);return j.addListener(b),b(j),()=>j.removeListener(b)},[b]),x.useEffect(()=>{let j=w=>{if(w.key!==a)return;let N=w.newValue||o;y(N)};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[y]),x.useEffect(()=>{v(e??f)},[e,f]);let _=x.useMemo(()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...s,"system"]:s,systemTheme:r?m:void 0}),[f,y,e,m,r,s]);return x.createElement(ST.Provider,{value:_},x.createElement(Yne,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:o,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},Yne=x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?R1.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let y=o?o[g]:g,b=p?g+"|| ''":`'${y}'`,_="";return a&&v&&!p&&R1.includes(g)&&(_+=`d.style.colorScheme = '${g}';`),r==="class"?p||y?_+=`c.add(${b})`:_+="null":y&&(_+=`d[s](n,${b})`),_},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${jT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),oR=(e,t)=>{if(Wne)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Xne=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},lR=e=>(e||(e=window.matchMedia(jT)),e.matches?"dark":"light");/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xB=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...Jne,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:xB("lucide",a),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(Zne,{ref:s,iconNode:t,className:xB(`lucide-${Qne(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=He("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=He("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=He("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=He("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=He("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=He("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=He("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=He("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=He("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=He("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=He("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=He("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=He("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=He("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=He("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=He("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=He("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=He("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=He("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=He("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=He("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=He("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=He("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=He("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=He("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=He("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=He("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=He("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=He("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=He("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=He("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=He("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=He("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=He("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=He("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=He("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=He("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=He("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=He("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=He("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=He("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=He("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=He("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=He("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=He("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=He("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=He("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=He("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=He("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=He("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=He("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=He("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=He("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=He("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=He("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=He("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=He("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=He("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=He("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=He("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=He("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=He("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=He("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=He("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=He("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=He("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=He("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=He("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=He("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=He("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=He("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=He("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=He("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=He("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=He("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=He("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=He("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function CB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=CB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Mt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=CB(e))&&(n&&(n+=" "),n+=t);return n}const kT="-",Oae=e=>{const t=Rae(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(kT);return l[0]===""&&l.length!==1&&l.shift(),EB(l,t)||Dae(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},EB=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?EB(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(kT);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},gR=/^\[(.+)\]$/,Dae=e=>{if(gR.test(e)){const t=gR.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Rae=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Fae(Object.entries(e.classGroups),r).forEach(([s,o])=>{XN(o,n,s,t)}),n},XN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:vR(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Mae(a)){XN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{XN(o,vR(t,s),r,n)})})},vR=(e,t)=>{let r=e;return t.split(kT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Mae=e=>e.isThemeGetter,Fae=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,Iae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},TB="!",Lae=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(TB),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},$ae=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Bae=e=>({cache:Iae(e.cacheSize),parseClassName:Lae(e),...Oae(e)}),Uae=/\s+/,zae=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(Uae);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=$ae(d).join(":"),y=f?v+TB:v,b=y+p;if(s.includes(b))continue;s.push(b);const _=a(p,g);for(let j=0;j<_.length;++j){const w=_[j];s.push(y+w)}l=u+(l.length>0?" "+l:l)}return l};function Vae(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=AB(t))&&(n&&(n+=" "),n+=r);return n}const AB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=AB(e[n]))&&(r&&(r+=" "),r+=t);return r};function Wae(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Bae(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=zae(c,r);return a(c,d),d}return function(){return s(Vae.apply(null,arguments))}}const Pr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},PB=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hae=/^\d+\/\d+$/,qae=new Set(["px","full","screen"]),Gae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Yae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Xae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dl=e=>Lh(e)||qae.has(e)||Hae.test(e),Fc=e=>mp(e,"length",sse),Lh=e=>!!e&&!Number.isNaN(Number(e)),gS=e=>mp(e,"number",Lh),Qp=e=>!!e&&Number.isInteger(Number(e)),Jae=e=>e.endsWith("%")&&Lh(e.slice(0,-1)),Lt=e=>PB.test(e),Ic=e=>Gae.test(e),Zae=new Set(["length","size","percentage"]),ese=e=>mp(e,Zae,OB),tse=e=>mp(e,"position",OB),rse=new Set(["image","url"]),nse=e=>mp(e,rse,ose),ase=e=>mp(e,"",ise),Jp=()=>!0,mp=(e,t,r)=>{const n=PB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},sse=e=>Kae.test(e)&&!Yae.test(e),OB=()=>!1,ise=e=>Xae.test(e),ose=e=>Qae.test(e),lse=()=>{const e=Pr("colors"),t=Pr("spacing"),r=Pr("blur"),n=Pr("brightness"),a=Pr("borderColor"),s=Pr("borderRadius"),o=Pr("borderSpacing"),l=Pr("borderWidth"),c=Pr("contrast"),u=Pr("grayscale"),d=Pr("hueRotate"),f=Pr("invert"),h=Pr("gap"),m=Pr("gradientColorStops"),g=Pr("gradientColorStopPositions"),p=Pr("inset"),v=Pr("margin"),y=Pr("opacity"),b=Pr("padding"),_=Pr("saturate"),j=Pr("scale"),w=Pr("sepia"),N=Pr("skew"),S=Pr("space"),k=Pr("translate"),C=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Lt,t],A=()=>[Lt,t],V=()=>["",Dl,Fc],H=()=>["auto",Lh,Lt],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Lt],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Lh,Lt];return{cacheSize:500,separator:":",theme:{colors:[Jp],spacing:[Dl,Fc],blur:["none","",Ic,Lt],brightness:Y(),borderColor:[e],borderRadius:["none","","full",Ic,Lt],borderSpacing:A(),borderWidth:V(),contrast:Y(),grayscale:D(),hueRotate:Y(),invert:D(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[Jae,Fc],inset:O(),margin:O(),opacity:Y(),padding:A(),saturate:Y(),scale:Y(),sepia:D(),skew:Y(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[Ic]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Lt]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qp,Lt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Qp,Lt]}],"grid-cols":[{"grid-cols":[Jp]}],"col-start-end":[{col:["auto",{span:["full",Qp,Lt]},Lt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Jp]}],"row-start-end":[{row:["auto",{span:[Qp,Lt]},Lt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,t]}],"min-w":[{"min-w":[Lt,t,"min","max","fit"]}],"max-w":[{"max-w":[Lt,t,"none","full","min","max","fit","prose",{screen:[Ic]},Ic]}],h:[{h:[Lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ic,Fc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gS]}],"font-family":[{font:[Jp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",Lh,gS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dl,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dl,Fc]}],"underline-offset":[{"underline-offset":["auto",Dl,Lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),tse]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ese]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nse]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:F()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Dl,Lt]}],"outline-w":[{outline:[Dl,Fc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Dl,Fc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ic,ase]}],"shadow-color":[{shadow:[Jp]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ic,Lt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Qp,Lt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Dl,Fc,gS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cse=Wae(lse);function ge(...e){return cse(Mt(e))}const use={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12","2xl":"h-16 w-16"};function Pa({message:e="Loading...",className:t="",size:r="xl",fullScreen:n=!1,showProgress:a=!1,progress:s=0}){const o=i.jsxs("div",{className:ge("flex flex-col items-center justify-center space-y-4",n?"min-h-screen":"",t),children:[i.jsx(U_,{className:ge("animate-spin text-primary",use[r])}),a&&i.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${s}%`}})}),e&&!a&&i.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium",children:e}),e&&a&&i.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]});return n?i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:o}):o}const Qx=({children:e,allowedRoles:t,requireAuth:r=!0,denyPermissionIds:n=[]})=>{var f,h;const a=jl(),{user:s,loading:o,hasRole:l}=hr(),c=x.useMemo(()=>t?l(t):!0,[t,l]);if(x.useMemo(()=>({loading:o,user:s?{id:s.id,email:s.email,role:s.role}:null,hasRequiredRole:c}),[o,s,c]),console.log("[ProtectedRoute]",{path:a.pathname,loading:o,hasUser:!!s,requireAuth:r,hasRequiredRole:c,userRole:s==null?void 0:s.role}),o)return console.log("[ProtectedRoute] Showing loading spinner"),i.jsx(Pa,{size:"xl",fullScreen:!0});if(r&&!s)return console.log("[ProtectedRoute] No user, redirecting to login"),i.jsx(Wy,{to:"/login",state:{from:a},replace:!0});const u=(s==null?void 0:s.permissions)||((f=s==null?void 0:s.profile)==null?void 0:f.permissions)||((h=s==null?void 0:s.profile)==null?void 0:h.permissions_ID),d=u!=null?Number(u):NaN;return n.length>0&&!Number.isNaN(d)&&n.includes(d)?(console.log("[ProtectedRoute] User permission denied:",d),i.jsx(Wy,{to:"/unauthorized",replace:!0})):t&&!c?(console.log("[ProtectedRoute] User does not have required role"),i.jsx(Wy,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),i.jsx(i.Fragment,{children:e}))};function xR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cc(...e){return t=>{let r=!1;const n=e.map(a=>{const s=xR(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():xR(e[a],null)}}}}function Bt(...e){return x.useCallback(cc(...e),e)}function Mu(e){const t=dse(e),r=x.forwardRef((n,a)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(hse);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var DB=Mu("Slot");function dse(e){const t=x.forwardRef((r,n)=>{const{children:a,...s}=r;if(x.isValidElement(a)){const o=pse(a),l=mse(s,a.props);return a.type!==x.Fragment&&(l.ref=n?cc(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RB=Symbol("radix.slottable");function fse(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=RB,t}function hse(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RB}function mse(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function pse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const yR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bR=Mt,$v=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return bR(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=yR(d)||yR(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...s,...l}[p]):{...s,...l}[p]===v})?[...u,f,h]:u},[]);return bR(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},bm=$v("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),le=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?DB:"button";return i.jsx(o,{className:ge(bm({variant:t,size:r,className:e})),ref:s,...a})});le.displayName="Button";const Be=x.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Be.displayName="Input";var gse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ft=gse.reduce((e,t)=>{const r=Mu(`Primitive.${t}`),n=x.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function MB(e,t){e&&dp.flushSync(()=>e.dispatchEvent(t))}var vse="Label",FB=x.forwardRef((e,t)=>i.jsx(ft.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));FB.displayName=vse;var IB=FB;const xse=$v("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=x.forwardRef(({className:e,...t},r)=>i.jsx(IB,{ref:r,className:ge(xse(),e),...t}));ze.displayName=IB.displayName;const et=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));et.displayName="Card";const $t=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ge("flex flex-col space-y-1.5 p-6",e),...t}));$t.displayName="CardHeader";const Jt=x.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));Jt.displayName="CardTitle";const yse=x.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));yse.displayName="CardDescription";const ct=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ge("p-6 pt-0",e),...t}));ct.displayName="CardContent";const LB=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ge("flex items-center p-6 pt-0",e),...t}));LB.displayName="CardFooter";const bse=1,_se=1e6;let vS=0;function wse(){return vS=(vS+1)%Number.MAX_SAFE_INTEGER,vS.toString()}const xS=new Map,_R=e=>{if(xS.has(e))return;const t=setTimeout(()=>{xS.delete(e),V0({type:"REMOVE_TOAST",toastId:e})},_se);xS.set(e,t)},jse=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,bse)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?_R(r):e.toasts.forEach(n=>{_R(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},qy=[];let Gy={toasts:[]};function V0(e){Gy=jse(Gy,e),qy.forEach(t=>{t(Gy)})}function Sse({...e}){const t=wse(),r=a=>V0({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>V0({type:"DISMISS_TOAST",toastId:t});return V0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Po(){const[e,t]=x.useState(Gy);return x.useEffect(()=>(qy.push(t),()=>{const r=qy.indexOf(t);r>-1&&qy.splice(r,1)}),[e]),{...e,toast:Sse,dismiss:r=>V0({type:"DISMISS_TOAST",toastId:r})}}const Nse=()=>{var b,_;const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,s]=x.useState("crmdb"),[o,l]=x.useState(!1),[c,u]=x.useState(!1),{login:d}=hr(),f=$s(),h=jl(),{t:m}=Rt(),{isRTL:g}=Ma(),{toast:p}=Po(),v=((_=(b=h.state)==null?void 0:b.from)==null?void 0:_.pathname)||"/dashboard",y=async j=>{if(j.preventDefault(),!e||!r){p({title:m("common.error","Error"),description:m("validation.fillAllFields","Please fill in all fields"),variant:"destructive"});return}l(!0);try{const w=await J.auth.login({email:e,password:r,company_code:a});if(w.serviceToken&&w.user)await d(w.serviceToken,w.user),p({title:m("common.success","Success"),description:m("auth.loginSuccess","Logged in successfully")}),f(v,{replace:!0});else throw new Error("Invalid response from server")}catch(w){console.error("Login error:",w);let N=m("auth.loginFailed","Failed to login. Please check your credentials.");w.message&&!w.message.includes("Unexpected token")&&(N=w.message),p({title:m("auth.loginFailedTitle","Login Failed"),description:N,variant:"destructive"})}finally{l(!1)}};return i.jsxs("div",{className:"w-full max-w-md mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg mb-4",children:i.jsx(Un,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:m("auth.welcomeBack","Welcome Back")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:m("auth.enterCredentials","Enter your credentials to access your account")})]}),i.jsx(et,{className:"border-0 shadow-xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm",children:i.jsxs("form",{onSubmit:y,children:[i.jsxs(ct,{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.emailOrUsername","Email / Username")}),i.jsx("div",{className:"relative",children:i.jsx(Be,{id:"email",type:"text",placeholder:m("auth.enterEmail","Enter your email"),value:e,onChange:j=>t(j.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${g?"text-right pr-10 pl-3":"text-left"}`,autoComplete:"email"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("forms.password","Password")}),i.jsxs("div",{className:"relative",children:[i.jsx(Be,{id:"password",type:c?"text":"password",placeholder:m("auth.enterPassword","Enter your password"),value:r,onChange:j=>n(j.target.value),disabled:o,className:`pl-10 pr-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${g?"text-right pr-16 pl-3":"text-left"}`,autoComplete:"current-password"}),i.jsx("button",{type:"button",onClick:()=>u(!c),className:`absolute ${g?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors`,disabled:o,children:c?i.jsx(fae,{className:"h-4 w-4"}):i.jsx(ti,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"companyCode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.companyCode","Company Code")}),i.jsx("div",{className:"relative",children:i.jsx(Be,{id:"companyCode",type:"text",value:a,onChange:j=>s(j.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${g?"text-right pr-3 pl-10":"text-left"}`,placeholder:"crmdb"})})]})]}),i.jsx(LB,{className:"px-8 pb-8",children:i.jsx(le,{type:"submit",className:"w-full h-12 text-base font-medium shadow-lg hover:shadow-xl transition-all duration-200 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx(U_,{className:"mr-2 h-4 w-4 animate-spin"}),m("auth.signingIn","Logging in...")]}):i.jsx(i.Fragment,{children:m("auth.signInButton","Login")})})})]})}),i.jsxs("div",{className:"mt-6 text-center space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m("auth.noAccount","Don't have an account?")," ",i.jsx("button",{onClick:()=>f("/signup"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.signUp","Sign up")})]}),i.jsx("button",{onClick:()=>{p({title:m("auth.forgotPassword","Forgot Password"),description:m("auth.forgotPasswordDesc","Please contact your administrator to reset your password.")})},className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.forgotPassword","Forgot your password?")})]})]})},kse=()=>{const[e,t]=x.useState(!1);hr();const r=$s(),{t:n}=Rt();return i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:n("auth.createAccount")}),i.jsx("p",{className:"text-muted-foreground mt-2",children:n("auth.signUpToGetStarted")})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.chooseAccountTypeSignUp")}),e&&i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.redirectingToGoogle")})]}),i.jsxs("div",{className:"text-center text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[n("auth.alreadyHaveAccount")," "]}),i.jsx(le,{variant:"link",className:"p-0",onClick:()=>r("/login"),children:n("auth.signIn")})]})]})},F1=()=>{const{user:e}=hr(),t=e==null?void 0:e.permissions,r=m=>{var p;return t===1?!0:((p={1:[],2:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_templates_INSERT","survey_templates_UPDATE","survey_templates_DELETE","survey_template_fields_SELECT","survey_template_fields_INSERT","survey_template_fields_UPDATE","survey_template_fields_DELETE","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE","teams_SELECT","teams_INSERT","teams_UPDATE","teams_DELETE","fr_can_view_app_settings","system_update","update_permissions"],3:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],4:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],5:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],6:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"]}[t||0])==null?void 0:p.includes(m))||!1};return{user:e,userPermissionId:t,hasPermission:r,canView:m=>r(`${m}_SELECT`),canEdit:m=>r(`${m}_UPDATE`),canDelete:m=>r(`${m}_DELETE`),canCreate:m=>r(`${m}_INSERT`),canViewAllData:()=>t===1||t===2,canViewOwnData:()=>t===3||t===4||t===5||t===6,canViewTeamData:()=>t===4,canUpdateSystem:()=>r("system_update"),canManageUsers:()=>r("update_permissions"),canAccessSystem:()=>{const m=r("fr_can_view_app_settings");return console.log("canAccessSystem check:",{userPermissionId:t,result:m}),m}}},$B=x.createContext(void 0),Cse=({children:e})=>{const[t,r]=x.useState(()=>localStorage.getItem("crm_company_name")||"Middar CRM"),[n,a]=x.useState(()=>localStorage.getItem("crm_primary_color")||"#2563eb"),[s,o]=x.useState(()=>localStorage.getItem("crm_logo_url")||""),l=h=>{r(h),localStorage.setItem("crm_company_name",h)},c=h=>{a(h),localStorage.setItem("crm_primary_color",h),d(h)},u=h=>{o(h),localStorage.setItem("crm_logo_url",h)},d=h=>{const m=f(h);m&&(document.documentElement.style.setProperty("--primary",`${m.h} ${m.s}% ${m.l}%`),document.documentElement.style.setProperty("--ring",`${m.h} ${m.s}% ${m.l}%`))};function f(h){let m=0,g=0,p=0;h.length===4?(m=parseInt(h[1]+h[1],16),g=parseInt(h[2]+h[2],16),p=parseInt(h[3]+h[3],16)):h.length===7&&(m=parseInt(h.substring(1,3),16),g=parseInt(h.substring(3,5),16),p=parseInt(h.substring(5,7),16)),m/=255,g/=255,p/=255;const v=Math.max(m,g,p),y=Math.min(m,g,p);let b=0,_,j=(v+y)/2;if(v===y)b=_=0;else{const w=v-y;switch(_=j>.5?w/(2-v-y):w/(v+y),v){case m:b=(g-p)/w+(g<p?6:0);break;case g:b=(p-m)/w+2;break;case p:b=(m-g)/w+4;break}b/=6}return{h:Math.round(b*360),s:Math.round(_*100),l:Math.round(j*100)}}return x.useEffect(()=>{d(n)},[]),i.jsx($B.Provider,{value:{companyName:t,setCompanyName:l,primaryColor:n,setPrimaryColor:c,logoUrl:s,setLogoUrl:u},children:e})},BB=()=>{const e=x.useContext($B);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e};function Ese(e,t){const r=x.createContext(t),n=s=>{const{children:o,...l}=s,c=x.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function gs(e,t=[]){let r=[];function n(s,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:m,...g}=f,p=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Tse(a,...t)]}function Tse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function zn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var yn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function Ase(){return X6.useSyncExternalStore(Pse,()=>!0,()=>!1)}function Pse(){return()=>{}}var CT="Avatar",[Ose,RHe]=gs(CT),[Dse,UB]=Ose(CT),zB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=x.useState("idle");return i.jsx(Dse,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(ft.span,{...n,ref:t})})});zB.displayName=CT;var VB="AvatarImage",WB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=UB(VB,r),l=Rse(n,s),c=zn(u=>{a(u),o.onImageLoadingStatusChange(u)});return yn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(ft.img,{...s,ref:t,src:n}):null});WB.displayName=VB;var HB="AvatarFallback",qB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=UB(HB,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(ft.span,{...a,ref:t}):null});qB.displayName=HB;function wR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Rse(e,{referrerPolicy:t,crossOrigin:r}){const n=Ase(),a=x.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=x.useState(()=>wR(s,e));return yn(()=>{l(wR(s,e))},[s,e]),yn(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),o}var GB=zB,KB=WB,YB=qB;const Fs=x.forwardRef(({className:e,...t},r)=>i.jsx(GB,{ref:r,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Fs.displayName=GB.displayName;const No=x.forwardRef(({className:e,...t},r)=>i.jsx(KB,{ref:r,className:ge("aspect-square h-full w-full",e),...t}));No.displayName=KB.displayName;const Is=x.forwardRef(({className:e,...t},r)=>i.jsx(YB,{ref:r,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Is.displayName=YB.displayName;const Mse=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:gae},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ba},{labelKey:"navigation.reports",path:"/reports",roles:["admin","manager","team_leader"],icon:_B}]},{label:"sales",items:[{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Un},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:$d},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Un}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:z0},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:th},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ba}]},{label:"communication",items:[{labelKey:"navigation.whatsapp",path:"/whatsapp",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Ru},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:Ru},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:M1}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:Eae},{labelKey:"navigation.settings",path:"/settings",roles:["admin","manager"],icon:z_},{labelKey:"navigation.permissions",path:"/permissions",roles:["admin"],icon:M1}]}];function yS({onNavigate:e}={}){var l,c,u;const t=jl(),{user:r}=hr(),{userPermissionId:n}=F1(),{canAccessSystem:a}=F1(),{t:s}=Rt(),{companyName:o}=BB();return i.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[i.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"text-2xl font-bold text-primary-foreground",children:o})})}),i.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:i.jsx("nav",{className:"space-y-6",children:Mse.map(d=>{if(d.label==="system"&&!a)return null;const f=d.items.filter(h=>r&&h.roles&&h.roles.some(m=>n==={admin:1,manager:2,employee:3,team_leader:4,partner_employee:5,partner_leader:6}[m]));return f.length===0?null:i.jsxs("div",{children:[i.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:s(`navigation.${d.label} Group`,d.label)}),i.jsx("div",{className:"space-y-1",children:f.map(h=>{const m=t.pathname===h.path,g=h.icon;return i.jsxs(VN,{to:h.path,onClick:p=>{m&&p.preventDefault(),e==null||e()},className:ge("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",m?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[m&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),i.jsx(g,{className:ge("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",m?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),i.jsx("span",{className:"flex-1 relative z-10",children:s(h.labelKey)})]},h.path)})})]},d.label)})})}),i.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[i.jsx(Fs,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:i.jsx(Is,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(l=r==null?void 0:r.email)==null?void 0:l.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((c=r==null?void 0:r.profile)==null?void 0:c.name)||(r==null?void 0:r.email)}),i.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(u=r==null?void 0:r.role)==null?void 0:u.replace("_"," ")]})]}),i.jsx(L_,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function Fse(){const e=jl(),{t}=Rt(),r=e.pathname.split("/").filter(s=>s);if(r.length===0)return null;const n={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},a=s=>n[s]?t(n[s]):/^\d+$/.test(s)||s.length>20?s:s.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return i.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(VN,{to:"/",className:"hover:text-foreground transition-colors",children:t("navigation.home")}),r.map((s,o)=>{const l=`/${r.slice(0,o+1).join("/")}`,c=o===r.length-1,u=a(s);return i.jsxs("div",{className:"flex items-center",children:[i.jsx(L_,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),c?i.jsx("span",{className:"text-foreground font-medium",children:u}):i.jsx(VN,{to:l,className:"hover:text-foreground transition-colors",children:u})]},s)})]})}function QN(e,[t,r]){return Math.min(r,Math.max(t,e))}function Je(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function ET(e){const t=e+"CollectionProvider",[r,n]=gs(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:y}=p,b=ie.useRef(null),_=ie.useRef(new Map).current;return i.jsx(a,{scope:v,itemMap:_,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Mu(l),u=ie.forwardRef((p,v)=>{const{scope:y,children:b}=p,_=s(l,y),j=Bt(v,_.collectionRef);return i.jsx(c,{ref:j,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Mu(d),m=ie.forwardRef((p,v)=>{const{scope:y,children:b,..._}=p,j=ie.useRef(null),w=Bt(v,j),N=s(d,y);return ie.useEffect(()=>(N.itemMap.set(j,{ref:j,..._}),()=>void N.itemMap.delete(j))),i.jsx(h,{[f]:"",ref:w,children:b})});m.displayName=d;function g(p){const v=s(e+"CollectionConsumer",p);return ie.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,S)=>_.indexOf(N.ref.current)-_.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}var Ise=x.createContext(void 0);function Bv(e){const t=x.useContext(Ise);return e||t||"ltr"}function Lse(e,t=globalThis==null?void 0:globalThis.document){const r=zn(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var $se="DismissableLayer",JN="dismissableLayer.update",Bse="dismissableLayer.pointerDownOutside",Use="dismissableLayer.focusOutside",jR,XB=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uv=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(XB),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),g=Bt(t,S=>f(S)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),b=d?p.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=y,w=Wse(S=>{const k=S.target,C=[...u.branches].some(T=>T.contains(k));!j||C||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=Hse(S=>{const k=S.target;[...u.branches].some(T=>T.contains(k))||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return Lse(S=>{b===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),SR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=jR)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),SR())},[d,u]),x.useEffect(()=>{const S=()=>m({});return document.addEventListener(JN,S),()=>document.removeEventListener(JN,S)},[]),i.jsx(ft.div,{...c,ref:g,style:{pointerEvents:_?j?"auto":"none":void 0,...e.style},onFocusCapture:Je(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Je(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Je(e.onPointerDownCapture,w.onPointerDownCapture)})});Uv.displayName=$se;var zse="DismissableLayerBranch",Vse=x.forwardRef((e,t)=>{const r=x.useContext(XB),n=x.useRef(null),a=Bt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(ft.div,{...e,ref:a})});Vse.displayName=zse;function Wse(e,t=globalThis==null?void 0:globalThis.document){const r=zn(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){QB(Bse,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Hse(e,t=globalThis==null?void 0:globalThis.document){const r=zn(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&QB(Use,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function SR(){const e=new CustomEvent(JN);document.dispatchEvent(e)}function QB(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?MB(a,s):a.dispatchEvent(s)}var bS=0;function V_(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??NR()),document.body.insertAdjacentElement("beforeend",e[1]??NR()),bS++,()=>{bS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),bS--}},[])}function NR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _S="focusScope.autoFocusOnMount",wS="focusScope.autoFocusOnUnmount",kR={bubbles:!1,cancelable:!0},qse="FocusScope",zv=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=zn(a),d=zn(s),f=x.useRef(null),h=Bt(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(_){if(m.paused||!l)return;const j=_.target;l.contains(j)?f.current=j:Bc(f.current,{select:!0})},v=function(_){if(m.paused||!l)return;const j=_.relatedTarget;j!==null&&(l.contains(j)||Bc(f.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const w of _)w.removedNodes.length>0&&Bc(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){ER.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(_S,kR);l.addEventListener(_S,u),l.dispatchEvent(y),y.defaultPrevented||(Gse(Jse(JB(l)),{select:!0}),document.activeElement===p&&Bc(l))}return()=>{l.removeEventListener(_S,u),setTimeout(()=>{const y=new CustomEvent(wS,kR);l.addEventListener(wS,d),l.dispatchEvent(y),y.defaultPrevented||Bc(p??document.body,{select:!0}),l.removeEventListener(wS,d),ER.remove(m)},0)}}},[l,u,d,m]);const g=x.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const b=p.currentTarget,[_,j]=Kse(b);_&&j?!p.shiftKey&&y===j?(p.preventDefault(),r&&Bc(_,{select:!0})):p.shiftKey&&y===_&&(p.preventDefault(),r&&Bc(j,{select:!0})):y===b&&p.preventDefault()}},[r,n,m.paused]);return i.jsx(ft.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});zv.displayName=qse;function Gse(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Bc(n,{select:t}),document.activeElement!==r)return}function Kse(e){const t=JB(e),r=CR(t,e),n=CR(t.reverse(),e);return[r,n]}function JB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function CR(e,t){for(const r of e)if(!Yse(r,{upTo:t}))return r}function Yse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Xse(e){return e instanceof HTMLInputElement&&"select"in e}function Bc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Xse(e)&&t&&e.select()}}var ER=Qse();function Qse(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=TR(e,t),e.unshift(t)},remove(t){var r;e=TR(e,t),(r=e[0])==null||r.resume()}}}function TR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Jse(e){return e.filter(t=>t.tagName!=="A")}var Zse=gE[" useId ".trim().toString()]||(()=>{}),eie=0;function ta(e){const[t,r]=x.useState(Zse());return yn(()=>{r(n=>n??String(eie++))},[e]),t?`radix-${t}`:""}const tie=["top","right","bottom","left"],Fu=Math.min,Ys=Math.max,I1=Math.round,Jx=Math.floor,ul=e=>({x:e,y:e}),rie={left:"right",right:"left",bottom:"top",top:"bottom"},nie={start:"end",end:"start"};function ZN(e,t,r){return Ys(e,Fu(t,r))}function uc(e,t){return typeof e=="function"?e(t):e}function dc(e){return e.split("-")[0]}function pp(e){return e.split("-")[1]}function TT(e){return e==="x"?"y":"x"}function AT(e){return e==="y"?"height":"width"}const aie=new Set(["top","bottom"]);function sl(e){return aie.has(dc(e))?"y":"x"}function PT(e){return TT(sl(e))}function sie(e,t,r){r===void 0&&(r=!1);const n=pp(e),a=PT(e),s=AT(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=L1(o)),[o,L1(o)]}function iie(e){const t=L1(e);return[ek(e),t,ek(t)]}function ek(e){return e.replace(/start|end/g,t=>nie[t])}const AR=["left","right"],PR=["right","left"],oie=["top","bottom"],lie=["bottom","top"];function cie(e,t,r){switch(e){case"top":case"bottom":return r?t?PR:AR:t?AR:PR;case"left":case"right":return t?oie:lie;default:return[]}}function uie(e,t,r,n){const a=pp(e);let s=cie(dc(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(ek)))),s}function L1(e){return e.replace(/left|right|bottom|top/g,t=>rie[t])}function die(e){return{top:0,right:0,bottom:0,left:0,...e}}function ZB(e){return typeof e!="number"?die(e):{top:e,right:e,bottom:e,left:e}}function $1(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function OR(e,t,r){let{reference:n,floating:a}=e;const s=sl(t),o=PT(t),l=AT(o),c=dc(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(pp(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const fie=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=OR(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:y}=l[p],{x:b,y:_,data:j,reset:w}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=_??f,m={...m,[v]:{...m[v],...j}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(u=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):w.rects),{x:d,y:f}=OR(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Pg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=uc(t,e),g=ZB(m),v=l[h?f==="floating"?"reference":"floating":f],y=$1(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},w=$1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:_,strategy:c}):b);return{top:(y.top-w.top+g.top)/j.y,bottom:(w.bottom-y.bottom+g.bottom)/j.y,left:(y.left-w.left+g.left)/j.x,right:(w.right-y.right+g.right)/j.x}}const hie=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=uc(e,t)||{};if(u==null)return{};const f=ZB(d),h={x:r,y:n},m=PT(a),g=AT(m),p=await o.getDimensions(u),v=m==="y",y=v?"top":"left",b=v?"bottom":"right",_=v?"clientHeight":"clientWidth",j=s.reference[g]+s.reference[m]-h[m]-s.floating[g],w=h[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[_]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[_]||s.floating[g]);const k=j/2-w/2,C=S/2-p[g]/2-1,T=Fu(f[y],C),O=Fu(f[b],C),A=T,V=S-p[g]-O,H=S/2-p[g]/2+k,M=ZN(A,H,V),F=!c.arrow&&pp(a)!=null&&H!==M&&s.reference[g]/2-(H<A?T:O)-p[g]/2<0,L=F?H<A?H-A:H-V:0;return{[m]:h[m]+L,data:{[m]:M,centerOffset:H-M-L,...F&&{alignmentOffset:L}},reset:F}}}),mie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=uc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=dc(a),b=sl(l),_=dc(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=h||(_||!p?[L1(l)]:iie(l)),N=g!=="none";!h&&N&&w.push(...uie(l,p,g,j));const S=[l,...w],k=await Pg(t,v),C=[];let T=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[y]),f){const H=sie(a,o,j);C.push(k[H[0]],k[H[1]])}if(T=[...T,{placement:a,overflows:C}],!C.every(H=>H<=0)){var O,A;const H=(((O=s.flip)==null?void 0:O.index)||0)+1,M=S[H];if(M&&(!(f==="alignment"?b!==sl(M):!1)||T.every(B=>B.overflows[0]>0&&sl(B.placement)===b)))return{data:{index:H,overflows:T},reset:{placement:M}};let F=(A=T.filter(L=>L.overflows[0]<=0).sort((L,B)=>L.overflows[1]-B.overflows[1])[0])==null?void 0:A.placement;if(!F)switch(m){case"bestFit":{var V;const L=(V=T.filter(B=>{if(N){const D=sl(B.placement);return D===b||D==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(D=>D>0).reduce((D,q)=>D+q,0)]).sort((B,D)=>B[1]-D[1])[0])==null?void 0:V[0];L&&(F=L);break}case"initialPlacement":F=l;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function DR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function RR(e){return tie.some(t=>e[t]>=0)}const pie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=uc(e,t);switch(n){case"referenceHidden":{const s=await Pg(t,{...a,elementContext:"reference"}),o=DR(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:RR(o)}}}case"escaped":{const s=await Pg(t,{...a,altBoundary:!0}),o=DR(s,r.floating);return{data:{escapedOffsets:o,escaped:RR(o)}}}default:return{}}}}},e9=new Set(["left","top"]);async function gie(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=dc(r),l=pp(r),c=sl(r)==="y",u=e9.has(o)?-1:1,d=s&&c?-1:1,f=uc(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const vie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await gie(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},xie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=uc(e,t),u={x:r,y:n},d=await Pg(t,c),f=sl(dc(a)),h=TT(f);let m=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=m+d[v],_=m-d[y];m=ZN(b,m,_)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=g+d[v],_=g-d[y];g=ZN(b,g,_)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[f]:o}}}}}},yie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=uc(e,t),d={x:r,y:n},f=sl(a),h=TT(f);let m=d[h],g=d[f];const p=uc(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const _=h==="y"?"height":"width",j=s.reference[h]-s.floating[_]+v.mainAxis,w=s.reference[h]+s.reference[_]-v.mainAxis;m<j?m=j:m>w&&(m=w)}if(u){var y,b;const _=h==="y"?"width":"height",j=e9.has(dc(a)),w=s.reference[f]-s.floating[_]+(j&&((y=o.offset)==null?void 0:y[f])||0)+(j?0:v.crossAxis),N=s.reference[f]+s.reference[_]+(j?0:((b=o.offset)==null?void 0:b[f])||0)-(j?v.crossAxis:0);g<w?g=w:g>N&&(g=N)}return{[h]:m,[f]:g}}}},bie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=uc(e,t),d=await Pg(t,u),f=dc(a),h=pp(a),m=sl(a)==="y",{width:g,height:p}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const b=p-d.top-d.bottom,_=g-d.left-d.right,j=Fu(p-d[v],b),w=Fu(g-d[y],_),N=!t.middlewareData.shift;let S=j,k=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=b),N&&!h){const T=Ys(d.left,0),O=Ys(d.right,0),A=Ys(d.top,0),V=Ys(d.bottom,0);m?k=g-2*(T!==0||O!==0?T+O:Ys(d.left,d.right)):S=p-2*(A!==0||V!==0?A+V:Ys(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:S});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function W_(){return typeof window<"u"}function gp(e){return t9(e)?(e.nodeName||"").toLowerCase():"#document"}function ni(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Sl(e){var t;return(t=(t9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function t9(e){return W_()?e instanceof Node||e instanceof ni(e).Node:!1}function ko(e){return W_()?e instanceof Element||e instanceof ni(e).Element:!1}function gl(e){return W_()?e instanceof HTMLElement||e instanceof ni(e).HTMLElement:!1}function MR(e){return!W_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ni(e).ShadowRoot}const _ie=new Set(["inline","contents"]);function Vv(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Co(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!_ie.has(a)}const wie=new Set(["table","td","th"]);function jie(e){return wie.has(gp(e))}const Sie=[":popover-open",":modal"];function H_(e){return Sie.some(t=>{try{return e.matches(t)}catch{return!1}})}const Nie=["transform","translate","scale","rotate","perspective"],kie=["transform","translate","scale","rotate","perspective","filter"],Cie=["paint","layout","strict","content"];function OT(e){const t=DT(),r=ko(e)?Co(e):e;return Nie.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||kie.some(n=>(r.willChange||"").includes(n))||Cie.some(n=>(r.contain||"").includes(n))}function Eie(e){let t=Iu(e);for(;gl(t)&&!_m(t);){if(OT(t))return t;if(H_(t))return null;t=Iu(t)}return null}function DT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Tie=new Set(["html","body","#document"]);function _m(e){return Tie.has(gp(e))}function Co(e){return ni(e).getComputedStyle(e)}function q_(e){return ko(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Iu(e){if(gp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||MR(e)&&e.host||Sl(e);return MR(t)?t.host:t}function r9(e){const t=Iu(e);return _m(t)?e.ownerDocument?e.ownerDocument.body:e.body:gl(t)&&Vv(t)?t:r9(t)}function Og(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=r9(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=ni(a);if(s){const l=tk(o);return t.concat(o,o.visualViewport||[],Vv(a)?a:[],l&&r?Og(l):[])}return t.concat(a,Og(a,[],r))}function tk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function n9(e){const t=Co(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=gl(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=I1(r)!==s||I1(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function RT(e){return ko(e)?e:e.contextElement}function $h(e){const t=RT(e);if(!gl(t))return ul(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=n9(t);let o=(s?I1(r.width):r.width)/n,l=(s?I1(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Aie=ul(0);function a9(e){const t=ni(e);return!DT()||!t.visualViewport?Aie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Pie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ni(e)?!1:t}function rf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=RT(e);let o=ul(1);t&&(n?ko(n)&&(o=$h(n)):o=$h(e));const l=Pie(s,r,n)?a9(s):ul(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=ni(s),m=n&&ko(n)?ni(n):n;let g=h,p=tk(g);for(;p&&n&&m!==g;){const v=$h(p),y=p.getBoundingClientRect(),b=Co(p),_=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,j=y.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=_,u+=j,g=ni(p),p=tk(g)}}return $1({width:d,height:f,x:c,y:u})}function MT(e,t){const r=q_(e).scrollLeft;return t?t.left+r:rf(Sl(e)).left+r}function s9(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:MT(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function Oie(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=Sl(n),l=t?H_(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=ul(1);const d=ul(0),f=gl(n);if((f||!f&&!s)&&((gp(n)!=="body"||Vv(o))&&(c=q_(n)),gl(n))){const m=rf(n);u=$h(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!s?s9(o,c,!0):ul(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Die(e){return Array.from(e.getClientRects())}function Rie(e){const t=Sl(e),r=q_(e),n=e.ownerDocument.body,a=Ys(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ys(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+MT(e);const l=-r.scrollTop;return Co(n).direction==="rtl"&&(o+=Ys(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function Mie(e,t){const r=ni(e),n=Sl(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=DT();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}const Fie=new Set(["absolute","fixed"]);function Iie(e,t){const r=rf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=gl(e)?$h(e):ul(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function FR(e,t,r){let n;if(t==="viewport")n=Mie(e,r);else if(t==="document")n=Rie(Sl(e));else if(ko(t))n=Iie(t,r);else{const a=a9(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return $1(n)}function i9(e,t){const r=Iu(e);return r===t||!ko(r)||_m(r)?!1:Co(r).position==="fixed"||i9(r,t)}function Lie(e,t){const r=t.get(e);if(r)return r;let n=Og(e,[],!1).filter(l=>ko(l)&&gp(l)!=="body"),a=null;const s=Co(e).position==="fixed";let o=s?Iu(e):e;for(;ko(o)&&!_m(o);){const l=Co(o),c=OT(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&Fie.has(a.position)||Vv(o)&&!c&&i9(e,o))?n=n.filter(d=>d!==o):a=l,o=Iu(o)}return t.set(e,n),n}function $ie(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?H_(t)?[]:Lie(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=FR(t,d,a);return u.top=Ys(f.top,u.top),u.right=Fu(f.right,u.right),u.bottom=Fu(f.bottom,u.bottom),u.left=Ys(f.left,u.left),u},FR(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Bie(e){const{width:t,height:r}=n9(e);return{width:t,height:r}}function Uie(e,t,r){const n=gl(t),a=Sl(t),s=r==="fixed",o=rf(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=ul(0);function u(){c.x=MT(a)}if(n||!n&&!s)if((gp(t)!=="body"||Vv(a))&&(l=q_(t)),n){const m=rf(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?s9(a,l):ul(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function jS(e){return Co(e).position==="static"}function IR(e,t){if(!gl(e)||Co(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Sl(e)===r&&(r=r.ownerDocument.body),r}function o9(e,t){const r=ni(e);if(H_(e))return r;if(!gl(e)){let a=Iu(e);for(;a&&!_m(a);){if(ko(a)&&!jS(a))return a;a=Iu(a)}return r}let n=IR(e,t);for(;n&&jie(n)&&jS(n);)n=IR(n,t);return n&&_m(n)&&jS(n)&&!OT(n)?r:n||Eie(e)||r}const zie=async function(e){const t=this.getOffsetParent||o9,r=this.getDimensions,n=await r(e.floating);return{reference:Uie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Vie(e){return Co(e).direction==="rtl"}const Wie={convertOffsetParentRelativeRectToViewportRelativeRect:Oie,getDocumentElement:Sl,getClippingRect:$ie,getOffsetParent:o9,getElementRects:zie,getClientRects:Die,getDimensions:Bie,getScale:$h,isElement:ko,isRTL:Vie};function l9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Hie(e,t){let r=null,n;const a=Sl(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=Jx(f),p=Jx(a.clientWidth-(d+h)),v=Jx(a.clientHeight-(f+m)),y=Jx(d),_={rootMargin:-g+"px "+-p+"px "+-v+"px "+-y+"px",threshold:Ys(0,Fu(1,c))||1};let j=!0;function w(N){const S=N[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!l9(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(w,{..._,root:a.ownerDocument})}catch{r=new IntersectionObserver(w,_)}r.observe(e)}return o(!0),s}function qie(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=RT(e),d=a||s?[...u?Og(u):[],...Og(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&l?Hie(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?rf(e):null;c&&v();function v(){const y=rf(e);p&&!l9(p,y)&&r(),p=y,g=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const Gie=vie,Kie=xie,Yie=mie,Xie=bie,Qie=pie,LR=hie,Jie=yie,Zie=(e,t,r)=>{const n=new Map,a={platform:Wie,...r},s={...a.platform,_c:n};return fie(e,t,{...a,platform:s})};var eoe=typeof document<"u",toe=function(){},Ky=eoe?x.useLayoutEffect:toe;function B1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!B1(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!B1(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function c9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $R(e,t){const r=c9(e);return Math.round(t*r)/r}function SS(e){const t=x.useRef(e);return Ky(()=>{t.current=e}),t}function roe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);B1(h,n)||m(n);const[g,p]=x.useState(null),[v,y]=x.useState(null),b=x.useCallback(B=>{B!==N.current&&(N.current=B,p(B))},[]),_=x.useCallback(B=>{B!==S.current&&(S.current=B,y(B))},[]),j=s||g,w=o||v,N=x.useRef(null),S=x.useRef(null),k=x.useRef(d),C=c!=null,T=SS(c),O=SS(a),A=SS(u),V=x.useCallback(()=>{if(!N.current||!S.current)return;const B={placement:t,strategy:r,middleware:h};O.current&&(B.platform=O.current),Zie(N.current,S.current,B).then(D=>{const q={...D,isPositioned:A.current!==!1};H.current&&!B1(k.current,q)&&(k.current=q,dp.flushSync(()=>{f(q)}))})},[h,t,r,O,A]);Ky(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[u]);const H=x.useRef(!1);Ky(()=>(H.current=!0,()=>{H.current=!1}),[]),Ky(()=>{if(j&&(N.current=j),w&&(S.current=w),j&&w){if(T.current)return T.current(j,w,V);V()}},[j,w,V,T,C]);const M=x.useMemo(()=>({reference:N,floating:S,setReference:b,setFloating:_}),[b,_]),F=x.useMemo(()=>({reference:j,floating:w}),[j,w]),L=x.useMemo(()=>{const B={position:r,left:0,top:0};if(!F.floating)return B;const D=$R(F.floating,d.x),q=$R(F.floating,d.y);return l?{...B,transform:"translate("+D+"px, "+q+"px)",...c9(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:q}},[r,l,F.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:V,refs:M,elements:F,floatingStyles:L}),[d,V,M,F,L])}const noe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?LR({element:n.current,padding:a}).fn(r):{}:n?LR({element:n,padding:a}).fn(r):{}}}},aoe=(e,t)=>({...Gie(e),options:[e,t]}),soe=(e,t)=>({...Kie(e),options:[e,t]}),ioe=(e,t)=>({...Jie(e),options:[e,t]}),ooe=(e,t)=>({...Yie(e),options:[e,t]}),loe=(e,t)=>({...Xie(e),options:[e,t]}),coe=(e,t)=>({...Qie(e),options:[e,t]}),uoe=(e,t)=>({...noe(e),options:[e,t]});var doe="Arrow",u9=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(ft.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});u9.displayName=doe;var foe=u9;function FT(e){const[t,r]=x.useState(void 0);return yn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var IT="Popper",[d9,vp]=gs(IT),[hoe,f9]=d9(IT),h9=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return i.jsx(hoe,{scope:t,anchor:n,onAnchorChange:a,children:r})};h9.displayName=IT;var m9="PopperAnchor",p9=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=f9(m9,r),o=x.useRef(null),l=Bt(t,o);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(ft.div,{...a,ref:l})});p9.displayName=m9;var LT="PopperContent",[moe,poe]=d9(LT),g9=x.forwardRef((e,t)=>{var oe,xe,z,W,ce,E;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=f9(LT,r),[y,b]=x.useState(null),_=Bt(t,Pe=>b(Pe)),[j,w]=x.useState(null),N=FT(j),S=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,C=n+(s!=="center"?"-"+s:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],A=O.length>0,V={padding:T,boundary:O.filter(voe),altBoundary:A},{refs:H,floatingStyles:M,placement:F,isPositioned:L,middlewareData:B}=roe({strategy:"fixed",placement:C,whileElementsMounted:(...Pe)=>qie(...Pe,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[aoe({mainAxis:a+k,alignmentAxis:o}),c&&soe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ioe():void 0,...V}),c&&ooe({...V}),loe({...V,apply:({elements:Pe,rects:Re,availableWidth:pe,availableHeight:Me})=>{const{width:be,height:Ge}=Re.reference,Ze=Pe.floating.style;Ze.setProperty("--radix-popper-available-width",`${pe}px`),Ze.setProperty("--radix-popper-available-height",`${Me}px`),Ze.setProperty("--radix-popper-anchor-width",`${be}px`),Ze.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),j&&uoe({element:j,padding:l}),xoe({arrowWidth:S,arrowHeight:k}),h&&coe({strategy:"referenceHidden",...V})]}),[D,q]=y9(F),Y=zn(g);yn(()=>{L&&(Y==null||Y())},[L,Y]);const P=(oe=B.arrow)==null?void 0:oe.x,G=(xe=B.arrow)==null?void 0:xe.y,K=((z=B.arrow)==null?void 0:z.centerOffset)!==0,[Z,se]=x.useState();return yn(()=>{y&&se(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:L?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(W=B.transformOrigin)==null?void 0:W.x,(ce=B.transformOrigin)==null?void 0:ce.y].join(" "),...((E=B.hide)==null?void 0:E.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(moe,{scope:r,placedSide:D,onArrowChange:w,arrowX:P,arrowY:G,shouldHideArrow:K,children:i.jsx(ft.div,{"data-side":D,"data-align":q,...p,ref:_,style:{...p.style,animation:L?void 0:"none"}})})})});g9.displayName=LT;var v9="PopperArrow",goe={top:"bottom",right:"left",bottom:"top",left:"right"},x9=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=poe(v9,n),o=goe[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(foe,{...a,ref:r,style:{...a.style,display:"block"}})})});x9.displayName=v9;function voe(e){return e!==null}var xoe=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=y9(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function y9(e){const[t,r="center"]=e.split("-");return[t,r]}var $T=h9,G_=p9,BT=g9,UT=x9,yoe="Portal",Wv=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=x.useState(!1);yn(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?YJ.createPortal(i.jsx(ft.div,{...n,ref:t}),o):null});Wv.displayName=yoe;var boe=gE[" useInsertionEffect ".trim().toString()]||yn;function fc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=_oe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=woe(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function _oe({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),s=x.useRef(t);return boe(()=>{s.current=t},[t]),x.useEffect(()=>{var o;a.current!==r&&((o=s.current)==null||o.call(s,r),a.current=r)},[r,a]),[r,n,s]}function woe(e){return typeof e=="function"}function zT(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var b9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),joe="VisuallyHidden",Soe=x.forwardRef((e,t)=>i.jsx(ft.span,{...e,ref:t,style:{...b9,...e.style}}));Soe.displayName=joe;var Noe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wf=new WeakMap,Zx=new WeakMap,ey={},NS=0,_9=function(e){return e&&(e.host||_9(e.parentNode))},koe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=_9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Coe=function(e,t,r,n){var a=koe(t,Array.isArray(e)?e:[e]);ey[r]||(ey[r]=new WeakMap);var s=ey[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Wf.get(h)||0)+1,v=(s.get(h)||0)+1;Wf.set(h,p),s.set(h,v),o.push(h),p===1&&g&&Zx.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),NS++,function(){o.forEach(function(f){var h=Wf.get(f)-1,m=s.get(f)-1;Wf.set(f,h),s.set(f,m),h||(Zx.has(f)||f.removeAttribute(n),Zx.delete(f)),m||f.removeAttribute(r)}),NS--,NS||(Wf=new WeakMap,Wf=new WeakMap,Zx=new WeakMap,ey={})}},K_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Noe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Coe(n,a,r,"aria-hidden")):function(){return null}},tl=function(){return tl=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},tl.apply(this,arguments)};function w9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Eoe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Yy="right-scroll-bar-position",Xy="width-before-scroll-bar",Toe="with-scroll-bars-hidden",Aoe="--removed-body-scroll-bar-size";function kS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Poe(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Ooe=typeof window<"u"?x.useLayoutEffect:x.useEffect,BR=new WeakMap;function Doe(e,t){var r=Poe(null,function(n){return e.forEach(function(a){return kS(a,n)})});return Ooe(function(){var n=BR.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||kS(l,null)}),s.forEach(function(l){a.has(l)||kS(l,o)})}BR.set(r,e)},[e]),r}function Roe(e){return e}function Moe(e,t){t===void 0&&(t=Roe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Foe(e){e===void 0&&(e={});var t=Moe(null);return t.options=tl({async:!0,ssr:!1},e),t}var j9=function(e){var t=e.sideCar,r=w9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,tl({},r))};j9.isSideCarExport=!0;function Ioe(e,t){return e.useMedium(t),j9}var S9=Foe(),CS=function(){},Y_=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:CS,onWheelCapture:CS,onTouchMoveCapture:CS}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,_=e.gapMode,j=w9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,N=Doe([r,t]),S=tl(tl({},j),a);return x.createElement(x.Fragment,null,d&&x.createElement(w,{sideCar:S9,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:_}),o?x.cloneElement(x.Children.only(l),tl(tl({},S),{ref:N})):x.createElement(b,tl({},S,{className:c,ref:N}),l))});Y_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Y_.classNames={fullWidth:Xy,zeroRight:Yy};var Loe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $oe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Loe();return t&&e.setAttribute("nonce",t),e}function Boe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Uoe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var zoe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=$oe())&&(Boe(t,r),Uoe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Voe=function(){var e=zoe();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},N9=function(){var e=Voe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Woe={left:0,top:0,right:0,gap:0},ES=function(e){return parseInt(e||"",10)||0},Hoe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ES(r),ES(n),ES(a)]},qoe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Woe;var t=Hoe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Goe=N9(),Bh="data-scroll-locked",Koe=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Toe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Bh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Yy," .").concat(Yy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xy," .").concat(Xy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bh,`] {
    `).concat(Aoe,": ").concat(l,`px;
  }
`)},UR=function(){var e=parseInt(document.body.getAttribute(Bh)||"0",10);return isFinite(e)?e:0},Yoe=function(){x.useEffect(function(){return document.body.setAttribute(Bh,(UR()+1).toString()),function(){var e=UR()-1;e<=0?document.body.removeAttribute(Bh):document.body.setAttribute(Bh,e.toString())}},[])},Xoe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Yoe();var s=x.useMemo(function(){return qoe(a)},[a]);return x.createElement(Goe,{styles:Koe(s,!t,a,r?"":"!important")})},rk=!1;if(typeof window<"u")try{var ty=Object.defineProperty({},"passive",{get:function(){return rk=!0,!0}});window.addEventListener("test",ty,ty),window.removeEventListener("test",ty,ty)}catch{rk=!1}var Hf=rk?{passive:!1}:!1,Qoe=function(e){return e.tagName==="TEXTAREA"},k9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Qoe(e)&&r[t]==="visible")},Joe=function(e){return k9(e,"overflowY")},Zoe=function(e){return k9(e,"overflowX")},zR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=C9(e,n);if(a){var s=E9(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ele=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},tle=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},C9=function(e,t){return e==="v"?Joe(t):Zoe(t)},E9=function(e,t){return e==="v"?ele(t):tle(t)},rle=function(e,t){return e==="h"&&t==="rtl"?-1:1},nle=function(e,t,r,n,a){var s=rle(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=E9(e,l),g=m[0],p=m[1],v=m[2],y=p-v-s*g;(g||y)&&C9(e,l)&&(f+=y,h+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},ry=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},VR=function(e){return[e.deltaX,e.deltaY]},WR=function(e){return e&&"current"in e?e.current:e},ale=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ile=0,qf=[];function ole(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(ile++)[0],s=x.useState(N9)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Eoe([e.lockRef.current],(e.shards||[]).map(WR),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=ry(p),b=r.current,_="deltaX"in p?p.deltaX:b[0]-y[0],j="deltaY"in p?p.deltaY:b[1]-y[1],w,N=p.target,S=Math.abs(_)>Math.abs(j)?"h":"v";if("touches"in p&&S==="h"&&N.type==="range")return!1;var k=zR(S,N);if(!k)return!0;if(k?w=S:(w=S==="v"?"h":"v",k=zR(S,N)),!k)return!1;if(!n.current&&"changedTouches"in p&&(_||j)&&(n.current=w),!w)return!0;var C=n.current||w;return nle(C,v,p,C==="h"?_:j,!0)},[]),c=x.useCallback(function(p){var v=p;if(!(!qf.length||qf[qf.length-1]!==s)){var y="deltaY"in v?VR(v):ry(v),b=t.current.filter(function(w){return w.name===v.type&&(w.target===v.target||v.target===w.shadowParent)&&ale(w.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var _=(o.current.shards||[]).map(WR).filter(Boolean).filter(function(w){return w.contains(v.target)}),j=_.length>0?l(v,_[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(p,v,y,b){var _={name:p,delta:v,target:y,should:b,shadowParent:lle(y)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(j){return j!==_})},1)},[]),d=x.useCallback(function(p){r.current=ry(p),n.current=void 0},[]),f=x.useCallback(function(p){u(p.type,VR(p),p.target,l(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,ry(p),p.target,l(p,e.lockRef.current))},[]);x.useEffect(function(){return qf.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Hf),document.addEventListener("touchmove",c,Hf),document.addEventListener("touchstart",d,Hf),function(){qf=qf.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,Hf),document.removeEventListener("touchmove",c,Hf),document.removeEventListener("touchstart",d,Hf)}},[]);var m=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(s,{styles:sle(a)}):null,m?x.createElement(Xoe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function lle(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cle=Ioe(S9,ole);var Hv=x.forwardRef(function(e,t){return x.createElement(Y_,tl({},e,{ref:t,sideCar:cle}))});Hv.classNames=Y_.classNames;var ule=[" ","Enter","ArrowUp","ArrowDown"],dle=[" ","Enter"],nf="Select",[X_,Q_,fle]=ET(nf),[xp,MHe]=gs(nf,[fle,vp]),J_=vp(),[hle,Gu]=xp(nf),[mle,ple]=xp(nf),T9=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=J_(t),[v,y]=x.useState(null),[b,_]=x.useState(null),[j,w]=x.useState(!1),N=Bv(u),[S,k]=fc({prop:n,defaultProp:a??!1,onChange:s,caller:nf}),[C,T]=fc({prop:o,defaultProp:l,onChange:c,caller:nf}),O=x.useRef(null),A=v?g||!!v.closest("form"):!0,[V,H]=x.useState(new Set),M=Array.from(V).map(F=>F.props.value).join(";");return i.jsx($T,{...p,children:i.jsxs(hle,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:_,valueNodeHasChildren:j,onValueNodeHasChildrenChange:w,contentId:ta(),value:C,onValueChange:T,open:S,onOpenChange:k,dir:N,triggerPointerDownPosRef:O,disabled:h,children:[i.jsx(X_.Provider,{scope:t,children:i.jsx(mle,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(F=>{H(L=>new Set(L).add(F))},[]),onNativeOptionRemove:x.useCallback(F=>{H(L=>{const B=new Set(L);return B.delete(F),B})},[]),children:r})}),A?i.jsxs(Z9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:F=>T(F.target.value),disabled:h,form:g,children:[C===void 0?i.jsx("option",{value:""}):null,Array.from(V)]},M):null]})})};T9.displayName=nf;var A9="SelectTrigger",P9=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=J_(r),o=Gu(A9,r),l=o.disabled||n,c=Bt(t,o.onTriggerChange),u=Q_(r),d=x.useRef("touch"),[f,h,m]=tU(p=>{const v=u().filter(_=>!_.disabled),y=v.find(_=>_.value===o.value),b=rU(v,p,y);b!==void 0&&o.onValueChange(b.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(G_,{asChild:!0,...s,children:i.jsx(ft.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":eU(o.value)?"":void 0,...a,ref:c,onClick:Je(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Je(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Je(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&ule.includes(p.key)&&(g(),p.preventDefault())})})})});P9.displayName=A9;var O9="SelectValue",D9=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=Gu(O9,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Bt(t,c.onValueNodeChange);return yn(()=>{u(d)},[u,d]),i.jsx(ft.span,{...l,ref:f,style:{pointerEvents:"none"},children:eU(c.value)?i.jsx(i.Fragment,{children:o}):s})});D9.displayName=O9;var gle="SelectIcon",R9=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(ft.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});R9.displayName=gle;var vle="SelectPortal",M9=e=>i.jsx(Wv,{asChild:!0,...e});M9.displayName=vle;var af="SelectContent",F9=x.forwardRef((e,t)=>{const r=Gu(af,e.__scopeSelect),[n,a]=x.useState();if(yn(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?dp.createPortal(i.jsx(I9,{scope:e.__scopeSelect,children:i.jsx(X_.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(L9,{...e,ref:t})});F9.displayName=af;var Qi=10,[I9,Ku]=xp(af),xle="SelectContentImpl",yle=Mu("SelectContent.RemoveScroll"),L9=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...y}=e,b=Gu(af,r),[_,j]=x.useState(null),[w,N]=x.useState(null),S=Bt(t,oe=>j(oe)),[k,C]=x.useState(null),[T,O]=x.useState(null),A=Q_(r),[V,H]=x.useState(!1),M=x.useRef(!1);x.useEffect(()=>{if(_)return K_(_)},[_]),V_();const F=x.useCallback(oe=>{const[xe,...z]=A().map(E=>E.ref.current),[W]=z.slice(-1),ce=document.activeElement;for(const E of oe)if(E===ce||(E==null||E.scrollIntoView({block:"nearest"}),E===xe&&w&&(w.scrollTop=0),E===W&&w&&(w.scrollTop=w.scrollHeight),E==null||E.focus(),document.activeElement!==ce))return},[A,w]),L=x.useCallback(()=>F([k,_]),[F,k,_]);x.useEffect(()=>{V&&L()},[V,L]);const{onOpenChange:B,triggerPointerDownPosRef:D}=b;x.useEffect(()=>{if(_){let oe={x:0,y:0};const xe=W=>{var ce,E;oe={x:Math.abs(Math.round(W.pageX)-(((ce=D.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(W.pageY)-(((E=D.current)==null?void 0:E.y)??0))}},z=W=>{oe.x<=10&&oe.y<=10?W.preventDefault():_.contains(W.target)||B(!1),document.removeEventListener("pointermove",xe),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",z,{capture:!0})}}},[_,B,D]),x.useEffect(()=>{const oe=()=>B(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[B]);const[q,Y]=tU(oe=>{const xe=A().filter(ce=>!ce.disabled),z=xe.find(ce=>ce.ref.current===document.activeElement),W=rU(xe,oe,z);W&&setTimeout(()=>W.ref.current.focus())}),P=x.useCallback((oe,xe,z)=>{const W=!M.current&&!z;(b.value!==void 0&&b.value===xe||W)&&(C(oe),W&&(M.current=!0))},[b.value]),G=x.useCallback(()=>_==null?void 0:_.focus(),[_]),K=x.useCallback((oe,xe,z)=>{const W=!M.current&&!z;(b.value!==void 0&&b.value===xe||W)&&O(oe)},[b.value]),Z=n==="popper"?nk:$9,se=Z===nk?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return i.jsx(I9,{scope:r,content:_,viewport:w,onViewportChange:N,itemRefCallback:P,selectedItem:k,onItemLeave:G,itemTextRefCallback:K,focusSelectedItem:L,selectedItemText:T,position:n,isPositioned:V,searchRef:q,children:i.jsx(Hv,{as:yle,allowPinchZoom:!0,children:i.jsx(zv,{asChild:!0,trapped:b.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Je(a,oe=>{var xe;(xe=b.trigger)==null||xe.focus({preventScroll:!0}),oe.preventDefault()}),children:i.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(Z,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:oe=>oe.preventDefault(),...y,...se,onPlaced:()=>H(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Je(y.onKeyDown,oe=>{const xe=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!xe&&oe.key.length===1&&Y(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let W=A().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(W=W.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const ce=oe.target,E=W.indexOf(ce);W=W.slice(E+1)}setTimeout(()=>F(W)),oe.preventDefault()}})})})})})})});L9.displayName=xle;var ble="SelectItemAlignedPosition",$9=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Gu(af,r),o=Ku(af,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=Bt(t,S=>d(S)),h=Q_(r),m=x.useRef(!1),g=x.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,_=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&p&&v&&y){const S=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(s.dir!=="rtl"){const ce=T.left-k.left,E=C.left-ce,Pe=S.left-E,Re=S.width+Pe,pe=Math.max(Re,k.width),Me=window.innerWidth-Qi,be=QN(E,[Qi,Math.max(Qi,Me-pe)]);l.style.minWidth=Re+"px",l.style.left=be+"px"}else{const ce=k.right-T.right,E=window.innerWidth-C.right-ce,Pe=window.innerWidth-S.right-E,Re=S.width+Pe,pe=Math.max(Re,k.width),Me=window.innerWidth-Qi,be=QN(E,[Qi,Math.max(Qi,Me-pe)]);l.style.minWidth=Re+"px",l.style.right=be+"px"}const O=h(),A=window.innerHeight-Qi*2,V=p.scrollHeight,H=window.getComputedStyle(u),M=parseInt(H.borderTopWidth,10),F=parseInt(H.paddingTop,10),L=parseInt(H.borderBottomWidth,10),B=parseInt(H.paddingBottom,10),D=M+F+V+B+L,q=Math.min(v.offsetHeight*5,D),Y=window.getComputedStyle(p),P=parseInt(Y.paddingTop,10),G=parseInt(Y.paddingBottom,10),K=S.top+S.height/2-Qi,Z=A-K,se=v.offsetHeight/2,oe=v.offsetTop+se,xe=M+F+oe,z=D-xe;if(xe<=K){const ce=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const E=u.clientHeight-p.offsetTop-p.offsetHeight,Pe=Math.max(Z,se+(ce?G:0)+E+L),Re=xe+Pe;l.style.height=Re+"px"}else{const ce=O.length>0&&v===O[0].ref.current;l.style.top="0px";const Pe=Math.max(K,M+p.offsetTop+(ce?P:0)+se)+z;l.style.height=Pe+"px",p.scrollTop=xe-K+p.offsetTop}l.style.margin=`${Qi}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,p,v,y,s.dir,n]);yn(()=>_(),[_]);const[j,w]=x.useState();yn(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const N=x.useCallback(S=>{S&&g.current===!0&&(_(),b==null||b(),g.current=!1)},[_,b]);return i.jsx(wle,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(ft.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});$9.displayName=ble;var _le="SelectPopperPosition",nk=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Qi,...s}=e,o=J_(r);return i.jsx(BT,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nk.displayName=_le;var[wle,VT]=xp(af,{}),ak="SelectViewport",B9=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Ku(ak,r),o=VT(ak,r),l=Bt(t,s.onViewportChange),c=x.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(X_.Slot,{scope:r,children:i.jsx(ft.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Je(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Qi*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(p,v);if(y<g){const b=y+m,_=Math.min(g,b),j=b-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});B9.displayName=ak;var U9="SelectGroup",[jle,Sle]=xp(U9),Nle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ta();return i.jsx(jle,{scope:r,id:a,children:i.jsx(ft.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Nle.displayName=U9;var z9="SelectLabel",V9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Sle(z9,r);return i.jsx(ft.div,{id:a.id,...n,ref:t})});V9.displayName=z9;var U1="SelectItem",[kle,W9]=xp(U1),H9=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=Gu(U1,r),c=Ku(U1,r),u=l.value===n,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),g=Bt(t,b=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,b,n,a)}),p=ta(),v=x.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(kle,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:x.useCallback(b=>{f(_=>_||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(X_.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(ft.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:Je(o.onFocus,()=>m(!0)),onBlur:Je(o.onBlur,()=>m(!1)),onClick:Je(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Je(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Je(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Je(o.onPointerMove,b=>{var _;v.current=b.pointerType,a?(_=c.onItemLeave)==null||_.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(o.onPointerLeave,b=>{var _;b.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:Je(o.onKeyDown,b=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&b.key===" "||(dle.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});H9.displayName=U1;var w0="SelectItemText",q9=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=Gu(w0,r),l=Ku(w0,r),c=W9(w0,r),u=ple(w0,r),[d,f]=x.useState(null),h=Bt(t,y=>f(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=x.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return yn(()=>(p(g),()=>v(g)),[p,v,g]),i.jsxs(i.Fragment,{children:[i.jsx(ft.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?dp.createPortal(s.children,o.valueNode):null]})});q9.displayName=w0;var G9="SelectItemIndicator",K9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return W9(G9,r).isSelected?i.jsx(ft.span,{"aria-hidden":!0,...n,ref:t}):null});K9.displayName=G9;var sk="SelectScrollUpButton",Y9=x.forwardRef((e,t)=>{const r=Ku(sk,e.__scopeSelect),n=VT(sk,e.__scopeSelect),[a,s]=x.useState(!1),o=Bt(t,n.onScrollButtonChange);return yn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(Q9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Y9.displayName=sk;var ik="SelectScrollDownButton",X9=x.forwardRef((e,t)=>{const r=Ku(ik,e.__scopeSelect),n=VT(ik,e.__scopeSelect),[a,s]=x.useState(!1),o=Bt(t,n.onScrollButtonChange);return yn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(Q9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});X9.displayName=ik;var Q9=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Ku("SelectScrollButton",r),o=x.useRef(null),l=Q_(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),yn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(ft.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Je(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Je(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Je(a.onPointerLeave,()=>{c()})})}),Cle="SelectSeparator",J9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(ft.div,{"aria-hidden":!0,...n,ref:t})});J9.displayName=Cle;var ok="SelectArrow",Ele=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=J_(r),s=Gu(ok,r),o=Ku(ok,r);return s.open&&o.position==="popper"?i.jsx(UT,{...a,...n,ref:t}):null});Ele.displayName=ok;var Tle="SelectBubbleInput",Z9=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),s=Bt(n,a),o=zT(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(ft.select,{...r,style:{...b9,...r.style},ref:s,defaultValue:t})});Z9.displayName=Tle;function eU(e){return e===""||e===void 0}function tU(e){const t=zn(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function rU(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=Ale(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Ale(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ple=T9,nU=P9,Ole=D9,Dle=R9,Rle=M9,aU=F9,Mle=B9,sU=V9,iU=H9,Fle=q9,Ile=K9,oU=Y9,lU=X9,cU=J9;const vt=Ple,xt=Ole,mt=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(nU,{ref:n,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(Dle,{asChild:!0,children:i.jsx(Ih,{className:"h-4 w-4 opacity-50"})})]}));mt.displayName=nU.displayName;const uU=x.forwardRef(({className:e,...t},r)=>i.jsx(oU,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(oae,{className:"h-4 w-4"})}));uU.displayName=oU.displayName;const dU=x.forwardRef(({className:e,...t},r)=>i.jsx(lU,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Ih,{className:"h-4 w-4"})}));dU.displayName=lU.displayName;const pt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(Rle,{children:i.jsxs(aU,{ref:a,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(uU,{}),i.jsx(Mle,{className:ge("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(dU,{})]})}));pt.displayName=aU.displayName;const Lle=x.forwardRef(({className:e,...t},r)=>i.jsx(sU,{ref:r,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Lle.displayName=sU.displayName;const Ce=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(iU,{ref:n,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Ile,{children:i.jsx(NT,{className:"h-4 w-4"})})}),i.jsx(Fle,{children:t})]}));Ce.displayName=iU.displayName;const $le=x.forwardRef(({className:e,...t},r)=>i.jsx(cU,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));$le.displayName=cU.displayName;const fU=()=>{const{currentLanguage:e,changeLanguage:t,languages:r}=Ma(),n=r.find(a=>a.code===e);return i.jsxs(vt,{value:e,onValueChange:t,children:[i.jsx(mt,{className:"w-[140px]",children:i.jsx(xt,{children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:n==null?void 0:n.name})})})}),i.jsx(pt,{children:r.map(a=>i.jsx(Ce,{value:a.code,children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:a.name})})},a.code))})]})};function Ble(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Fa=e=>{const{present:t,children:r}=e,n=Ule(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=Bt(n.ref,zle(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};Fa.displayName="Presence";function Ule(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Ble(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=ny(n.current);s.current=l==="mounted"?u:"none"},[l]),yn(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=ny(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),yn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=ny(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=ny(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ny(e){return(e==null?void 0:e.animationName)||"none"}function zle(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var TS="rovingFocusGroup.onEntryFocus",Vle={bubbles:!1,cancelable:!0},qv="RovingFocusGroup",[lk,hU,Wle]=ET(qv),[Hle,Z_]=gs(qv,[Wle]),[qle,Gle]=Hle(qv),mU=x.forwardRef((e,t)=>i.jsx(lk.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(lk.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Kle,{...e,ref:t})})}));mU.displayName=qv;var Kle=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=Bt(t,h),g=Bv(s),[p,v]=fc({prop:o,defaultProp:l??null,onChange:c,caller:qv}),[y,b]=x.useState(!1),_=zn(u),j=hU(r),w=x.useRef(!1),[N,S]=x.useState(0);return x.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(TS,_),()=>k.removeEventListener(TS,_)},[_]),i.jsx(qle,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:x.useCallback(k=>v(k),[v]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>S(k=>k-1),[]),children:i.jsx(ft.div,{tabIndex:y||N===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Je(e.onMouseDown,()=>{w.current=!0}),onFocus:Je(e.onFocus,k=>{const C=!w.current;if(k.target===k.currentTarget&&C&&!y){const T=new CustomEvent(TS,Vle);if(k.currentTarget.dispatchEvent(T),!T.defaultPrevented){const O=j().filter(F=>F.focusable),A=O.find(F=>F.active),V=O.find(F=>F.id===p),M=[A,V,...O].filter(Boolean).map(F=>F.ref.current);vU(M,d)}}w.current=!1}),onBlur:Je(e.onBlur,()=>b(!1))})})}),pU="RovingFocusGroupItem",gU=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:o,...l}=e,c=ta(),u=s||c,d=Gle(pU,r),f=d.currentTabStopId===u,h=hU(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return x.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),i.jsx(lk.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:i.jsx(ft.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Je(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Je(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Je(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=Qle(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=h().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const j=_.indexOf(v.currentTarget);_=d.loop?Jle(_,j+1):_.slice(j+1)}setTimeout(()=>vU(_))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});gU.displayName=pU;var Yle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xle(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Qle(e,t,r){const n=Xle(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Yle[n]}function vU(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Jle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var xU=mU,yU=gU,ck=["Enter"," "],Zle=["ArrowDown","PageUp","Home"],bU=["ArrowUp","PageDown","End"],ece=[...Zle,...bU],tce={ltr:[...ck,"ArrowRight"],rtl:[...ck,"ArrowLeft"]},rce={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gv="Menu",[Dg,nce,ace]=ET(Gv),[Sf,_U]=gs(Gv,[ace,vp,Z_]),ew=vp(),wU=Z_(),[sce,Nf]=Sf(Gv),[ice,Kv]=Sf(Gv),jU=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:o=!0}=e,l=ew(t),[c,u]=x.useState(null),d=x.useRef(!1),f=zn(s),h=Bv(a);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx($T,{...l,children:i.jsx(sce,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(ice,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};jU.displayName=Gv;var oce="MenuAnchor",WT=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=ew(r);return i.jsx(G_,{...a,...n,ref:t})});WT.displayName=oce;var HT="MenuPortal",[lce,SU]=Sf(HT,{forceMount:void 0}),NU=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Nf(HT,t);return i.jsx(lce,{scope:t,forceMount:r,children:i.jsx(Fa,{present:r||s.open,children:i.jsx(Wv,{asChild:!0,container:a,children:n})})})};NU.displayName=HT;var Ai="MenuContent",[cce,qT]=Sf(Ai),kU=x.forwardRef((e,t)=>{const r=SU(Ai,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Nf(Ai,e.__scopeMenu),o=Kv(Ai,e.__scopeMenu);return i.jsx(Dg.Provider,{scope:e.__scopeMenu,children:i.jsx(Fa,{present:n||s.open,children:i.jsx(Dg.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(uce,{...a,ref:t}):i.jsx(dce,{...a,ref:t})})})})}),uce=x.forwardRef((e,t)=>{const r=Nf(Ai,e.__scopeMenu),n=x.useRef(null),a=Bt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return K_(s)},[]),i.jsx(GT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Je(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),dce=x.forwardRef((e,t)=>{const r=Nf(Ai,e.__scopeMenu);return i.jsx(GT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),fce=Mu("MenuContent.ScrollLock"),GT=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=Nf(Ai,r),y=Kv(Ai,r),b=ew(r),_=wU(r),j=nce(r),[w,N]=x.useState(null),S=x.useRef(null),k=Bt(t,S,v.onContentChange),C=x.useRef(0),T=x.useRef(""),O=x.useRef(0),A=x.useRef(null),V=x.useRef("right"),H=x.useRef(0),M=g?Hv:x.Fragment,F=g?{as:fce,allowPinchZoom:!0}:void 0,L=D=>{var oe,xe;const q=T.current+D,Y=j().filter(z=>!z.disabled),P=document.activeElement,G=(oe=Y.find(z=>z.ref.current===P))==null?void 0:oe.textValue,K=Y.map(z=>z.textValue),Z=Sce(K,q,G),se=(xe=Y.find(z=>z.textValue===Z))==null?void 0:xe.ref.current;(function z(W){T.current=W,window.clearTimeout(C.current),W!==""&&(C.current=window.setTimeout(()=>z(""),1e3))})(q),se&&setTimeout(()=>se.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),V_();const B=x.useCallback(D=>{var Y,P;return V.current===((Y=A.current)==null?void 0:Y.side)&&kce(D,(P=A.current)==null?void 0:P.area)},[]);return i.jsx(cce,{scope:r,searchRef:T,onItemEnter:x.useCallback(D=>{B(D)&&D.preventDefault()},[B]),onItemLeave:x.useCallback(D=>{var q;B(D)||((q=S.current)==null||q.focus(),N(null))},[B]),onTriggerLeave:x.useCallback(D=>{B(D)&&D.preventDefault()},[B]),pointerGraceTimerRef:O,onPointerGraceIntentChange:x.useCallback(D=>{A.current=D},[]),children:i.jsx(M,{...F,children:i.jsx(zv,{asChild:!0,trapped:a,onMountAutoFocus:Je(s,D=>{var q;D.preventDefault(),(q=S.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(xU,{asChild:!0,..._,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:w,onCurrentTabStopIdChange:N,onEntryFocus:Je(c,D=>{y.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(BT,{role:"menu","aria-orientation":"vertical","data-state":zU(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:Je(p.onKeyDown,D=>{const Y=D.target.closest("[data-radix-menu-content]")===D.currentTarget,P=D.ctrlKey||D.altKey||D.metaKey,G=D.key.length===1;Y&&(D.key==="Tab"&&D.preventDefault(),!P&&G&&L(D.key));const K=S.current;if(D.target!==K||!ece.includes(D.key))return;D.preventDefault();const se=j().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);bU.includes(D.key)&&se.reverse(),wce(se)}),onBlur:Je(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:Je(e.onPointerMove,Rg(D=>{const q=D.target,Y=H.current!==D.clientX;if(D.currentTarget.contains(q)&&Y){const P=D.clientX>H.current?"right":"left";V.current=P,H.current=D.clientX}}))})})})})})})});kU.displayName=Ai;var hce="MenuGroup",KT=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ft.div,{role:"group",...n,ref:t})});KT.displayName=hce;var mce="MenuLabel",CU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ft.div,{...n,ref:t})});CU.displayName=mce;var z1="MenuItem",HR="menu.itemSelect",tw=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=x.useRef(null),o=Kv(z1,e.__scopeMenu),l=qT(z1,e.__scopeMenu),c=Bt(t,s),u=x.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(HR,{bubbles:!0,cancelable:!0});f.addEventListener(HR,m=>n==null?void 0:n(m),{once:!0}),MB(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(EU,{...a,ref:c,disabled:r,onClick:Je(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Je(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Je(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||ck.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});tw.displayName=z1;var EU=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,o=qT(z1,r),l=wU(r),c=x.useRef(null),u=Bt(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[s.children]),i.jsx(Dg.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:i.jsx(yU,{asChild:!0,...l,focusable:!n,children:i.jsx(ft.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Je(e.onPointerMove,Rg(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Je(e.onPointerLeave,Rg(g=>o.onItemLeave(g))),onFocus:Je(e.onFocus,()=>f(!0)),onBlur:Je(e.onBlur,()=>f(!1))})})})}),pce="MenuCheckboxItem",TU=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return i.jsx(RU,{scope:e.__scopeMenu,checked:r,children:i.jsx(tw,{role:"menuitemcheckbox","aria-checked":V1(r)?"mixed":r,...a,ref:t,"data-state":XT(r),onSelect:Je(a.onSelect,()=>n==null?void 0:n(V1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});TU.displayName=pce;var AU="MenuRadioGroup",[gce,vce]=Sf(AU,{value:void 0,onValueChange:()=>{}}),PU=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=zn(n);return i.jsx(gce,{scope:e.__scopeMenu,value:r,onValueChange:s,children:i.jsx(KT,{...a,ref:t})})});PU.displayName=AU;var OU="MenuRadioItem",DU=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=vce(OU,e.__scopeMenu),s=r===a.value;return i.jsx(RU,{scope:e.__scopeMenu,checked:s,children:i.jsx(tw,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":XT(s),onSelect:Je(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});DU.displayName=OU;var YT="MenuItemIndicator",[RU,xce]=Sf(YT,{checked:!1}),MU=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=xce(YT,r);return i.jsx(Fa,{present:n||V1(s.checked)||s.checked===!0,children:i.jsx(ft.span,{...a,ref:t,"data-state":XT(s.checked)})})});MU.displayName=YT;var yce="MenuSeparator",FU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ft.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});FU.displayName=yce;var bce="MenuArrow",IU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=ew(r);return i.jsx(UT,{...a,...n,ref:t})});IU.displayName=bce;var _ce="MenuSub",[FHe,LU]=Sf(_ce),j0="MenuSubTrigger",$U=x.forwardRef((e,t)=>{const r=Nf(j0,e.__scopeMenu),n=Kv(j0,e.__scopeMenu),a=LU(j0,e.__scopeMenu),s=qT(j0,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(WT,{asChild:!0,...u,children:i.jsx(EU,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":zU(r.open),...e,ref:cc(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Je(e.onPointerMove,Rg(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Je(e.onPointerLeave,Rg(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",y=v?-5:5,b=h[v?"left":"right"],_=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:b,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Je(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||tce[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});$U.displayName=j0;var BU="MenuSubContent",UU=x.forwardRef((e,t)=>{const r=SU(Ai,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Nf(Ai,e.__scopeMenu),o=Kv(Ai,e.__scopeMenu),l=LU(BU,e.__scopeMenu),c=x.useRef(null),u=Bt(t,c);return i.jsx(Dg.Provider,{scope:e.__scopeMenu,children:i.jsx(Fa,{present:n||s.open,children:i.jsx(Dg.Slot,{scope:e.__scopeMenu,children:i.jsx(GT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Je(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Je(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Je(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=rce[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});UU.displayName=BU;function zU(e){return e?"open":"closed"}function V1(e){return e==="indeterminate"}function XT(e){return V1(e)?"indeterminate":e?"checked":"unchecked"}function wce(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function jce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Sce(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=jce(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Nce(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function kce(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Nce(r,t)}function Rg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Cce=jU,Ece=WT,Tce=NU,Ace=kU,Pce=KT,Oce=CU,Dce=tw,Rce=TU,Mce=PU,Fce=DU,Ice=MU,Lce=FU,$ce=IU,Bce=$U,Uce=UU,rw="DropdownMenu",[zce,IHe]=gs(rw,[_U]),vs=_U(),[Vce,VU]=zce(rw),WU=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=vs(t),u=x.useRef(null),[d,f]=fc({prop:a,defaultProp:s??!1,onChange:o,caller:rw});return i.jsx(Vce,{scope:t,triggerId:ta(),triggerRef:u,contentId:ta(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(Cce,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};WU.displayName=rw;var HU="DropdownMenuTrigger",qU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=VU(HU,r),o=vs(r);return i.jsx(Ece,{asChild:!0,...o,children:i.jsx(ft.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:cc(t,s.triggerRef),onPointerDown:Je(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Je(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});qU.displayName=HU;var Wce="DropdownMenuPortal",GU=e=>{const{__scopeDropdownMenu:t,...r}=e,n=vs(t);return i.jsx(Tce,{...n,...r})};GU.displayName=Wce;var KU="DropdownMenuContent",YU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=VU(KU,r),s=vs(r),o=x.useRef(!1);return i.jsx(Ace,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:Je(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Je(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YU.displayName=KU;var Hce="DropdownMenuGroup",qce=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vs(r);return i.jsx(Pce,{...a,...n,ref:t})});qce.displayName=Hce;var Gce="DropdownMenuLabel",XU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vs(r);return i.jsx(Oce,{...a,...n,ref:t})});XU.displayName=Gce;var Kce="DropdownMenuItem",QU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vs(r);return i.jsx(Dce,{...a,...n,ref:t})});QU.displayName=Kce;var Yce="DropdownMenuCheckboxItem",JU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vs(r);return i.jsx(Rce,{...a,...n,ref:t})});JU.displayName=Yce;var Xce="DropdownMenuRadioGroup",Qce=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vs(r);return i.jsx(Mce,{...a,...n,ref:t})});Qce.displayName=Xce;var Jce="DropdownMenuRadioItem",ZU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vs(r);return i.jsx(Fce,{...a,...n,ref:t})});ZU.displayName=Jce;var Zce="DropdownMenuItemIndicator",e7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vs(r);return i.jsx(Ice,{...a,...n,ref:t})});e7.displayName=Zce;var eue="DropdownMenuSeparator",t7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vs(r);return i.jsx(Lce,{...a,...n,ref:t})});t7.displayName=eue;var tue="DropdownMenuArrow",rue=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vs(r);return i.jsx($ce,{...a,...n,ref:t})});rue.displayName=tue;var nue="DropdownMenuSubTrigger",r7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vs(r);return i.jsx(Bce,{...a,...n,ref:t})});r7.displayName=nue;var aue="DropdownMenuSubContent",n7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vs(r);return i.jsx(Uce,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});n7.displayName=aue;var sue=WU,iue=qU,oue=GU,a7=YU,s7=XU,i7=QU,o7=JU,l7=ZU,c7=e7,u7=t7,d7=r7,f7=n7;const QT=sue,JT=iue,lue=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>i.jsxs(d7,{ref:a,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(L_,{className:"ml-auto h-4 w-4"})]}));lue.displayName=d7.displayName;const cue=x.forwardRef(({className:e,...t},r)=>i.jsx(f7,{ref:r,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));cue.displayName=f7.displayName;const nw=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(oue,{children:i.jsx(a7,{ref:n,sideOffset:t,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));nw.displayName=a7.displayName;const zl=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(i7,{ref:n,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));zl.displayName=i7.displayName;const uue=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>i.jsxs(o7,{ref:a,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(c7,{children:i.jsx(NT,{className:"h-4 w-4"})})}),t]}));uue.displayName=o7.displayName;const due=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(l7,{ref:n,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(c7,{children:i.jsx(cae,{className:"h-2 w-2 fill-current"})})}),t]}));due.displayName=l7.displayName;const fue=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(s7,{ref:n,className:ge("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));fue.displayName=s7.displayName;const uk=x.forwardRef(({className:e,...t},r)=>i.jsx(u7,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));uk.displayName=u7.displayName;var aw="Dialog",[h7,m7]=gs(aw),[hue,Oo]=h7(aw),p7=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=fc({prop:n,defaultProp:a??!1,onChange:s,caller:aw});return i.jsx(hue,{scope:t,triggerRef:l,contentRef:c,contentId:ta(),titleId:ta(),descriptionId:ta(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};p7.displayName=aw;var g7="DialogTrigger",v7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Oo(g7,r),s=Bt(t,a.triggerRef);return i.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":tA(a.open),...n,ref:s,onClick:Je(e.onClick,a.onOpenToggle)})});v7.displayName=g7;var ZT="DialogPortal",[mue,x7]=h7(ZT,{forceMount:void 0}),y7=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Oo(ZT,t);return i.jsx(mue,{scope:t,forceMount:r,children:x.Children.map(n,o=>i.jsx(Fa,{present:r||s.open,children:i.jsx(Wv,{asChild:!0,container:a,children:o})}))})};y7.displayName=ZT;var W1="DialogOverlay",b7=x.forwardRef((e,t)=>{const r=x7(W1,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Oo(W1,e.__scopeDialog);return s.modal?i.jsx(Fa,{present:n||s.open,children:i.jsx(gue,{...a,ref:t})}):null});b7.displayName=W1;var pue=Mu("DialogOverlay.RemoveScroll"),gue=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Oo(W1,r);return i.jsx(Hv,{as:pue,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(ft.div,{"data-state":tA(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),sf="DialogContent",_7=x.forwardRef((e,t)=>{const r=x7(sf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Oo(sf,e.__scopeDialog);return i.jsx(Fa,{present:n||s.open,children:s.modal?i.jsx(vue,{...a,ref:t}):i.jsx(xue,{...a,ref:t})})});_7.displayName=sf;var vue=x.forwardRef((e,t)=>{const r=Oo(sf,e.__scopeDialog),n=x.useRef(null),a=Bt(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return K_(s)},[]),i.jsx(w7,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Je(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Je(e.onFocusOutside,s=>s.preventDefault())})}),xue=x.forwardRef((e,t)=>{const r=Oo(sf,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return i.jsx(w7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),w7=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=Oo(sf,r),c=x.useRef(null),u=Bt(t,c);return V_(),i.jsxs(i.Fragment,{children:[i.jsx(zv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Uv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tA(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(bue,{titleId:l.titleId}),i.jsx(wue,{contentRef:c,descriptionId:l.descriptionId})]})]})}),eA="DialogTitle",j7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Oo(eA,r);return i.jsx(ft.h2,{id:a.titleId,...n,ref:t})});j7.displayName=eA;var S7="DialogDescription",N7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Oo(S7,r);return i.jsx(ft.p,{id:a.descriptionId,...n,ref:t})});N7.displayName=S7;var k7="DialogClose",C7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Oo(k7,r);return i.jsx(ft.button,{type:"button",...n,ref:t,onClick:Je(e.onClick,()=>a.onOpenChange(!1))})});C7.displayName=k7;function tA(e){return e?"open":"closed"}var E7="DialogTitleWarning",[yue,T7]=Ese(E7,{contentName:sf,titleName:eA,docsSlug:"dialog"}),bue=({titleId:e})=>{const t=T7(E7),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},_ue="DialogDescriptionWarning",wue=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${T7(_ue).contentName}}.`;return x.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},sw=p7,rA=v7,iw=y7,yp=b7,bp=_7,Yv=j7,Xv=N7,ow=C7;const gn=sw,H1=rA,jue=iw,A7=x.forwardRef(({className:e,...t},r)=>i.jsx(yp,{ref:r,className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));A7.displayName=yp.displayName;const rn=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(jue,{children:[i.jsx(A7,{}),i.jsxs(bp,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...r,children:[t,i.jsxs(ow,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Mi,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rn.displayName=bp.displayName;const nn=({className:e,...t})=>i.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});nn.displayName="DialogHeader";const Oa=({className:e,...t})=>i.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",qt()&&"sm:space-x-reverse",e),...t});Oa.displayName="DialogFooter";const an=x.forwardRef(({className:e,...t},r)=>i.jsx(Yv,{ref:r,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));an.displayName=Yv.displayName;const Da=x.forwardRef(({className:e,...t},r)=>i.jsx(Xv,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));Da.displayName=Xv.displayName;const Sue=$v("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),wm=x.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:ge(Sue({variant:t}),e),...r}));wm.displayName="Alert";const Nue=x.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:ge("mb-1 font-medium leading-none tracking-tight",e),...t}));Nue.displayName="AlertTitle";const jm=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ge("text-sm [&_p]:leading-relaxed",e),...t}));jm.displayName="AlertDescription";function kue({onToggleSidebar:e}){var j,w,N;const{breadcrumbs:t}=Iv(),{user:r,logout:n}=hr(),{t:a}=Rt(),s=$s(),{setTheme:o}=qne(),[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,g]=x.useState(""),[p,v]=x.useState(!1),y=()=>{try{n(),s("/login")}catch(S){console.error("Logout failed:",S),s("/login")}},b=()=>{c(!0)},_=async S=>{if(S.preventDefault(),!p){if(!u.trim()){g(a("settings.newPasswordRequired"));return}if(u.length<6){g(a("settings.passwordTooShort"));return}if(u!==f){g(a("settings.passwordsDoNotMatch"));return}g(""),v(!0);try{throw new Error("Password change not available - Supabase removed")}catch(k){console.error("Password change failed:",k),g(k.message||a("settings.passwordChangeFailed"))}finally{v(!1)}}};return i.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[i.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:i.jsx(yae,{className:"h-5 w-5"})}),t&&t.length>0&&i.jsx("div",{className:"hidden md:block",children:i.jsx(Fse,{items:t})})]}),i.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:i.jsxs("div",{className:"relative w-full",children:[i.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Be,{type:"search",placeholder:a("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"})]})}),i.jsx("div",{className:"flex-1"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:Ae((r==null?void 0:r.profile)||{},"user_name")||(r==null?void 0:r.email)}),i.jsx(fU,{}),i.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:a("common.notifications"),children:[i.jsx(aae,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:i.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),i.jsx("span",{className:"sr-only",children:a("common.notifications")})]}),i.jsxs(QT,{children:[i.jsx(JT,{asChild:!0,children:i.jsxs(le,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:a("navigation.settings"),children:[i.jsxs(Fs,{className:"h-8 w-8",children:[i.jsx(No,{src:(j=r==null?void 0:r.profile)==null?void 0:j.avatar}),i.jsx(Is,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(w=r==null?void 0:r.email)==null?void 0:w.charAt(0).toUpperCase()})]}),i.jsx("span",{className:"sr-only",children:a("navigation.settings")})]})}),i.jsxs(nw,{align:"end",className:"w-56",children:[i.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:i.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[i.jsx("p",{className:"font-medium text-sm",children:Ae((r==null?void 0:r.profile)||{},"user_name")||((N=r==null?void 0:r.email)==null?void 0:N.split("@")[0])}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})}),i.jsx(uk,{}),i.jsxs(zl,{onClick:()=>o("light"),children:[i.jsx(Cae,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.light","Light")})]}),i.jsxs(zl,{onClick:()=>o("dark"),children:[i.jsx(_ae,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.dark","Dark")})]}),i.jsxs(zl,{onClick:()=>o("system"),children:[i.jsx(z_,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.system","System")})]}),i.jsx(uk,{}),i.jsxs(zl,{onClick:b,children:[i.jsx(vae,{className:"h-4 w-4 mr-2"}),a("settings.changePassword")]}),i.jsxs(zl,{onClick:y,className:"text-destructive focus:text-destructive",children:[i.jsx(Aae,{className:"h-4 w-4 mr-2"}),a("buttons.logout")]})]})]})]})]}),i.jsx(gn,{open:l,onOpenChange:c,children:i.jsxs(rn,{className:"sm:max-w-[425px]",children:[i.jsxs(nn,{children:[i.jsx(an,{children:a("settings.changePassword")}),i.jsx(Da,{children:a("settings.changePasswordDescription")})]}),i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m&&i.jsx(wm,{variant:"destructive",children:i.jsx(jm,{children:m})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"newPassword",children:a("settings.newPassword")}),i.jsx(Be,{id:"newPassword",type:"password",value:u,onChange:S=>d(S.target.value),placeholder:a("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"confirmPassword",children:a("settings.confirmPassword")}),i.jsx(Be,{id:"confirmPassword",type:"password",value:f,onChange:S=>h(S.target.value),placeholder:a("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),i.jsxs(Oa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(le,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:a("buttons.cancel")}),i.jsx(le,{type:"submit",disabled:p||!u.trim()||!f.trim(),className:"w-full sm:w-auto",children:a(p?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const vl=sw,P7=rA,Cue=iw,O7=x.forwardRef(({className:e,...t},r)=>i.jsx(yp,{className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));O7.displayName=yp.displayName;const Eue=$v("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Eo=x.forwardRef(({side:e="right",className:t,children:r,...n},a)=>i.jsxs(Cue,{children:[i.jsx(O7,{}),i.jsxs(bp,{ref:a,className:ge(Eue({side:e}),t),...n,children:[r,i.jsxs(ow,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Mi,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Eo.displayName=bp.displayName;const hc=({className:e,...t})=>i.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});hc.displayName="SheetHeader";const xl=x.forwardRef(({className:e,...t},r)=>i.jsx(Yv,{ref:r,className:ge("text-lg font-semibold text-foreground",e),...t}));xl.displayName=Yv.displayName;const of=x.forwardRef(({className:e,...t},r)=>i.jsx(Xv,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));of.displayName=Xv.displayName;function dk({children:e}){const[t,r]=x.useState(!0),[n,a]=x.useState(!1),[s,o]=x.useState(!1);x.useEffect(()=>{const u=()=>{const d=window.innerWidth;a(d<768),o(d>=768&&d<1024),d<768?r(!1):r(!0)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const l=()=>{r(!t)},c=()=>{n&&r(!1)};return i.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[i.jsx(kue,{onToggleSidebar:l}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!n&&!s&&i.jsx("aside",{className:ge("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block h-full",t?"w-60":"w-0 overflow-hidden"),children:i.jsx(yS,{onNavigate:c})}),s&&i.jsx("aside",{className:ge("bg-sidebar transition-all duration-300 ease-in-out h-full",t?"w-60":"w-0 overflow-hidden"),children:i.jsx(yS,{onNavigate:c})}),n&&i.jsx(vl,{open:t,onOpenChange:r,children:i.jsxs(Eo,{side:qt()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[i.jsx(xl,{className:"sr-only",children:"Navigation Menu"}),i.jsx(of,{className:"sr-only",children:"Application navigation sidebar"}),i.jsx(yS,{onNavigate:c})]})}),i.jsx("main",{className:"flex-1 overflow-hidden bg-background w-full",children:i.jsx("div",{className:"h-full p-3 sm:p-4 md:p-6 pt-2 overflow-y-auto",children:e})})]})]})}const AS=1024;function Br(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${AS-1}px)`),n=()=>{t(window.innerWidth<AS)};return r.addEventListener("change",n),t(window.innerWidth<AS),()=>r.removeEventListener("change",n)},[]),!!e}const Tue=$v("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ht({className:e,variant:t,...r}){return i.jsx("div",{className:ge(Tue({variant:t}),e),...r})}function D7(){Rt();const[e,t]=x.useState(new Date);x.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]);const r=a=>a.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),n=a=>a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return i.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[i.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:n(e)}),i.jsx("div",{className:"text-sm",children:r(e)})]})}var Aue=Array.isArray,Bs=Aue,Pue=typeof Tx=="object"&&Tx&&Tx.Object===Object&&Tx,R7=Pue,Oue=R7,Due=typeof self=="object"&&self&&self.Object===Object&&self,Rue=Oue||Due||Function("return this")(),Nl=Rue,Mue=Nl,Fue=Mue.Symbol,Qv=Fue,qR=Qv,M7=Object.prototype,Iue=M7.hasOwnProperty,Lue=M7.toString,Zp=qR?qR.toStringTag:void 0;function $ue(e){var t=Iue.call(e,Zp),r=e[Zp];try{e[Zp]=void 0;var n=!0}catch{}var a=Lue.call(e);return n&&(t?e[Zp]=r:delete e[Zp]),a}var Bue=$ue,Uue=Object.prototype,zue=Uue.toString;function Vue(e){return zue.call(e)}var Wue=Vue,GR=Qv,Hue=Bue,que=Wue,Gue="[object Null]",Kue="[object Undefined]",KR=GR?GR.toStringTag:void 0;function Yue(e){return e==null?e===void 0?Kue:Gue:KR&&KR in Object(e)?Hue(e):que(e)}var wc=Yue;function Xue(e){return e!=null&&typeof e=="object"}var jc=Xue,Que=wc,Jue=jc,Zue="[object Symbol]";function ede(e){return typeof e=="symbol"||Jue(e)&&Que(e)==Zue}var _p=ede,tde=Bs,rde=_p,nde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ade=/^\w*$/;function sde(e,t){if(tde(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||rde(e)?!0:ade.test(e)||!nde.test(e)||t!=null&&e in Object(t)}var nA=sde;function ide(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yu=ide;const wp=fr(Yu);var ode=wc,lde=Yu,cde="[object AsyncFunction]",ude="[object Function]",dde="[object GeneratorFunction]",fde="[object Proxy]";function hde(e){if(!lde(e))return!1;var t=ode(e);return t==ude||t==dde||t==cde||t==fde}var aA=hde;const Ct=fr(aA);var mde=Nl,pde=mde["__core-js_shared__"],gde=pde,PS=gde,YR=function(){var e=/[^.]+$/.exec(PS&&PS.keys&&PS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vde(e){return!!YR&&YR in e}var xde=vde,yde=Function.prototype,bde=yde.toString;function _de(e){if(e!=null){try{return bde.call(e)}catch{}try{return e+""}catch{}}return""}var F7=_de,wde=aA,jde=xde,Sde=Yu,Nde=F7,kde=/[\\^$.*+?()[\]{}|]/g,Cde=/^\[object .+?Constructor\]$/,Ede=Function.prototype,Tde=Object.prototype,Ade=Ede.toString,Pde=Tde.hasOwnProperty,Ode=RegExp("^"+Ade.call(Pde).replace(kde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dde(e){if(!Sde(e)||jde(e))return!1;var t=wde(e)?Ode:Cde;return t.test(Nde(e))}var Rde=Dde;function Mde(e,t){return e==null?void 0:e[t]}var Fde=Mde,Ide=Rde,Lde=Fde;function $de(e,t){var r=Lde(e,t);return Ide(r)?r:void 0}var kf=$de,Bde=kf,Ude=Bde(Object,"create"),lw=Ude,XR=lw;function zde(){this.__data__=XR?XR(null):{},this.size=0}var Vde=zde;function Wde(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Hde=Wde,qde=lw,Gde="__lodash_hash_undefined__",Kde=Object.prototype,Yde=Kde.hasOwnProperty;function Xde(e){var t=this.__data__;if(qde){var r=t[e];return r===Gde?void 0:r}return Yde.call(t,e)?t[e]:void 0}var Qde=Xde,Jde=lw,Zde=Object.prototype,efe=Zde.hasOwnProperty;function tfe(e){var t=this.__data__;return Jde?t[e]!==void 0:efe.call(t,e)}var rfe=tfe,nfe=lw,afe="__lodash_hash_undefined__";function sfe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nfe&&t===void 0?afe:t,this}var ife=sfe,ofe=Vde,lfe=Hde,cfe=Qde,ufe=rfe,dfe=ife;function jp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jp.prototype.clear=ofe;jp.prototype.delete=lfe;jp.prototype.get=cfe;jp.prototype.has=ufe;jp.prototype.set=dfe;var ffe=jp;function hfe(){this.__data__=[],this.size=0}var mfe=hfe;function pfe(e,t){return e===t||e!==e&&t!==t}var sA=pfe,gfe=sA;function vfe(e,t){for(var r=e.length;r--;)if(gfe(e[r][0],t))return r;return-1}var cw=vfe,xfe=cw,yfe=Array.prototype,bfe=yfe.splice;function _fe(e){var t=this.__data__,r=xfe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():bfe.call(t,r,1),--this.size,!0}var wfe=_fe,jfe=cw;function Sfe(e){var t=this.__data__,r=jfe(t,e);return r<0?void 0:t[r][1]}var Nfe=Sfe,kfe=cw;function Cfe(e){return kfe(this.__data__,e)>-1}var Efe=Cfe,Tfe=cw;function Afe(e,t){var r=this.__data__,n=Tfe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Pfe=Afe,Ofe=mfe,Dfe=wfe,Rfe=Nfe,Mfe=Efe,Ffe=Pfe;function Sp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sp.prototype.clear=Ofe;Sp.prototype.delete=Dfe;Sp.prototype.get=Rfe;Sp.prototype.has=Mfe;Sp.prototype.set=Ffe;var uw=Sp,Ife=kf,Lfe=Nl,$fe=Ife(Lfe,"Map"),iA=$fe,QR=ffe,Bfe=uw,Ufe=iA;function zfe(){this.size=0,this.__data__={hash:new QR,map:new(Ufe||Bfe),string:new QR}}var Vfe=zfe;function Wfe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Hfe=Wfe,qfe=Hfe;function Gfe(e,t){var r=e.__data__;return qfe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var dw=Gfe,Kfe=dw;function Yfe(e){var t=Kfe(this,e).delete(e);return this.size-=t?1:0,t}var Xfe=Yfe,Qfe=dw;function Jfe(e){return Qfe(this,e).get(e)}var Zfe=Jfe,ehe=dw;function the(e){return ehe(this,e).has(e)}var rhe=the,nhe=dw;function ahe(e,t){var r=nhe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var she=ahe,ihe=Vfe,ohe=Xfe,lhe=Zfe,che=rhe,uhe=she;function Np(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Np.prototype.clear=ihe;Np.prototype.delete=ohe;Np.prototype.get=lhe;Np.prototype.has=che;Np.prototype.set=uhe;var oA=Np,I7=oA,dhe="Expected a function";function lA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(dhe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(lA.Cache||I7),r}lA.Cache=I7;var L7=lA;const fhe=fr(L7);var hhe=L7,mhe=500;function phe(e){var t=hhe(e,function(n){return r.size===mhe&&r.clear(),n}),r=t.cache;return t}var ghe=phe,vhe=ghe,xhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yhe=/\\(\\)?/g,bhe=vhe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xhe,function(r,n,a,s){t.push(a?s.replace(yhe,"$1"):n||r)}),t}),_he=bhe;function whe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var cA=whe,JR=Qv,jhe=cA,She=Bs,Nhe=_p,khe=1/0,ZR=JR?JR.prototype:void 0,eM=ZR?ZR.toString:void 0;function $7(e){if(typeof e=="string")return e;if(She(e))return jhe(e,$7)+"";if(Nhe(e))return eM?eM.call(e):"";var t=e+"";return t=="0"&&1/e==-khe?"-0":t}var Che=$7,Ehe=Che;function The(e){return e==null?"":Ehe(e)}var B7=The,Ahe=Bs,Phe=nA,Ohe=_he,Dhe=B7;function Rhe(e,t){return Ahe(e)?e:Phe(e,t)?[e]:Ohe(Dhe(e))}var U7=Rhe,Mhe=_p,Fhe=1/0;function Ihe(e){if(typeof e=="string"||Mhe(e))return e;var t=e+"";return t=="0"&&1/e==-Fhe?"-0":t}var fw=Ihe,Lhe=U7,$he=fw;function Bhe(e,t){t=Lhe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[$he(t[r++])];return r&&r==n?e:void 0}var uA=Bhe,Uhe=uA;function zhe(e,t,r){var n=e==null?void 0:Uhe(e,t);return n===void 0?r:n}var z7=zhe;const ai=fr(z7);function Vhe(e){return e==null}var Whe=Vhe;const Dt=fr(Whe);var Hhe=wc,qhe=Bs,Ghe=jc,Khe="[object String]";function Yhe(e){return typeof e=="string"||!qhe(e)&&Ghe(e)&&Hhe(e)==Khe}var Xhe=Yhe;const lf=fr(Xhe);var V7={exports:{}},vr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA=Symbol.for("react.element"),fA=Symbol.for("react.portal"),hw=Symbol.for("react.fragment"),mw=Symbol.for("react.strict_mode"),pw=Symbol.for("react.profiler"),gw=Symbol.for("react.provider"),vw=Symbol.for("react.context"),Qhe=Symbol.for("react.server_context"),xw=Symbol.for("react.forward_ref"),yw=Symbol.for("react.suspense"),bw=Symbol.for("react.suspense_list"),_w=Symbol.for("react.memo"),ww=Symbol.for("react.lazy"),Jhe=Symbol.for("react.offscreen"),W7;W7=Symbol.for("react.module.reference");function $i(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dA:switch(e=e.type,e){case hw:case pw:case mw:case yw:case bw:return e;default:switch(e=e&&e.$$typeof,e){case Qhe:case vw:case xw:case ww:case _w:case gw:return e;default:return t}}case fA:return t}}}vr.ContextConsumer=vw;vr.ContextProvider=gw;vr.Element=dA;vr.ForwardRef=xw;vr.Fragment=hw;vr.Lazy=ww;vr.Memo=_w;vr.Portal=fA;vr.Profiler=pw;vr.StrictMode=mw;vr.Suspense=yw;vr.SuspenseList=bw;vr.isAsyncMode=function(){return!1};vr.isConcurrentMode=function(){return!1};vr.isContextConsumer=function(e){return $i(e)===vw};vr.isContextProvider=function(e){return $i(e)===gw};vr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dA};vr.isForwardRef=function(e){return $i(e)===xw};vr.isFragment=function(e){return $i(e)===hw};vr.isLazy=function(e){return $i(e)===ww};vr.isMemo=function(e){return $i(e)===_w};vr.isPortal=function(e){return $i(e)===fA};vr.isProfiler=function(e){return $i(e)===pw};vr.isStrictMode=function(e){return $i(e)===mw};vr.isSuspense=function(e){return $i(e)===yw};vr.isSuspenseList=function(e){return $i(e)===bw};vr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hw||e===pw||e===mw||e===yw||e===bw||e===Jhe||typeof e=="object"&&e!==null&&(e.$$typeof===ww||e.$$typeof===_w||e.$$typeof===gw||e.$$typeof===vw||e.$$typeof===xw||e.$$typeof===W7||e.getModuleId!==void 0)};vr.typeOf=$i;V7.exports=vr;var Zhe=V7.exports,eme=wc,tme=jc,rme="[object Number]";function nme(e){return typeof e=="number"||tme(e)&&eme(e)==rme}var H7=nme;const ame=fr(H7);var sme=H7;function ime(e){return sme(e)&&e!=+e}var ome=ime;const Jv=fr(ome);var Ja=function(t){return t===0?0:t>0?1:-1},bd=function(t){return lf(t)&&t.indexOf("%")===t.length-1},qe=function(t){return ame(t)&&!Jv(t)},lme=function(t){return Dt(t)},Tn=function(t){return qe(t)||lf(t)},cme=0,kp=function(t){var r=++cme;return"".concat(t||"").concat(r)},Za=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(t)&&!lf(t))return n;var s;if(bd(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Jv(s)&&(s=n),a&&s>r&&(s=r),s},Kc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},ume=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Xs=function(t,r){return qe(t)&&qe(r)?function(n){return t+n*(r-t)}:function(){return r}};function q1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ai(n,t))===r})}var dme=function(t,r){return qe(t)&&qe(r)?t-r:lf(t)&&lf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Uh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function fk(e){"@babel/helpers - typeof";return fk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fk(e)}var fme=["viewBox","children"],hme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tM=["points","pathLength"],OS={svg:fme,polygon:tM,polyline:tM},hA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],G1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!wp(n))return null;var a={};return Object.keys(n).forEach(function(s){hA.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},mme=function(t,r,n){return function(a){return t(r,n,a),null}},cf=function(t,r,n){if(!wp(t)||fk(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];hA.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=mme(o,r,n))}),a},pme=["children"],gme=["children"];function rM(e,t){if(e==null)return{};var r=vme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hk(e){"@babel/helpers - typeof";return hk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hk(e)}var nM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},aM=null,DS=null,mA=function e(t){if(t===aM&&Array.isArray(DS))return DS;var r=[];return x.Children.forEach(t,function(n){Dt(n)||(Zhe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),DS=r,aM=t,r};function si(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Zl(a)}):n=[Zl(t)],mA(e).forEach(function(a){var s=ai(a,"type.displayName")||ai(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Gs(e,t){var r=si(e,t);return r&&r[0]}var sM=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!qe(n)||n<=0||!qe(a)||a<=0)},xme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yme=function(t){return t&&t.type&&lf(t.type)&&xme.indexOf(t.type)>=0},bme=function(t){return t&&hk(t)==="object"&&"clipDot"in t},_me=function(t,r,n,a){var s,o=(s=OS==null?void 0:OS[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ct(t)&&(a&&o.includes(r)||hme.includes(r))||n&&hA.includes(r)},wt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!wp(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;_me((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},mk=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return iM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!iM(s,o))return!1}return!0},iM=function(t,r){if(Dt(t)&&Dt(r))return!0;if(!Dt(t)&&!Dt(r)){var n=t.props||{},a=n.children,s=rM(n,pme),o=r.props||{},l=o.children,c=rM(o,gme);return a&&l?Uh(s,c)&&mk(a,l):!a&&!l?Uh(s,c):!1}return!1},oM=function(t,r){var n=[],a={};return mA(t).forEach(function(s,o){if(yme(s))n.push(s);else if(s){var l=Zl(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},wme=function(t){var r=t&&t.type;return r&&nM[r]?nM[r]:null},jme=function(t,r){return mA(r).indexOf(t)},Sme=["children","width","height","viewBox","className","style","title","desc"];function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pk.apply(this,arguments)}function Nme(e,t){if(e==null)return{};var r=kme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gk(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=Nme(e,Sme),d=a||{width:r,height:n,x:0,y:0},f=Mt("recharts-surface",s);return ie.createElement("svg",pk({},wt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ie.createElement("title",null,l),ie.createElement("desc",null,c),t)}var Cme=["children","className"];function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vk.apply(this,arguments)}function Eme(e,t){if(e==null)return{};var r=Tme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var or=ie.forwardRef(function(e,t){var r=e.children,n=e.className,a=Eme(e,Cme),s=Mt("recharts-layer",n);return ie.createElement("g",vk({className:s},wt(a,!0),{ref:t}),r)}),vo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function Ame(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var Pme=Ame,Ome=Pme;function Dme(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Ome(e,t,r)}var Rme=Dme,Mme="\\ud800-\\udfff",Fme="\\u0300-\\u036f",Ime="\\ufe20-\\ufe2f",Lme="\\u20d0-\\u20ff",$me=Fme+Ime+Lme,Bme="\\ufe0e\\ufe0f",Ume="\\u200d",zme=RegExp("["+Ume+Mme+$me+Bme+"]");function Vme(e){return zme.test(e)}var q7=Vme;function Wme(e){return e.split("")}var Hme=Wme,G7="\\ud800-\\udfff",qme="\\u0300-\\u036f",Gme="\\ufe20-\\ufe2f",Kme="\\u20d0-\\u20ff",Yme=qme+Gme+Kme,Xme="\\ufe0e\\ufe0f",Qme="["+G7+"]",xk="["+Yme+"]",yk="\\ud83c[\\udffb-\\udfff]",Jme="(?:"+xk+"|"+yk+")",K7="[^"+G7+"]",Y7="(?:\\ud83c[\\udde6-\\uddff]){2}",X7="[\\ud800-\\udbff][\\udc00-\\udfff]",Zme="\\u200d",Q7=Jme+"?",J7="["+Xme+"]?",epe="(?:"+Zme+"(?:"+[K7,Y7,X7].join("|")+")"+J7+Q7+")*",tpe=J7+Q7+epe,rpe="(?:"+[K7+xk+"?",xk,Y7,X7,Qme].join("|")+")",npe=RegExp(yk+"(?="+yk+")|"+rpe+tpe,"g");function ape(e){return e.match(npe)||[]}var spe=ape,ipe=Hme,ope=q7,lpe=spe;function cpe(e){return ope(e)?lpe(e):ipe(e)}var upe=cpe,dpe=Rme,fpe=q7,hpe=upe,mpe=B7;function ppe(e){return function(t){t=mpe(t);var r=fpe(t)?hpe(t):void 0,n=r?r[0]:t.charAt(0),a=r?dpe(r,1).join(""):t.slice(1);return n[e]()+a}}var gpe=ppe,vpe=gpe,xpe=vpe("toUpperCase"),ype=xpe;const jw=fr(ype);function jr(e){return function(){return e}}const Z7=Math.cos,K1=Math.sin,Do=Math.sqrt,Y1=Math.PI,Sw=2*Y1,bk=Math.PI,_k=2*bk,cd=1e-6,bpe=_k-cd;function ez(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function _pe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ez;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class wpe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ez:_pe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>cd)if(!(Math.abs(f*c-u*d)>cd)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,v=m*m+g*g,y=Math.sqrt(p),b=Math.sqrt(h),_=s*Math.tan((bk-Math.acos((p+h-v)/(2*y*b)))/2),j=_/b,w=_/y;Math.abs(j-1)>cd&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>cd||Math.abs(this._y1-d)>cd)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%_k+_k),h>bpe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>cd&&this._append`A${n},${n},0,${+(h>=bk)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function pA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new wpe(t)}function gA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tz(e){this._context=e}tz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Nw(e){return new tz(e)}function rz(e){return e[0]}function nz(e){return e[1]}function az(e,t){var r=jr(!0),n=null,a=Nw,s=null,o=pA(l);e=typeof e=="function"?e:e===void 0?rz:jr(e),t=typeof t=="function"?t:t===void 0?nz:jr(t);function l(c){var u,d=(c=gA(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:jr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:jr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:jr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function ay(e,t,r){var n=null,a=jr(!0),s=null,o=Nw,l=null,c=pA(u);e=typeof e=="function"?e:e===void 0?rz:jr(+e),t=typeof t=="function"?t:jr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?nz:jr(+r);function u(f){var h,m,g,p=(f=gA(f)).length,v,y=!1,b,_=new Array(p),j=new Array(p);for(s==null&&(l=o(b=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(_[g],j[g]);l.lineEnd(),l.areaEnd()}y&&(_[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):_[h],r?+r(v,h,f):j[h]))}if(b)return l=null,b+""||null}function d(){return az().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:jr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:jr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:jr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:jr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:jr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:jr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:jr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class sz{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function jpe(e){return new sz(e,!0)}function Spe(e){return new sz(e,!1)}const vA={draw(e,t){const r=Do(t/Y1);e.moveTo(r,0),e.arc(0,0,r,0,Sw)}},Npe={draw(e,t){const r=Do(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},iz=Do(1/3),kpe=iz*2,Cpe={draw(e,t){const r=Do(t/kpe),n=r*iz;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Epe={draw(e,t){const r=Do(t),n=-r/2;e.rect(n,n,r,r)}},Tpe=.8908130915292852,oz=K1(Y1/10)/K1(7*Y1/10),Ape=K1(Sw/10)*oz,Ppe=-Z7(Sw/10)*oz,Ope={draw(e,t){const r=Do(t*Tpe),n=Ape*r,a=Ppe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=Sw*s/5,l=Z7(o),c=K1(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},RS=Do(3),Dpe={draw(e,t){const r=-Do(t/(RS*3));e.moveTo(0,r*2),e.lineTo(-RS*r,-r),e.lineTo(RS*r,-r),e.closePath()}},hi=-.5,mi=Do(3)/2,wk=1/Do(12),Rpe=(wk/2+1)*3,Mpe={draw(e,t){const r=Do(t/Rpe),n=r/2,a=r*wk,s=n,o=r*wk+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(hi*n-mi*a,mi*n+hi*a),e.lineTo(hi*s-mi*o,mi*s+hi*o),e.lineTo(hi*l-mi*c,mi*l+hi*c),e.lineTo(hi*n+mi*a,hi*a-mi*n),e.lineTo(hi*s+mi*o,hi*o-mi*s),e.lineTo(hi*l+mi*c,hi*c-mi*l),e.closePath()}};function Fpe(e,t){let r=null,n=pA(a);e=typeof e=="function"?e:jr(e||vA),t=typeof t=="function"?t:jr(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:jr(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:jr(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function X1(){}function Q1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function lz(e){this._context=e}lz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Q1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ipe(e){return new lz(e)}function cz(e){this._context=e}cz.prototype={areaStart:X1,areaEnd:X1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lpe(e){return new cz(e)}function uz(e){this._context=e}uz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $pe(e){return new uz(e)}function dz(e){this._context=e}dz.prototype={areaStart:X1,areaEnd:X1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Bpe(e){return new dz(e)}function lM(e){return e<0?-1:1}function cM(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(lM(s)+lM(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function uM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function MS(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function J1(e){this._context=e}J1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:MS(this,this._t0,uM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,MS(this,uM(this,r=cM(this,e,t)),r);break;default:MS(this,this._t0,r=cM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function fz(e){this._context=new hz(e)}(fz.prototype=Object.create(J1.prototype)).point=function(e,t){J1.prototype.point.call(this,t,e)};function hz(e){this._context=e}hz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function Upe(e){return new J1(e)}function zpe(e){return new fz(e)}function mz(e){this._context=e}mz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=dM(e),a=dM(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dM(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Vpe(e){return new mz(e)}function kw(e,t){this._context=e,this._t=t}kw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Wpe(e){return new kw(e,.5)}function Hpe(e){return new kw(e,0)}function qpe(e){return new kw(e,1)}function Sm(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function jk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Gpe(e,t){return e[t]}function Kpe(e){const t=[];return t.key=e,t}function Ype(){var e=jr([]),t=jk,r=Sm,n=Gpe;function a(s){var o=Array.from(e.apply(this,arguments),Kpe),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=gA(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:jr(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:jr(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?jk:typeof s=="function"?s:jr(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Sm,a):r},a}function Xpe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Sm(e,t)}}function Qpe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Sm(e,t)}}function Jpe(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,y=p[n-1][1]||0;m+=v-y}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Sm(e,t)}}function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}var Zpe=["type","size","sizeType"];function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sk.apply(this,arguments)}function fM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(r),!0).forEach(function(n){e0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e0e(e,t,r){return t=t0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t0e(e){var t=r0e(e,"string");return Mg(t)=="symbol"?t:t+""}function r0e(e,t){if(Mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n0e(e,t){if(e==null)return{};var r=a0e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pz={symbolCircle:vA,symbolCross:Npe,symbolDiamond:Cpe,symbolSquare:Epe,symbolStar:Ope,symbolTriangle:Dpe,symbolWye:Mpe},s0e=Math.PI/180,i0e=function(t){var r="symbol".concat(jw(t));return pz[r]||vA},o0e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*s0e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},l0e=function(t,r){pz["symbol".concat(jw(t))]=r},xA=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=n0e(t,Zpe),u=hM(hM({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=i0e(n),y=Fpe().type(v).size(o0e(s,l,n));return y()},f=u.className,h=u.cx,m=u.cy,g=wt(u,!0);return h===+h&&m===+m&&s===+s?ie.createElement("path",Sk({},g,{className:Mt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};xA.registerSymbol=l0e;function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nk.apply(this,arguments)}function mM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(r),!0).forEach(function(n){Fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vz(n.key),n)}}function f0e(e,t,r){return t&&d0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h0e(e,t,r){return t=Z1(t),m0e(e,gz()?Reflect.construct(t,r||[],Z1(e).constructor):t.apply(e,r))}function m0e(e,t){if(t&&(Nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p0e(e)}function p0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gz=function(){return!!e})()}function Z1(e){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z1(e)}function g0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kk(e,t)}function kk(e,t){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kk(e,t)}function Fg(e,t,r){return t=vz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vz(e){var t=v0e(e,"string");return Nm(t)=="symbol"?t:t+""}function v0e(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pi=32,yA=function(e){function t(){return u0e(this,t),h0e(this,t,arguments)}return g0e(t,e),f0e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=pi/2,o=pi/6,l=pi/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ie.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:pi,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ie.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(pi,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ie.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(pi/8,"h").concat(pi,"v").concat(pi*3/4,"h").concat(-pi,"z"),className:"recharts-legend-icon"});if(ie.isValidElement(n.legendIcon)){var u=c0e({},n);return delete u.legendIcon,ie.cloneElement(n.legendIcon,u)}return ie.createElement(xA,{fill:c,cx:s,cy:s,size:pi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:pi,height:pi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var p=m.formatter||c,v=Mt(Fg(Fg({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=Ct(m.value)?null:m.value;vo(!Ct(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return ie.createElement("li",Nk({className:v,style:f,key:"legend-item-".concat(g)},cf(n.props,m,g)),ie.createElement(gk,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),ie.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,m,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ie.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Fg(yA,"displayName","Legend");Fg(yA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var x0e=uw;function y0e(){this.__data__=new x0e,this.size=0}var b0e=y0e;function _0e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var w0e=_0e;function j0e(e){return this.__data__.get(e)}var S0e=j0e;function N0e(e){return this.__data__.has(e)}var k0e=N0e,C0e=uw,E0e=iA,T0e=oA,A0e=200;function P0e(e,t){var r=this.__data__;if(r instanceof C0e){var n=r.__data__;if(!E0e||n.length<A0e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new T0e(n)}return r.set(e,t),this.size=r.size,this}var O0e=P0e,D0e=uw,R0e=b0e,M0e=w0e,F0e=S0e,I0e=k0e,L0e=O0e;function Cp(e){var t=this.__data__=new D0e(e);this.size=t.size}Cp.prototype.clear=R0e;Cp.prototype.delete=M0e;Cp.prototype.get=F0e;Cp.prototype.has=I0e;Cp.prototype.set=L0e;var xz=Cp,$0e="__lodash_hash_undefined__";function B0e(e){return this.__data__.set(e,$0e),this}var U0e=B0e;function z0e(e){return this.__data__.has(e)}var V0e=z0e,W0e=oA,H0e=U0e,q0e=V0e;function eb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new W0e;++t<r;)this.add(e[t])}eb.prototype.add=eb.prototype.push=H0e;eb.prototype.has=q0e;var yz=eb;function G0e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var bz=G0e;function K0e(e,t){return e.has(t)}var _z=K0e,Y0e=yz,X0e=bz,Q0e=_z,J0e=1,Z0e=2;function ege(e,t,r,n,a,s){var o=r&J0e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Z0e?new Y0e:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=o?n(p,g,f,t,e,s):n(g,p,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!X0e(t,function(y,b){if(!Q0e(m,b)&&(g===y||a(g,y,r,n,s)))return m.push(b)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var wz=ege,tge=Nl,rge=tge.Uint8Array,nge=rge;function age(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var sge=age;function ige(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var bA=ige,pM=Qv,gM=nge,oge=sA,lge=wz,cge=sge,uge=bA,dge=1,fge=2,hge="[object Boolean]",mge="[object Date]",pge="[object Error]",gge="[object Map]",vge="[object Number]",xge="[object RegExp]",yge="[object Set]",bge="[object String]",_ge="[object Symbol]",wge="[object ArrayBuffer]",jge="[object DataView]",vM=pM?pM.prototype:void 0,FS=vM?vM.valueOf:void 0;function Sge(e,t,r,n,a,s,o){switch(r){case jge:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wge:return!(e.byteLength!=t.byteLength||!s(new gM(e),new gM(t)));case hge:case mge:case vge:return oge(+e,+t);case pge:return e.name==t.name&&e.message==t.message;case xge:case bge:return e==t+"";case gge:var l=cge;case yge:var c=n&dge;if(l||(l=uge),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=fge,o.set(e,t);var d=lge(l(e),l(t),n,a,s,o);return o.delete(e),d;case _ge:if(FS)return FS.call(e)==FS.call(t)}return!1}var Nge=Sge;function kge(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var jz=kge,Cge=jz,Ege=Bs;function Tge(e,t,r){var n=t(e);return Ege(e)?n:Cge(n,r(e))}var Age=Tge;function Pge(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var Oge=Pge;function Dge(){return[]}var Rge=Dge,Mge=Oge,Fge=Rge,Ige=Object.prototype,Lge=Ige.propertyIsEnumerable,xM=Object.getOwnPropertySymbols,$ge=xM?function(e){return e==null?[]:(e=Object(e),Mge(xM(e),function(t){return Lge.call(e,t)}))}:Fge,Bge=$ge;function Uge(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var zge=Uge,Vge=wc,Wge=jc,Hge="[object Arguments]";function qge(e){return Wge(e)&&Vge(e)==Hge}var Gge=qge,yM=Gge,Kge=jc,Sz=Object.prototype,Yge=Sz.hasOwnProperty,Xge=Sz.propertyIsEnumerable,Qge=yM(function(){return arguments}())?yM:function(e){return Kge(e)&&Yge.call(e,"callee")&&!Xge.call(e,"callee")},_A=Qge,tb={exports:{}};function Jge(){return!1}var Zge=Jge;tb.exports;(function(e,t){var r=Nl,n=Zge,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(tb,tb.exports);var Nz=tb.exports,eve=9007199254740991,tve=/^(?:0|[1-9]\d*)$/;function rve(e,t){var r=typeof e;return t=t??eve,!!t&&(r=="number"||r!="symbol"&&tve.test(e))&&e>-1&&e%1==0&&e<t}var wA=rve,nve=9007199254740991;function ave(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nve}var jA=ave,sve=wc,ive=jA,ove=jc,lve="[object Arguments]",cve="[object Array]",uve="[object Boolean]",dve="[object Date]",fve="[object Error]",hve="[object Function]",mve="[object Map]",pve="[object Number]",gve="[object Object]",vve="[object RegExp]",xve="[object Set]",yve="[object String]",bve="[object WeakMap]",_ve="[object ArrayBuffer]",wve="[object DataView]",jve="[object Float32Array]",Sve="[object Float64Array]",Nve="[object Int8Array]",kve="[object Int16Array]",Cve="[object Int32Array]",Eve="[object Uint8Array]",Tve="[object Uint8ClampedArray]",Ave="[object Uint16Array]",Pve="[object Uint32Array]",Dr={};Dr[jve]=Dr[Sve]=Dr[Nve]=Dr[kve]=Dr[Cve]=Dr[Eve]=Dr[Tve]=Dr[Ave]=Dr[Pve]=!0;Dr[lve]=Dr[cve]=Dr[_ve]=Dr[uve]=Dr[wve]=Dr[dve]=Dr[fve]=Dr[hve]=Dr[mve]=Dr[pve]=Dr[gve]=Dr[vve]=Dr[xve]=Dr[yve]=Dr[bve]=!1;function Ove(e){return ove(e)&&ive(e.length)&&!!Dr[sve(e)]}var Dve=Ove;function Rve(e){return function(t){return e(t)}}var kz=Rve,rb={exports:{}};rb.exports;(function(e,t){var r=R7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(rb,rb.exports);var Mve=rb.exports,Fve=Dve,Ive=kz,bM=Mve,_M=bM&&bM.isTypedArray,Lve=_M?Ive(_M):Fve,Cz=Lve,$ve=zge,Bve=_A,Uve=Bs,zve=Nz,Vve=wA,Wve=Cz,Hve=Object.prototype,qve=Hve.hasOwnProperty;function Gve(e,t){var r=Uve(e),n=!r&&Bve(e),a=!r&&!n&&zve(e),s=!r&&!n&&!a&&Wve(e),o=r||n||a||s,l=o?$ve(e.length,String):[],c=l.length;for(var u in e)(t||qve.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vve(u,c)))&&l.push(u);return l}var Kve=Gve,Yve=Object.prototype;function Xve(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Yve;return e===r}var Qve=Xve;function Jve(e,t){return function(r){return e(t(r))}}var Ez=Jve,Zve=Ez,exe=Zve(Object.keys,Object),txe=exe,rxe=Qve,nxe=txe,axe=Object.prototype,sxe=axe.hasOwnProperty;function ixe(e){if(!rxe(e))return nxe(e);var t=[];for(var r in Object(e))sxe.call(e,r)&&r!="constructor"&&t.push(r);return t}var oxe=ixe,lxe=aA,cxe=jA;function uxe(e){return e!=null&&cxe(e.length)&&!lxe(e)}var Zv=uxe,dxe=Kve,fxe=oxe,hxe=Zv;function mxe(e){return hxe(e)?dxe(e):fxe(e)}var Cw=mxe,pxe=Age,gxe=Bge,vxe=Cw;function xxe(e){return pxe(e,vxe,gxe)}var yxe=xxe,wM=yxe,bxe=1,_xe=Object.prototype,wxe=_xe.hasOwnProperty;function jxe(e,t,r,n,a,s){var o=r&bxe,l=wM(e),c=l.length,u=wM(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:wxe.call(t,h)))return!1}var m=s.get(e),g=s.get(t);if(m&&g)return m==t&&g==e;var p=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var y=e[h],b=t[h];if(n)var _=o?n(b,y,h,t,e,s):n(y,b,h,e,t,s);if(!(_===void 0?y===b||a(y,b,r,n,s):_)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var j=e.constructor,w=t.constructor;j!=w&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof w=="function"&&w instanceof w)&&(p=!1)}return s.delete(e),s.delete(t),p}var Sxe=jxe,Nxe=kf,kxe=Nl,Cxe=Nxe(kxe,"DataView"),Exe=Cxe,Txe=kf,Axe=Nl,Pxe=Txe(Axe,"Promise"),Oxe=Pxe,Dxe=kf,Rxe=Nl,Mxe=Dxe(Rxe,"Set"),Tz=Mxe,Fxe=kf,Ixe=Nl,Lxe=Fxe(Ixe,"WeakMap"),$xe=Lxe,Ck=Exe,Ek=iA,Tk=Oxe,Ak=Tz,Pk=$xe,Az=wc,Ep=F7,jM="[object Map]",Bxe="[object Object]",SM="[object Promise]",NM="[object Set]",kM="[object WeakMap]",CM="[object DataView]",Uxe=Ep(Ck),zxe=Ep(Ek),Vxe=Ep(Tk),Wxe=Ep(Ak),Hxe=Ep(Pk),ud=Az;(Ck&&ud(new Ck(new ArrayBuffer(1)))!=CM||Ek&&ud(new Ek)!=jM||Tk&&ud(Tk.resolve())!=SM||Ak&&ud(new Ak)!=NM||Pk&&ud(new Pk)!=kM)&&(ud=function(e){var t=Az(e),r=t==Bxe?e.constructor:void 0,n=r?Ep(r):"";if(n)switch(n){case Uxe:return CM;case zxe:return jM;case Vxe:return SM;case Wxe:return NM;case Hxe:return kM}return t});var qxe=ud,IS=xz,Gxe=wz,Kxe=Nge,Yxe=Sxe,EM=qxe,TM=Bs,AM=Nz,Xxe=Cz,Qxe=1,PM="[object Arguments]",OM="[object Array]",sy="[object Object]",Jxe=Object.prototype,DM=Jxe.hasOwnProperty;function Zxe(e,t,r,n,a,s){var o=TM(e),l=TM(t),c=o?OM:EM(e),u=l?OM:EM(t);c=c==PM?sy:c,u=u==PM?sy:u;var d=c==sy,f=u==sy,h=c==u;if(h&&AM(e)){if(!AM(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new IS),o||Xxe(e)?Gxe(e,t,r,n,a,s):Kxe(e,t,c,r,n,a,s);if(!(r&Qxe)){var m=d&&DM.call(e,"__wrapped__"),g=f&&DM.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return s||(s=new IS),a(p,v,r,n,s)}}return h?(s||(s=new IS),Yxe(e,t,r,n,a,s)):!1}var eye=Zxe,tye=eye,RM=jc;function Pz(e,t,r,n,a){return e===t?!0:e==null||t==null||!RM(e)&&!RM(t)?e!==e&&t!==t:tye(e,t,r,n,Pz,a)}var SA=Pz,rye=xz,nye=SA,aye=1,sye=2;function iye(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new rye;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?nye(d,u,aye|sye,n,f):h))return!1}}return!0}var oye=iye,lye=Yu;function cye(e){return e===e&&!lye(e)}var Oz=cye,uye=Oz,dye=Cw;function fye(e){for(var t=dye(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,uye(a)]}return t}var hye=fye;function mye(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Dz=mye,pye=oye,gye=hye,vye=Dz;function xye(e){var t=gye(e);return t.length==1&&t[0][2]?vye(t[0][0],t[0][1]):function(r){return r===e||pye(r,e,t)}}var yye=xye;function bye(e,t){return e!=null&&t in Object(e)}var _ye=bye,wye=U7,jye=_A,Sye=Bs,Nye=wA,kye=jA,Cye=fw;function Eye(e,t,r){t=wye(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=Cye(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&kye(a)&&Nye(o,a)&&(Sye(e)||jye(e)))}var Tye=Eye,Aye=_ye,Pye=Tye;function Oye(e,t){return e!=null&&Pye(e,t,Aye)}var Dye=Oye,Rye=SA,Mye=z7,Fye=Dye,Iye=nA,Lye=Oz,$ye=Dz,Bye=fw,Uye=1,zye=2;function Vye(e,t){return Iye(e)&&Lye(t)?$ye(Bye(e),t):function(r){var n=Mye(r,e);return n===void 0&&n===t?Fye(r,e):Rye(t,n,Uye|zye)}}var Wye=Vye;function Hye(e){return e}var Tp=Hye;function qye(e){return function(t){return t==null?void 0:t[e]}}var Gye=qye,Kye=uA;function Yye(e){return function(t){return Kye(t,e)}}var Xye=Yye,Qye=Gye,Jye=Xye,Zye=nA,e1e=fw;function t1e(e){return Zye(e)?Qye(e1e(e)):Jye(e)}var r1e=t1e,n1e=yye,a1e=Wye,s1e=Tp,i1e=Bs,o1e=r1e;function l1e(e){return typeof e=="function"?e:e==null?s1e:typeof e=="object"?i1e(e)?a1e(e[0],e[1]):n1e(e):o1e(e)}var kl=l1e;function c1e(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var Rz=c1e;function u1e(e){return e!==e}var d1e=u1e;function f1e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var h1e=f1e,m1e=Rz,p1e=d1e,g1e=h1e;function v1e(e,t,r){return t===t?g1e(e,t,r):m1e(e,p1e,r)}var x1e=v1e,y1e=x1e;function b1e(e,t){var r=e==null?0:e.length;return!!r&&y1e(e,t,0)>-1}var _1e=b1e;function w1e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var j1e=w1e;function S1e(){}var N1e=S1e,LS=Tz,k1e=N1e,C1e=bA,E1e=1/0,T1e=LS&&1/C1e(new LS([,-0]))[1]==E1e?function(e){return new LS(e)}:k1e,A1e=T1e,P1e=yz,O1e=_1e,D1e=j1e,R1e=_z,M1e=A1e,F1e=bA,I1e=200;function L1e(e,t,r){var n=-1,a=O1e,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=D1e;else if(s>=I1e){var u=t?null:M1e(e);if(u)return F1e(u);o=!1,a=R1e,c=new P1e}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var $1e=L1e,B1e=kl,U1e=$1e;function z1e(e,t){return e&&e.length?U1e(e,B1e(t)):[]}var V1e=z1e;const MM=fr(V1e);function Mz(e,t,r){return t===!0?MM(e,r):Ct(t)?MM(e,t):e}function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}var W1e=["ref"];function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(n){Ew(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iz(n.key),n)}}function q1e(e,t,r){return t&&IM(e.prototype,t),r&&IM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G1e(e,t,r){return t=nb(t),K1e(e,Fz()?Reflect.construct(t,r||[],nb(e).constructor):t.apply(e,r))}function K1e(e,t){if(t&&(km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1e(e)}function Y1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fz=function(){return!!e})()}function nb(e){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nb(e)}function X1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ok(e,t)}function Ok(e,t){return Ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ok(e,t)}function Ew(e,t,r){return t=Iz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iz(e){var t=Q1e(e,"string");return km(t)=="symbol"?t:t+""}function Q1e(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J1e(e,t){if(e==null)return{};var r=Z1e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Z1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ebe(e){return e.value}function tbe(e,t){if(ie.isValidElement(e))return ie.cloneElement(e,t);if(typeof e=="function")return ie.createElement(e,t);t.ref;var r=J1e(t,W1e);return ie.createElement(yA,r)}var LM=1,ii=function(e){function t(){var r;H1e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=G1e(this,t,[].concat(a)),Ew(r,"lastBoundingBox",{width:-1,height:-1}),r}return X1e(t,e),q1e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>LM||Math.abs(a.height-this.lastBoundingBox.height)>LM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Rl(Rl({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Rl(Rl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ie.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},tbe(s,Rl(Rl({},this.props),{},{payload:Mz(d,u,ebe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Rl(Rl({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&qe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);Ew(ii,"displayName","Legend");Ew(ii,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $M=Qv,rbe=_A,nbe=Bs,BM=$M?$M.isConcatSpreadable:void 0;function abe(e){return nbe(e)||rbe(e)||!!(BM&&e&&e[BM])}var sbe=abe,ibe=jz,obe=sbe;function Lz(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=obe),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?Lz(l,t-1,r,n,a):ibe(a,l):n||(a[a.length]=l)}return a}var $z=Lz;function lbe(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var cbe=lbe,ube=cbe,dbe=ube(),fbe=dbe,hbe=fbe,mbe=Cw;function pbe(e,t){return e&&hbe(e,t,mbe)}var Bz=pbe,gbe=Zv;function vbe(e,t){return function(r,n){if(r==null)return r;if(!gbe(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var xbe=vbe,ybe=Bz,bbe=xbe,_be=bbe(ybe),NA=_be,wbe=NA,jbe=Zv;function Sbe(e,t){var r=-1,n=jbe(e)?Array(e.length):[];return wbe(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var Uz=Sbe;function Nbe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var kbe=Nbe,UM=_p;function Cbe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=UM(e),o=t!==void 0,l=t===null,c=t===t,u=UM(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var Ebe=Cbe,Tbe=Ebe;function Abe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=Tbe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Pbe=Abe,$S=cA,Obe=uA,Dbe=kl,Rbe=Uz,Mbe=kbe,Fbe=kz,Ibe=Pbe,Lbe=Tp,$be=Bs;function Bbe(e,t,r){t.length?t=$S(t,function(s){return $be(s)?function(o){return Obe(o,s.length===1?s[0]:s)}:s}):t=[Lbe];var n=-1;t=$S(t,Fbe(Dbe));var a=Rbe(e,function(s,o,l){var c=$S(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return Mbe(a,function(s,o){return Ibe(s,o,r)})}var Ube=Bbe;function zbe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Vbe=zbe,Wbe=Vbe,zM=Math.max;function Hbe(e,t,r){return t=zM(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=zM(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Wbe(e,this,l)}}var qbe=Hbe;function Gbe(e){return function(){return e}}var Kbe=Gbe,Ybe=kf,Xbe=function(){try{var e=Ybe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),zz=Xbe,Qbe=Kbe,VM=zz,Jbe=Tp,Zbe=VM?function(e,t){return VM(e,"toString",{configurable:!0,enumerable:!1,value:Qbe(t),writable:!0})}:Jbe,e_e=Zbe,t_e=800,r_e=16,n_e=Date.now;function a_e(e){var t=0,r=0;return function(){var n=n_e(),a=r_e-(n-r);if(r=n,a>0){if(++t>=t_e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var s_e=a_e,i_e=e_e,o_e=s_e,l_e=o_e(i_e),c_e=l_e,u_e=Tp,d_e=qbe,f_e=c_e;function h_e(e,t){return f_e(d_e(e,t,u_e),e+"")}var m_e=h_e,p_e=sA,g_e=Zv,v_e=wA,x_e=Yu;function y_e(e,t,r){if(!x_e(r))return!1;var n=typeof t;return(n=="number"?g_e(r)&&v_e(t,r.length):n=="string"&&t in r)?p_e(r[t],e):!1}var Tw=y_e,b_e=$z,__e=Ube,w_e=m_e,WM=Tw,j_e=w_e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&WM(e,t[0],t[1])?t=[]:r>2&&WM(t[0],t[1],t[2])&&(t=[t[0]]),__e(e,b_e(t,1),[])}),S_e=j_e;const kA=fr(S_e);function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function Dk(){return Dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dk.apply(this,arguments)}function N_e(e,t){return T_e(e)||E_e(e,t)||C_e(e,t)||k_e()}function k_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C_e(e,t){if(e){if(typeof e=="string")return HM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HM(e,t)}}function HM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function T_e(e){if(Array.isArray(e))return e}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(n){A_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A_e(e,t,r){return t=P_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P_e(e){var t=O_e(e,"string");return Ig(t)=="symbol"?t:t+""}function O_e(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D_e(e){return Array.isArray(e)&&Tn(e[0])&&Tn(e[1])?e.join(" ~ "):e}var R_e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,_=function(){if(d&&d.length){var A={padding:0,margin:0},V=(h?kA(d,h):d).map(function(H,M){if(H.type==="none")return null;var F=BS({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),L=H.formatter||f||D_e,B=H.value,D=H.name,q=B,Y=D;if(L&&q!=null&&Y!=null){var P=L(B,D,H,M,d);if(Array.isArray(P)){var G=N_e(P,2);q=G[0],Y=G[1]}else q=P}return ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:F},Tn(Y)?ie.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Tn(Y)?ie.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ie.createElement("span",{className:"recharts-tooltip-item-value"},q),ie.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return ie.createElement("ul",{className:"recharts-tooltip-item-list",style:A},V)}return null},j=BS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),w=BS({margin:0},u),N=!Dt(p),S=N?p:"",k=Mt("recharts-default-tooltip",m),C=Mt("recharts-tooltip-label",g);N&&v&&d!==void 0&&d!==null&&(S=v(p,d));var T=b?{role:"status","aria-live":"assertive"}:{};return ie.createElement("div",Dk({className:k,style:j},T),ie.createElement("p",{className:C,style:w},ie.isValidElement(S)?S:"".concat(S)),_())};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function iy(e,t,r){return t=M_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M_e(e){var t=F_e(e,"string");return Lg(t)=="symbol"?t:t+""}function F_e(e,t){if(Lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e0="recharts-tooltip-wrapper",I_e={visibility:"hidden"};function L_e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Mt(e0,iy(iy(iy(iy({},"".concat(e0,"-right"),qe(r)&&t&&qe(t.x)&&r>=t.x),"".concat(e0,"-left"),qe(r)&&t&&qe(t.x)&&r<t.x),"".concat(e0,"-bottom"),qe(n)&&t&&qe(t.y)&&n>=t.y),"".concat(e0,"-top"),qe(n)&&t&&qe(t.y)&&n<t.y))}function GM(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&qe(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function $_e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function B_e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=GM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=GM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=$_e({translateX:d,translateY:f,useTranslate3d:l})):u=I_e,{cssProperties:u,cssClasses:L_e({translateX:d,translateY:f,coordinate:r})}}function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function KM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KM(Object(r),!0).forEach(function(n){Mk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wz(n.key),n)}}function V_e(e,t,r){return t&&z_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W_e(e,t,r){return t=ab(t),H_e(e,Vz()?Reflect.construct(t,r||[],ab(e).constructor):t.apply(e,r))}function H_e(e,t){if(t&&(Cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q_e(e)}function q_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vz=function(){return!!e})()}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ab(e)}function G_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rk(e,t)}function Rk(e,t){return Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rk(e,t)}function Mk(e,t,r){return t=Wz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=K_e(e,"string");return Cm(t)=="symbol"?t:t+""}function K_e(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XM=1,Y_e=function(e){function t(){var r;U_e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=W_e(this,t,[].concat(a)),Mk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Mk(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return G_e(t,e),V_e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>XM||Math.abs(n.height-this.state.lastBoundingBox.height)>XM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,_=B_e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),j=_.cssClasses,w=_.cssProperties,N=YM(YM({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ie.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(k){n.wrapperNode=k}},u)}}])}(x.PureComponent),X_e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},dl={isSsr:X_e(),get:function(t){return dl[t]},set:function(t,r){if(typeof t=="string")dl[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){dl[a]=t[a]})}}};function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){CA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qz(n.key),n)}}function Z_e(e,t,r){return t&&J_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ewe(e,t,r){return t=sb(t),twe(e,Hz()?Reflect.construct(t,r||[],sb(e).constructor):t.apply(e,r))}function twe(e,t){if(t&&(Em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rwe(e)}function rwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hz=function(){return!!e})()}function sb(e){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sb(e)}function nwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fk(e,t)}function Fk(e,t){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fk(e,t)}function CA(e,t,r){return t=qz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qz(e){var t=awe(e,"string");return Em(t)=="symbol"?t:t+""}function awe(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function swe(e){return e.dataKey}function iwe(e,t){return ie.isValidElement(e)?ie.cloneElement(e,t):typeof e=="function"?ie.createElement(e,t):ie.createElement(R_e,t)}var Qn=function(e){function t(){return Q_e(this,t),ewe(this,t,arguments)}return nwe(t,e),Z_e(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,_=a.viewBox,j=a.wrapperStyle,w=g??[];f&&w.length&&(w=Mz(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),p,swe));var N=w.length>0;return ie.createElement(Y_e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:m,position:v,reverseDirection:y,useTranslate3d:b,viewBox:_,wrapperStyle:j},iwe(u,JM(JM({},this.props),{},{payload:w})))}}])}(x.PureComponent);CA(Qn,"displayName","Tooltip");CA(Qn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!dl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var owe=Nl,lwe=function(){return owe.Date.now()},cwe=lwe,uwe=/\s/;function dwe(e){for(var t=e.length;t--&&uwe.test(e.charAt(t)););return t}var fwe=dwe,hwe=fwe,mwe=/^\s+/;function pwe(e){return e&&e.slice(0,hwe(e)+1).replace(mwe,"")}var gwe=pwe,vwe=gwe,ZM=Yu,xwe=_p,eF=NaN,ywe=/^[-+]0x[0-9a-f]+$/i,bwe=/^0b[01]+$/i,_we=/^0o[0-7]+$/i,wwe=parseInt;function jwe(e){if(typeof e=="number")return e;if(xwe(e))return eF;if(ZM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ZM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=vwe(e);var r=bwe.test(e);return r||_we.test(e)?wwe(e.slice(2),r?2:8):ywe.test(e)?eF:+e}var Gz=jwe,Swe=Yu,US=cwe,tF=Gz,Nwe="Expected a function",kwe=Math.max,Cwe=Math.min;function Ewe(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Nwe);t=tF(t)||0,Swe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?kwe(tF(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(N){var S=n,k=a;return n=a=void 0,u=N,o=e.apply(k,S),o}function g(N){return u=N,l=setTimeout(y,t),d?m(N):o}function p(N){var S=N-c,k=N-u,C=t-S;return f?Cwe(C,s-k):C}function v(N){var S=N-c,k=N-u;return c===void 0||S>=t||S<0||f&&k>=s}function y(){var N=US();if(v(N))return b(N);l=setTimeout(y,p(N))}function b(N){return l=void 0,h&&n?m(N):(n=a=void 0,o)}function _(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:b(US())}function w(){var N=US(),S=v(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return w.cancel=_,w.flush=j,w}var Twe=Ewe,Awe=Twe,Pwe=Yu,Owe="Expected a function";function Dwe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Owe);return Pwe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Awe(e,t,{leading:n,maxWait:t,trailing:a})}var Rwe=Dwe;const Kz=fr(Rwe);function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function rF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rF(Object(r),!0).forEach(function(n){Mwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mwe(e,t,r){return t=Fwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fwe(e){var t=Iwe(e,"string");return $g(t)=="symbol"?t:t+""}function Iwe(e,t){if($g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lwe(e,t){return zwe(e)||Uwe(e,t)||Bwe(e,t)||$we()}function $we(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bwe(e,t){if(e){if(typeof e=="string")return nF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nF(e,t)}}function nF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zwe(e){if(Array.isArray(e))return e}var ku=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,y=e.className,b=e.onResize,_=e.style,j=_===void 0?{}:_,w=x.useRef(null),N=x.useRef();N.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var S=x.useState({containerWidth:a.width,containerHeight:a.height}),k=Lwe(S,2),C=k[0],T=k[1],O=x.useCallback(function(V,H){T(function(M){var F=Math.round(V),L=Math.round(H);return M.containerWidth===F&&M.containerHeight===L?M:{containerWidth:F,containerHeight:L}})},[]);x.useEffect(function(){var V=function(D){var q,Y=D[0].contentRect,P=Y.width,G=Y.height;O(P,G),(q=N.current)===null||q===void 0||q.call(N,P,G)};p>0&&(V=Kz(V,p,{trailing:!0,leading:!1}));var H=new ResizeObserver(V),M=w.current.getBoundingClientRect(),F=M.width,L=M.height;return O(F,L),H.observe(w.current),function(){H.disconnect()}},[O,p]);var A=x.useMemo(function(){var V=C.containerWidth,H=C.containerHeight;if(V<0||H<0)return null;vo(bd(o)||bd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),vo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=bd(o)?V:o,F=bd(c)?H:c;r&&r>0&&(M?F=M/r:F&&(M=F*r),h&&F>h&&(F=h)),vo(M>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,F,o,c,d,f,r);var L=!Array.isArray(m)&&Zl(m.type).endsWith("Chart");return ie.Children.map(m,function(B){return ie.isValidElement(B)?x.cloneElement(B,oy({width:M,height:F},L?{style:oy({height:"100%",width:"100%",maxHeight:F,maxWidth:M},B.props.style)}:{})):B})},[r,m,c,h,f,d,C,o]);return ie.createElement("div",{id:v?"".concat(v):void 0,className:Mt("recharts-responsive-container",y),style:oy(oy({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},A)}),rl=function(t){return null};rl.displayName="Cell";function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function aF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aF(Object(r),!0).forEach(function(n){Vwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vwe(e,t,r){return t=Wwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wwe(e){var t=Hwe(e,"string");return Bg(t)=="symbol"?t:t+""}function Hwe(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gf={widthCache:{},cacheCount:0},qwe=2e3,Gwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sF="recharts_measurement_span";function Kwe(e){var t=Ik({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var W0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||dl.isSsr)return{width:0,height:0};var n=Kwe(r),a=JSON.stringify({text:t,copyStyle:n});if(Gf.widthCache[a])return Gf.widthCache[a];try{var s=document.getElementById(sF);s||(s=document.createElement("span"),s.setAttribute("id",sF),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Ik(Ik({},Gwe),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Gf.widthCache[a]=c,++Gf.cacheCount>qwe&&(Gf.cacheCount=0,Gf.widthCache={}),c}catch{return{width:0,height:0}}},Ywe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function ib(e,t){return Zwe(e)||Jwe(e,t)||Qwe(e,t)||Xwe()}function Xwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qwe(e,t){if(e){if(typeof e=="string")return iF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iF(e,t)}}function iF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Zwe(e){if(Array.isArray(e))return e}function eje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rje(n.key),n)}}function tje(e,t,r){return t&&oF(e.prototype,t),r&&oF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rje(e){var t=nje(e,"string");return Ug(t)=="symbol"?t:t+""}function nje(e,t){if(Ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aje=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sje=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Yz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ije=Object.keys(Yz),jh="NaN";function oje(e,t){return e*Yz[t]}var ly=function(){function e(t,r){eje(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!aje.test(r)&&(this.num=NaN,this.unit=""),ije.includes(r)&&(this.num=oje(t,r),this.unit="px")}return tje(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=sje.exec(r))!==null&&n!==void 0?n:[],s=ib(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function Xz(e){if(e.includes(jh))return jh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=lF.exec(t))!==null&&r!==void 0?r:[],a=ib(n,4),s=a[1],o=a[2],l=a[3],c=ly.parse(s??""),u=ly.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return jh;t=t.replace(lF,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=cF.exec(t))!==null&&f!==void 0?f:[],m=ib(h,4),g=m[1],p=m[2],v=m[3],y=ly.parse(g??""),b=ly.parse(v??""),_=p==="+"?y.add(b):y.subtract(b);if(_.isNaN())return jh;t=t.replace(cF,_.toString())}return t}var uF=/\(([^()]*)\)/;function lje(e){for(var t=e;t.includes("(");){var r=uF.exec(t),n=ib(r,2),a=n[1];t=t.replace(uF,Xz(a))}return t}function cje(e){var t=e.replace(/\s+/g,"");return t=lje(t),t=Xz(t),t}function uje(e){try{return cje(e)}catch{return jh}}function zS(e){var t=uje(e.slice(5,-1));return t===jh?"":t}var dje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fje=["dx","dy","angle","className","breakAll"];function Lk(){return Lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lk.apply(this,arguments)}function dF(e,t){if(e==null)return{};var r=hje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fF(e,t){return vje(e)||gje(e,t)||pje(e,t)||mje()}function mje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pje(e,t){if(e){if(typeof e=="string")return hF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hF(e,t)}}function hF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vje(e){if(Array.isArray(e))return e}var Qz=/[ \f\n\r\t\v\u2028\u2029]+/,Jz=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Dt(r)||(n?s=r.toString().split(""):s=r.toString().split(Qz));var o=s.map(function(c){return{word:c,width:W0(c,a).width}}),l=n?0:W0("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},xje=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=qe(o),f=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(F,L){var B=L.word,D=L.width,q=F[F.length-1];if(q&&(a==null||s||q.width+D+n<Number(a)))q.words.push(B),q.width+=D+n;else{var Y={words:[B],width:D};F.push(Y)}return F},[])},m=h(r),g=function(M){return M.reduce(function(F,L){return F.width>L.width?F:L})};if(!d)return m;for(var p="",v=function(M){var F=f.slice(0,M),L=Jz({breakAll:u,style:c,children:F+p}).wordsWithComputedWidth,B=h(L),D=B.length>o||g(B).width>Number(a);return[D,B]},y=0,b=f.length-1,_=0,j;y<=b&&_<=f.length-1;){var w=Math.floor((y+b)/2),N=w-1,S=v(N),k=fF(S,2),C=k[0],T=k[1],O=v(w),A=fF(O,1),V=A[0];if(!C&&!V&&(y=w+1),C&&V&&(b=w-1),!C&&V){j=T;break}_++}return j||m},mF=function(t){var r=Dt(t)?[]:t.toString().split(Qz);return[{words:r}]},yje=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!dl.isSsr){var c,u,d=Jz({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return mF(a);return xje({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return mF(a)},pF="#808080",uf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,y=v===void 0?pF:v,b=dF(t,dje),_=x.useMemo(function(){return yje({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,w=b.dy,N=b.angle,S=b.className,k=b.breakAll,C=dF(b,fje);if(!Tn(n)||!Tn(s))return null;var T=n+(qe(j)?j:0),O=s+(qe(w)?w:0),A;switch(p){case"start":A=zS("calc(".concat(u,")"));break;case"middle":A=zS("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:A=zS("calc(".concat(_.length-1," * -").concat(l,")"));break}var V=[];if(f){var H=_[0].width,M=b.width;V.push("scale(".concat((qe(M)?M/H:1)/H,")"))}return N&&V.push("rotate(".concat(N,", ").concat(T,", ").concat(O,")")),V.length&&(C.transform=V.join(" ")),ie.createElement("text",Lk({},wt(C,!0),{x:T,y:O,className:Mt("recharts-text",S),textAnchor:m,fill:y.includes("url")?pF:y}),_.map(function(F,L){var B=F.words.join(k?"":" ");return ie.createElement("tspan",{x:T,dy:L===0?A:l,key:"".concat(B,"-").concat(L)},B)}))};function Cu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function EA(e){let t,r,n;e.length!==2?(t=Cu,r=(l,c)=>Cu(e(l),c),n=(l,c)=>e(l)-c):(t=e===Cu||e===bje?e:_je,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function _je(){return 0}function Zz(e){return e===null?NaN:+e}function*wje(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const jje=EA(Cu),ex=jje.right;EA(Zz).center;class gF extends Map{constructor(t,r=kje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(vF(this,t))}has(t){return super.has(vF(this,t))}set(t,r){return super.set(Sje(this,t),r)}delete(t){return super.delete(Nje(this,t))}}function vF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Sje({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Nje({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function kje(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Cje(e=Cu){if(e===Cu)return eV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function eV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Eje=Math.sqrt(50),Tje=Math.sqrt(10),Aje=Math.sqrt(2);function ob(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=Eje?10:s>=Tje?5:s>=Aje?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ob(e,t,r*2):[l,c,u]}function $k(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?ob(t,e,r):ob(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Bk(e,t,r){return t=+t,e=+e,r=+r,ob(e,t,r)[2]}function Uk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Bk(t,e,r):Bk(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function xF(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function yF(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function tV(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?eV:Cje(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));tV(e,t,m,g,a)}const s=e[t];let o=r,l=n;for(t0(e,r,t),a(e[n],s)>0&&t0(e,r,n);o<l;){for(t0(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?t0(e,r,l):(++l,t0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function t0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Pje(e,t,r){if(e=Float64Array.from(wje(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return yF(e);if(t>=1)return xF(e);var n,a=(n-1)*t,s=Math.floor(a),o=xF(tV(e,s).subarray(0,s+1)),l=yF(e.subarray(s+1));return o+(l-o)*(a-s)}}function Oje(e,t,r=Zz){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function Dje(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Bi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Sc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zk=Symbol("implicit");function TA(){var e=new gF,t=[],r=[],n=zk;function a(s){let o=e.get(s);if(o===void 0){if(n!==zk)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new gF;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return TA(t,r).unknown(n)},Bi.apply(a,arguments),a}function zg(){var e=TA().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;s=(p-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(p-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=Dje(h).map(function(y){return g+s*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return zg(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Bi.apply(f(),arguments)}function rV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rV(t())},e}function H0(){return rV(zg.apply(null,arguments).paddingInner(1))}function AA(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function nV(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function tx(){}var Vg=.7,lb=1/Vg,zh="\\s*([+-]?\\d+)\\s*",Wg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rje=/^#([0-9a-f]{3,8})$/,Mje=new RegExp(`^rgb\\(${zh},${zh},${zh}\\)$`),Fje=new RegExp(`^rgb\\(${fl},${fl},${fl}\\)$`),Ije=new RegExp(`^rgba\\(${zh},${zh},${zh},${Wg}\\)$`),Lje=new RegExp(`^rgba\\(${fl},${fl},${fl},${Wg}\\)$`),$je=new RegExp(`^hsl\\(${Wg},${fl},${fl}\\)$`),Bje=new RegExp(`^hsla\\(${Wg},${fl},${fl},${Wg}\\)$`),bF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AA(tx,Hg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_F,formatHex:_F,formatHex8:Uje,formatHsl:zje,formatRgb:wF,toString:wF});function _F(){return this.rgb().formatHex()}function Uje(){return this.rgb().formatHex8()}function zje(){return aV(this).formatHsl()}function wF(){return this.rgb().formatRgb()}function Hg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Rje.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?jF(t):r===3?new Es(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?cy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?cy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mje.exec(e))?new Es(t[1],t[2],t[3],1):(t=Fje.exec(e))?new Es(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ije.exec(e))?cy(t[1],t[2],t[3],t[4]):(t=Lje.exec(e))?cy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$je.exec(e))?kF(t[1],t[2]/100,t[3]/100,1):(t=Bje.exec(e))?kF(t[1],t[2]/100,t[3]/100,t[4]):bF.hasOwnProperty(e)?jF(bF[e]):e==="transparent"?new Es(NaN,NaN,NaN,0):null}function jF(e){return new Es(e>>16&255,e>>8&255,e&255,1)}function cy(e,t,r,n){return n<=0&&(e=t=r=NaN),new Es(e,t,r,n)}function Vje(e){return e instanceof tx||(e=Hg(e)),e?(e=e.rgb(),new Es(e.r,e.g,e.b,e.opacity)):new Es}function Vk(e,t,r,n){return arguments.length===1?Vje(e):new Es(e,t,r,n??1)}function Es(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}AA(Es,Vk,nV(tx,{brighter(e){return e=e==null?lb:Math.pow(lb,e),new Es(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vg:Math.pow(Vg,e),new Es(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Es(Ud(this.r),Ud(this.g),Ud(this.b),cb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SF,formatHex:SF,formatHex8:Wje,formatRgb:NF,toString:NF}));function SF(){return`#${_d(this.r)}${_d(this.g)}${_d(this.b)}`}function Wje(){return`#${_d(this.r)}${_d(this.g)}${_d(this.b)}${_d((isNaN(this.opacity)?1:this.opacity)*255)}`}function NF(){const e=cb(this.opacity);return`${e===1?"rgb(":"rgba("}${Ud(this.r)}, ${Ud(this.g)}, ${Ud(this.b)}${e===1?")":`, ${e})`}`}function cb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ud(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _d(e){return e=Ud(e),(e<16?"0":"")+e.toString(16)}function kF(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new lo(e,t,r,n)}function aV(e){if(e instanceof lo)return new lo(e.h,e.s,e.l,e.opacity);if(e instanceof tx||(e=Hg(e)),!e)return new lo;if(e instanceof lo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new lo(o,l,c,e.opacity)}function Hje(e,t,r,n){return arguments.length===1?aV(e):new lo(e,t,r,n??1)}function lo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}AA(lo,Hje,nV(tx,{brighter(e){return e=e==null?lb:Math.pow(lb,e),new lo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vg:Math.pow(Vg,e),new lo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Es(VS(e>=240?e-240:e+120,a,n),VS(e,a,n),VS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new lo(CF(this.h),uy(this.s),uy(this.l),cb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cb(this.opacity);return`${e===1?"hsl(":"hsla("}${CF(this.h)}, ${uy(this.s)*100}%, ${uy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CF(e){return e=(e||0)%360,e<0?e+360:e}function uy(e){return Math.max(0,Math.min(1,e||0))}function VS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const PA=e=>()=>e;function qje(e,t){return function(r){return e+r*t}}function Gje(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Kje(e){return(e=+e)==1?sV:function(t,r){return r-t?Gje(t,r,e):PA(isNaN(t)?r:t)}}function sV(e,t){var r=t-e;return r?qje(e,r):PA(isNaN(e)?t:e)}const EF=function e(t){var r=Kje(t);function n(a,s){var o=r((a=Vk(a)).r,(s=Vk(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=sV(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Yje(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Xje(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qje(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Ap(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function Jje(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ub(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Zje(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ap(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Wk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WS=new RegExp(Wk.source,"g");function eSe(e){return function(){return e}}function tSe(e){return function(t){return e(t)+""}}function rSe(e,t){var r=Wk.lastIndex=WS.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Wk.exec(e))&&(a=WS.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ub(n,a)})),r=WS.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?tSe(c[0].x):eSe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Ap(e,t){var r=typeof t,n;return t==null||r==="boolean"?PA(t):(r==="number"?ub:r==="string"?(n=Hg(t))?(t=n,EF):rSe:t instanceof Hg?EF:t instanceof Date?Jje:Xje(t)?Yje:Array.isArray(t)?Qje:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zje:ub)(e,t)}function OA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nSe(e,t){t===void 0&&(t=e,e=Ap);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function aSe(e){return function(){return e}}function db(e){return+e}var TF=[0,1];function es(e){return e}function Hk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:aSe(isNaN(t)?NaN:.5)}function sSe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iSe(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=Hk(a,n),s=r(o,s)):(n=Hk(n,a),s=r(s,o)),function(l){return s(n(l))}}function oSe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Hk(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=ex(e,l,1,n)-1;return s[c](a[c](l))}}function rx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Aw(){var e=TF,t=TF,r=Ap,n,a,s,o=es,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==es&&(o=sSe(e[0],e[h-1])),l=h>2?oSe:iSe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),ub)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,db),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=OA,d()},f.clamp=function(h){return arguments.length?(o=h?!0:es,d()):o!==es},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function DA(){return Aw()(es,es)}function lSe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Tm(e){return e=fb(Math.abs(e)),e?e[1]:NaN}function cSe(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function uSe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qg(e){if(!(t=dSe.exec(e)))throw new Error("invalid format: "+e);var t;return new RA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qg.prototype=RA.prototype;function RA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}RA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fSe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var iV;function hSe(e,t){var r=fb(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(iV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+fb(e,Math.max(0,t+s-1))[0]}function AF(e,t){var r=fb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const PF={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lSe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>AF(e*100,t),r:AF,s:hSe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function OF(e){return e}var DF=Array.prototype.map,RF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mSe(e){var t=e.grouping===void 0||e.thousands===void 0?OF:cSe(DF.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?OF:uSe(DF.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=qg(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,y=f.width,b=f.comma,_=f.precision,j=f.trim,w=f.type;w==="n"?(b=!0,w="g"):PF[w]||(_===void 0&&(_=12),j=!0,w="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var N=p==="$"?r:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=p==="$"?n:/[%p]/.test(w)?o:"",k=PF[w],C=/[defgprs%]/.test(w);_=_===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function T(O){var A=N,V=S,H,M,F;if(w==="c")V=k(O)+V,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?c:k(Math.abs(O),_),j&&(O=fSe(O)),L&&+O==0&&g!=="+"&&(L=!1),A=(L?g==="("?g:l:g==="-"||g==="("?"":g)+A,V=(w==="s"?RF[8+iV/3]:"")+V+(L&&g==="("?")":""),C){for(H=-1,M=O.length;++H<M;)if(F=O.charCodeAt(H),48>F||F>57){V=(F===46?a+O.slice(H+1):O.slice(H))+V,O=O.slice(0,H);break}}}b&&!v&&(O=t(O,1/0));var B=A.length+O.length+V.length,D=B<y?new Array(y-B+1).join(h):"";switch(b&&v&&(O=t(D+O,D.length?y-V.length:1/0),D=""),m){case"<":O=A+O+V+D;break;case"=":O=A+D+O+V;break;case"^":O=D.slice(0,B=D.length>>1)+A+O+V+D.slice(B);break;default:O=D+A+O+V;break}return s(O)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=qg(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Tm(h)/3)))*3,p=Math.pow(10,-g),v=RF[8+g/3];return function(y){return m(p*y)+v}}return{format:u,formatPrefix:d}}var dy,MA,oV;pSe({thousands:",",grouping:[3],currency:["$",""]});function pSe(e){return dy=mSe(e),MA=dy.format,oV=dy.formatPrefix,dy}function gSe(e){return Math.max(0,-Tm(Math.abs(e)))}function vSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tm(t)/3)))*3-Tm(Math.abs(e)))}function xSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tm(t)-Tm(e))+1}function lV(e,t,r,n){var a=Uk(e,t,r),s;switch(n=qg(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=vSe(a,o))&&(n.precision=s),oV(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=xSe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=gSe(a))&&(n.precision=s-(n.type==="%")*2);break}}return MA(n)}function Xu(e){var t=e.domain;return e.ticks=function(r){var n=t();return $k(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return lV(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Bk(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function hb(){var e=DA();return e.copy=function(){return rx(e,hb())},Bi.apply(e,arguments),Xu(e)}function cV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,db),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return cV(e).unknown(t)},e=arguments.length?Array.from(e,db):[0,1],Xu(r)}function uV(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function MF(e){return Math.log(e)}function FF(e){return Math.exp(e)}function ySe(e){return-Math.log(-e)}function bSe(e){return-Math.exp(-e)}function _Se(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wSe(e){return e===10?_Se:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jSe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IF(e){return(t,r)=>-e(-t,r)}function FA(e){const t=e(MF,FF),r=t.domain;let n=10,a,s;function o(){return a=jSe(n),s=wSe(n),r()[0]<0?(a=IF(a),s=IF(s),e(ySe,bSe)):e(MF,FF),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;y.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;y.push(p)}y.length*2<v&&(y=$k(u,d,v))}else y=$k(h,m,Math.min(m-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=qg(c)).precision==null&&(c.trim=!0),c=MA(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(uV(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function dV(){const e=FA(Aw()).domain([1,10]);return e.copy=()=>rx(e,dV()).base(e.base()),Bi.apply(e,arguments),e}function LF(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $F(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function IA(e){var t=1,r=e(LF(t),$F(t));return r.constant=function(n){return arguments.length?e(LF(t=+n),$F(t)):t},Xu(r)}function fV(){var e=IA(Aw());return e.copy=function(){return rx(e,fV()).constant(e.constant())},Bi.apply(e,arguments)}function BF(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function SSe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function NSe(e){return e<0?-e*e:e*e}function LA(e){var t=e(es,es),r=1;function n(){return r===1?e(es,es):r===.5?e(SSe,NSe):e(BF(r),BF(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Xu(t)}function $A(){var e=LA(Aw());return e.copy=function(){return rx(e,$A()).exponent(e.exponent())},Bi.apply(e,arguments),e}function kSe(){return $A.apply(null,arguments).exponent(.5)}function UF(e){return Math.sign(e)*e*e}function CSe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function hV(){var e=DA(),t=[0,1],r=!1,n;function a(s){var o=CSe(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(UF(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,db)).map(UF)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return hV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Bi.apply(a,arguments),Xu(a)}function mV(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Oje(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[ex(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Cu),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return mV().domain(e).range(t).unknown(n)},Bi.apply(s,arguments)}function pV(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[ex(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return pV().domain([e,t]).range(a).unknown(s)},Bi.apply(Xu(o),arguments)}function gV(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[ex(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return gV().domain(e).range(t).unknown(r)},Bi.apply(a,arguments)}const HS=new Date,qS=new Date;function Rn(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Rn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(HS.setTime(+s),qS.setTime(+o),e(HS),e(qS),Math.floor(r(HS,qS))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const mb=Rn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):mb);mb.range;const Gl=1e3,Ei=Gl*60,Kl=Ei*60,mc=Kl*24,BA=mc*7,zF=mc*30,GS=mc*365,wd=Rn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gl)},(e,t)=>(t-e)/Gl,e=>e.getUTCSeconds());wd.range;const UA=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gl)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getMinutes());UA.range;const zA=Rn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCMinutes());zA.range;const VA=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gl-e.getMinutes()*Ei)},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getHours());VA.range;const WA=Rn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getUTCHours());WA.range;const nx=Rn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ei)/mc,e=>e.getDate()-1);nx.range;const Pw=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mc,e=>e.getUTCDate()-1);Pw.range;const vV=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mc,e=>Math.floor(e/mc));vV.range;function Cf(e){return Rn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ei)/BA)}const Ow=Cf(0),pb=Cf(1),ESe=Cf(2),TSe=Cf(3),Am=Cf(4),ASe=Cf(5),PSe=Cf(6);Ow.range;pb.range;ESe.range;TSe.range;Am.range;ASe.range;PSe.range;function Ef(e){return Rn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/BA)}const Dw=Ef(0),gb=Ef(1),OSe=Ef(2),DSe=Ef(3),Pm=Ef(4),RSe=Ef(5),MSe=Ef(6);Dw.range;gb.range;OSe.range;DSe.range;Pm.range;RSe.range;MSe.range;const HA=Rn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());HA.range;const qA=Rn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());qA.range;const pc=Rn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pc.range;const gc=Rn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});gc.range;function xV(e,t,r,n,a,s){const o=[[wd,1,Gl],[wd,5,5*Gl],[wd,15,15*Gl],[wd,30,30*Gl],[s,1,Ei],[s,5,5*Ei],[s,15,15*Ei],[s,30,30*Ei],[a,1,Kl],[a,3,3*Kl],[a,6,6*Kl],[a,12,12*Kl],[n,1,mc],[n,2,2*mc],[r,1,BA],[t,1,zF],[t,3,3*zF],[e,1,GS]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=EA(([,,v])=>v).right(o,h);if(m===o.length)return e.every(Uk(u/GS,d/GS,f));if(m===0)return mb.every(Math.max(Uk(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[FSe,ISe]=xV(gc,qA,Dw,vV,WA,zA),[LSe,$Se]=xV(pc,HA,Ow,nx,VA,UA);function KS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function YS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function r0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function BSe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=n0(a),d=a0(a),f=n0(s),h=a0(s),m=n0(o),g=a0(o),p=n0(l),v=a0(l),y=n0(c),b=a0(c),_={a:L,A:B,b:D,B:q,c:null,d:KF,e:KF,f:c2e,g:y2e,G:_2e,H:i2e,I:o2e,j:l2e,L:yV,m:u2e,M:d2e,p:Y,q:P,Q:QF,s:JF,S:f2e,u:h2e,U:m2e,V:p2e,w:g2e,W:v2e,x:null,X:null,y:x2e,Y:b2e,Z:w2e,"%":XF},j={a:G,A:K,b:Z,B:se,c:null,d:YF,e:YF,f:k2e,g:F2e,G:L2e,H:j2e,I:S2e,j:N2e,L:_V,m:C2e,M:E2e,p:oe,q:xe,Q:QF,s:JF,S:T2e,u:A2e,U:P2e,V:O2e,w:D2e,W:R2e,x:null,X:null,y:M2e,Y:I2e,Z:$2e,"%":XF},w={a:T,A:O,b:A,B:V,c:H,d:qF,e:qF,f:r2e,g:HF,G:WF,H:GF,I:GF,j:JSe,L:t2e,m:QSe,M:ZSe,p:C,q:XSe,Q:a2e,s:s2e,S:e2e,u:HSe,U:qSe,V:GSe,w:WSe,W:KSe,x:M,X:F,y:HF,Y:WF,Z:YSe,"%":n2e};_.x=N(r,_),_.X=N(n,_),_.c=N(t,_),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(z,W){return function(ce){var E=[],Pe=-1,Re=0,pe=z.length,Me,be,Ge;for(ce instanceof Date||(ce=new Date(+ce));++Pe<pe;)z.charCodeAt(Pe)===37&&(E.push(z.slice(Re,Pe)),(be=VF[Me=z.charAt(++Pe)])!=null?Me=z.charAt(++Pe):be=Me==="e"?" ":"0",(Ge=W[Me])&&(Me=Ge(ce,be)),E.push(Me),Re=Pe+1);return E.push(z.slice(Re,Pe)),E.join("")}}function S(z,W){return function(ce){var E=r0(1900,void 0,1),Pe=k(E,z,ce+="",0),Re,pe;if(Pe!=ce.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(W&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(Re=YS(r0(E.y,0,1)),pe=Re.getUTCDay(),Re=pe>4||pe===0?gb.ceil(Re):gb(Re),Re=Pw.offset(Re,(E.V-1)*7),E.y=Re.getUTCFullYear(),E.m=Re.getUTCMonth(),E.d=Re.getUTCDate()+(E.w+6)%7):(Re=KS(r0(E.y,0,1)),pe=Re.getDay(),Re=pe>4||pe===0?pb.ceil(Re):pb(Re),Re=nx.offset(Re,(E.V-1)*7),E.y=Re.getFullYear(),E.m=Re.getMonth(),E.d=Re.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),pe="Z"in E?YS(r0(E.y,0,1)).getUTCDay():KS(r0(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(pe+5)%7:E.w+E.U*7-(pe+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,YS(E)):KS(E)}}function k(z,W,ce,E){for(var Pe=0,Re=W.length,pe=ce.length,Me,be;Pe<Re;){if(E>=pe)return-1;if(Me=W.charCodeAt(Pe++),Me===37){if(Me=W.charAt(Pe++),be=w[Me in VF?W.charAt(Pe++):Me],!be||(E=be(z,ce,E))<0)return-1}else if(Me!=ce.charCodeAt(E++))return-1}return E}function C(z,W,ce){var E=u.exec(W.slice(ce));return E?(z.p=d.get(E[0].toLowerCase()),ce+E[0].length):-1}function T(z,W,ce){var E=m.exec(W.slice(ce));return E?(z.w=g.get(E[0].toLowerCase()),ce+E[0].length):-1}function O(z,W,ce){var E=f.exec(W.slice(ce));return E?(z.w=h.get(E[0].toLowerCase()),ce+E[0].length):-1}function A(z,W,ce){var E=y.exec(W.slice(ce));return E?(z.m=b.get(E[0].toLowerCase()),ce+E[0].length):-1}function V(z,W,ce){var E=p.exec(W.slice(ce));return E?(z.m=v.get(E[0].toLowerCase()),ce+E[0].length):-1}function H(z,W,ce){return k(z,t,W,ce)}function M(z,W,ce){return k(z,r,W,ce)}function F(z,W,ce){return k(z,n,W,ce)}function L(z){return o[z.getDay()]}function B(z){return s[z.getDay()]}function D(z){return c[z.getMonth()]}function q(z){return l[z.getMonth()]}function Y(z){return a[+(z.getHours()>=12)]}function P(z){return 1+~~(z.getMonth()/3)}function G(z){return o[z.getUTCDay()]}function K(z){return s[z.getUTCDay()]}function Z(z){return c[z.getUTCMonth()]}function se(z){return l[z.getUTCMonth()]}function oe(z){return a[+(z.getUTCHours()>=12)]}function xe(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var W=N(z+="",_);return W.toString=function(){return z},W},parse:function(z){var W=S(z+="",!1);return W.toString=function(){return z},W},utcFormat:function(z){var W=N(z+="",j);return W.toString=function(){return z},W},utcParse:function(z){var W=S(z+="",!0);return W.toString=function(){return z},W}}}var VF={"-":"",_:" ",0:"0"},Hn=/^\s*\d+/,USe=/^%/,zSe=/[\\^$*+?|[\]().{}]/g;function lr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function VSe(e){return e.replace(zSe,"\\$&")}function n0(e){return new RegExp("^(?:"+e.map(VSe).join("|")+")","i")}function a0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function WSe(e,t,r){var n=Hn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function HSe(e,t,r){var n=Hn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qSe(e,t,r){var n=Hn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function GSe(e,t,r){var n=Hn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function KSe(e,t,r){var n=Hn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function WF(e,t,r){var n=Hn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function HF(e,t,r){var n=Hn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function YSe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function XSe(e,t,r){var n=Hn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function QSe(e,t,r){var n=Hn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function qF(e,t,r){var n=Hn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function JSe(e,t,r){var n=Hn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function GF(e,t,r){var n=Hn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ZSe(e,t,r){var n=Hn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function e2e(e,t,r){var n=Hn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function t2e(e,t,r){var n=Hn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function r2e(e,t,r){var n=Hn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function n2e(e,t,r){var n=USe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function a2e(e,t,r){var n=Hn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function s2e(e,t,r){var n=Hn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function KF(e,t){return lr(e.getDate(),t,2)}function i2e(e,t){return lr(e.getHours(),t,2)}function o2e(e,t){return lr(e.getHours()%12||12,t,2)}function l2e(e,t){return lr(1+nx.count(pc(e),e),t,3)}function yV(e,t){return lr(e.getMilliseconds(),t,3)}function c2e(e,t){return yV(e,t)+"000"}function u2e(e,t){return lr(e.getMonth()+1,t,2)}function d2e(e,t){return lr(e.getMinutes(),t,2)}function f2e(e,t){return lr(e.getSeconds(),t,2)}function h2e(e){var t=e.getDay();return t===0?7:t}function m2e(e,t){return lr(Ow.count(pc(e)-1,e),t,2)}function bV(e){var t=e.getDay();return t>=4||t===0?Am(e):Am.ceil(e)}function p2e(e,t){return e=bV(e),lr(Am.count(pc(e),e)+(pc(e).getDay()===4),t,2)}function g2e(e){return e.getDay()}function v2e(e,t){return lr(pb.count(pc(e)-1,e),t,2)}function x2e(e,t){return lr(e.getFullYear()%100,t,2)}function y2e(e,t){return e=bV(e),lr(e.getFullYear()%100,t,2)}function b2e(e,t){return lr(e.getFullYear()%1e4,t,4)}function _2e(e,t){var r=e.getDay();return e=r>=4||r===0?Am(e):Am.ceil(e),lr(e.getFullYear()%1e4,t,4)}function w2e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lr(t/60|0,"0",2)+lr(t%60,"0",2)}function YF(e,t){return lr(e.getUTCDate(),t,2)}function j2e(e,t){return lr(e.getUTCHours(),t,2)}function S2e(e,t){return lr(e.getUTCHours()%12||12,t,2)}function N2e(e,t){return lr(1+Pw.count(gc(e),e),t,3)}function _V(e,t){return lr(e.getUTCMilliseconds(),t,3)}function k2e(e,t){return _V(e,t)+"000"}function C2e(e,t){return lr(e.getUTCMonth()+1,t,2)}function E2e(e,t){return lr(e.getUTCMinutes(),t,2)}function T2e(e,t){return lr(e.getUTCSeconds(),t,2)}function A2e(e){var t=e.getUTCDay();return t===0?7:t}function P2e(e,t){return lr(Dw.count(gc(e)-1,e),t,2)}function wV(e){var t=e.getUTCDay();return t>=4||t===0?Pm(e):Pm.ceil(e)}function O2e(e,t){return e=wV(e),lr(Pm.count(gc(e),e)+(gc(e).getUTCDay()===4),t,2)}function D2e(e){return e.getUTCDay()}function R2e(e,t){return lr(gb.count(gc(e)-1,e),t,2)}function M2e(e,t){return lr(e.getUTCFullYear()%100,t,2)}function F2e(e,t){return e=wV(e),lr(e.getUTCFullYear()%100,t,2)}function I2e(e,t){return lr(e.getUTCFullYear()%1e4,t,4)}function L2e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pm(e):Pm.ceil(e),lr(e.getUTCFullYear()%1e4,t,4)}function $2e(){return"+0000"}function XF(){return"%"}function QF(e){return+e}function JF(e){return Math.floor(+e/1e3)}var Kf,jV,SV;B2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function B2e(e){return Kf=BSe(e),jV=Kf.format,Kf.parse,SV=Kf.utcFormat,Kf.utcParse,Kf}function U2e(e){return new Date(e)}function z2e(e){return e instanceof Date?+e:+new Date(+e)}function GA(e,t,r,n,a,s,o,l,c,u){var d=DA(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),_=u("%B"),j=u("%Y");function w(N){return(c(N)<N?m:l(N)<N?g:o(N)<N?p:s(N)<N?v:n(N)<N?a(N)<N?y:b:r(N)<N?_:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,z2e)):h().map(U2e)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?w:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(uV(S,N)):d},d.copy=function(){return rx(d,GA(e,t,r,n,a,s,o,l,c,u))},d}function V2e(){return Bi.apply(GA(LSe,$Se,pc,HA,Ow,nx,VA,UA,wd,jV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function W2e(){return Bi.apply(GA(FSe,ISe,gc,qA,Dw,Pw,WA,zA,wd,SV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rw(){var e=0,t=1,r,n,a,s,o=es,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(Ap),u.rangeRound=d(OA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Qu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function NV(){var e=Xu(Rw()(es));return e.copy=function(){return Qu(e,NV())},Sc.apply(e,arguments)}function kV(){var e=FA(Rw()).domain([1,10]);return e.copy=function(){return Qu(e,kV()).base(e.base())},Sc.apply(e,arguments)}function CV(){var e=IA(Rw());return e.copy=function(){return Qu(e,CV()).constant(e.constant())},Sc.apply(e,arguments)}function KA(){var e=LA(Rw());return e.copy=function(){return Qu(e,KA()).exponent(e.exponent())},Sc.apply(e,arguments)}function H2e(){return KA.apply(null,arguments).exponent(.5)}function EV(){var e=[],t=es;function r(n){if(n!=null&&!isNaN(n=+n))return t((ex(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Cu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Pje(e,s/n))},r.copy=function(){return EV(t).domain(e)},Sc.apply(r,arguments)}function Mw(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=es,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-s)*(n*p<n*s?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var y,b,_;return arguments.length?([y,b,_]=v,u=nSe(p,[y,b,_]),m):[u(0),u(.5),u(1)]}}return m.range=g(Ap),m.rangeRound=g(OA),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),s=p(t),o=p(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function TV(){var e=Xu(Mw()(es));return e.copy=function(){return Qu(e,TV())},Sc.apply(e,arguments)}function AV(){var e=FA(Mw()).domain([.1,1,10]);return e.copy=function(){return Qu(e,AV()).base(e.base())},Sc.apply(e,arguments)}function PV(){var e=IA(Mw());return e.copy=function(){return Qu(e,PV()).constant(e.constant())},Sc.apply(e,arguments)}function YA(){var e=LA(Mw());return e.copy=function(){return Qu(e,YA()).exponent(e.exponent())},Sc.apply(e,arguments)}function q2e(){return YA.apply(null,arguments).exponent(.5)}const ZF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zg,scaleDiverging:TV,scaleDivergingLog:AV,scaleDivergingPow:YA,scaleDivergingSqrt:q2e,scaleDivergingSymlog:PV,scaleIdentity:cV,scaleImplicit:zk,scaleLinear:hb,scaleLog:dV,scaleOrdinal:TA,scalePoint:H0,scalePow:$A,scaleQuantile:mV,scaleQuantize:pV,scaleRadial:hV,scaleSequential:NV,scaleSequentialLog:kV,scaleSequentialPow:KA,scaleSequentialQuantile:EV,scaleSequentialSqrt:H2e,scaleSequentialSymlog:CV,scaleSqrt:kSe,scaleSymlog:fV,scaleThreshold:gV,scaleTime:V2e,scaleUtc:W2e,tickFormat:lV},Symbol.toStringTag,{value:"Module"}));var G2e=_p;function K2e(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!G2e(o):r(o,l)))var l=o,c=s}return c}var Fw=K2e;function Y2e(e,t){return e>t}var OV=Y2e,X2e=Fw,Q2e=OV,J2e=Tp;function Z2e(e){return e&&e.length?X2e(e,J2e,Q2e):void 0}var eNe=Z2e;const Iw=fr(eNe);function tNe(e,t){return e<t}var DV=tNe,rNe=Fw,nNe=DV,aNe=Tp;function sNe(e){return e&&e.length?rNe(e,aNe,nNe):void 0}var iNe=sNe;const Lw=fr(iNe);var oNe=cA,lNe=kl,cNe=Uz,uNe=Bs;function dNe(e,t){var r=uNe(e)?oNe:cNe;return r(e,lNe(t))}var fNe=dNe,hNe=$z,mNe=fNe;function pNe(e,t){return hNe(mNe(e,t),1)}var gNe=pNe;const vNe=fr(gNe);var xNe=SA;function yNe(e,t){return xNe(e,t)}var bNe=yNe;const ax=fr(bNe);var Pp=1e9,_Ne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QA,$r=!0,Fi="[DecimalError] ",zd=Fi+"Invalid argument: ",XA=Fi+"Exponent out of range: ",Op=Math.floor,dd=Math.pow,wNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Js,In=1e7,Rr=7,RV=9007199254740991,vb=Op(RV/Rr),ut={};ut.absoluteValue=ut.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ut.comparedTo=ut.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ut.decimalPlaces=ut.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Rr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ut.dividedBy=ut.div=function(e){return ec(this,new this.constructor(e))};ut.dividedToIntegerBy=ut.idiv=function(e){var t=this,r=t.constructor;return br(ec(t,new r(e),0,1),r.precision)};ut.equals=ut.eq=function(e){return!this.cmp(e)};ut.exponent=function(){return vn(this)};ut.greaterThan=ut.gt=function(e){return this.cmp(e)>0};ut.greaterThanOrEqualTo=ut.gte=function(e){return this.cmp(e)>=0};ut.isInteger=ut.isint=function(){return this.e>this.d.length-2};ut.isNegative=ut.isneg=function(){return this.s<0};ut.isPositive=ut.ispos=function(){return this.s>0};ut.isZero=function(){return this.s===0};ut.lessThan=ut.lt=function(e){return this.cmp(e)<0};ut.lessThanOrEqualTo=ut.lte=function(e){return this.cmp(e)<1};ut.logarithm=ut.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Js))throw Error(Fi+"NaN");if(r.s<1)throw Error(Fi+(r.s?"NaN":"-Infinity"));return r.eq(Js)?new n(0):($r=!1,t=ec(Gg(r,s),Gg(e,s),s),$r=!0,br(t,a))};ut.minus=ut.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IV(t,e):MV(t,(e.s=-e.s,e))};ut.modulo=ut.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Fi+"NaN");return r.s?($r=!1,t=ec(r,e,0,1).times(e),$r=!0,r.minus(t)):br(new n(r),a)};ut.naturalExponential=ut.exp=function(){return FV(this)};ut.naturalLogarithm=ut.ln=function(){return Gg(this)};ut.negated=ut.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ut.plus=ut.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MV(t,e):IV(t,(e.s=-e.s,e))};ut.precision=ut.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zd+e);if(t=vn(a)+1,n=a.d.length-1,r=n*Rr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ut.squareRoot=ut.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Fi+"NaN")}for(e=vn(l),$r=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=il(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Op((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(ec(l,s,o+2)).times(.5),il(s.d).slice(0,o)===(t=il(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(br(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return $r=!0,br(n,r)};ut.times=ut.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%In|0,t=l/In|0;s[a]=(s[a]+t)%In|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,$r?br(e,f.precision):e};ut.toDecimalPlaces=ut.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(yl(e,0,Pp),t===void 0?t=n.rounding:yl(t,0,8),br(r,e+vn(r)+1,t))};ut.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=df(n,!0):(yl(e,0,Pp),t===void 0?t=a.rounding:yl(t,0,8),n=br(new a(n),e+1,t),r=df(n,!0,e+1)),r};ut.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?df(a):(yl(e,0,Pp),t===void 0?t=s.rounding:yl(t,0,8),n=br(new s(a),e+vn(a)+1,t),r=df(n.abs(),!1,e+vn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ut.toInteger=ut.toint=function(){var e=this,t=e.constructor;return br(new t(e),vn(e)+1,t.rounding)};ut.toNumber=function(){return+this};ut.toPower=ut.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Js);if(l=new c(l),!l.s){if(e.s<1)throw Error(Fi+"Infinity");return l}if(l.eq(Js))return l;if(n=c.precision,e.eq(Js))return br(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=RV){for(a=new c(Js),t=Math.ceil(n/Rr+4),$r=!1;r%2&&(a=a.times(l),t3(a.d,t)),r=Op(r/2),r!==0;)l=l.times(l),t3(l.d,t);return $r=!0,e.s<0?new c(Js).div(a):br(a,n)}}else if(s<0)throw Error(Fi+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,$r=!1,a=e.times(Gg(l,n+u)),$r=!0,a=FV(a),a.s=s,a};ut.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=vn(a),n=df(a,r<=s.toExpNeg||r>=s.toExpPos)):(yl(e,1,Pp),t===void 0?t=s.rounding:yl(t,0,8),a=br(new s(a),e,t),r=vn(a),n=df(a,e<=r||r<=s.toExpNeg,e)),n};ut.toSignificantDigits=ut.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(yl(e,1,Pp),t===void 0?t=n.rounding:yl(t,0,8)),br(new n(r),e,t)};ut.toString=ut.valueOf=ut.val=ut.toJSON=ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vn(e),r=e.constructor;return df(e,t<=r.toExpNeg||t>=r.toExpPos)};function MV(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),$r?br(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Rr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/In|0,c[s]%=In;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,$r?br(t,f):t}function yl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zd+e)}function il(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Rr-n.length,r&&(s+=Vc(r)),s+=n;o=e[t],n=o+"",r=Rr-n.length,r&&(s+=Vc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ec=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%In|0,o=s/In|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*In+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,g,p,v,y,b,_,j,w,N,S,k,C=n.constructor,T=n.s==a.s?1:-1,O=n.d,A=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Fi+"Division by zero");for(c=n.e-a.e,S=A.length,w=O.length,m=new C(T),g=m.d=[],u=0;A[u]==(O[u]||0);)++u;if(A[u]>(O[u]||0)&&--c,s==null?b=s=C.precision:o?b=s+(vn(n)-vn(a))+1:b=s,b<0)return new C(0);if(b=b/Rr+2|0,u=0,S==1)for(d=0,A=A[0],b++;(u<w||d)&&b--;u++)_=d*In+(O[u]||0),g[u]=_/A|0,d=_%A|0;else{for(d=In/(A[0]+1)|0,d>1&&(A=e(A,d),O=e(O,d),S=A.length,w=O.length),j=S,p=O.slice(0,S),v=p.length;v<S;)p[v++]=0;k=A.slice(),k.unshift(0),N=A[0],A[1]>=In/2&&++N;do d=0,l=t(A,p,S,v),l<0?(y=p[0],S!=v&&(y=y*In+(p[1]||0)),d=y/N|0,d>1?(d>=In&&(d=In-1),f=e(A,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,S<h?k:A,h))):(d==0&&(l=d=1),f=A.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(A,p,S,v),l<1&&(d++,r(p,S<v?k:A,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=O[j]||0:(p=[O[j]],v=1);while((j++<w||p[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=c,br(m,o?s+vn(m)+1:s)}}();function FV(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(vn(e)>16)throw Error(XA+vn(e));if(!e.s)return new d(Js);for(t==null?($r=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(dd(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Js),d.precision=l;;){if(a=br(a.times(e),l),r=r.times(++c),o=s.plus(ec(a,r,l)),il(o.d).slice(0,l)===il(s.d).slice(0,l)){for(;u--;)s=br(s.times(s),l);return d.precision=f,t==null?($r=!0,br(s,f)):s}s=o}}function vn(e){for(var t=e.e*Rr,r=e.d[0];r>=10;r/=10)t++;return t}function XS(e,t,r){if(t>e.LN10.sd())throw $r=!0,r&&(e.precision=r),Error(Fi+"LN10 precision limit exceeded");return br(new e(e.LN10),t)}function Vc(e){for(var t="";e--;)t+="0";return t}function Gg(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Fi+(m.s?"NaN":"-Infinity"));if(m.eq(Js))return new p(0);if(t==null?($r=!1,u=v):u=t,m.eq(10))return t==null&&($r=!0),XS(p,u);if(u+=h,p.precision=u,r=il(g),n=r.charAt(0),s=vn(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=il(m.d),n=r.charAt(0),f++;s=vn(m),n>1?(m=new p("0."+r),s++):m=new p(n+"."+r.slice(1))}else return c=XS(p,u+2,v).times(s+""),m=Gg(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?($r=!0,br(m,v)):m;for(l=o=m=ec(m.minus(Js),m.plus(Js),u),d=br(m.times(m),u),a=3;;){if(o=br(o.times(d),u),c=l.plus(ec(o,new p(a),u)),il(c.d).slice(0,u)===il(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(XS(p,u+2,v).times(s+""))),l=ec(l,new p(f),u),p.precision=v,t==null?($r=!0,br(l,v)):l;l=c,a+=2}}function e3(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Op(r/Rr),e.d=[],n=(r+1)%Rr,r<0&&(n+=Rr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Rr;n<a;)e.d.push(+t.slice(n,n+=Rr));t=t.slice(n),n=Rr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),$r&&(e.e>vb||e.e<-vb))throw Error(XA+r)}else e.s=0,e.e=0,e.d=[0];return e}function br(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Rr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Rr),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=Rr,a=n-Rr+o}if(r!==void 0&&(s=dd(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/dd(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=vn(e),f.length=1,t=t-s-1,f[0]=dd(10,(Rr-t%Rr)%Rr),e.e=Op(-t/Rr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=dd(10,Rr-n),f[d]=a>0?(u/dd(10,o-a)%dd(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==In&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=In)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if($r&&(e.e>vb||e.e<-vb))throw Error(XA+vn(e));return e}function IV(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),$r?br(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Rr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=In-1;--c[s],c[a]+=In}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,$r?br(t,m):t):new h(0)}function df(e,t,r){var n,a=vn(e),s=il(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Vc(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Vc(-a-1)+s,r&&(n=r-o)>0&&(s+=Vc(n))):a>=o?(s+=Vc(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Vc(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Vc(n))),e.s<0?"-"+s:s}function t3(e,t){if(e.length>t)return e.length=t,!0}function LV(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(zd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return e3(o,s.toString())}else if(typeof s!="string")throw Error(zd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,wNe.test(s))e3(o,s);else throw Error(zd+s)}if(a.prototype=ut,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=LV,a.config=a.set=jNe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function jNe(e){if(!e||typeof e!="object")throw Error(Fi+"Object expected");var t,r,n,a=["precision",1,Pp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Op(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(zd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zd+r+": "+n);return this}var QA=LV(_Ne);Js=new QA(1);const yr=QA;function SNe(e){return ENe(e)||CNe(e)||kNe(e)||NNe()}function NNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kNe(e,t){if(e){if(typeof e=="string")return qk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qk(e,t)}}function CNe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ENe(e){if(Array.isArray(e))return qk(e)}function qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var TNe=function(t){return t},$V={"@@functional/placeholder":!0},BV=function(t){return t===$V},r3=function(t){return function r(){return arguments.length===0||arguments.length===1&&BV(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},ANe=function e(t,r){return t===1?r:r3(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==$V}).length;return o>=t?r.apply(void 0,a):e(t-o,r3(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return BV(f)?c.shift():f});return r.apply(void 0,SNe(d).concat(c))}))})},$w=function(t){return ANe(t.length,t)},Gk=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},PNe=$w(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ONe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return TNe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Kk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},UV=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function DNe(e){var t;return e===0?t=1:t=Math.floor(new yr(e).abs().log(10).toNumber())+1,t}function RNe(e,t,r){for(var n=new yr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var MNe=$w(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),FNe=$w(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),INe=$w(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Bw={rangeStep:RNe,getDigitCount:DNe,interpolateNumber:MNe,uninterpolateNumber:FNe,uninterpolateTruncation:INe};function Yk(e){return BNe(e)||$Ne(e)||zV(e)||LNe()}function LNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ne(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function BNe(e){if(Array.isArray(e))return Xk(e)}function Kg(e,t){return VNe(e)||zNe(e,t)||zV(e,t)||UNe()}function UNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zV(e,t){if(e){if(typeof e=="string")return Xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(e,t)}}function Xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zNe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function VNe(e){if(Array.isArray(e))return e}function VV(e){var t=Kg(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function WV(e,t,r){if(e.lte(0))return new yr(0);var n=Bw.getDigitCount(e.toNumber()),a=new yr(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new yr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new yr(Math.ceil(c))}function WNe(e,t,r){var n=1,a=new yr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new yr(10).pow(Bw.getDigitCount(e)-1),a=new yr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new yr(Math.floor(e)))}else e===0?a=new yr(Math.floor((t-1)/2)):r||(a=new yr(Math.floor(e)));var o=Math.floor((t-1)/2),l=ONe(PNe(function(c){return a.add(new yr(c-o).mul(n)).toNumber()}),Gk);return l(0,t)}function HV(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new yr(0),tickMin:new yr(0),tickMax:new yr(0)};var s=WV(new yr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new yr(0):(o=new yr(e).add(t).div(2),o=o.sub(new yr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new yr(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?HV(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new yr(l).mul(s)),tickMax:o.add(new yr(c).mul(s))})}function HNe(e){var t=Kg(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=VV([r,n]),c=Kg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Yk(Gk(0,a-1).map(function(){return 1/0}))):[].concat(Yk(Gk(0,a-1).map(function(){return-1/0})),[d]);return r>n?Kk(f):f}if(u===d)return WNe(u,a,s);var h=HV(u,d,o,s),m=h.step,g=h.tickMin,p=h.tickMax,v=Bw.rangeStep(g,p.add(new yr(.1).mul(m)),m);return r>n?Kk(v):v}function qNe(e,t){var r=Kg(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=VV([n,a]),l=Kg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=WV(new yr(u).sub(c).div(d-1),s,0),h=[].concat(Yk(Bw.rangeStep(new yr(c),new yr(u).sub(new yr(.99).mul(f)),f)),[u]);return n>a?Kk(h):h}var GNe=UV(HNe),KNe=UV(qNe),YNe="Invariant failed";function ff(e,t){throw new Error(YNe)}var XNe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(this,arguments)}function QNe(e,t){return tke(e)||eke(e,t)||ZNe(e,t)||JNe()}function JNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZNe(e,t){if(e){if(typeof e=="string")return n3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n3(e,t)}}function n3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tke(e){if(Array.isArray(e))return e}function rke(e,t){if(e==null)return{};var r=nke(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ake(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ske(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KV(n.key),n)}}function ike(e,t,r){return t&&ske(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oke(e,t,r){return t=yb(t),lke(e,qV()?Reflect.construct(t,r||[],yb(e).constructor):t.apply(e,r))}function lke(e,t){if(t&&(Om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cke(e)}function cke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qV=function(){return!!e})()}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(e)}function uke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qk(e,t)}function Qk(e,t){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qk(e,t)}function GV(e,t,r){return t=KV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KV(e){var t=dke(e,"string");return Om(t)=="symbol"?t:t+""}function dke(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sx=function(e){function t(){return ake(this,t),oke(this,t,arguments)}return uke(t,e),ike(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=rke(n,XNe),m=wt(h,!1);this.props.direction==="x"&&d.type!=="number"&&ff();var g=c.map(function(p){var v=u(p,l),y=v.x,b=v.y,_=v.value,j=v.errorVal;if(!j)return null;var w=[],N,S;if(Array.isArray(j)){var k=QNe(j,2);N=k[0],S=k[1]}else N=S=j;if(s==="vertical"){var C=d.scale,T=b+a,O=T+o,A=T-o,V=C(_-N),H=C(_+S);w.push({x1:H,y1:O,x2:H,y2:A}),w.push({x1:V,y1:T,x2:H,y2:T}),w.push({x1:V,y1:O,x2:V,y2:A})}else if(s==="horizontal"){var M=f.scale,F=y+a,L=F-o,B=F+o,D=M(_-N),q=M(_+S);w.push({x1:L,y1:q,x2:B,y2:q}),w.push({x1:F,y1:D,x2:F,y2:q}),w.push({x1:L,y1:D,x2:B,y2:D})}return ie.createElement(or,xb({className:"recharts-errorBar",key:"bar-".concat(w.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},m),w.map(function(Y){return ie.createElement("line",xb({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return ie.createElement(or,{className:"recharts-errorBars"},g)}}])}(ie.Component);GV(sx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});GV(sx,"displayName","ErrorBar");function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function a3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(r),!0).forEach(function(n){fke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fke(e,t,r){return t=hke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hke(e){var t=mke(e,"string");return Yg(t)=="symbol"?t:t+""}function mke(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YV=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=Gs(r,ii);if(!o)return null;var l=ii.defaultProps,c=l!==void 0?nd(nd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?nd(nd({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:g,type:c.iconType||v||"square",color:JA(f),value:p||g,payload:m}}),nd(nd(nd({},c),ii.getWithHeight(o,a)),{},{payload:u,item:o})};function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function s3(e){return xke(e)||vke(e)||gke(e)||pke()}function pke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gke(e,t){if(e){if(typeof e=="string")return Jk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jk(e,t)}}function vke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xke(e){if(Array.isArray(e))return Jk(e)}function Jk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(r),!0).forEach(function(n){Vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vh(e,t,r){return t=yke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yke(e){var t=bke(e,"string");return Xg(t)=="symbol"?t:t+""}function bke(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cn(e,t,r){return Dt(e)||Dt(t)?r:Tn(t)?ai(e,t,r):Ct(t)?t(e):r}function q0(e,t,r,n){var a=vNe(e,function(l){return Cn(l,t)});if(r==="number"){var s=a.filter(function(l){return qe(l)||parseFloat(l)});return s.length?[Lw(s),Iw(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Dt(l)}):a;return o.map(function(l){return Tn(l)||l instanceof Date?l:""})}var _ke=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Ja(f-d)!==Ja(h-f)){var g=[];if(Ja(h-f)===Ja(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var b=Math.min(d,h),_=Math.max(d,h);if(t>(b+f)/2&&t<=(_+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},JA=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Xr(Xr({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},wke=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,y=p.filter(function(S){return Zl(S.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,_=b!==void 0?Xr(Xr({},b),y[0].props):y[0].props,j=_.barSize,w=_[v];o[w]||(o[w]=[]);var N=Dt(j)?r:j;o[w].push({item:y[0],stackList:y.slice(1),barSize:Dt(N)?void 0:Za(N,n,0)})}}return o},jke=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Za(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,g=o.reduce(function(j,w){return j+w.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(j,w){var N={item:w.item,position:{offset:v.offset+v.size+u,size:h?m:w.barSize}},S=[].concat(s3(j),[N]);return v=S[S.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(k){S.push({item:k,position:v})}),S},f)}else{var y=Za(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var _=l===+l?Math.min(b,l):b;d=o.reduce(function(j,w,N){var S=[].concat(s3(j),[{item:w.item,position:{offset:y+(b+u)*N+(b-_)/2,size:_}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(k){S.push({item:k,position:S[S.length-1].position})}),S},f)}return d},Ske=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=YV({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&qe(t[m]))return Xr(Xr({},t),{},Vh({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&qe(t[g]))return Xr(Xr({},t),{},Vh({},g,t[g]+(h||0)))}return t},Nke=function(t,r,n){return Dt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},XV=function(t,r,n,a,s){var o=r.props.children,l=si(o,sx).filter(function(u){return Nke(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Cn(d,n);if(Dt(f))return u;var h=Array.isArray(f)?[Lw(f),Iw(f)]:[f,f],m=c.reduce(function(g,p){var v=Cn(d,p,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},kke=function(t,r,n,a,s){var o=r.map(function(l){return XV(t,l,n,s,a)}).filter(function(l){return!Dt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},QV=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&XV(t,c,u,a)||q0(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},JV=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},ZV=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Yl=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ja(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Jv(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},QS=new WeakMap,fy=function(t,r){if(typeof r!="function")return t;QS.has(t)||QS.set(t,new WeakMap);var n=QS.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},eW=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:zg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:hb(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:H0(),realScaleType:"point"}:s==="category"?{scale:zg(),realScaleType:"band"}:{scale:hb(),realScaleType:"linear"};if(lf(a)){var c="scale".concat(jw(a));return{scale:(ZF[c]||H0)(),realScaleType:ZF[c]?c:"point"}}return Ct(a)?{scale:a}:{scale:H0(),realScaleType:"point"}},o3=1e-4,tW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-o3,o=Math.max(a[0],a[1])+o3,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},Cke=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Eke=function(t,r){if(!r||r.length!==2||!qe(r[0])||!qe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!qe(t[0])||t[0]<n)&&(s[0]=n),(!qe(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},Tke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Jv(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Ake=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Jv(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Pke={sign:Tke,expand:Xpe,none:Sm,silhouette:Qpe,wiggle:Jpe,positive:Ake},Oke=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=Pke[n],o=Ype().keys(a).value(function(l,c){return+Cn(l,c,0)}).order(jk).offset(s);return o(t)},Dke=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Xr(Xr({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var y=g[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Tn(p)){var _=b.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};_.items.push(h),b.hasStack=!0,b.stackGroups[p]=_}else b.stackGroups[kp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Xr(Xr({},f),{},Vh({},y,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var y=m.stackGroups[v];return Xr(Xr({},p),{},Vh({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:Oke(t,y.items,s)}))},g)}return Xr(Xr({},f),{},Vh({},h,m))},d)},rW=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=GNe(u,s,l);return t.domain([Lw(d),Iw(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=KNe(f,s,l);return{niceTicks:h}}return null};function l3(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Dt(a[t.dataKey])){var l=q1(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Cn(a,Dt(o)?t.dataKey:o);return Dt(c)?null:t.scale(c)}var c3=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Cn(o,r.dataKey,r.domain[l]);return Dt(c)?null:r.scale(c)-s/2+a},Rke=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},Mke=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Xr(Xr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Tn(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Fke=function(t){return t.reduce(function(r,n){return[Lw(n.concat([r[0]]).filter(qe)),Iw(n.concat([r[1]]).filter(qe))]},[1/0,-1/0])},nW=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=Fke(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},u3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zk=function(t,r,n){if(Ct(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(qe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(u3.test(t[0])){var s=+u3.exec(t[0])[1];a[0]=r[0]-s}else Ct(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(qe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(d3.test(t[1])){var o=+d3.exec(t[1])[1];a[1]=r[1]+o}else Ct(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},bb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=kA(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},f3=function(t,r,n){return!t||!t.length||ax(t,ai(n,"type.defaultProps.domain"))?r:t},aW=function(t,r){var n=t.type.defaultProps?Xr(Xr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Xr(Xr({},wt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:JA(t),value:Cn(r,a),type:c,payload:r,chartType:u,hide:d})};function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function h3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(r),!0).forEach(function(n){sW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sW(e,t,r){return t=Ike(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ike(e){var t=Lke(e,"string");return Qg(t)=="symbol"?t:t+""}function Lke(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ke(e,t){return Vke(e)||zke(e,t)||Uke(e,t)||Bke()}function Bke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uke(e,t){if(e){if(typeof e=="string")return m3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m3(e,t)}}function m3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Vke(e){if(Array.isArray(e))return e}var _b=Math.PI/180,Wke=function(t){return t*180/Math.PI},Nr=function(t,r,n,a){return{x:t+Math.cos(-_b*a)*n,y:r+Math.sin(-_b*a)*n}},iW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Hke=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Za(t.cx,o,o/2),f=Za(t.cy,l,l/2),h=iW(o,l,n),m=Za(t.innerRadius,h,0),g=Za(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,y){var b=r[y],_=b.domain,j=b.reversed,w;if(Dt(b.range))a==="angleAxis"?w=[c,u]:a==="radiusAxis"&&(w=[m,g]),j&&(w=[w[1],w[0]]);else{w=b.range;var N=w,S=$ke(N,2);c=S[0],u=S[1]}var k=eW(b,s),C=k.realScaleType,T=k.scale;T.domain(_).range(w),tW(T);var O=rW(T,$l($l({},b),{},{realScaleType:C})),A=$l($l($l({},b),O),{},{range:w,radius:g,realScaleType:C,scale:T,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return $l($l({},v),{},sW({},y,A))},{})},qke=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},Gke=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=qke({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Wke(u),angleInRadian:u}},Kke=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},Yke=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},p3=function(t,r){var n=t.x,a=t.y,s=Gke({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Kke(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?$l($l({},r),{},{radius:o,angle:Yke(m,r)}):null},oW=function(t){return!x.isValidElement(t)&&!Ct(t)&&typeof t!="boolean"?t.className:""};function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}var Xke=["offset"];function Qke(e){return tCe(e)||eCe(e)||Zke(e)||Jke()}function Jke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zke(e,t){if(e){if(typeof e=="string")return eC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(e,t)}}function eCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tCe(e){if(Array.isArray(e))return eC(e)}function eC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rCe(e,t){if(e==null)return{};var r=nCe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function g3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(r),!0).forEach(function(n){aCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aCe(e,t,r){return t=sCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sCe(e){var t=iCe(e,"string");return Jg(t)=="symbol"?t:t+""}function iCe(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(this,arguments)}var oCe=function(t){var r=t.value,n=t.formatter,a=Dt(t.children)?r:t.children;return Ct(n)?n(a):a},lCe=function(t,r){var n=Ja(r-t),a=Math.min(Math.abs(r-t),360);return n*a},cCe=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,y=lCe(m,g),b=y>=0?1:-1,_,j;a==="insideStart"?(_=m+b*o,j=p):a==="insideEnd"?(_=g-b*o,j=!p):a==="end"&&(_=g+b*o,j=p),j=y<=0?j:!j;var w=Nr(u,d,v,_),N=Nr(u,d,v,_+(j?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),k=Dt(t.id)?kp("recharts-radial-line-"):t.id;return ie.createElement("text",Zg({},n,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",l)}),ie.createElement("defs",null,ie.createElement("path",{id:k,d:S})),ie.createElement("textPath",{xlinkHref:"#".concat(k)},r))},uCe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=Nr(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Nr(o,l,v,h),b=y.x,_=y.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},dCe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*a,y=p>0?"end":"start",b=p>0?"start":"end";if(s==="top"){var _={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return jn(jn({},_),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return jn(jn({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var w={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return jn(jn({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return jn(jn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?jn({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):s==="insideRight"?jn({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideTop"?jn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},S):s==="insideBottom"?jn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},S):s==="insideTopLeft"?jn({x:l+v,y:c+h,textAnchor:b,verticalAnchor:g},S):s==="insideTopRight"?jn({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:g},S):s==="insideBottomLeft"?jn({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:m},S):s==="insideBottomRight"?jn({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:m},S):wp(s)&&(qe(s.x)||bd(s.x))&&(qe(s.y)||bd(s.y))?jn({x:l+Za(s.x,u),y:c+Za(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):jn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},fCe=function(t){return"cx"in t&&qe(t.cx)};function Bn(e){var t=e.offset,r=t===void 0?5:t,n=rCe(e,Xke),a=jn({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Dt(l)&&Dt(c)&&!x.isValidElement(u)&&!Ct(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var m;if(Ct(u)){if(m=x.createElement(u,a),x.isValidElement(m))return m}else m=oCe(a);var g=fCe(s),p=wt(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return cCe(a,m,p);var v=g?uCe(a):dCe(a);return ie.createElement(uf,Zg({className:Mt("recharts-label",f)},p,v,{breakAll:h}),m)}Bn.displayName="Label";var lW=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(qe(p)&&qe(v)){if(qe(f)&&qe(h))return{x:f,y:h,width:p,height:v};if(qe(m)&&qe(g))return{x:m,y:g,width:p,height:v}}return qe(f)&&qe(h)?{x:f,y:h,width:0,height:0}:qe(r)&&qe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},hCe=function(t,r){return t?t===!0?ie.createElement(Bn,{key:"label-implicit",viewBox:r}):Tn(t)?ie.createElement(Bn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===Bn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):ie.createElement(Bn,{key:"label-implicit",content:t,viewBox:r}):Ct(t)?ie.createElement(Bn,{key:"label-implicit",content:t,viewBox:r}):wp(t)?ie.createElement(Bn,Zg({viewBox:r},t,{key:"label-implicit"})):null:null},mCe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=lW(t),o=si(a,Bn).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=hCe(t.label,r||s);return[l].concat(Qke(o))};Bn.parseViewBox=lW;Bn.renderCallByParent=mCe;function pCe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var gCe=pCe;const vCe=fr(gCe);function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}var xCe=["valueAccessor"],yCe=["data","dataKey","clockWise","id","textBreakAll"];function bCe(e){return SCe(e)||jCe(e)||wCe(e)||_Ce()}function _Ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wCe(e,t){if(e){if(typeof e=="string")return tC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tC(e,t)}}function jCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SCe(e){if(Array.isArray(e))return tC(e)}function tC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(this,arguments)}function v3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(r),!0).forEach(function(n){NCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NCe(e,t,r){return t=kCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kCe(e){var t=CCe(e,"string");return ev(t)=="symbol"?t:t+""}function CCe(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y3(e,t){if(e==null)return{};var r=ECe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ECe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TCe=function(t){return Array.isArray(t.value)?vCe(t.value):t.value};function tc(e){var t=e.valueAccessor,r=t===void 0?TCe:t,n=y3(e,xCe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=y3(n,yCe);return!a||!a.length?null:ie.createElement(or,{className:"recharts-label-list"},a.map(function(d,f){var h=Dt(s)?r(d,f):Cn(d&&d.payload,s),m=Dt(l)?{}:{id:"".concat(l,"-").concat(f)};return ie.createElement(Bn,wb({},wt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Bn.parseViewBox(Dt(o)?d:x3(x3({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}tc.displayName="LabelList";function ACe(e,t){return e?e===!0?ie.createElement(tc,{key:"labelList-implicit",data:t}):ie.isValidElement(e)||Ct(e)?ie.createElement(tc,{key:"labelList-implicit",data:t,content:e}):wp(e)?ie.createElement(tc,wb({data:t},e,{key:"labelList-implicit"})):null:null}function PCe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=si(n,tc).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=ACe(e.label,t);return[s].concat(bCe(a))}tc.renderCallByParent=PCe;function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rC.apply(this,arguments)}function b3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(r),!0).forEach(function(n){OCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OCe(e,t,r){return t=DCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DCe(e){var t=RCe(e,"string");return tv(t)=="symbol"?t:t+""}function RCe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MCe=function(t,r){var n=Ja(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},hy=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/_b,h=u?s:s+o*f,m=Nr(r,n,d,h),g=Nr(r,n,a,h),p=u?s-o*f:s,v=Nr(r,n,d*Math.cos(f*_b),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},cW=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=MCe(o,l),u=o+c,d=Nr(r,n,s,o),f=Nr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Nr(r,n,a,o),g=Nr(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},FCe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Ja(d-u),h=hy({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=hy({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,_=v.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-_;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):cW({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var N=hy({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,k=N.lineTangency,C=N.theta,T=hy({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=T.circleTangency,A=T.lineTangency,V=T.theta,H=c?Math.abs(u-d):Math.abs(u-d)-C-V;if(H<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},ICe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uW=function(t){var r=_3(_3({},ICe),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=Mt("recharts-sector",h),g=o-s,p=Za(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=FCe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=cW({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),ie.createElement("path",rC({},wt(r,!0),{className:m,d:v,role:"img"}))};function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nC.apply(this,arguments)}function w3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(r),!0).forEach(function(n){LCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LCe(e,t,r){return t=$Ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Ce(e){var t=BCe(e,"string");return rv(t)=="symbol"?t:t+""}function BCe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S3={curveBasisClosed:Lpe,curveBasisOpen:$pe,curveBasis:Ipe,curveBumpX:jpe,curveBumpY:Spe,curveLinearClosed:Bpe,curveLinear:Nw,curveMonotoneX:Upe,curveMonotoneY:zpe,curveNatural:Vpe,curveStep:Wpe,curveStepAfter:qpe,curveStepBefore:Hpe},my=function(t){return t.x===+t.x&&t.y===+t.y},s0=function(t){return t.x},i0=function(t){return t.y},UCe=function(t,r){if(Ct(t))return t;var n="curve".concat(jw(t));return(n==="curveMonotone"||n==="curveBump")&&r?S3["".concat(n).concat(r==="vertical"?"Y":"X")]:S3[n]||Nw},zCe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=UCe(n,l),f=u?s.filter(function(p){return my(p)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return my(p)}):o,g=f.map(function(p,v){return j3(j3({},p),{},{base:m[v]})});return l==="vertical"?h=ay().y(i0).x1(s0).x0(function(p){return p.base.x}):h=ay().x(s0).y1(i0).y0(function(p){return p.base.y}),h.defined(my).curve(d),h(g)}return l==="vertical"&&qe(o)?h=ay().y(i0).x1(s0).x0(o):qe(o)?h=ay().x(s0).y1(i0).y0(o):h=az().x(s0).y(i0),h.defined(my).curve(d),h(f)},jb=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?zCe(t):a;return x.createElement("path",nC({},wt(t,!1),G1(t),{className:Mt("recharts-curve",r),d:o,ref:s}))},dW={exports:{}},VCe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WCe=VCe,HCe=WCe;function fW(){}function hW(){}hW.resetWarningCache=fW;var qCe=function(){function e(n,a,s,o,l,c){if(c!==HCe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:hW,resetWarningCache:fW};return r.PropTypes=r,r};dW.exports=qCe();var GCe=dW.exports;const cr=fr(GCe);var KCe=Object.getOwnPropertyNames,YCe=Object.getOwnPropertySymbols,XCe=Object.prototype.hasOwnProperty;function N3(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function py(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function k3(e){return KCe(e).concat(YCe(e))}var QCe=Object.hasOwn||function(e,t){return XCe.call(e,t)};function Tf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var JCe="__v",ZCe="__o",eEe="_owner",C3=Object.getOwnPropertyDescriptor,E3=Object.keys;function tEe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function rEe(e,t){return Tf(e.getTime(),t.getTime())}function nEe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function aEe(e,t){return e===t}function T3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var sEe=Tf;function iEe(e,t,r){var n=E3(e),a=n.length;if(E3(t).length!==a)return!1;for(;a-- >0;)if(!mW(e,t,r,n[a]))return!1;return!0}function o0(e,t,r){var n=k3(e),a=n.length;if(k3(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!mW(e,t,r,s)||(o=C3(e,s),l=C3(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function oEe(e,t){return Tf(e.valueOf(),t.valueOf())}function lEe(e,t){return e.source===t.source&&e.flags===t.flags}function A3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function cEe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function uEe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function mW(e,t,r,n){return(n===eEe||n===ZCe||n===JCe)&&(e.$$typeof||t.$$typeof)?!0:QCe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var dEe="[object Arguments]",fEe="[object Boolean]",hEe="[object Date]",mEe="[object Error]",pEe="[object Map]",gEe="[object Number]",vEe="[object Object]",xEe="[object RegExp]",yEe="[object Set]",bEe="[object String]",_Ee="[object URL]",wEe=Array.isArray,P3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,O3=Object.assign,jEe=Object.prototype.toString.call.bind(Object.prototype.toString);function SEe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var y=typeof g;if(y!==typeof p)return!1;if(y!=="object")return y==="number"?o(g,p,v):y==="function"?a(g,p,v):!1;var b=g.constructor;if(b!==p.constructor)return!1;if(b===Object)return l(g,p,v);if(wEe(g))return t(g,p,v);if(P3!=null&&P3(g))return f(g,p,v);if(b===Date)return r(g,p,v);if(b===RegExp)return u(g,p,v);if(b===Map)return s(g,p,v);if(b===Set)return d(g,p,v);var _=jEe(g);return _===hEe?r(g,p,v):_===xEe?u(g,p,v):_===pEe?s(g,p,v):_===yEe?d(g,p,v):_===vEe?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,v):_===_Ee?h(g,p,v):_===mEe?n(g,p,v):_===dEe?l(g,p,v):_===fEe||_===gEe||_===bEe?c(g,p,v):!1}}function NEe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?o0:tEe,areDatesEqual:rEe,areErrorsEqual:nEe,areFunctionsEqual:aEe,areMapsEqual:n?N3(T3,o0):T3,areNumbersEqual:sEe,areObjectsEqual:n?o0:iEe,arePrimitiveWrappersEqual:oEe,areRegExpsEqual:lEe,areSetsEqual:n?N3(A3,o0):A3,areTypedArraysEqual:n?o0:cEe,areUrlsEqual:uEe};if(r&&(a=O3({},a,r(a))),t){var s=py(a.areArraysEqual),o=py(a.areMapsEqual),l=py(a.areObjectsEqual),c=py(a.areSetsEqual);a=O3({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function kEe(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function CEe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var EEe=Ju();Ju({strict:!0});Ju({circular:!0});Ju({circular:!0,strict:!0});Ju({createInternalComparator:function(){return Tf}});Ju({strict:!0,createInternalComparator:function(){return Tf}});Ju({circular:!0,createInternalComparator:function(){return Tf}});Ju({circular:!0,createInternalComparator:function(){return Tf},strict:!0});function Ju(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=NEe(e),c=SEe(l),u=n?n(c):kEe(c);return CEe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function TEe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function D3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):TEe(a)};requestAnimationFrame(n)}function aC(e){"@babel/helpers - typeof";return aC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aC(e)}function AEe(e){return REe(e)||DEe(e)||OEe(e)||PEe()}function PEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OEe(e,t){if(e){if(typeof e=="string")return R3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R3(e,t)}}function R3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function REe(e){if(Array.isArray(e))return e}function MEe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=AEe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){D3(a.bind(null,u),c);return}a(c),D3(a.bind(null,u));return}aC(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function M3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(r),!0).forEach(function(n){pW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pW(e,t,r){return t=FEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FEe(e){var t=IEe(e,"string");return nv(t)==="symbol"?t:String(t)}function IEe(e,t){if(nv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LEe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},$Ee=function(t){return t},BEe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},G0=function(t,r){return Object.keys(r).reduce(function(n,a){return F3(F3({},n),{},pW({},a,t(a,r[a])))},{})},I3=function(t,r,n){return t.map(function(a){return"".concat(BEe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function UEe(e,t){return WEe(e)||VEe(e,t)||gW(e,t)||zEe()}function zEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function WEe(e){if(Array.isArray(e))return e}function HEe(e){return KEe(e)||GEe(e)||gW(e)||qEe()}function qEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gW(e,t){if(e){if(typeof e=="string")return sC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sC(e,t)}}function GEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KEe(e){if(Array.isArray(e))return sC(e)}function sC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sb=1e-4,vW=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},xW=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},L3=function(t,r){return function(n){var a=vW(t,r);return xW(a,n)}},YEe=function(t,r){return function(n){var a=vW(t,r),s=[].concat(HEe(a.map(function(o,l){return o*l}).slice(1)),[0]);return xW(s,n)}},$3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=UEe(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=L3(a,o),h=L3(s,l),m=YEe(a,o),g=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,_=b,j=0;j<8;++j){var w=f(_)-b,N=m(_);if(Math.abs(w-b)<Sb||N<Sb)return h(_);_=g(_-w/N)}return h(_)};return p.isStepper=!1,p},XEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*s,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Sb&&Math.abs(p)<Sb?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},QEe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $3(a);case"spring":return XEe();default:if(a.split("(")[0]==="cubic-bezier")return $3(a)}return typeof a=="function"?a:null};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function B3(e){return eTe(e)||ZEe(e)||yW(e)||JEe()}function JEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eTe(e){if(Array.isArray(e))return oC(e)}function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){iC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iC(e,t,r){return t=tTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tTe(e){var t=rTe(e,"string");return av(t)==="symbol"?t:String(t)}function rTe(e,t){if(av(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(av(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nTe(e,t){return iTe(e)||sTe(e,t)||yW(e,t)||aTe()}function aTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yW(e,t){if(e){if(typeof e=="string")return oC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oC(e,t)}}function oC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iTe(e){if(Array.isArray(e))return e}var Nb=function(t,r,n){return t+(r-t)*n},lC=function(t){var r=t.from,n=t.to;return r!==n},oTe=function e(t,r,n){var a=G0(function(s,o){if(lC(o)){var l=t(o.from,o.to,o.velocity),c=nTe(l,2),u=c[0],d=c[1];return Yn(Yn({},o),{},{from:u,velocity:d})}return o},r);return n<1?G0(function(s,o){return lC(o)?Yn(Yn({},o),{},{velocity:Nb(o.velocity,a[s].velocity,n),from:Nb(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const lTe=function(e,t,r,n,a){var s=LEe(e,t),o=s.reduce(function(v,y){return Yn(Yn({},v),{},iC({},y,[e[y],t[y]]))},{}),l=s.reduce(function(v,y){return Yn(Yn({},v),{},iC({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return G0(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(lC).length},g=function(y){u||(u=y);var b=y-u,_=b/r.dt;l=oTe(r,l,_),a(Yn(Yn(Yn({},e),t),h())),u=y,m()||(c=requestAnimationFrame(f))},p=function(y){d||(d=y);var b=(y-d)/n,_=G0(function(w,N){return Nb.apply(void 0,B3(N).concat([r(b)]))},o);if(a(Yn(Yn(Yn({},e),t),_)),b<1)c=requestAnimationFrame(f);else{var j=G0(function(w,N){return Nb.apply(void 0,B3(N).concat([r(1)]))},o);a(Yn(Yn(Yn({},e),t),j))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}var cTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uTe(e,t){if(e==null)return{};var r=dTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dTe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function JS(e){return pTe(e)||mTe(e)||hTe(e)||fTe()}function fTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hTe(e,t){if(e){if(typeof e=="string")return cC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cC(e,t)}}function mTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pTe(e){if(Array.isArray(e))return cC(e)}function cC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(r),!0).forEach(function(n){S0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S0(e,t,r){return t=bW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bW(n.key),n)}}function xTe(e,t,r){return t&&vTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bW(e){var t=yTe(e,"string");return Dm(t)==="symbol"?t:String(t)}function yTe(e,t){if(Dm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uC(e,t)}function uC(e,t){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uC(e,t)}function _Te(e){var t=wTe();return function(){var n=kb(e),a;if(t){var s=kb(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return dC(this,a)}}function dC(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fC(e)}function fC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}var bl=function(e){bTe(r,e);var t=_Te(r);function r(n,a){var s;gTe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(fC(s)),s.changeStyle=s.changeStyle.bind(fC(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),dC(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},dC(s);s.state={style:c?S0({},c,u):u}}else s.state={style:{}};return s}return xTe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?S0({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(EEe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var v={style:c?S0({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Gi(Gi({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=lTe(o,l,QEe(u),c,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,y){if(y===0)return p;var b=v.duration,_=v.easing,j=_===void 0?"ease":_,w=v.style,N=v.properties,S=v.onAnimationEnd,k=y>0?o[y-1]:v,C=N||Object.keys(w);if(typeof j=="function"||j==="spring")return[].concat(JS(p),[s.runJSAnimation.bind(s,{from:k.style,to:w,duration:b,easing:j}),b]);var T=I3(C,b,j),O=Gi(Gi(Gi({},k.style),w),{},{transition:T});return[].concat(JS(p),[O,b,S]).filter($Ee)};return this.manager.start([c].concat(JS(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=MEe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?S0({},l,c):c,v=I3(Object.keys(p),o,u);g.start([d,s,Gi(Gi({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=uTe(a,cTe),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,y=g.className,b=x.cloneElement(m,Gi(Gi({},c),{},{style:Gi(Gi({},v),d),className:y}));return b};return u===1?f(x.Children.only(s)):ie.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);bl.displayName="Animate";bl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};bl.propTypes={from:cr.oneOfType([cr.object,cr.string]),to:cr.oneOfType([cr.object,cr.string]),attributeName:cr.string,duration:cr.number,begin:cr.number,easing:cr.oneOfType([cr.string,cr.func]),steps:cr.arrayOf(cr.shape({duration:cr.number.isRequired,style:cr.object.isRequired,easing:cr.oneOfType([cr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),cr.func]),properties:cr.arrayOf("string"),onAnimationEnd:cr.func})),children:cr.oneOfType([cr.node,cr.func]),isActive:cr.bool,canBegin:cr.bool,onAnimationEnd:cr.func,shouldReAnimate:cr.bool,onAnimationStart:cr.func,onAnimationReStart:cr.func};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(this,arguments)}function jTe(e,t){return CTe(e)||kTe(e,t)||NTe(e,t)||STe()}function STe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NTe(e,t){if(e){if(typeof e=="string")return V3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V3(e,t)}}function V3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function CTe(e){if(Array.isArray(e))return e}function W3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(r),!0).forEach(function(n){ETe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ETe(e,t,r){return t=TTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TTe(e){var t=ATe(e,"string");return sv(t)=="symbol"?t:t+""}function ATe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q3=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},PTe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},OTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZA=function(t){var r=H3(H3({},OTe),t),n=x.useRef(),a=x.useState(-1),s=jTe(a,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=Mt("recharts-rectangle",m);return b?ie.createElement(bl,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(j){var w=j.width,N=j.height,S=j.x,k=j.y;return ie.createElement(bl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:g},ie.createElement("path",Cb({},wt(r,!0),{className:_,d:q3(S,k,w,N,h),ref:n})))}):ie.createElement("path",Cb({},wt(r,!0),{className:_,d:q3(c,u,d,f,h)}))},DTe=["points","className","baseLinePoints","connectNulls"];function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(this,arguments)}function RTe(e,t){if(e==null)return{};var r=MTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G3(e){return $Te(e)||LTe(e)||ITe(e)||FTe()}function FTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ITe(e,t){if(e){if(typeof e=="string")return hC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hC(e,t)}}function LTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Te(e){if(Array.isArray(e))return hC(e)}function hC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K3=function(t){return t&&t.x===+t.x&&t.y===+t.y},BTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){K3(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),K3(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},K0=function(t,r){var n=BTe(t);r&&(n=[n.reduce(function(s,o){return[].concat(G3(s),G3(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},UTe=function(t,r,n){var a=K0(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(K0(r.reverse(),n).slice(1))},zTe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=RTe(t,DTe);if(!r||!r.length)return null;var l=Mt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=UTe(r,a,s);return ie.createElement("g",{className:l},ie.createElement("path",Sh({},wt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ie.createElement("path",Sh({},wt(o,!0),{fill:"none",d:K0(r,s)})):null,c?ie.createElement("path",Sh({},wt(o,!0),{fill:"none",d:K0(a,s)})):null)}var d=K0(r,s);return ie.createElement("path",Sh({},wt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function mC(){return mC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mC.apply(this,arguments)}var Uw=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=Mt("recharts-dot",s);return r===+r&&n===+n&&a===+a?x.createElement("circle",mC({},wt(t,!1),G1(t),{className:o,cx:r,cy:n,r:a})):null};function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}var VTe=["x","y","top","left","width","height","className"];function pC(){return pC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pC.apply(this,arguments)}function Y3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WTe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y3(Object(r),!0).forEach(function(n){HTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HTe(e,t,r){return t=qTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qTe(e){var t=GTe(e,"string");return iv(t)=="symbol"?t:t+""}function GTe(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KTe(e,t){if(e==null)return{};var r=YTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var XTe=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},QTe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=KTe(t,VTe),v=WTe({x:n,y:s,top:l,left:u,width:f,height:m},p);return!qe(n)||!qe(s)||!qe(f)||!qe(m)||!qe(l)||!qe(u)?null:ie.createElement("path",pC({},wt(v,!0),{className:Mt("recharts-cross",g),d:XTe(n,s,f,m,l,u)}))},JTe=Fw,ZTe=OV,eAe=kl;function tAe(e,t){return e&&e.length?JTe(e,eAe(t),ZTe):void 0}var rAe=tAe;const nAe=fr(rAe);var aAe=Fw,sAe=kl,iAe=DV;function oAe(e,t){return e&&e.length?aAe(e,sAe(t),iAe):void 0}var lAe=oAe;const cAe=fr(lAe);var uAe=["cx","cy","angle","ticks","axisLine"],dAe=["ticks","tick","angle","tickFormatter","stroke"];function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(this,arguments)}function X3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(r),!0).forEach(function(n){zw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q3(e,t){if(e==null)return{};var r=fAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wW(n.key),n)}}function mAe(e,t,r){return t&&J3(e.prototype,t),r&&J3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pAe(e,t,r){return t=Eb(t),gAe(e,_W()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function gAe(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vAe(e)}function vAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function xAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gC(e,t)}function gC(e,t){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gC(e,t)}function zw(e,t,r){return t=wW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wW(e){var t=yAe(e,"string");return Rm(t)=="symbol"?t:t+""}function yAe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vw=function(e){function t(){return hAe(this,t),pAe(this,t,arguments)}return xAe(t,e),mAe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return Nr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=nAe(l,function(d){return d.coordinate||0}),u=cAe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=Q3(n,uAe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=Nr(a,s,d[0],o),h=Nr(a,s,d[1],o),m=ad(ad(ad({},wt(u,!1)),{},{fill:"none"},wt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return ie.createElement("line",Y0({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=Q3(a,dAe),f=this.getTickTextAnchor(),h=wt(d,!1),m=wt(o,!1),g=s.map(function(p,v){var y=n.getTickValueCoord(p),b=ad(ad(ad(ad({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},y),{},{payload:p});return ie.createElement(or,Y0({className:Mt("recharts-polar-radius-axis-tick",oW(o)),key:"tick-".concat(p.coordinate)},cf(n.props,p,v)),t.renderTickItem(o,b,c?c(p.value,v):p.value))});return ie.createElement(or,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:ie.createElement(or,{className:Mt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Bn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ie.isValidElement(n)?o=ie.cloneElement(n,a):Ct(n)?o=n(a):o=ie.createElement(uf,Y0({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(x.PureComponent);zw(Vw,"displayName","PolarRadiusAxis");zw(Vw,"axisType","radiusAxis");zw(Vw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(n){Ww(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SW(n.key),n)}}function _Ae(e,t,r){return t&&eI(e.prototype,t),r&&eI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wAe(e,t,r){return t=Tb(t),jAe(e,jW()?Reflect.construct(t,r||[],Tb(e).constructor):t.apply(e,r))}function jAe(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SAe(e)}function SAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jW=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(e)}function NAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vC(e,t)}function vC(e,t){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vC(e,t)}function Ww(e,t,r){return t=SW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SW(e){var t=kAe(e,"string");return Mm(t)=="symbol"?t:t+""}function kAe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CAe=Math.PI/180,tI=1e-5,Hw=function(e){function t(){return bAe(this,t),wAe(this,t,arguments)}return NAe(t,e),_Ae(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Nr(s,o,l,n.coordinate),h=Nr(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*CAe),o;return s>tI?o=a==="outer"?"start":"end":s<-tI?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=sd(sd({},wt(this.props,!1)),{},{fill:"none"},wt(l,!1));if(c==="circle")return ie.createElement(Uw,fd({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return Nr(a,s,o,h.coordinate)});return ie.createElement(zTe,fd({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=wt(this.props,!1),f=wt(o,!1),h=sd(sd({},d),{},{fill:"none"},wt(l,!1)),m=s.map(function(g,p){var v=n.getTickLineCoord(g),y=n.getTickTextAnchor(g),b=sd(sd(sd({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:v.x2,y:v.y2});return ie.createElement(or,fd({className:Mt("recharts-polar-angle-axis-tick",oW(o)),key:"tick-".concat(g.coordinate)},cf(n.props,g,p)),l&&ie.createElement("line",fd({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,c?c(g.value,p):g.value))});return ie.createElement(or,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:ie.createElement(or,{className:Mt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ie.isValidElement(n)?o=ie.cloneElement(n,a):Ct(n)?o=n(a):o=ie.createElement(uf,fd({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(x.PureComponent);Ww(Hw,"displayName","PolarAngleAxis");Ww(Hw,"axisType","angleAxis");Ww(Hw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var EAe=Ez,TAe=EAe(Object.getPrototypeOf,Object),AAe=TAe,PAe=wc,OAe=AAe,DAe=jc,RAe="[object Object]",MAe=Function.prototype,FAe=Object.prototype,NW=MAe.toString,IAe=FAe.hasOwnProperty,LAe=NW.call(Object);function $Ae(e){if(!DAe(e)||PAe(e)!=RAe)return!1;var t=OAe(e);if(t===null)return!0;var r=IAe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&NW.call(r)==LAe}var BAe=$Ae;const UAe=fr(BAe);var zAe=wc,VAe=jc,WAe="[object Boolean]";function HAe(e){return e===!0||e===!1||VAe(e)&&zAe(e)==WAe}var qAe=HAe;const GAe=fr(qAe);function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(this,arguments)}function KAe(e,t){return JAe(e)||QAe(e,t)||XAe(e,t)||YAe()}function YAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XAe(e,t){if(e){if(typeof e=="string")return rI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rI(e,t)}}function rI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function JAe(e){if(Array.isArray(e))return e}function nI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(r),!0).forEach(function(n){ZAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZAe(e,t,r){return t=ePe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ePe(e){var t=tPe(e,"string");return ov(t)=="symbol"?t:t+""}function tPe(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sI=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},rPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nPe=function(t){var r=aI(aI({},rPe),t),n=x.useRef(),a=x.useState(-1),s=KAe(a,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Mt("recharts-trapezoid",m);return y?ie.createElement(bl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(_){var j=_.upperWidth,w=_.lowerWidth,N=_.height,S=_.x,k=_.y;return ie.createElement(bl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},ie.createElement("path",Ab({},wt(r,!0),{className:b,d:sI(S,k,j,w,N),ref:n})))}):ie.createElement("g",null,ie.createElement("path",Ab({},wt(r,!0),{className:b,d:sI(c,u,d,f,h)})))},aPe=["option","shapeType","propTransformer","activeClassName","isActive"];function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function sPe(e,t){if(e==null)return{};var r=iPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(n){oPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oPe(e,t,r){return t=lPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lPe(e){var t=cPe(e,"string");return lv(t)=="symbol"?t:t+""}function cPe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uPe(e,t){return Pb(Pb({},t),e)}function dPe(e,t){return e==="symbols"}function oI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ie.createElement(ZA,r);case"trapezoid":return ie.createElement(nPe,r);case"sector":return ie.createElement(uW,r);case"symbols":if(dPe(t))return ie.createElement(xA,r);break;default:return null}}function fPe(e){return x.isValidElement(e)?e.props:e}function kW(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?uPe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=sPe(e,aPe),u;if(x.isValidElement(t))u=x.cloneElement(t,Pb(Pb({},c),fPe(t)));else if(Ct(t))u=t(c);else if(UAe(t)&&!GAe(t)){var d=a(t,c);u=ie.createElement(oI,{shapeType:r,elementProps:d})}else{var f=c;u=ie.createElement(oI,{shapeType:r,elementProps:f})}return l?ie.createElement(or,{className:o},u):u}function qw(e,t){return t!=null&&"trapezoids"in e.props}function Gw(e,t){return t!=null&&"sectors"in e.props}function cv(e,t){return t!=null&&"points"in e.props}function hPe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function mPe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function pPe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function gPe(e,t){var r;return qw(e,t)?r=hPe:Gw(e,t)?r=mPe:cv(e,t)&&(r=pPe),r}function vPe(e,t){var r;return qw(e,t)?r="trapezoids":Gw(e,t)?r="sectors":cv(e,t)&&(r="points"),r}function xPe(e,t){if(qw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Gw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return cv(e,t)?t.payload:{}}function yPe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=vPe(r,t),s=xPe(r,t),o=n.filter(function(c,u){var d=ax(s,c),f=r.props[a].filter(function(g){var p=gPe(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Qy;function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(this,arguments)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){ki(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EW(n.key),n)}}function _Pe(e,t,r){return t&&cI(e.prototype,t),r&&cI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wPe(e,t,r){return t=Ob(t),jPe(e,CW()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function jPe(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SPe(e)}function SPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CW=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function NPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xC(e,t)}function xC(e,t){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xC(e,t)}function ki(e,t,r){return t=EW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EW(e){var t=kPe(e,"string");return Fm(t)=="symbol"?t:t+""}function kPe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ya=function(e){function t(r){var n;return bPe(this,t),n=wPe(this,t,[r]),ki(n,"pieRef",null),ki(n,"sectorRefs",[]),ki(n,"id",kp("recharts-pie-")),ki(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ct(a)&&a()}),ki(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ct(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return NPe(t,e),_Pe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=wt(this.props,!1),f=wt(o,!1),h=wt(l,!1),m=o&&o.offsetRadius||20,g=n.map(function(p,v){var y=(p.startAngle+p.endAngle)/2,b=Nr(p.cx,p.cy,p.outerRadius+m,y),_=wr(wr(wr(wr({},d),p),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,p.cx)},b),j=wr(wr(wr(wr({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[Nr(p.cx,p.cy,p.outerRadius,y),b]}),w=c;return Dt(c)&&Dt(u)?w="value":Dt(c)&&(w=u),ie.createElement(or,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,_,Cn(p,w)))});return ie.createElement(or,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,g=wr(wr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ie.createElement(or,Nh({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},cf(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ie.createElement(kW,Nh({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return ie.createElement(bl,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(_,j){var w=h&&h[j],N=j>0?ai(_,"paddingAngle",0):0;if(w){var S=Xs(w.endAngle-w.startAngle,_.endAngle-_.startAngle),k=wr(wr({},_),{},{startAngle:b+N,endAngle:b+S(p)+N});v.push(k),b=k.endAngle}else{var C=_.endAngle,T=_.startAngle,O=Xs(0,C-T),A=O(p),V=wr(wr({},_),{},{startAngle:b+N,endAngle:b+A+N});v.push(V),b=V.endAngle}}),ie.createElement(or,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!ax(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!o||!o.length||!qe(u)||!qe(d)||!qe(f)||!qe(h))return null;var p=Mt("recharts-pie",l);return ie.createElement(or,{tabIndex:this.props.rootTabIndex,className:p,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),Bn.renderCallByParent(this.props,null,!1),(!m||g)&&tc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(ie.isValidElement(n))return ie.cloneElement(n,a);if(Ct(n))return n(a);var o=Mt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ie.createElement(jb,Nh({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(ie.isValidElement(n))return ie.cloneElement(n,a);var o=s;if(Ct(n)&&(o=n(a),ie.isValidElement(o)))return o;var l=Mt("recharts-pie-label-text",typeof n!="boolean"&&!Ct(n)?n.className:"");return ie.createElement(uf,Nh({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);Qy=Ya;ki(Ya,"displayName","Pie");ki(Ya,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!dl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ki(Ya,"parseDeltaAngle",function(e,t){var r=Ja(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ki(Ya,"getRealPieData",function(e){var t=e.data,r=e.children,n=wt(e,!1),a=si(r,rl);return t&&t.length?t.map(function(s,o){return wr(wr(wr({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return wr(wr({},n),s.props)}):[]});ki(Ya,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=iW(a,s),l=n+Za(e.cx,a,a/2),c=r+Za(e.cy,s,s/2),u=Za(e.innerRadius,o,0),d=Za(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ki(Ya,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?wr(wr({},t.type.defaultProps),t.props):t.props,a=Qy.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=Qy.parseCoordinateOfPie(n,r),p=Qy.parseDeltaAngle(o,l),v=Math.abs(p),y=u;Dt(u)&&Dt(f)?(vo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Dt(u)&&(vo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=a.filter(function(k){return Cn(k,y,0)!==0}).length,_=(v>=360?b:b-1)*c,j=v-b*m-_,w=a.reduce(function(k,C){var T=Cn(C,y,0);return k+(qe(T)?T:0)},0),N;if(w>0){var S;N=a.map(function(k,C){var T=Cn(k,y,0),O=Cn(k,d,C),A=(qe(T)?T:0)/w,V;C?V=S.endAngle+Ja(p)*c*(T!==0?1:0):V=o;var H=V+Ja(p)*((T!==0?m:0)+A*j),M=(V+H)/2,F=(g.innerRadius+g.outerRadius)/2,L=[{name:O,value:T,payload:k,dataKey:y,type:h}],B=Nr(g.cx,g.cy,F,M);return S=wr(wr(wr({percent:A,cornerRadius:s,name:O,tooltipPayload:L,midAngle:M,middleRadius:F,tooltipPosition:B},k),g),{},{value:Cn(k,y),startAngle:V,endAngle:H,payload:k,paddingAngle:Ja(p)*c}),S})}return wr(wr({},g),{},{sectors:N,data:a})});var CPe=Math.ceil,EPe=Math.max;function TPe(e,t,r,n){for(var a=-1,s=EPe(CPe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var APe=TPe,PPe=Gz,uI=1/0,OPe=17976931348623157e292;function DPe(e){if(!e)return e===0?e:0;if(e=PPe(e),e===uI||e===-uI){var t=e<0?-1:1;return t*OPe}return e===e?e:0}var TW=DPe,RPe=APe,MPe=Tw,ZS=TW;function FPe(e){return function(t,r,n){return n&&typeof n!="number"&&MPe(t,r,n)&&(r=n=void 0),t=ZS(t),r===void 0?(r=t,t=0):r=ZS(r),n=n===void 0?t<r?1:-1:ZS(n),RPe(t,r,n,e)}}var IPe=FPe,LPe=IPe,$Pe=LPe(),BPe=$Pe;const Db=fr(BPe);function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){AW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AW(e,t,r){return t=UPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UPe(e){var t=zPe(e,"string");return uv(t)=="symbol"?t:t+""}function zPe(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VPe=["Webkit","Moz","O","ms"],WPe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=VPe.reduce(function(s,o){return fI(fI({},s),{},AW({},o+n,r))},{});return a[t]=r,a};function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(n){Hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OW(n.key),n)}}function qPe(e,t,r){return t&&mI(e.prototype,t),r&&mI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GPe(e,t,r){return t=Mb(t),KPe(e,PW()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function KPe(e,t){if(t&&(Im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YPe(e)}function YPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PW=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function XPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yC(e,t)}function yC(e,t){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yC(e,t)}function Hs(e,t,r){return t=OW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=QPe(e,"string");return Im(t)=="symbol"?t:t+""}function QPe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JPe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=H0().domain(Db(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},pI=function(t){return t.changedTouches&&!!t.changedTouches.length},Lm=function(e){function t(r){var n;return HPe(this,t),n=GPe(this,t,[r]),Hs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Hs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Hs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Hs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Hs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Hs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Hs(n,"handleSlideDragStart",function(a){var s=pI(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return XPe(t,e),qPe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Cn(s[n],l,n);return Ct(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=pI(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),y[o]=u+b;var _=this.getIndex(y),j=_.startIndex,w=_.endIndex,N=function(){var k=v.length-1;return o==="startX"&&(l>c?j%p===0:w%p===0)||l<c&&w===k||o==="endX"&&(l>c?w%p===0:j%p===0)||l>c&&w===k};this.setState(Hs(Hs({},o,u+b),"brushMoveStartX",n.pageX),function(){g&&N()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Hs({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ie.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?ie.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=e2(e2({},wt(this.props,!1)),{},{x:y,y:u,width:d,height:f}),_=m||"Min value: ".concat((s=g[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return ie.createElement(or,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return ie.createElement(or,{className:"recharts-brush-texts"},ie.createElement(uf,Rb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(a)),ie.createElement(uf,Rb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!qe(l)||!qe(c)||!qe(u)||!qe(d)||u<=0||d<=0)return null;var _=Mt("recharts-brush",s),j=ie.Children.count(o)===1,w=WPe("userSelect","none");return ie.createElement(or,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return ie.createElement(ie.Fragment,null,ie.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),ie.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),ie.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return ie.isValidElement(n)?s=ie.cloneElement(n,a):Ct(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return e2({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?JPe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(x.PureComponent);Hs(Lm,"displayName","Brush");Hs(Lm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ZPe=NA;function eOe(e,t){var r;return ZPe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var tOe=eOe,rOe=bz,nOe=kl,aOe=tOe,sOe=Bs,iOe=Tw;function oOe(e,t,r){var n=sOe(e)?rOe:aOe;return r&&iOe(e,t,r)&&(t=void 0),n(e,nOe(t))}var lOe=oOe;const cOe=fr(lOe);var hl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},gI=zz;function uOe(e,t,r){t=="__proto__"&&gI?gI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var dOe=uOe,fOe=dOe,hOe=Bz,mOe=kl;function pOe(e,t){var r={};return t=mOe(t),hOe(e,function(n,a,s){fOe(r,a,t(n,a,s))}),r}var gOe=pOe;const vOe=fr(gOe);function xOe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var yOe=xOe,bOe=NA;function _Oe(e,t){var r=!0;return bOe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var wOe=_Oe,jOe=yOe,SOe=wOe,NOe=kl,kOe=Bs,COe=Tw;function EOe(e,t,r){var n=kOe(e)?jOe:SOe;return r&&COe(e,t,r)&&(t=void 0),n(e,NOe(t))}var TOe=EOe;const DW=fr(TOe);var AOe=["x","y"];function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(this,arguments)}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){POe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function POe(e,t,r){return t=OOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OOe(e){var t=DOe(e,"string");return dv(t)=="symbol"?t:t+""}function DOe(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ROe(e,t){if(e==null)return{};var r=MOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FOe(e,t){var r=e.x,n=e.y,a=ROe(e,AOe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return l0(l0(l0(l0(l0({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function xI(e){return ie.createElement(kW,bC({shapeType:"rectangle",propTransformer:FOe,activeClassName:"recharts-active-bar"},e))}var IOe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=qe(n)||lme(n);return s?t(n,a):(s||ff(),r)}},LOe=["value","background"],RW;function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function $Oe(e,t){if(e==null)return{};var r=BOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fb.apply(this,arguments)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(n){uu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FW(n.key),n)}}function zOe(e,t,r){return t&&bI(e.prototype,t),r&&bI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VOe(e,t,r){return t=Ib(t),WOe(e,MW()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function WOe(e,t){if(t&&($m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HOe(e)}function HOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MW=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function qOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_C(e,t)}function _C(e,t){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_C(e,t)}function uu(e,t,r){return t=FW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e){var t=GOe(e,"string");return $m(t)=="symbol"?t:t+""}function GOe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Si=function(e){function t(){var r;UOe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=VOe(this,t,[].concat(a)),uu(r,"state",{isAnimationFinished:!1}),uu(r,"id",kp("recharts-bar-")),uu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),uu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return qOe(t,e),zOe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=wt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=fn(fn(fn({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ie.createElement(or,Fb({className:"recharts-bar-rectangle"},cf(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ie.createElement(xI,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return ie.createElement(bl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=s.map(function(v,y){var b=h&&h[y];if(b){var _=Xs(b.x,v.x),j=Xs(b.y,v.y),w=Xs(b.width,v.width),N=Xs(b.height,v.height);return fn(fn({},v),{},{x:_(g),y:j(g),width:w(g),height:N(g)})}if(o==="horizontal"){var S=Xs(0,v.height),k=S(g);return fn(fn({},v),{},{y:v.y+v.height-k,height:k})}var C=Xs(0,v.width),T=C(g);return fn(fn({},v),{},{width:T})});return ie.createElement(or,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!ax(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=wt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=$Oe(u,LOe);if(!f)return null;var m=fn(fn(fn(fn(fn({},h),{},{fill:"#eee"},f),c),cf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ie.createElement(xI,Fb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=si(d,sx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Cn(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ie.createElement(or,g,f.map(function(p){return ie.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=Mt("recharts-bar",o),b=l&&l.allowDataOverflow,_=c&&c.allowDataOverflow,j=b||_,w=Dt(p)?this.id:p;return ie.createElement(or,{className:y},b||_?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(w)},ie.createElement("rect",{x:b?u:u-f/2,y:_?d:d-h/2,width:b?f:f*2,height:_?h:h*2}))):null,ie.createElement(or,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,w),(!m||v)&&tc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);RW=Si;uu(Si,"displayName","Bar");uu(Si,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!dl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});uu(Si,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Cke(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?fn(fn({},p),r.props):r.props,y=v.dataKey,b=v.children,_=v.minPointSize,j=g==="horizontal"?o:s,w=u?j.scale.domain():null,N=Rke({numericAxis:j}),S=si(b,rl),k=f.map(function(C,T){var O,A,V,H,M,F;u?O=Eke(u[d+T],w):(O=Cn(C,y),Array.isArray(O)||(O=[N,O]));var L=IOe(_,RW.defaultProps.minPointSize)(O[1],T);if(g==="horizontal"){var B,D=[o.scale(O[0]),o.scale(O[1])],q=D[0],Y=D[1];A=c3({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:C,index:T}),V=(B=Y??q)!==null&&B!==void 0?B:void 0,H=m.size;var P=q-Y;if(M=Number.isNaN(P)?0:P,F={x:A,y:o.y,width:H,height:o.height},Math.abs(L)>0&&Math.abs(M)<Math.abs(L)){var G=Ja(M||L)*(Math.abs(L)-Math.abs(M));V-=G,M+=G}}else{var K=[s.scale(O[0]),s.scale(O[1])],Z=K[0],se=K[1];if(A=Z,V=c3({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:C,index:T}),H=se-Z,M=m.size,F={x:s.x,y:V,width:s.width,height:M},Math.abs(L)>0&&Math.abs(H)<Math.abs(L)){var oe=Ja(H||L)*(Math.abs(L)-Math.abs(H));H+=oe}}return fn(fn(fn({},C),{},{x:A,y:V,width:H,height:M,value:u?O:O[1],payload:C,background:F},S&&S[T]&&S[T].props),{},{tooltipPayload:[aW(r,C)],tooltipPosition:{x:A+H/2,y:V+M/2}})});return fn({data:k,layout:g},h)});function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function KOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IW(n.key),n)}}function YOe(e,t,r){return t&&_I(e.prototype,t),r&&_I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){Kw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kw(e,t,r){return t=IW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IW(e){var t=XOe(e,"string");return fv(t)=="symbol"?t:t+""}function XOe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LW=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Gs(u,Si);return d.reduce(function(m,g){var p=r[g],v=p.orientation,y=p.domain,b=p.padding,_=b===void 0?{}:b,j=p.mirror,w=p.reversed,N="".concat(v).concat(j?"Mirror":""),S,k,C,T,O;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var A=y[1]-y[0],V=1/0,H=p.categoricalDomain.sort(dme);if(H.forEach(function(K,Z){Z>0&&(V=Math.min((K||0)-(H[Z-1]||0),V))}),Number.isFinite(V)){var M=V/A,F=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(S=M*F/2),p.padding==="no-gap"){var L=Za(t.barCategoryGap,M*F),B=M*F/2;S=B-L-(B-L)/F*L}}}a==="xAxis"?k=[n.left+(_.left||0)+(S||0),n.left+n.width-(_.right||0)-(S||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(S||0),n.top+n.height-(_.bottom||0)-(S||0)]:k=p.range,w&&(k=[k[1],k[0]]);var D=eW(p,s,h),q=D.scale,Y=D.realScaleType;q.domain(y).range(k),tW(q);var P=rW(q,no(no({},p),{},{realScaleType:Y}));a==="xAxis"?(O=v==="top"&&!j||v==="bottom"&&j,C=n.left,T=f[N]-O*p.height):a==="yAxis"&&(O=v==="left"&&!j||v==="right"&&j,C=f[N]-O*p.width,T=n.top);var G=no(no(no({},p),P),{},{realScaleType:Y,x:C,y:T,scale:q,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return G.bandSize=bb(G,P),!p.hide&&a==="xAxis"?f[N]+=(O?-1:1)*G.height:p.hide||(f[N]+=(O?-1:1)*G.width),no(no({},m),{},Kw({},g,G))},{})},$W=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},QOe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return $W({x:r,y:n},{x:a,y:s})},BW=function(){function e(t){KOe(this,e),this.scale=t}return YOe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Kw(BW,"EPS",1e-4);var eP=function(t){var r=Object.keys(t).reduce(function(n,a){return no(no({},n),{},Kw({},a,BW.create(t[a])))},{});return no(no({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return vOe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return DW(a,function(s,o){return r[o].isInRange(s)})}})};function JOe(e){return(e%180+180)%180}var ZOe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=JOe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},e4e=kl,t4e=Zv,r4e=Cw;function n4e(e){return function(t,r,n){var a=Object(t);if(!t4e(t)){var s=e4e(r);t=r4e(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var a4e=n4e,s4e=TW;function i4e(e){var t=s4e(e),r=t%1;return t===t?r?t-r:t:0}var o4e=i4e,l4e=Rz,c4e=kl,u4e=o4e,d4e=Math.max;function f4e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:u4e(r);return a<0&&(a=d4e(n+a,0)),l4e(e,c4e(t),a)}var h4e=f4e,m4e=a4e,p4e=h4e,g4e=m4e(p4e),v4e=g4e;const x4e=fr(v4e);var y4e=fhe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),tP=x.createContext(void 0),rP=x.createContext(void 0),UW=x.createContext(void 0),zW=x.createContext({}),VW=x.createContext(void 0),WW=x.createContext(0),HW=x.createContext(0),jI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=y4e(s);return ie.createElement(tP.Provider,{value:n},ie.createElement(rP.Provider,{value:a},ie.createElement(zW.Provider,{value:s},ie.createElement(UW.Provider,{value:d},ie.createElement(VW.Provider,{value:o},ie.createElement(WW.Provider,{value:u},ie.createElement(HW.Provider,{value:c},l)))))))},b4e=function(){return x.useContext(VW)},qW=function(t){var r=x.useContext(tP);r==null&&ff();var n=r[t];return n==null&&ff(),n},_4e=function(){var t=x.useContext(tP);return Kc(t)},w4e=function(){var t=x.useContext(rP),r=x4e(t,function(n){return DW(n.domain,Number.isFinite)});return r||Kc(t)},GW=function(t){var r=x.useContext(rP);r==null&&ff();var n=r[t];return n==null&&ff(),n},j4e=function(){var t=x.useContext(UW);return t},S4e=function(){return x.useContext(zW)},nP=function(){return x.useContext(HW)},aP=function(){return x.useContext(WW)};function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function N4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YW(n.key),n)}}function C4e(e,t,r){return t&&k4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E4e(e,t,r){return t=Lb(t),T4e(e,KW()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function T4e(e,t){if(t&&(Bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A4e(e)}function A4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KW=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function P4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wC(e,t)}function wC(e,t){return wC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wC(e,t)}function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(n){sP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sP(e,t,r){return t=YW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YW(e){var t=O4e(e,"string");return Bm(t)=="symbol"?t:t+""}function O4e(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D4e(e,t){return I4e(e)||F4e(e,t)||M4e(e,t)||R4e()}function R4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M4e(e,t){if(e){if(typeof e=="string")return kI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kI(e,t)}}function kI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function I4e(e){if(Array.isArray(e))return e}function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jC.apply(this,arguments)}var L4e=function(t,r){var n;return ie.isValidElement(t)?n=ie.cloneElement(t,r):Ct(t)?n=t(r):n=ie.createElement("line",jC({},r,{className:"recharts-reference-line-line"})),n},$4e=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(hl(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var y=u.x,b=t.x.apply(y,{position:o});if(hl(u,"discard")&&!t.x.isInRange(b))return null;var _=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?_.reverse():_}if(a){var j=u.segment,w=j.map(function(N){return t.apply(N,{position:o})});return hl(u,"discard")&&cOe(w,function(N){return!t.isInRange(N)})?null:w}return null};function B4e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=b4e(),d=qW(a),f=GW(s),h=j4e();if(!u||!h)return null;vo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=eP({x:d.scale,y:f.scale}),g=Tn(t),p=Tn(r),v=n&&n.length===2,y=$4e(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=D4e(y,2),_=b[0],j=_.x,w=_.y,N=b[1],S=N.x,k=N.y,C=hl(e,"hidden")?"url(#".concat(u,")"):void 0,T=NI(NI({clipPath:C},wt(e,!0)),{},{x1:j,y1:w,x2:S,y2:k});return ie.createElement(or,{className:Mt("recharts-reference-line",l)},L4e(o,T),Bn.renderCallByParent(e,QOe({x1:j,y1:w,x2:S,y2:k})))}var iP=function(e){function t(){return N4e(this,t),E4e(this,t,arguments)}return P4e(t,e),C4e(t,[{key:"render",value:function(){return ie.createElement(B4e,this.props)}}])}(ie.Component);sP(iP,"displayName","ReferenceLine");sP(iP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SC.apply(this,arguments)}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(r),!0).forEach(function(n){Yw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QW(n.key),n)}}function V4e(e,t,r){return t&&z4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W4e(e,t,r){return t=$b(t),H4e(e,XW()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function H4e(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q4e(e)}function q4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XW=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function G4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NC(e,t)}function NC(e,t){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NC(e,t)}function Yw(e,t,r){return t=QW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=K4e(e,"string");return Um(t)=="symbol"?t:t+""}function K4e(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y4e=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=eP({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return hl(t,"discard")&&!o.isInRange(l)?null:l},Xw=function(e){function t(){return U4e(this,t),W4e(this,t,arguments)}return G4e(t,e),V4e(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Tn(a),d=Tn(s);if(vo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Y4e(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,y=hl(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=EI(EI({clipPath:y},wt(this.props,!0)),{},{cx:h,cy:m});return ie.createElement(or,{className:Mt("recharts-reference-dot",v)},t.renderDot(p,b),Bn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(ie.Component);Yw(Xw,"displayName","ReferenceDot");Yw(Xw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Yw(Xw,"renderDot",function(e,t){var r;return ie.isValidElement(e)?r=ie.cloneElement(e,t):Ct(e)?r=e(t):r=ie.createElement(Uw,SC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function kC(){return kC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kC.apply(this,arguments)}function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function TI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(r),!0).forEach(function(n){Qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZW(n.key),n)}}function J4e(e,t,r){return t&&Q4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z4e(e,t,r){return t=Bb(t),eDe(e,JW()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function eDe(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tDe(e)}function tDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function rDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CC(e,t)}function CC(e,t){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CC(e,t)}function Qw(e,t,r){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZW(e){var t=nDe(e,"string");return zm(t)=="symbol"?t:t+""}function nDe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aDe=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=eP({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return hl(s,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:$W(m,g)},Jw=function(e){function t(){return X4e(this,t),Z4e(this,t,arguments)}return rDe(t,e),J4e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;vo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Tn(a),h=Tn(s),m=Tn(o),g=Tn(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=aDe(f,h,m,g,this.props);if(!v&&!p)return null;var y=hl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ie.createElement(or,{className:Mt("recharts-reference-area",c)},t.renderRect(p,AI(AI({clipPath:y},wt(this.props,!0)),v)),Bn.renderCallByParent(this.props,v))}}])}(ie.Component);Qw(Jw,"displayName","ReferenceArea");Qw(Jw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Qw(Jw,"renderRect",function(e,t){var r;return ie.isValidElement(e)?r=ie.cloneElement(e,t):Ct(e)?r=e(t):r=ie.createElement(ZA,kC({},t,{className:"recharts-reference-area-rect"})),r});function eH(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function sDe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ZOe(n,r)}function iDe(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Ub(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function oDe(e,t){return eH(e,t+1)}function lDe(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:eH(n,u)};var p=c,v,y=function(){return v===void 0&&(v=r(g,p)),v},b=g.coordinate,_=c===0||Ub(e,b,y,d,l);_||(c=0,d=o,u+=1),_&&(d=b+e*(y()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function PI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(r),!0).forEach(function(n){cDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cDe(e,t,r){return t=uDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uDe(e){var t=dDe(e,"string");return hv(t)=="symbol"?t:t+""}function dDe(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fDe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);s[h]=m=ya(ya({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=ya(ya({},m),{},{tickCoord:m.coordinate});var y=Ub(e,m.tickCoord,p,l,c);y&&(c=m.tickCoord-e*(p()/2+a),s[h]=ya(ya({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function hDe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=ya(ya({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Ub(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=ya(ya({},d),{},{isShow:!0}))}for(var g=s?l-1:l,p=function(b){var _=o[b],j,w=function(){return j===void 0&&(j=r(_,b)),j};if(b===0){var N=e*(_.coordinate-e*w()/2-c);o[b]=_=ya(ya({},_),{},{tickCoord:N<0?_.coordinate-N*e:_.coordinate})}else o[b]=_=ya(ya({},_),{},{tickCoord:_.coordinate});var S=Ub(e,_.tickCoord,w,c,u);S&&(c=_.tickCoord+e*(w()/2+a),o[b]=ya(ya({},_),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function oP(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(qe(c)||dl.isSsr)return oDe(a,typeof c=="number"&&qe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?W0(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(_,j){var w=Ct(u)?u(_.value,j):_.value;return m==="width"?sDe(W0(w,{fontSize:t,letterSpacing:r}),g,f):W0(w,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?Ja(a[1].coordinate-a[0].coordinate):1,y=iDe(s,v,m);return c==="equidistantPreserveStart"?lDe(v,y,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=hDe(v,y,p,a,o,c==="preserveStartEnd"):h=fDe(v,y,p,a,o),h.filter(function(b){return b.isShow}))}var mDe=["viewBox"],pDe=["viewBox"],gDe=["ticks"];function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(this,arguments)}function OI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(r),!0).forEach(function(n){lP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t2(e,t){if(e==null)return{};var r=vDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rH(n.key),n)}}function yDe(e,t,r){return t&&DI(e.prototype,t),r&&DI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bDe(e,t,r){return t=zb(t),_De(e,tH()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function _De(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wDe(e)}function wDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tH=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function jDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EC(e,t)}function EC(e,t){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EC(e,t)}function lP(e,t,r){return t=rH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=SDe(e,"string");return Vm(t)=="symbol"?t:t+""}function SDe(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dp=function(e){function t(r){var n;return xDe(this,t),n=bDe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return jDe(t,e),yDe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=t2(n,mDe),l=this.props,c=l.viewBox,u=t2(l,pDe);return!Uh(s,c)||!Uh(o,u)||!Uh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,v,y,b,_=f?-1:1,j=n.tickSize||d,w=qe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=o+ +!f*c,p=v-_*j,b=p-_*h,y=w;break;case"left":p=v=n.coordinate,g=s+ +!f*l,m=g-_*j,y=m-_*h,b=w;break;case"right":p=v=n.coordinate,g=s+ +f*l,m=g+_*j,y=m+_*h,b=w;break;default:m=g=n.coordinate,v=o+ +f*c,p=v+_*j,b=p+_*h,y=w;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=wn(wn(wn({},wt(this.props,!1)),wt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=wn(wn({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=wn(wn({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return ie.createElement("line",kh({},f,{className:Mt("recharts-cartesian-axis-line",ai(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=oP(wn(wn({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=wt(this.props,!1),y=wt(d,!1),b=wn(wn({},v),{},{fill:"none"},wt(c,!1)),_=m.map(function(j,w){var N=o.getTickLineCoord(j),S=N.line,k=N.tick,C=wn(wn(wn(wn({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},y),k),{},{index:w,payload:j,visibleTicksCount:m.length,tickFormatter:f});return ie.createElement(or,kh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},cf(o.props,j,w)),c&&ie.createElement("line",kh({},b,S,{className:Mt("recharts-cartesian-axis-tick-line",ai(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Ct(f)?f(j.value,w):j.value).concat(h||"")))});return ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=t2(f,gDe),g=h;return Ct(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:ie.createElement(or,{className:Mt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Bn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=Mt(a.className,"recharts-cartesian-axis-tick-value");return ie.isValidElement(n)?o=ie.cloneElement(n,wn(wn({},a),{},{className:l})):Ct(n)?o=n(wn(wn({},a),{},{className:l})):o=ie.createElement(uf,kh({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);lP(Dp,"displayName","CartesianAxis");lP(Dp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var NDe=["x1","y1","x2","y2","key"],kDe=["offset"];function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){CDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CDe(e,t,r){return t=EDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EDe(e){var t=TDe(e,"string");return hf(t)=="symbol"?t:t+""}function TDe(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(this,arguments)}function MI(e,t){if(e==null)return{};var r=ADe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ADe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var PDe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return ie.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function nH(e,t){var r;if(ie.isValidElement(e))r=ie.cloneElement(e,t);else if(Ct(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=MI(t,NDe),u=wt(c,!1);u.offset;var d=MI(u,kDe);r=ie.createElement("line",jd({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function ODe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=ja(ja({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return nH(a,u)});return ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function DDe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=ja(ja({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return nH(a,u)});return ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function RDe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return ie.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function MDe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return ie.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var FDe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return ZV(oP(ja(ja(ja({},Dp.defaultProps),n),{},{ticks:Yl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},IDe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return ZV(oP(ja(ja(ja({},Dp.defaultProps),n),{},{ticks:Yl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Yf={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Eu(e){var t,r,n,a,s,o,l=nP(),c=aP(),u=S4e(),d=ja(ja({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Yf.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Yf.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Yf.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Yf.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Yf.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Yf.verticalFill,x:qe(e.x)?e.x:u.left,y:qe(e.y)?e.y:u.top,width:qe(e.width)?e.width:u.width,height:qe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=_4e(),_=w4e();if(!qe(m)||m<=0||!qe(g)||g<=0||!qe(f)||f!==+f||!qe(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||FDe,w=d.horizontalCoordinatesGenerator||IDe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&Ct(w)){var k=v&&v.length,C=w({yAxis:_?ja(ja({},_),{},{ticks:k?v:_.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);vo(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hf(C),"]")),Array.isArray(C)&&(N=C)}if((!S||!S.length)&&Ct(j)){var T=y&&y.length,O=j({xAxis:b?ja(ja({},b),{},{ticks:T?y:b.ticks}):void 0,width:l,height:c,offset:u},T?!0:p);vo(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hf(O),"]")),Array.isArray(O)&&(S=O)}return ie.createElement("g",{className:"recharts-cartesian-grid"},ie.createElement(PDe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ie.createElement(ODe,jd({},d,{offset:u,horizontalPoints:N,xAxis:b,yAxis:_})),ie.createElement(DDe,jd({},d,{offset:u,verticalPoints:S,xAxis:b,yAxis:_})),ie.createElement(RDe,jd({},d,{horizontalPoints:N})),ie.createElement(MDe,jd({},d,{verticalPoints:S})))}Eu.displayName="CartesianGrid";var LDe=["type","layout","connectNulls","ref"],$De=["key"];function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function FI(e,t){if(e==null)return{};var r=BDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X0.apply(this,arguments)}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(n){ao(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xf(e){return WDe(e)||VDe(e)||zDe(e)||UDe()}function UDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zDe(e,t){if(e){if(typeof e=="string")return TC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TC(e,t)}}function VDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WDe(e){if(Array.isArray(e))return TC(e)}function TC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sH(n.key),n)}}function qDe(e,t,r){return t&&LI(e.prototype,t),r&&LI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GDe(e,t,r){return t=Vb(t),KDe(e,aH()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function KDe(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YDe(e)}function YDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aH=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function XDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AC(e,t)}function AC(e,t){return AC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AC(e,t)}function ao(e,t,r){return t=sH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=QDe(e,"string");return Wm(t)=="symbol"?t:t+""}function QDe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nc=function(e){function t(){var r;HDe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=GDe(this,t,[].concat(a)),ao(r,"state",{isAnimationFinished:!0,totalLength:0}),ao(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ao(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(Xf(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Xf(t.repeat(c,d)),Xf(m),v).map(function(y){return"".concat(y,"px")}).join(", ")}),ao(r,"id",kp("recharts-line-")),ao(r,"pathRef",function(o){r.mainCurve=o}),ao(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ao(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return XDe(t,e),qDe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=si(d,sx);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:Cn(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ie.createElement(or,m,f.map(function(g){return ie.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=wt(this.props,!1),h=wt(c,!0),m=u.map(function(p,v){var y=Ws(Ws(Ws({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return ie.createElement(or,X0({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=FI(l,LDe),h=Ws(Ws(Ws({},wt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return ie.createElement(jb,X0({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,y=this.state,b=y.prevPoints,_=y.totalLength;return ie.createElement(bl,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t;if(b){var N=b.length/l.length,S=l.map(function(A,V){var H=Math.floor(V*N);if(b[H]){var M=b[H],F=Xs(M.x,A.x),L=Xs(M.y,A.y);return Ws(Ws({},A),{},{x:F(w),y:L(w)})}if(g){var B=Xs(p*2,A.x),D=Xs(v/2,A.y);return Ws(Ws({},A),{},{x:B(w),y:D(w)})}return Ws(Ws({},A),{},{x:A.x,y:A.y})});return s.renderCurveStatically(S,n,a)}var k=Xs(0,_),C=k(w),T;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});T=s.getStrokeDasharray(C,_,O)}else T=s.generateSimpleStrokeDasharray(_,C);return s.renderCurveStatically(l,n,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!ax(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,_=Mt("recharts-line",c),j=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,N=j||w,S=Dt(v)?this.id:v,k=(n=wt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,T=C===void 0?3:C,O=k.strokeWidth,A=O===void 0?2:O,V=bme(o)?o:{},H=V.clipDot,M=H===void 0?!0:H,F=T*2+A;return ie.createElement(or,{className:_},j||w?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(S)},ie.createElement("rect",{x:j?h:h-m/2,y:w?f:f-g/2,width:j?m:m*2,height:w?g:g*2})),!M&&ie.createElement("clipPath",{id:"clipPath-dots-".concat(S)},ie.createElement("rect",{x:h-F/2,y:f-F/2,width:m+F,height:g+F}))):null,!b&&this.renderCurve(N,S),this.renderErrorBar(N,S),(b||o)&&this.renderDots(N,M,S),(!p||y)&&tc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Xf(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Xf(o),Xf(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(ie.isValidElement(n))s=ie.cloneElement(n,a);else if(Ct(n))s=n(a);else{var o=a.key,l=FI(a,$De),c=Mt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ie.createElement(Uw,X0({key:o},l,{className:c}))}return s}}])}(x.PureComponent);ao(Nc,"displayName","Line");ao(Nc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!dl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ao(Nc,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=Cn(h,o);return d==="horizontal"?{x:l3({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Dt(g)?null:n.scale(g),value:g,payload:h}:{x:Dt(g)?null:r.scale(g),y:l3({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:g,payload:h}});return Ws({points:f,layout:d},u)});function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function JDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lH(n.key),n)}}function eRe(e,t,r){return t&&ZDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tRe(e,t,r){return t=Wb(t),rRe(e,iH()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function rRe(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nRe(e)}function nRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function aRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PC(e,t)}function PC(e,t){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PC(e,t)}function oH(e,t,r){return t=lH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lH(e){var t=sRe(e,"string");return Hm(t)=="symbol"?t:t+""}function sRe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OC.apply(this,arguments)}function iRe(e){var t=e.xAxisId,r=nP(),n=aP(),a=qW(t);return a==null?null:x.createElement(Dp,OC({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Yl(o,!0)}}))}var xo=function(e){function t(){return JDe(this,t),tRe(this,t,arguments)}return aRe(t,e),eRe(t,[{key:"render",value:function(){return x.createElement(iRe,this.props)}}])}(x.Component);oH(xo,"displayName","XAxis");oH(xo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function oRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dH(n.key),n)}}function cRe(e,t,r){return t&&lRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uRe(e,t,r){return t=Hb(t),dRe(e,cH()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function dRe(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fRe(e)}function fRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function hRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DC(e,t)}function DC(e,t){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DC(e,t)}function uH(e,t,r){return t=dH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=mRe(e,"string");return qm(t)=="symbol"?t:t+""}function mRe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RC.apply(this,arguments)}var pRe=function(t){var r=t.yAxisId,n=nP(),a=aP(),s=GW(r);return s==null?null:x.createElement(Dp,RC({},s,{className:Mt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Yl(l,!0)}}))},yo=function(e){function t(){return oRe(this,t),uRe(this,t,arguments)}return hRe(t,e),cRe(t,[{key:"render",value:function(){return x.createElement(pRe,this.props)}}])}(x.Component);uH(yo,"displayName","YAxis");uH(yo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $I(e){return yRe(e)||xRe(e)||vRe(e)||gRe()}function gRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vRe(e,t){if(e){if(typeof e=="string")return MC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MC(e,t)}}function xRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yRe(e){if(Array.isArray(e))return MC(e)}function MC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var FC=function(t,r,n,a,s){var o=si(t,iP),l=si(t,Xw),c=[].concat($I(o),$I(l)),u=si(t,Jw),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&hl(v.props,"extendDomain")&&qe(v.props[f])){var y=v.props[f];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&hl(v.props,"extendDomain")&&qe(v.props[m])&&qe(v.props[g])){var y=v.props[m],b=v.props[g];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,v){return qe(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},fH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,b,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];v.fn.apply(v.context,b)}else{var j=v.length,w;for(_=0;_<j;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),y){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,h);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v[_].fn.apply(v[_].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,v=[],y=g.length;p<y;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(fH);var bRe=fH.exports;const _Re=fr(bRe);var r2=new _Re,n2="recharts.syncMouseEvents";function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function wRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hH(n.key),n)}}function SRe(e,t,r){return t&&jRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a2(e,t,r){return t=hH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=NRe(e,"string");return mv(t)=="symbol"?t:t+""}function NRe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kRe=function(){function e(){wRe(this,e),a2(this,"activeIndex",0),a2(this,"coordinateList",[]),a2(this,"layout","horizontal")}return SRe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function CRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&qe(n)&&qe(a))return!0}return!1}function ERe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function mH(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=Nr(t,r,n,a),l=Nr(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function TRe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Nr(l,c,u,f),m=Nr(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return mH(t);return[{x:n,y:a},{x:s,y:o}]}function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function BI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(r),!0).forEach(function(n){ARe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ARe(e,t,r){return t=PRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PRe(e){var t=ORe(e,"string");return pv(t)=="symbol"?t:t+""}function ORe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DRe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=jb;if(h==="ScatterChart")g=o,p=QTe;else if(h==="BarChart")g=ERe(f,o,c,d),p=ZA;else if(f==="radial"){var v=mH(o),y=v.cx,b=v.cy,_=v.radius,j=v.startAngle,w=v.endAngle;g={cx:y,cy:b,startAngle:j,endAngle:w,innerRadius:_,outerRadius:_},p=uW}else g={points:TRe(f,o,c)},p=jb;var N=gy(gy(gy(gy({stroke:"#ccc",pointerEvents:"none"},c),g),wt(m,!1)),{},{payload:l,payloadIndex:u,className:Mt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,N):x.createElement(p,N)}var RRe=["item"],MRe=["children","className","width","height","style","compact","title","desc"];function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(this,arguments)}function UI(e,t){return LRe(e)||IRe(e,t)||gH(e,t)||FRe()}function FRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function LRe(e){if(Array.isArray(e))return e}function zI(e,t){if(e==null)return{};var r=$Re(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Re(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function URe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vH(n.key),n)}}function zRe(e,t,r){return t&&URe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VRe(e,t,r){return t=qb(t),WRe(e,pH()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function WRe(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HRe(e)}function HRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function qRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IC(e,t)}function IC(e,t){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IC(e,t)}function Km(e){return YRe(e)||KRe(e)||gH(e)||GRe()}function GRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gH(e,t){if(e){if(typeof e=="string")return LC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LC(e,t)}}function KRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YRe(e){if(Array.isArray(e))return LC(e)}function LC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){jt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jt(e,t,r){return t=vH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=XRe(e,"string");return Gm(t)=="symbol"?t:t+""}function XRe(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QRe={xAxis:["bottom","top"],yAxis:["left","right"]},JRe={width:"100%",height:"100%"},xH={x:0,y:0};function vy(e){return e}var ZRe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},eMe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return Ie(Ie(Ie({},a),Nr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return Ie(Ie(Ie({},a),Nr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return xH},Zw=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Km(l),Km(u)):l},[]);return o.length>0?o:t&&t.length&&qe(a)&&qe(s)?t.slice(a,s+1):[]};function yH(e){return e==="number"?[0,"auto"]:void 0}var $C=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=Zw(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=q1(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Km(c),[aW(u,h)]):c},[])},WI=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=ZRe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=_ke(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=$C(t,r,d,f),m=eMe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},tMe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=JV(d,s);return n.reduce(function(g,p){var v,y=p.type.defaultProps!==void 0?Ie(Ie({},p.type.defaultProps),p.props):p.props,b=y.type,_=y.dataKey,j=y.allowDataOverflow,w=y.allowDuplicatedCategory,N=y.scale,S=y.ticks,k=y.includeHidden,C=y[o];if(g[C])return g;var T=Zw(t.data,{graphicalItems:a.filter(function(P){var G,K=o in P.props?P.props[o]:(G=P.type.defaultProps)===null||G===void 0?void 0:G[o];return K===C}),dataStartIndex:c,dataEndIndex:u}),O=T.length,A,V,H;CRe(y.domain,j,b)&&(A=Zk(y.domain,null,j),m&&(b==="number"||N!=="auto")&&(H=q0(T,_,"category")));var M=yH(b);if(!A||A.length===0){var F,L=(F=y.domain)!==null&&F!==void 0?F:M;if(_){if(A=q0(T,_,b),b==="category"&&m){var B=ume(A);w&&B?(V=A,A=Db(0,O)):w||(A=f3(L,A,p).reduce(function(P,G){return P.indexOf(G)>=0?P:[].concat(Km(P),[G])},[]))}else if(b==="category")w?A=A.filter(function(P){return P!==""&&!Dt(P)}):A=f3(L,A,p).reduce(function(P,G){return P.indexOf(G)>=0||G===""||Dt(G)?P:[].concat(Km(P),[G])},[]);else if(b==="number"){var D=kke(T,a.filter(function(P){var G,K,Z=o in P.props?P.props[o]:(G=P.type.defaultProps)===null||G===void 0?void 0:G[o],se="hide"in P.props?P.props.hide:(K=P.type.defaultProps)===null||K===void 0?void 0:K.hide;return Z===C&&(k||!se)}),_,s,d);D&&(A=D)}m&&(b==="number"||N!=="auto")&&(H=q0(T,_,"category"))}else m?A=Db(0,O):l&&l[C]&&l[C].hasStack&&b==="number"?A=h==="expand"?[0,1]:nW(l[C].stackGroups,c,u):A=QV(T,a.filter(function(P){var G=o in P.props?P.props[o]:P.type.defaultProps[o],K="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return G===C&&(k||!K)}),b,d,!0);if(b==="number")A=FC(f,A,C,s,S),L&&(A=Zk(L,A,j));else if(b==="category"&&L){var q=L,Y=A.every(function(P){return q.indexOf(P)>=0});Y&&(A=q)}}return Ie(Ie({},g),{},jt({},C,Ie(Ie({},y),{},{axisType:s,domain:A,categoricalDomain:H,duplicateDomain:V,originalDomain:(v=y.domain)!==null&&v!==void 0?v:M,isCategorical:m,layout:d})))},{})},rMe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Zw(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=JV(d,s),p=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?Ie(Ie({},y.type.defaultProps),y.props):y.props,_=b[o],j=yH("number");if(!v[_]){p++;var w;return g?w=Db(0,m):l&&l[_]&&l[_].hasStack?(w=nW(l[_].stackGroups,c,u),w=FC(f,w,_,s)):(w=Zk(j,QV(h,n.filter(function(N){var S,k,C=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],T="hide"in N.props?N.props.hide:(k=N.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===_&&!T}),"number",d),a.defaultProps.allowDataOverflow),w=FC(f,w,_,s)),Ie(Ie({},v),{},jt({},_,Ie(Ie({axisType:s},a.defaultProps),{},{hide:!0,orientation:ai(QRe,"".concat(s,".").concat(p%2),null),domain:w,originalDomain:j,isCategorical:g,layout:d})))}return v},{})},nMe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=si(d,s),m={};return h&&h.length?m=tMe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=rMe(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},aMe=function(t){var r=Kc(t),n=Yl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:kA(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:bb(r,n)}},HI=function(t){var r=t.children,n=t.defaultShowTooltip,a=Gs(r,Lm),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},sMe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Zl(r&&r.type);return n&&n.indexOf("Bar")>=0})},qI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},iMe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Gs(f,Lm),g=Gs(f,ii),p=Object.keys(c).reduce(function(w,N){var S=c[N],k=S.orientation;return!S.mirror&&!S.hide?Ie(Ie({},w),{},jt({},k,w[k]+S.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(w,N){var S=o[N],k=S.orientation;return!S.mirror&&!S.hide?Ie(Ie({},w),{},jt({},k,ai(w,"".concat(k))+S.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=Ie(Ie({},v),p),b=y.bottom;m&&(y.bottom+=m.props.height||Lm.defaultProps.height),g&&r&&(y=Ske(y,a,n,r));var _=u-y.left-y.right,j=d-y.top-y.bottom;return Ie(Ie({brushBottom:b},y),{},{width:Math.max(_,0),height:Math.max(j,0)})},oMe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},cP=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var _=b.graphicalItems,j=b.stackGroups,w=b.offset,N=b.updateId,S=b.dataStartIndex,k=b.dataEndIndex,C=y.barSize,T=y.layout,O=y.barGap,A=y.barCategoryGap,V=y.maxBarSize,H=qI(T),M=H.numericAxisName,F=H.cateAxisName,L=sMe(_),B=[];return _.forEach(function(D,q){var Y=Zw(y.data,{graphicalItems:[D],dataStartIndex:S,dataEndIndex:k}),P=D.type.defaultProps!==void 0?Ie(Ie({},D.type.defaultProps),D.props):D.props,G=P.dataKey,K=P.maxBarSize,Z=P["".concat(M,"Id")],se=P["".concat(F,"Id")],oe={},xe=c.reduce(function(he,U){var ue=b["".concat(U.axisType,"Map")],we=P["".concat(U.axisType,"Id")];ue&&ue[we]||U.axisType==="zAxis"||ff();var _e=ue[we];return Ie(Ie({},he),{},jt(jt({},U.axisType,_e),"".concat(U.axisType,"Ticks"),Yl(_e)))},oe),z=xe[F],W=xe["".concat(F,"Ticks")],ce=j&&j[Z]&&j[Z].hasStack&&Mke(D,j[Z].stackGroups),E=Zl(D.type).indexOf("Bar")>=0,Pe=bb(z,W),Re=[],pe=L&&wke({barSize:C,stackGroups:j,totalSize:oMe(xe,F)});if(E){var Me,be,Ge=Dt(K)?V:K,Ze=(Me=(be=bb(z,W,!0))!==null&&be!==void 0?be:Ge)!==null&&Me!==void 0?Me:0;Re=jke({barGap:O,barCategoryGap:A,bandSize:Ze!==Pe?Ze:Pe,sizeList:pe[se],maxBarSize:Ge}),Ze!==Pe&&(Re=Re.map(function(he){return Ie(Ie({},he),{},{position:Ie(Ie({},he.position),{},{offset:he.position.offset-Ze/2})})}))}var ae=D&&D.type&&D.type.getComposedData;ae&&B.push({props:Ie(Ie({},ae(Ie(Ie({},xe),{},{displayedData:Y,props:y,dataKey:G,item:D,bandSize:Pe,barPosition:Re,offset:w,stackedData:ce,layout:T,dataStartIndex:S,dataEndIndex:k}))),{},jt(jt(jt({key:D.key||"item-".concat(q)},M,xe[M]),F,xe[F]),"animationId",N)),childIndex:jme(D,y.children),item:D})}),B},m=function(y,b){var _=y.props,j=y.dataStartIndex,w=y.dataEndIndex,N=y.updateId;if(!sM({props:_}))return null;var S=_.children,k=_.layout,C=_.stackOffset,T=_.data,O=_.reverseStackOrder,A=qI(k),V=A.numericAxisName,H=A.cateAxisName,M=si(S,n),F=Dke(T,M,"".concat(V,"Id"),"".concat(H,"Id"),C,O),L=c.reduce(function(P,G){var K="".concat(G.axisType,"Map");return Ie(Ie({},P),{},jt({},K,nMe(_,Ie(Ie({},G),{},{graphicalItems:M,stackGroups:G.axisType===V&&F,dataStartIndex:j,dataEndIndex:w}))))},{}),B=iMe(Ie(Ie({},L),{},{props:_,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(L).forEach(function(P){L[P]=d(_,L[P],B,P.replace("Map",""),r)});var D=L["".concat(H,"Map")],q=aMe(D),Y=h(_,Ie(Ie({},L),{},{dataStartIndex:j,dataEndIndex:w,updateId:N,graphicalItems:M,stackGroups:F,offset:B}));return Ie(Ie({formattedGraphicalItems:Y,graphicalItems:M,offset:B,stackGroups:F},q),L)},g=function(v){function y(b){var _,j,w;return BRe(this,y),w=VRe(this,y,[b]),jt(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(w,"accessibilityManager",new kRe),jt(w,"handleLegendBBoxUpdate",function(N){if(N){var S=w.state,k=S.dataStartIndex,C=S.dataEndIndex,T=S.updateId;w.setState(Ie({legendBBox:N},m({props:w.props,dataStartIndex:k,dataEndIndex:C,updateId:T},Ie(Ie({},w.state),{},{legendBBox:N}))))}}),jt(w,"handleReceiveSyncEvent",function(N,S,k){if(w.props.syncId===N){if(k===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(S)}}),jt(w,"handleBrushChange",function(N){var S=N.startIndex,k=N.endIndex;if(S!==w.state.dataStartIndex||k!==w.state.dataEndIndex){var C=w.state.updateId;w.setState(function(){return Ie({dataStartIndex:S,dataEndIndex:k},m({props:w.props,dataStartIndex:S,dataEndIndex:k,updateId:C},w.state))}),w.triggerSyncEvent({dataStartIndex:S,dataEndIndex:k})}}),jt(w,"handleMouseEnter",function(N){var S=w.getMouseInfo(N);if(S){var k=Ie(Ie({},S),{},{isTooltipActive:!0});w.setState(k),w.triggerSyncEvent(k);var C=w.props.onMouseEnter;Ct(C)&&C(k,N)}}),jt(w,"triggeredAfterMouseMove",function(N){var S=w.getMouseInfo(N),k=S?Ie(Ie({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var C=w.props.onMouseMove;Ct(C)&&C(k,N)}),jt(w,"handleItemMouseEnter",function(N){w.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),jt(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),jt(w,"handleMouseMove",function(N){N.persist(),w.throttleTriggeredAfterMouseMove(N)}),jt(w,"handleMouseLeave",function(N){w.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S);var k=w.props.onMouseLeave;Ct(k)&&k(S,N)}),jt(w,"handleOuterEvent",function(N){var S=wme(N),k=ai(w.props,"".concat(S));if(S&&Ct(k)){var C,T;/.*touch.*/i.test(S)?T=w.getMouseInfo(N.changedTouches[0]):T=w.getMouseInfo(N),k((C=T)!==null&&C!==void 0?C:{},N)}}),jt(w,"handleClick",function(N){var S=w.getMouseInfo(N);if(S){var k=Ie(Ie({},S),{},{isTooltipActive:!0});w.setState(k),w.triggerSyncEvent(k);var C=w.props.onClick;Ct(C)&&C(k,N)}}),jt(w,"handleMouseDown",function(N){var S=w.props.onMouseDown;if(Ct(S)){var k=w.getMouseInfo(N);S(k,N)}}),jt(w,"handleMouseUp",function(N){var S=w.props.onMouseUp;if(Ct(S)){var k=w.getMouseInfo(N);S(k,N)}}),jt(w,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),jt(w,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseDown(N.changedTouches[0])}),jt(w,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseUp(N.changedTouches[0])}),jt(w,"handleDoubleClick",function(N){var S=w.props.onDoubleClick;if(Ct(S)){var k=w.getMouseInfo(N);S(k,N)}}),jt(w,"handleContextMenu",function(N){var S=w.props.onContextMenu;if(Ct(S)){var k=w.getMouseInfo(N);S(k,N)}}),jt(w,"triggerSyncEvent",function(N){w.props.syncId!==void 0&&r2.emit(n2,w.props.syncId,N,w.eventEmitterSymbol)}),jt(w,"applySyncEvent",function(N){var S=w.props,k=S.layout,C=S.syncMethod,T=w.state.updateId,O=N.dataStartIndex,A=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)w.setState(Ie({dataStartIndex:O,dataEndIndex:A},m({props:w.props,dataStartIndex:O,dataEndIndex:A,updateId:T},w.state)));else if(N.activeTooltipIndex!==void 0){var V=N.chartX,H=N.chartY,M=N.activeTooltipIndex,F=w.state,L=F.offset,B=F.tooltipTicks;if(!L)return;if(typeof C=="function")M=C(B,N);else if(C==="value"){M=-1;for(var D=0;D<B.length;D++)if(B[D].value===N.activeLabel){M=D;break}}var q=Ie(Ie({},L),{},{x:L.left,y:L.top}),Y=Math.min(V,q.x+q.width),P=Math.min(H,q.y+q.height),G=B[M]&&B[M].value,K=$C(w.state,w.props.data,M),Z=B[M]?{x:k==="horizontal"?B[M].coordinate:Y,y:k==="horizontal"?P:B[M].coordinate}:xH;w.setState(Ie(Ie({},N),{},{activeLabel:G,activeCoordinate:Z,activePayload:K,activeTooltipIndex:M}))}else w.setState(N)}),jt(w,"renderCursor",function(N){var S,k=w.state,C=k.isTooltipActive,T=k.activeCoordinate,O=k.activePayload,A=k.offset,V=k.activeTooltipIndex,H=k.tooltipAxisBandSize,M=w.getTooltipEventType(),F=(S=N.props.active)!==null&&S!==void 0?S:C,L=w.props.layout,B=N.key||"_recharts-cursor";return ie.createElement(DRe,{key:B,activeCoordinate:T,activePayload:O,activeTooltipIndex:V,chartName:r,element:N,isActive:F,layout:L,offset:A,tooltipAxisBandSize:H,tooltipEventType:M})}),jt(w,"renderPolarAxis",function(N,S,k){var C=ai(N,"type.axisType"),T=ai(w.state,"".concat(C,"Map")),O=N.type.defaultProps,A=O!==void 0?Ie(Ie({},O),N.props):N.props,V=T&&T[A["".concat(C,"Id")]];return x.cloneElement(N,Ie(Ie({},V),{},{className:Mt(C,V.className),key:N.key||"".concat(S,"-").concat(k),ticks:Yl(V,!0)}))}),jt(w,"renderPolarGrid",function(N){var S=N.props,k=S.radialLines,C=S.polarAngles,T=S.polarRadius,O=w.state,A=O.radiusAxisMap,V=O.angleAxisMap,H=Kc(A),M=Kc(V),F=M.cx,L=M.cy,B=M.innerRadius,D=M.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(C)?C:Yl(M,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(T)?T:Yl(H,!0).map(function(q){return q.coordinate}),cx:F,cy:L,innerRadius:B,outerRadius:D,key:N.key||"polar-grid",radialLines:k})}),jt(w,"renderLegend",function(){var N=w.state.formattedGraphicalItems,S=w.props,k=S.children,C=S.width,T=S.height,O=w.props.margin||{},A=C-(O.left||0)-(O.right||0),V=YV({children:k,formattedGraphicalItems:N,legendWidth:A,legendContent:u});if(!V)return null;var H=V.item,M=zI(V,RRe);return x.cloneElement(H,Ie(Ie({},M),{},{chartWidth:C,chartHeight:T,margin:O,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),jt(w,"renderTooltip",function(){var N,S=w.props,k=S.children,C=S.accessibilityLayer,T=Gs(k,Qn);if(!T)return null;var O=w.state,A=O.isTooltipActive,V=O.activeCoordinate,H=O.activePayload,M=O.activeLabel,F=O.offset,L=(N=T.props.active)!==null&&N!==void 0?N:A;return x.cloneElement(T,{viewBox:Ie(Ie({},F),{},{x:F.left,y:F.top}),active:L,label:M,payload:L?H:[],coordinate:V,accessibilityLayer:C})}),jt(w,"renderBrush",function(N){var S=w.props,k=S.margin,C=S.data,T=w.state,O=T.offset,A=T.dataStartIndex,V=T.dataEndIndex,H=T.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:fy(w.handleBrushChange,N.props.onChange),data:C,x:qe(N.props.x)?N.props.x:O.left,y:qe(N.props.y)?N.props.y:O.top+O.height+O.brushBottom-(k.bottom||0),width:qe(N.props.width)?N.props.width:O.width,startIndex:A,endIndex:V,updateId:"brush-".concat(H)})}),jt(w,"renderReferenceElement",function(N,S,k){if(!N)return null;var C=w,T=C.clipPathId,O=w.state,A=O.xAxisMap,V=O.yAxisMap,H=O.offset,M=N.type.defaultProps||{},F=N.props,L=F.xAxisId,B=L===void 0?M.xAxisId:L,D=F.yAxisId,q=D===void 0?M.yAxisId:D;return x.cloneElement(N,{key:N.key||"".concat(S,"-").concat(k),xAxis:A[B],yAxis:V[q],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:T})}),jt(w,"renderActivePoints",function(N){var S=N.item,k=N.activePoint,C=N.basePoint,T=N.childIndex,O=N.isRange,A=[],V=S.props.key,H=S.item.type.defaultProps!==void 0?Ie(Ie({},S.item.type.defaultProps),S.item.props):S.item.props,M=H.activeDot,F=H.dataKey,L=Ie(Ie({index:T,dataKey:F,cx:k.x,cy:k.y,r:4,fill:JA(S.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},wt(M,!1)),G1(M));return A.push(y.renderActiveDot(M,L,"".concat(V,"-activePoint-").concat(T))),C?A.push(y.renderActiveDot(M,Ie(Ie({},L),{},{cx:C.x,cy:C.y}),"".concat(V,"-basePoint-").concat(T))):O&&A.push(null),A}),jt(w,"renderGraphicChild",function(N,S,k){var C=w.filterFormatItem(N,S,k);if(!C)return null;var T=w.getTooltipEventType(),O=w.state,A=O.isTooltipActive,V=O.tooltipAxis,H=O.activeTooltipIndex,M=O.activeLabel,F=w.props.children,L=Gs(F,Qn),B=C.props,D=B.points,q=B.isRange,Y=B.baseLine,P=C.item.type.defaultProps!==void 0?Ie(Ie({},C.item.type.defaultProps),C.item.props):C.item.props,G=P.activeDot,K=P.hide,Z=P.activeBar,se=P.activeShape,oe=!!(!K&&A&&L&&(G||Z||se)),xe={};T!=="axis"&&L&&L.props.trigger==="click"?xe={onClick:fy(w.handleItemMouseEnter,N.props.onClick)}:T!=="axis"&&(xe={onMouseLeave:fy(w.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:fy(w.handleItemMouseEnter,N.props.onMouseEnter)});var z=x.cloneElement(N,Ie(Ie({},C.props),xe));function W(U){return typeof V.dataKey=="function"?V.dataKey(U.payload):null}if(oe)if(H>=0){var ce,E;if(V.dataKey&&!V.allowDuplicatedCategory){var Pe=typeof V.dataKey=="function"?W:"payload.".concat(V.dataKey.toString());ce=q1(D,Pe,M),E=q&&Y&&q1(Y,Pe,M)}else ce=D==null?void 0:D[H],E=q&&Y&&Y[H];if(se||Z){var Re=N.props.activeIndex!==void 0?N.props.activeIndex:H;return[x.cloneElement(N,Ie(Ie(Ie({},C.props),xe),{},{activeIndex:Re})),null,null]}if(!Dt(ce))return[z].concat(Km(w.renderActivePoints({item:C,activePoint:ce,basePoint:E,childIndex:H,isRange:q})))}else{var pe,Me=(pe=w.getItemByXY(w.state.activeCoordinate))!==null&&pe!==void 0?pe:{graphicalItem:z},be=Me.graphicalItem,Ge=be.item,Ze=Ge===void 0?N:Ge,ae=be.childIndex,he=Ie(Ie(Ie({},C.props),xe),{},{activeIndex:ae});return[x.cloneElement(Ze,he),null,null]}return q?[z,null,null]:[z,null]}),jt(w,"renderCustomized",function(N,S,k){return x.cloneElement(N,Ie(Ie({key:"recharts-customized-".concat(k)},w.props),w.state))}),jt(w,"renderMap",{CartesianGrid:{handler:vy,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:vy},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:vy},YAxis:{handler:vy},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:kp("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=Kz(w.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),w.state={},w}return qRe(y,v),zRe(y,[{key:"componentDidMount",value:function(){var _,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,j=_.children,w=_.data,N=_.height,S=_.layout,k=Gs(j,Qn);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,O=$C(this.state,w,C,T),A=this.state.tooltipTicks[C].coordinate,V=(this.state.offset.top+N)/2,H=S==="horizontal",M=H?{x:A,y:V}:{y:A,x:V},F=this.state.formattedGraphicalItems.find(function(B){var D=B.item;return D.type.name==="Scatter"});F&&(M=Ie(Ie({},M),F.props.points[C].tooltipPosition),O=F.props.points[C].tooltipPayload);var L={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:T,activePayload:O,activeCoordinate:M};this.setState(L),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var w,N;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(_){mk([Gs(_.children,Qn)],[Gs(this.props.children,Qn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Gs(this.props.children,Qn);if(_&&typeof _.props.shared=="boolean"){var j=_.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var j=this.container,w=j.getBoundingClientRect(),N=Ywe(w),S={chartX:Math.round(_.pageX-N.left),chartY:Math.round(_.pageY-N.top)},k=w.width/j.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,k);if(!C)return null;var T=this.state,O=T.xAxisMap,A=T.yAxisMap,V=this.getTooltipEventType(),H=WI(this.state,this.props.data,this.props.layout,C);if(V!=="axis"&&O&&A){var M=Kc(O).scale,F=Kc(A).scale,L=M&&M.invert?M.invert(S.chartX):null,B=F&&F.invert?F.invert(S.chartY):null;return Ie(Ie({},S),{},{xValue:L,yValue:B},H)}return H?Ie(Ie({},S),H):null}},{key:"inRange",value:function(_,j){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=_/w,k=j/w;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,T=S>=C.left&&S<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return T?{x:S,y:k}:null}var O=this.state,A=O.angleAxisMap,V=O.radiusAxisMap;if(A&&V){var H=Kc(A);return p3({x:S,y:k},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,j=this.getTooltipEventType(),w=Gs(_,Qn),N={};w&&j==="axis"&&(w.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=G1(this.props,this.handleOuterEvent);return Ie(Ie({},S),N)}},{key:"addListener",value:function(){r2.on(n2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){r2.removeListener(n2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,j,w){for(var N=this.state.formattedGraphicalItems,S=0,k=N.length;S<k;S++){var C=N[S];if(C.item===_||C.props.key===_.key||j===Zl(C.item.type)&&w===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,j=this.state.offset,w=j.left,N=j.top,S=j.height,k=j.width;return ie.createElement("defs",null,ie.createElement("clipPath",{id:_},ie.createElement("rect",{x:w,y:N,height:S,width:k})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(j,w){var N=UI(w,2),S=N[0],k=N[1];return Ie(Ie({},j),{},jt({},S,k.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(j,w){var N=UI(w,2),S=N[0],k=N[1];return Ie(Ie({},j),{},jt({},S,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[_])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(_){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[_])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(_){var j=this.state,w=j.formattedGraphicalItems,N=j.activeItem;if(w&&w.length)for(var S=0,k=w.length;S<k;S++){var C=w[S],T=C.props,O=C.item,A=O.type.defaultProps!==void 0?Ie(Ie({},O.type.defaultProps),O.props):O.props,V=Zl(O.type);if(V==="Bar"){var H=(T.data||[]).find(function(B){return PTe(_,B)});if(H)return{graphicalItem:C,payload:H}}else if(V==="RadialBar"){var M=(T.data||[]).find(function(B){return p3(_,B)});if(M)return{graphicalItem:C,payload:M}}else if(qw(C,N)||Gw(C,N)||cv(C,N)){var F=yPe({graphicalItem:C,activeTooltipItem:N,itemData:A.data}),L=A.activeIndex===void 0?F:A.activeIndex;return{graphicalItem:Ie(Ie({},C),{},{childIndex:L}),payload:cv(C,N)?A.data[F]:C.props.data[F]}}}return null}},{key:"render",value:function(){var _=this;if(!sM(this))return null;var j=this.props,w=j.children,N=j.className,S=j.width,k=j.height,C=j.style,T=j.compact,O=j.title,A=j.desc,V=zI(j,MRe),H=wt(V,!1);if(T)return ie.createElement(jI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement(gk,Ch({},H,{width:S,height:k,title:O,desc:A}),this.renderClipPath(),oM(w,this.renderMap)));if(this.props.accessibilityLayer){var M,F;H.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,H.role=(F=this.props.role)!==null&&F!==void 0?F:"application",H.onKeyDown=function(B){_.accessibilityManager.keyboardEvent(B)},H.onFocus=function(){_.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return ie.createElement(jI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement("div",Ch({className:Mt("recharts-wrapper",N),style:Ie({position:"relative",cursor:"default",width:S,height:k},C)},L,{ref:function(D){_.container=D}}),ie.createElement(gk,Ch({},H,{width:S,height:k,title:O,desc:A,style:JRe}),this.renderClipPath(),oM(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);jt(g,"displayName",r),jt(g,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),jt(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,_=v.data,j=v.children,w=v.width,N=v.height,S=v.layout,k=v.stackOffset,C=v.margin,T=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var A=HI(v);return Ie(Ie(Ie({},A),{},{updateId:0},m(Ie(Ie({props:v},A),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:_,prevWidth:w,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:j})}if(b!==y.prevDataKey||_!==y.prevData||w!==y.prevWidth||N!==y.prevHeight||S!==y.prevLayout||k!==y.prevStackOffset||!Uh(C,y.prevMargin)){var V=HI(v),H={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},M=Ie(Ie({},WI(y,_,S)),{},{updateId:y.updateId+1}),F=Ie(Ie(Ie({},V),H),M);return Ie(Ie(Ie({},F),m(Ie({props:v},F),y)),{},{prevDataKey:b,prevData:_,prevWidth:w,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:j})}if(!mk(j,y.prevChildren)){var L,B,D,q,Y=Gs(j,Lm),P=Y&&(L=(B=Y.props)===null||B===void 0?void 0:B.startIndex)!==null&&L!==void 0?L:T,G=Y&&(D=(q=Y.props)===null||q===void 0?void 0:q.endIndex)!==null&&D!==void 0?D:O,K=P!==T||G!==O,Z=!Dt(_),se=Z&&!K?y.updateId:y.updateId+1;return Ie(Ie({updateId:se},m(Ie(Ie({props:v},y),{},{updateId:se,dataStartIndex:P,dataEndIndex:G}),y)),{},{prevChildren:j,dataStartIndex:P,dataEndIndex:G})}return null}),jt(g,"renderActiveDot",function(v,y,b){var _;return x.isValidElement(v)?_=x.cloneElement(v,y):Ct(v)?_=v(y):_=ie.createElement(Uw,y),ie.createElement(or,{className:"recharts-active-dot",key:b},_)});var p=x.forwardRef(function(y,b){return ie.createElement(g,Ch({},y,{ref:b}))});return p.displayName=g.displayName,p},ix=cP({chartName:"LineChart",GraphicalChild:Nc,axisComponents:[{axisType:"xAxis",AxisComp:xo},{axisType:"yAxis",AxisComp:yo}],formatAxisMap:LW}),GI=cP({chartName:"BarChart",GraphicalChild:Si,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xo},{axisType:"yAxis",AxisComp:yo}],formatAxisMap:LW}),hd=cP({chartName:"PieChart",GraphicalChild:Ya,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Hw},{axisType:"radiusAxis",AxisComp:Vw}],formatAxisMap:Hke,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const KI=({projects:e,clients:t,users:r,leads:n,surveys:a,loadData:s,isRTL:o,t:l,counts:c,mleadsChartData:u,handleRefresh:d,refreshing:f})=>{var w;const{user:h}=hr(),m=c.projects,g=0,p=c.projects,v=0;c.clients;const y=c.users,b=c.leads,_=c.surveys,j=[...e].sort((N,S)=>new Date(S.created_at||"").getTime()-new Date(N.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",dir:o?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:l("dashboard.title")}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:l("dashboard.subtitle")})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[i.jsxs(le,{onClick:d,disabled:f,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(tf,{className:`h-4 w-4 ${f?"animate-spin":""}`}),f?l("common.refreshing","Refreshing..."):l("common.refresh","Refresh")]}),i.jsx(D7,{})]})]}),i.jsxs(et,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[i.jsx($t,{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs(Jt,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Pn,{className:"h-6 w-6 text-primary"}),l("employeeDashboard.employeeInfo")]})}),i.jsx(ct,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.name")}),i.jsx("p",{className:"font-medium",children:Ae(h.profile||{},"user_name")||h.name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.email")}),i.jsx("p",{className:"font-medium truncate",title:h.email,children:h.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.role")}),i.jsx(ht,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:h.permissions_permissions_Name||h.role||"Unknown"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.memberSince")}),i.jsx("p",{className:"font-medium",children:(w=h.profile)!=null&&w.created_at?new Date(h.profile.created_at).toLocaleDateString():"N/A"})]})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-5",children:[i.jsx(Ni,{title:l("dashboard.totalProjects"),value:m,subtext:`${g} ${l("dashboard.completed")}`,icon:NB,isRTL:o}),i.jsx(Ni,{title:l("dashboard.inProgress"),value:p,subtext:l("dashboard.activeProjects"),icon:Qa,isRTL:o}),i.jsx(Ni,{title:l("dashboard.teamMembers"),value:y,subtext:l("dashboard.activeUsers"),icon:Qa,isRTL:o}),i.jsx(Ni,{title:l("dashboard.leads"),value:b,subtext:l("dashboard.totalLeads"),icon:Bd,isRTL:o}),i.jsx(Ni,{title:l("dashboard.surveys"),value:_,subtext:l("dashboard.totalSurveys"),icon:ba,isRTL:o})]}),i.jsxs(et,{className:"border-0 shadow-md",children:[i.jsx($t,{children:i.jsxs(Jt,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Bd,{className:"h-6 w-6 text-primary"}),l("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(ct,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(ku,{width:"100%",height:"100%",children:i.jsxs(ix,{data:u,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(Eu,{strokeDasharray:"3 3"}),i.jsx(xo,{dataKey:"date",angle:o?45:-45,textAnchor:o?"start":"end",height:80,tick:{fontSize:12},reversed:o}),i.jsx(yo,{orientation:o?"right":"left",label:{value:"Number of Leads",angle:o?90:-90,position:o?"insideRight":"insideLeft"}}),i.jsx(Qn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:N=>[`${N} leads`,"Total"]}),i.jsx(ii,{}),i.jsx(Nc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[i.jsxs(et,{className:"border-0 shadow-md",children:[i.jsx($t,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(Jt,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.recentProjects")})}),i.jsx(ct,{className:"space-y-2 pt-4",children:j.length>0?j.map(N=>i.jsx(cMe,{project:N,clientName:N.company_name||l("dashboard.noClient"),isRTL:o,t:l},N.project_id)):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:l("dashboard.noProjectsYet")})})]}),i.jsxs(et,{className:"border-0 shadow-md",children:[i.jsx($t,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(Jt,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.projectStatus")})}),i.jsxs(ct,{className:"space-y-2 pt-4",children:[i.jsx(s2,{color:"bg-emerald-500",label:l("dashboard.completedStatus"),value:g,isRTL:o}),i.jsx(s2,{color:"bg-blue-500",label:l("dashboard.inProgressStatus"),value:p,isRTL:o}),i.jsx(s2,{color:"bg-slate-400",label:l("dashboard.notStartedStatus"),value:v,isRTL:o})]})]})]})]})},lMe=({user:e,myTasks:t,myProjects:r,leads:n,surveys:a,isRTL:s,t:o,counts:l,mleadsChartData:c,handleRefresh:u,refreshing:d})=>{var p;const f=t.filter(v=>v.task_status==="completed").length,h=t.filter(v=>v.task_status==="in_progress").length,m=l.projects,g=[...t].sort((v,y)=>new Date(y.created_at||"").getTime()-new Date(v.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",dir:s?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:o("employeeDashboard.title")}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:o("employeeDashboard.subtitle",{name:Ae(e.profile||{},"user.name")||e.email})})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[i.jsxs(le,{onClick:u,disabled:d,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(tf,{className:`h-4 w-4 ${d?"animate-spin":""}`}),d?o("common.refreshing","Refreshing..."):o("common.refresh","Refresh")]}),i.jsx(D7,{})]})]}),i.jsxs(et,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[i.jsx($t,{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs(Jt,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Pn,{className:"h-6 w-6 text-primary"}),o("employeeDashboard.employeeInfo")]})}),i.jsx(ct,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsx(i2,{label:o("employeeDashboard.name"),value:Ae(e.profile||{},"user_name")||"N/A",isRTL:s}),i.jsx(i2,{label:o("employeeDashboard.email"),value:e.email,isRTL:s}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:o("employeeDashboard.role")}),i.jsx(ht,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:e.permissions_permissions_Name||e.role||"Unknown"})]}),i.jsx(i2,{label:o("employeeDashboard.memberSince"),value:(p=e.profile)!=null&&p.created_at?new Date(e.profile.created_at).toLocaleDateString():"N/A",isRTL:s})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[i.jsx(Ni,{title:o("employeeDashboard.myProjects"),value:l.projects,subtext:`${m} ${o("employeeDashboard.active")}`,icon:$d,isRTL:s}),i.jsx(Ni,{title:o("employeeDashboard.myTasks"),value:l.myTasks,subtext:`${f} ${o("employeeDashboard.completed")}`,icon:Bd,isRTL:s}),i.jsx(Ni,{title:o("employeeDashboard.inProgress"),value:h,subtext:o("employeeDashboard.activeTasks"),icon:ef,isRTL:s}),i.jsx(Ni,{title:o("employeeDashboard.completedTasks"),value:f,subtext:o("employeeDashboard.finishedTasks"),icon:Jl,isRTL:s}),i.jsx(Ni,{title:o("employeeDashboard.leads"),value:l.leads,subtext:o("employeeDashboard.totalLeads"),icon:Bd,isRTL:s}),i.jsx(Ni,{title:o("employeeDashboard.surveys"),value:l.surveys,subtext:o("employeeDashboard.totalSurveys"),icon:ba,isRTL:s})]}),i.jsxs(et,{className:"border-0 shadow-md",children:[i.jsx($t,{children:i.jsxs(Jt,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Bd,{className:"h-6 w-6 text-primary"}),o("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(ct,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(ku,{width:"100%",height:"100%",children:i.jsxs(ix,{data:c,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(Eu,{strokeDasharray:"3 3"}),i.jsx(xo,{dataKey:"date",angle:s?45:-45,textAnchor:s?"start":"end",height:80,tick:{fontSize:12},reversed:s}),i.jsx(yo,{orientation:s?"right":"left",label:{value:"Number of Leads",angle:s?90:-90,position:s?"insideRight":"insideLeft"}}),i.jsx(Qn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:v=>[`${v} leads`,"Total"]}),i.jsx(ii,{}),i.jsx(Nc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(et,{className:"border-0 shadow-md",children:[i.jsx($t,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(Jt,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.myProjects")})}),i.jsx(ct,{className:"space-y-2 pt-4",children:r.length>0?r.slice(0,5).map(v=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:v.company_name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:v.contract_code||o("employeeDashboard.noDescription")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:v.contract_code})]},v.project_id)):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noProjectsAssigned")})})]}),i.jsxs(et,{className:"border-0 shadow-md",children:[i.jsx($t,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(Jt,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.recentTasks")})}),i.jsx(ct,{className:"space-y-2 pt-4",children:g.length>0?g.map(v=>{var y;return i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:v.task_name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:v.description||o("employeeDashboard.noDescription")})]}),i.jsx(ht,{variant:v.task_status==="completed"?"default":v.task_status==="in_progress"?"secondary":"outline",className:"text-xs whitespace-nowrap",children:(y=v.task_status)==null?void 0:y.replace("_"," ")})]},v.task_id)}):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noTasksAssigned")})})]})]})]})},Ni=({title:e,value:t,subtext:r,icon:n,isRTL:a})=>i.jsxs(et,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",dir:a?"rtl":"ltr",children:[i.jsxs($t,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[i.jsx(Jt,{className:"text-xs sm:text-sm font-semibold text-slate-700 dark:text-slate-300",children:e}),i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})})]}),i.jsxs(ct,{children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:t}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:r})]})]}),cMe=({project:e,clientName:t,isRTL:r,t:n})=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[i.jsx("p",{className:"text-sm sm:text-base font-semibold text-slate-900 dark:text-white leading-none truncate",children:e.company_name}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 truncate",children:t||n("dashboard.noClient")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:e.contract_code})]}),s2=({color:e,label:t,value:r,isRTL:n})=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors duration-200",dir:n?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${e} shadow-sm`}),i.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300",children:t})]}),i.jsx("span",{className:"text-sm sm:text-base font-bold text-slate-900 dark:text-white",children:r})]}),i2=({label:e,value:t,isRTL:r})=>i.jsxs("div",{dir:r?"rtl":"ltr",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium mb-2",children:e}),i.jsx("p",{className:"text-base font-semibold text-slate-900 dark:text-white",children:t})]});function uMe(){const{t:e}=Rt(),{currentLanguage:t,isRTL:r}=Ma();Br();const{user:n,loading:a}=hr(),[s,o]=x.useState({projects:[],clients:[],users:[],leads:[],surveys:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,g]=x.useState(new Map),[p,v]=x.useState(!1),y=async()=>{v(!0);try{localStorage.removeItem("dashboard_counts"),localStorage.removeItem("dashboard_mleads_chart"),localStorage.removeItem("dashboard_permissions"),c([]),g(new Map),await Promise.all([w(!0),j(),_()])}catch(N){console.error("[Dashboard] Refresh failed:",N)}finally{v(!1)}},b=s.projects.filter(N=>{var C;const S=(C=n==null?void 0:n.profile)==null?void 0:C.userid,k=S?Number(S):null;return k!==null&&!isNaN(k)&&Number(N.created_by)===k}),_=async()=>{try{const N="dashboard_mleads_chart",S=localStorage.getItem(N);if(S){const{data:M,timestamp:F}=JSON.parse(S),L=Date.now()-F,B=5*60*1e3;if(L<B&&M.length>0){console.log("[Dashboard] Using cached MLeads chart data"),c(M);return}}if(l.length>0){console.log("[Dashboard] MLeads chart data already loaded, skipping...");return}const k=new Date;k.setDate(k.getDate()-30);const C={pageSize:50,select_fields:"leads_id,created_at",exact_filters:{created_at_gte:k.toISOString().split("T")[0]}},O=(await J.mLeads.list(C)).data||[],A=new Map;O.forEach(M=>{const F=new Date(M.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});A.set(F,(A.get(F)||0)+1)});const H=Array.from(A.entries()).sort((M,F)=>new Date(M[0]).getTime()-new Date(F[0]).getTime()).map(([M,F])=>({date:M,count:F}));localStorage.setItem(N,JSON.stringify({data:H,timestamp:Date.now()})),c(H)}catch(N){console.error("[Dashboard] Failed to load MLeads chart data:",N);const k=localStorage.getItem("dashboard_mleads_chart");if(k){const{data:C}=JSON.parse(k);c(C)}}};x.useEffect(()=>{n&&!a&&(w(),j(),_())},[n==null?void 0:n.id,a]);const j=async()=>{try{const N="dashboard_permissions",S=localStorage.getItem(N);if(S){const{data:T,timestamp:O}=JSON.parse(S),A=Date.now()-O,V=30*60*1e3;if(A<V){console.log("[Dashboard] Using cached permission names"),g(new Map(T));return}}const k=await wT(),C=new Map;k.forEach(T=>{C.set(T.permissions_ID,T.permissions_Name)}),localStorage.setItem(N,JSON.stringify({data:Array.from(C.entries()),timestamp:Date.now()})),g(C)}catch(N){console.error("Failed to load permission names:",N);const k=localStorage.getItem("dashboard_permissions");if(k){const{data:C}=JSON.parse(k);g(new Map(C))}}},w=async(N=!1)=>{var S,k,C,T,O,A;try{d(!0),h(null);const V="dashboard_counts";if(!N){const K=localStorage.getItem(V);if(K){const{data:Z,timestamp:se}=JSON.parse(K),oe=Date.now()-se,xe=2*60*1e3;if(oe<xe){console.log("[Dashboard] Using cached dashboard counts"),o(z=>({...z,counts:Z.counts})),d(!1);return}}}const[H]=await Promise.all([J.getAggregates(["m_projects","users","m_leads","surveys","tasks","clients"])]),M=((S=H.m_projects)==null?void 0:S.Count)||0,F=((k=H.users)==null?void 0:k.Count)||0,L=((C=H.m_leads)==null?void 0:C.Count)||0,B=((T=H.surveys)==null?void 0:T.Count)||0,D=((O=H.clients)==null?void 0:O.Count)||0,q=((A=H.tasks)==null?void 0:A.Count)||0,Y={projects:M,users:F,leads:L,surveys:B,clients:D,myTasks:0};localStorage.setItem(V,JSON.stringify({data:{counts:Y},timestamp:Date.now()})),o({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:Y})}catch(V){console.error("[Dashboard] Failed to load data:",V);const M=localStorage.getItem("dashboard_counts");if(M){const{data:F}=JSON.parse(M);o(L=>({...L,counts:F.counts})),d(!1);return}o({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),h(V.message||"Failed to load data")}finally{d(!1)}};return u||a||!n?i.jsx("div",{className:"flex items-center justify-center h-full py-12",dir:r?"rtl":"ltr",children:i.jsx(Pa,{message:e("common.loading"),size:"2xl"})}):f?i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:f}),i.jsx(le,{onClick:()=>w(),className:"mt-4",children:e("common.retry","Retry")})]})}):n.role==="client"?i.jsx(Wy,{to:"/client-portal",replace:!0}):n.role==="admin"?i.jsx(KI,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:w,isRTL:r,t:e,counts:s.counts,mleadsChartData:l,handleRefresh:y,refreshing:p}):["employee","manager","team_leader"].includes(n.role)?i.jsx(lMe,{user:n,myTasks:s.myTasks,myProjects:b,leads:s.leads,surveys:s.surveys,isRTL:r,t:e,counts:s.counts,mleadsChartData:l,handleRefresh:y,refreshing:p}):["partner_employee","partner_leader"].includes(n.role)?i.jsxs("div",{className:"space-y-8",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("partnerEmployeeDashboard.title","Partner Employee Dashboard")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("partnerEmployeeDashboard.subtitle","Welcome to your partner employee portal")})]})}),i.jsxs(et,{className:"border-0 shadow-md",children:[i.jsx($t,{children:i.jsxs(Jt,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Bd,{className:"h-6 w-6 text-primary"}),e("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(ct,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(ku,{width:"100%",height:"100%",children:i.jsxs(ix,{data:l,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(Eu,{strokeDasharray:"3 3"}),i.jsx(xo,{dataKey:"date",angle:r?45:-45,textAnchor:r?"start":"end",height:80,tick:{fontSize:12},reversed:r}),i.jsx(yo,{orientation:r?"right":"left",label:{value:"Number of Leads",angle:r?90:-90,position:r?"insideRight":"insideLeft"}}),i.jsx(Qn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:N=>[`${N} leads`,"Total"]}),i.jsx(ii,{}),i.jsx(Nc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:i.jsx(Ni,{title:"",value:0,subtext:"",icon:$d,isRTL:r})}),i.jsx("h2",{className:"text-2xl font-semibold",children:e("common.comingSoon","Coming Soon")}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:e("partnerEmployeeDashboard.comingSoonMessage","We're working hard to bring you an amazing partner employee experience.")})]})})]}):i.jsx(KI,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:w,isRTL:r,t:e,counts:s.counts,mleadsChartData:l,handleRefresh:y,refreshing:p})}var ej="Popover",[bH,LHe]=gs(ej,[vp]),ox=vp(),[dMe,Zu]=bH(ej),_H=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!1}=e,l=ox(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=fc({prop:n,defaultProp:a??!1,onChange:s,caller:ej});return i.jsx($T,{...l,children:i.jsx(dMe,{scope:t,contentId:ta(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:r})})};_H.displayName=ej;var wH="PopoverAnchor",fMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Zu(wH,r),s=ox(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(G_,{...s,...n,ref:t})});fMe.displayName=wH;var jH="PopoverTrigger",SH=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Zu(jH,r),s=ox(r),o=Bt(t,a.triggerRef),l=i.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":TH(a.open),...n,ref:o,onClick:Je(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(G_,{asChild:!0,...s,children:l})});SH.displayName=jH;var uP="PopoverPortal",[hMe,mMe]=bH(uP,{forceMount:void 0}),NH=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Zu(uP,t);return i.jsx(hMe,{scope:t,forceMount:r,children:i.jsx(Fa,{present:r||s.open,children:i.jsx(Wv,{asChild:!0,container:a,children:n})})})};NH.displayName=uP;var Ym="PopoverContent",kH=x.forwardRef((e,t)=>{const r=mMe(Ym,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Zu(Ym,e.__scopePopover);return i.jsx(Fa,{present:n||s.open,children:s.modal?i.jsx(gMe,{...a,ref:t}):i.jsx(vMe,{...a,ref:t})})});kH.displayName=Ym;var pMe=Mu("PopoverContent.RemoveScroll"),gMe=x.forwardRef((e,t)=>{const r=Zu(Ym,e.__scopePopover),n=x.useRef(null),a=Bt(t,n),s=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return K_(o)},[]),i.jsx(Hv,{as:pMe,allowPinchZoom:!0,children:i.jsx(CH,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Je(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Je(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),vMe=x.forwardRef((e,t)=>{const r=Zu(Ym,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return i.jsx(CH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),CH=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Zu(Ym,r),m=ox(r);return V_(),i.jsx(zv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(BT,{"data-state":TH(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),EH="PopoverClose",xMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Zu(EH,r);return i.jsx(ft.button,{type:"button",...n,ref:t,onClick:Je(e.onClick,()=>a.onOpenChange(!1))})});xMe.displayName=EH;var yMe="PopoverArrow",bMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ox(r);return i.jsx(UT,{...a,...n,ref:t})});bMe.displayName=yMe;function TH(e){return e?"open":"closed"}var _Me=_H,wMe=SH,jMe=NH,AH=kH;const da=_Me,fa=wMe,Kn=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>i.jsx(jMe,{children:i.jsx(AH,{ref:a,align:t,sideOffset:r,className:ge("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Kn.displayName=AH.displayName;const SMe={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},NMe=(e,t,r)=>{const n=SMe[e];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+a:" "+a:a},kMe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},CMe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},EMe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TMe={date:Fh({formats:kMe,defaultWidth:"full"}),time:Fh({formats:CMe,defaultWidth:"full"}),dateTime:Fh({formats:EMe,defaultWidth:"full"})},AMe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},PMe=e=>AMe[e],OMe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},DMe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},RMe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},MMe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},FMe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},IMe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},LMe=e=>String(e),$Me={ordinalNumber:LMe,era:Zo({values:OMe,defaultWidth:"wide"}),quarter:Zo({values:DMe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zo({values:RMe,defaultWidth:"wide"}),day:Zo({values:MMe,defaultWidth:"wide"}),dayPeriod:Zo({values:FMe,defaultWidth:"wide",formattingValues:IMe,defaultFormattingWidth:"wide"})},BMe=/^(\d+)(th|st|nd|rd)?/i,UMe=/\d+/i,zMe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},VMe={any:[//,//]},WMe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},HMe={any:[/1/i,/2/i,/3/i,/4/i]},qMe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},GMe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},KMe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},YMe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},XMe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},QMe={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},JMe={ordinalNumber:lB({matchPattern:BMe,parsePattern:UMe,valueCallback:e=>parseInt(e,10)}),era:el({matchPatterns:zMe,defaultMatchWidth:"wide",parsePatterns:VMe,defaultParseWidth:"any"}),quarter:el({matchPatterns:WMe,defaultMatchWidth:"wide",parsePatterns:HMe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:el({matchPatterns:qMe,defaultMatchWidth:"wide",parsePatterns:GMe,defaultParseWidth:"any"}),day:el({matchPatterns:KMe,defaultMatchWidth:"wide",parsePatterns:YMe,defaultParseWidth:"any"}),dayPeriod:el({matchPatterns:XMe,defaultMatchWidth:"any",parsePatterns:QMe,defaultParseWidth:"any"})},ZMe={code:"ar",formatDistance:NMe,formatLong:TMe,formatRelative:PMe,localize:$Me,match:JMe,options:{weekStartsOn:6,firstWeekContainsDate:1}};var Nt=function(){return Nt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Nt.apply(this,arguments)};function eFe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function PH(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function lx(e){return e.mode==="multiple"}function cx(e){return e.mode==="range"}function tj(e){return e.mode==="single"}var tFe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function rFe(e,t){return ns(e,"LLLL y",t)}function nFe(e,t){return ns(e,"d",t)}function aFe(e,t){return ns(e,"LLLL",t)}function sFe(e){return"".concat(e)}function iFe(e,t){return ns(e,"cccccc",t)}function oFe(e,t){return ns(e,"yyyy",t)}var lFe=Object.freeze({__proto__:null,formatCaption:rFe,formatDay:nFe,formatMonthCaption:aFe,formatWeekNumber:sFe,formatWeekdayName:iFe,formatYearCaption:oFe}),cFe=function(e,t,r){return ns(e,"do MMMM (EEEE)",r)},uFe=function(){return"Month: "},dFe=function(){return"Go to next month"},fFe=function(){return"Go to previous month"},hFe=function(e,t){return ns(e,"cccc",t)},mFe=function(e){return"Week n. ".concat(e)},pFe=function(){return"Year: "},gFe=Object.freeze({__proto__:null,labelDay:cFe,labelMonthDropdown:uFe,labelNext:dFe,labelPrevious:fFe,labelWeekNumber:mFe,labelWeekday:hFe,labelYearDropdown:pFe});function vFe(){var e="buttons",t=tFe,r=bT,n={},a={},s=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:lFe,labels:gFe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:o,today:l,mode:"default"}}function xFe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,o=e.toDate;return n?s=Os(n):t&&(s=new Date(t,0,1)),a?o=I_(a):r&&(o=new Date(r,11,31)),{fromDate:s?pm(s):void 0,toDate:o?pm(o):void 0}}var OH=x.createContext(void 0);function yFe(e){var t,r=e.initialProps,n=vFe(),a=xFe(r),s=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!o)&&(l="buttons");var c;(tj(r)||lx(r)||cx(r))&&(c=r.onSelect);var u=Nt(Nt(Nt({},n),r),{captionLayout:l,classNames:Nt(Nt({},n.classNames),r.classNames),components:Nt({},r.components),formatters:Nt(Nt({},n.formatters),r.formatters),fromDate:s,labels:Nt(Nt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Nt(Nt({},n.modifiers),r.modifiers),modifiersClassNames:Nt(Nt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Nt(Nt({},n.styles),r.styles),toDate:o});return i.jsx(OH.Provider,{value:u,children:e.children})}function Er(){var e=x.useContext(OH);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function DH(e){var t=Er(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function bFe(e){return i.jsx("svg",Nt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function RH(e){var t,r,n=e.onChange,a=e.value,s=e.children,o=e.caption,l=e.className,c=e.style,u=Er(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:bFe;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function _Fe(e){var t,r=Er(),n=r.fromDate,a=r.toDate,s=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});var f=[];if(Lne(n,a))for(var h=Os(n),m=n.getMonth();m<=a.getMonth();m++)f.push(mS(h,m));else for(var h=Os(new Date),m=0;m<=11;m++)f.push(mS(h,m));var g=function(v){var y=Number(v.target.value),b=mS(Os(e.displayMonth),y);e.onChange(b)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:RH;return i.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return i.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function wFe(e){var t,r=e.displayMonth,n=Er(),a=n.fromDate,s=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});for(var m=a.getFullYear(),g=s.getFullYear(),p=m;p<=g;p++)h.push(sR(iB(new Date),p));var v=function(b){var _=sR(Os(r),Number(b.target.value));e.onChange(_)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:RH;return i.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(b){return i.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function jFe(e,t){var r=x.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function SFe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&vm(s,a)<0){var u=-1*(c-1);a=jo(s,u)}return o&&vm(a,o)<0&&(a=o),Os(a)}function NFe(){var e=Er(),t=SFe(e),r=jFe(t,e.month),n=r[0],a=r[1],s=function(o){var l;if(!e.disableNavigation){var c=Os(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function kFe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Os(e),s=Os(jo(a,n)),o=vm(s,a),l=[],c=0;c<o;c++){var u=jo(a,c);l.push(u)}return r&&(l=l.reverse()),l}function CFe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=Os(e);if(!r)return jo(l,o);var c=vm(r,e);if(!(c<s))return jo(l,o)}}function EFe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=Os(e);if(!r)return jo(l,-o);var c=vm(l,r);if(!(c<=0))return jo(l,-o)}}var MH=x.createContext(void 0);function TFe(e){var t=Er(),r=NFe(),n=r[0],a=r[1],s=kFe(n,t),o=CFe(n,t),l=EFe(n,t),c=function(f){return s.some(function(h){return _T(f,h)})},u=function(f,h){c(f)||(h&&hB(f,h)?a(jo(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(MH.Provider,{value:d,children:e.children})}function ux(){var e=x.useContext(MH);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function YI(e){var t,r=Er(),n=r.classNames,a=r.styles,s=r.components,o=ux().goToMonth,l=function(d){o(jo(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:DH,u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(_Fe,{onChange:l,displayMonth:e.displayMonth}),i.jsx(wFe,{onChange:l,displayMonth:e.displayMonth})]})}function AFe(e){return i.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function PFe(e){return i.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Gb=x.forwardRef(function(e,t){var r=Er(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var o=s.join(" "),l=Nt(Nt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),i.jsx("button",Nt({},e,{ref:t,type:"button",className:o,style:l}))});function OFe(e){var t,r,n=Er(),a=n.dir,s=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var h=u(e.previousMonth,{locale:s}),m=[o.nav_button,o.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:s}),p=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:PFe,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:AFe;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(Gb,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?i.jsx(v,{className:o.nav_icon,style:l.nav_icon}):i.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(Gb,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?i.jsx(y,{className:o.nav_icon,style:l.nav_icon}):i.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function XI(e){var t=Er().numberOfMonths,r=ux(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return _T(e.displayMonth,g)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},m=function(){a&&s(a)};return i.jsx(OFe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function DFe(e){var t,r=Er(),n=r.classNames,a=r.disableNavigation,s=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:DH,u;return a?u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=i.jsx(YI,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(YI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(XI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(XI,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:s.caption,children:u})}function RFe(e){var t=Er(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?i.jsx("tfoot",{className:a,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function MFe(e,t,r){for(var n=r?Zd(new Date):pl(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var o=Ha(n,s);a.push(o)}return a}function FFe(){var e=Er(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=MFe(a,s,o);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function IFe(){var e,t=Er(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:FFe;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(s,{})})}function LFe(e){var t=Er(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var dP=x.createContext(void 0);function $Fe(e){if(!lx(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(dP.Provider,{value:t,children:e.children})}return i.jsx(BFe,{initialProps:e.initialProps,children:e.children})}function BFe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!p){var v=n?PH([],n):[];if(d.selected){var y=v.findIndex(function(b){return Cs(u,b)});v.splice(y,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return Cs(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx(dP.Provider,{value:c,children:r})}function fP(){var e=x.useContext(dP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function UFe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Cs(a,e)&&Cs(n,e)?void 0:Cs(a,e)?{from:a,to:void 0}:Cs(n,e)?void 0:HN(n,e)?{from:e,to:a}:{from:n,to:e}:a?HN(e,a)?{from:a,to:e}:{from:e,to:a}:n?hB(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var hP=x.createContext(void 0);function zFe(e){if(!cx(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(hP.Provider,{value:t,children:e.children})}return i.jsx(VFe,{initialProps:e.initialProps,children:e.children})}function VFe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,o=a.to,l=t.min,c=t.max,u=function(m,g,p){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var b=UFe(m,n);(y=t.onSelect)===null||y===void 0||y.call(t,b,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],Cs(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),l&&(s&&!o&&d.disabled.push({after:hS(s,l-1),before:Ha(s,l-1)}),s&&o&&d.disabled.push({after:s,before:Ha(s,l-1)}),!s&&o&&d.disabled.push({after:hS(o,l-1),before:Ha(o,l-1)})),c){if(s&&!o&&(d.disabled.push({before:Ha(s,-c+1)}),d.disabled.push({after:Ha(s,c-1)})),s&&o){var f=al(o,s)+1,h=c-f;d.disabled.push({before:hS(s,h)}),d.disabled.push({after:Ha(o,h)})}!s&&o&&(d.disabled.push({before:Ha(o,-c+1)}),d.disabled.push({after:Ha(o,c-1)}))}return i.jsx(hP.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function mP(){var e=x.useContext(hP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Jy(e){return Array.isArray(e)?PH([],e):e!==void 0?[e]:[]}function WFe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Jy(a)}),t}var To;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(To||(To={}));var HFe=To.Selected,Ml=To.Disabled,qFe=To.Hidden,GFe=To.Today,o2=To.RangeEnd,l2=To.RangeMiddle,c2=To.RangeStart,KFe=To.Outside;function YFe(e,t,r){var n,a=(n={},n[HFe]=Jy(e.selected),n[Ml]=Jy(e.disabled),n[qFe]=Jy(e.hidden),n[GFe]=[e.today],n[o2]=[],n[l2]=[],n[c2]=[],n[KFe]=[],n);return e.fromDate&&a[Ml].push({before:e.fromDate}),e.toDate&&a[Ml].push({after:e.toDate}),lx(e)?a[Ml]=a[Ml].concat(t.modifiers[Ml]):cx(e)&&(a[Ml]=a[Ml].concat(r.modifiers[Ml]),a[c2]=r.modifiers[c2],a[l2]=r.modifiers[l2],a[o2]=r.modifiers[o2]),a}var FH=x.createContext(void 0);function XFe(e){var t=Er(),r=fP(),n=mP(),a=YFe(t,r,n),s=WFe(t.modifiers),o=Nt(Nt({},a),s);return i.jsx(FH.Provider,{value:o,children:e.children})}function IH(){var e=x.useContext(FH);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function QFe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function JFe(e){return!!(e&&typeof e=="object"&&"from"in e)}function ZFe(e){return!!(e&&typeof e=="object"&&"after"in e)}function e3e(e){return!!(e&&typeof e=="object"&&"before"in e)}function t3e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function r3e(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=al(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var o=al(e,n)>=0&&al(a,e)>=0;return o}return a?Cs(a,e):n?Cs(n,e):!1}function n3e(e){return xT(e)}function a3e(e){return Array.isArray(e)&&e.every(xT)}function s3e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(n3e(r))return Cs(e,r);if(a3e(r))return r.includes(e);if(JFe(r))return r3e(e,r);if(t3e(r))return r.dayOfWeek.includes(e.getDay());if(QFe(r)){var n=al(r.before,e),a=al(r.after,e),s=n>0,o=a<0,l=HN(r.before,r.after);return l?o&&s:s||o}return ZFe(r)?al(e,r.after)>0:e3e(r)?al(r.before,e)>0:typeof r=="function"?r(e):!1})}function pP(e,t,r){var n=Object.keys(t).reduce(function(s,o){var l=t[o];return s3e(e,l)&&s.push(o),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!_T(e,r)&&(a.outside=!0),a}function i3e(e,t){for(var r=Os(e[0]),n=I_(e[e.length-1]),a,s,o=r;o<=n;){var l=pP(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Ha(o,1);continue}if(l.selected)return o;l.today&&!s&&(s=o),a||(a=o),o=Ha(o,1)}return s||a}var o3e=365;function LH(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Ha,week:WN,month:jo,year:kre,startOfWeek:function(v){return a.ISOWeek?Zd(v):pl(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?oB(v):yT(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Cre([u,m]):n==="after"&&d&&(m=Ere([d,m]));var g=!0;if(s){var p=pP(m,s);g=!p.disabled&&!p.hidden}return g?m:l.count>o3e?l.lastFocused:LH(m,{moveBy:r,direction:n,context:a,modifiers:s,retry:Nt(Nt({},l),{count:l.count+1})})}var $H=x.createContext(void 0);function l3e(e){var t=ux(),r=IH(),n=x.useState(),a=n[0],s=n[1],o=x.useState(),l=o[0],c=o[1],u=i3e(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(v){s(v)},m=Er(),g=function(v,y){if(a){var b=LH(a,{moveBy:v,direction:y,context:m,modifiers:r});Cs(a,b)||(t.goToDate(b,a),h(b))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return i.jsx($H.Provider,{value:p,children:e.children})}function gP(){var e=x.useContext($H);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function c3e(e,t){var r=IH(),n=pP(e,r,t);return n}var vP=x.createContext(void 0);function u3e(e){if(!tj(e.initialProps)){var t={selected:void 0};return i.jsx(vP.Provider,{value:t,children:e.children})}return i.jsx(d3e,{initialProps:e.initialProps,children:e.children})}function d3e(e){var t=e.initialProps,r=e.children,n=function(s,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,o,l)},a={selected:t.selected,onDayClick:n};return i.jsx(vP.Provider,{value:a,children:r})}function BH(){var e=x.useContext(vP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function f3e(e,t){var r=Er(),n=BH(),a=fP(),s=mP(),o=gP(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,v=o.focusYearAfter,y=o.focusStartOfWeek,b=o.focusEndOfWeek,_=function(L){var B,D,q,Y;tj(r)?(B=n.onDayClick)===null||B===void 0||B.call(n,e,t,L):lx(r)?(D=a.onDayClick)===null||D===void 0||D.call(a,e,t,L):cx(r)?(q=s.onDayClick)===null||q===void 0||q.call(s,e,t,L):(Y=r.onDayClick)===null||Y===void 0||Y.call(r,e,t,L)},j=function(L){var B;h(e),(B=r.onDayFocus)===null||B===void 0||B.call(r,e,t,L)},w=function(L){var B;f(),(B=r.onDayBlur)===null||B===void 0||B.call(r,e,t,L)},N=function(L){var B;(B=r.onDayMouseEnter)===null||B===void 0||B.call(r,e,t,L)},S=function(L){var B;(B=r.onDayMouseLeave)===null||B===void 0||B.call(r,e,t,L)},k=function(L){var B;(B=r.onDayPointerEnter)===null||B===void 0||B.call(r,e,t,L)},C=function(L){var B;(B=r.onDayPointerLeave)===null||B===void 0||B.call(r,e,t,L)},T=function(L){var B;(B=r.onDayTouchCancel)===null||B===void 0||B.call(r,e,t,L)},O=function(L){var B;(B=r.onDayTouchEnd)===null||B===void 0||B.call(r,e,t,L)},A=function(L){var B;(B=r.onDayTouchMove)===null||B===void 0||B.call(r,e,t,L)},V=function(L){var B;(B=r.onDayTouchStart)===null||B===void 0||B.call(r,e,t,L)},H=function(L){var B;(B=r.onDayKeyUp)===null||B===void 0||B.call(r,e,t,L)},M=function(L){var B;switch(L.key){case"ArrowLeft":L.preventDefault(),L.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":L.preventDefault(),L.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":L.preventDefault(),L.stopPropagation(),u();break;case"ArrowUp":L.preventDefault(),L.stopPropagation(),d();break;case"PageUp":L.preventDefault(),L.stopPropagation(),L.shiftKey?p():m();break;case"PageDown":L.preventDefault(),L.stopPropagation(),L.shiftKey?v():g();break;case"Home":L.preventDefault(),L.stopPropagation(),y();break;case"End":L.preventDefault(),L.stopPropagation(),b();break}(B=r.onDayKeyDown)===null||B===void 0||B.call(r,e,t,L)},F={onClick:_,onFocus:j,onBlur:w,onKeyDown:M,onKeyUp:H,onMouseEnter:N,onMouseLeave:S,onPointerEnter:k,onPointerLeave:C,onTouchCancel:T,onTouchEnd:O,onTouchMove:A,onTouchStart:V};return F}function h3e(){var e=Er(),t=BH(),r=fP(),n=mP(),a=tj(e)?t.selected:lx(e)?r.selected:cx(e)?n.selected:void 0;return a}function m3e(e){return Object.values(To).includes(e)}function p3e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(m3e(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function g3e(e,t){var r=Nt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Nt(Nt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function v3e(e,t,r){var n,a,s,o=Er(),l=gP(),c=c3e(e,t),u=f3e(e,c),d=h3e(),f=!!(o.onDayClick||o.mode!=="default");x.useEffect(function(){var N;c.outside||l.focusedDay&&f&&Cs(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=p3e(o,c).join(" "),m=g3e(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(s=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:LFe,v=i.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:h,children:v,role:"gridcell"},b=l.focusTarget&&Cs(l.focusTarget,e)&&!c.outside,_=l.focusedDay&&Cs(l.focusedDay,e),j=Nt(Nt(Nt({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=_||b?0:-1,n)),u),w={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:y};return w}function x3e(e){var t=x.useRef(null),r=v3e(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(Gb,Nt({name:"day",ref:t},r.buttonProps)):i.jsx("div",Nt({},r.divProps))}function y3e(e){var t=e.number,r=e.dates,n=Er(),a=n.onWeekNumberClick,s=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return i.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return i.jsx(Gb,{name:"week-number","aria-label":f,className:o.weeknumber,style:s.weeknumber,onClick:h,children:d})}function b3e(e){var t,r,n=Er(),a=n.styles,s=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:x3e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:y3e,d;return o&&(d=i.jsx("td",{className:s.cell,style:a.cell,children:i.jsx(u,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return i.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:f})},Mne(f))})]})}function QI(e,t,r){for(var n=r!=null&&r.ISOWeek?oB(t):yT(t,r),a=r!=null&&r.ISOWeek?Zd(e):pl(e,r),s=al(n,a),o=[],l=0;l<=s;l++)o.push(Ha(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?cB(d):dB(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function _3e(e,t){var r=QI(Os(e),I_(e),t);if(t!=null&&t.useFixedWeeks){var n=Ine(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],o=WN(s,6-n),l=QI(WN(s,1),o,t);r.push.apply(r,l)}}return r}function w3e(e){var t,r,n,a=Er(),s=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,g=_3e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:IFe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:b3e,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:RFe;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(p,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(b){return i.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),i.jsx(y,{displayMonth:e.displayMonth})]})}function j3e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var S3e=j3e()?x.useLayoutEffect:x.useEffect,u2=!1,N3e=0;function JI(){return"react-day-picker-".concat(++N3e)}function k3e(e){var t,r=e??(u2?JI():null),n=x.useState(r),a=n[0],s=n[1];return S3e(function(){a===null&&s(JI())},[]),x.useEffect(function(){u2===!1&&(u2=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function C3e(e){var t,r,n=Er(),a=n.dir,s=n.classNames,o=n.styles,l=n.components,c=ux().displayMonths,u=k3e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=o.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(s.caption_start),h=Nt(Nt({},h),o.caption_start)),g&&(f.push(s.caption_end),h=Nt(Nt({},h),o.caption_end)),p&&(f.push(s.caption_between),h=Nt(Nt({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:DFe;return i.jsxs("div",{className:f.join(" "),style:h,children:[i.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(w3e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function E3e(e){var t=Er(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function T3e(e){var t,r,n=e.initialProps,a=Er(),s=gP(),o=ux(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Nt(Nt({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return Nt(Nt({},g),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:E3e;return i.jsx("div",Nt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:i.jsx(m,{children:o.displayMonths.map(function(g,p){return i.jsx(C3e,{displayIndex:p,displayMonth:g},p)})})}))}function A3e(e){var t=e.children,r=eFe(e,["children"]);return i.jsx(yFe,{initialProps:r,children:i.jsx(TFe,{children:i.jsx(u3e,{initialProps:r,children:i.jsx($Fe,{initialProps:r,children:i.jsx(zFe,{initialProps:r,children:i.jsx(XFe,{children:i.jsx(l3e,{children:t})})})})})})})}function P3e(e){return i.jsx(A3e,Nt({},e,{children:i.jsx(T3e,{initialProps:e})}))}function xP({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(P3e,{showOutsideDays:r,className:ge("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ge(bm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ge(bm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>i.jsx(iae,{className:"h-4 w-4"}),IconRight:({...a})=>i.jsx(L_,{className:"h-4 w-4"})},...n})}xP.displayName="Calendar";function yP({onSearch:e,onFilterStatus:t,onFilterAssignee:r,onFilterDateRange:n,users:a=[],statuses:s=[],placeholder:o,className:l}){const{t:c}=Rt(),{currentLanguage:u}=Ma(),[d,f]=x.useState(""),[h,m]=x.useState({from:void 0,to:void 0}),g=u==="ar"?ZMe:void 0;x.useEffect(()=>{const y=setTimeout(()=>{e(d)},300);return()=>clearTimeout(y)},[d,e]);const p=y=>{m(y),n&&n(y)},v=()=>{f(""),m({from:void 0,to:void 0}),t&&t("all"),r&&r("all"),n&&n({from:void 0,to:void 0})};return i.jsxs("div",{className:ge("flex flex-col sm:flex-row gap-3 mb-6",l),children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ps,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),i.jsx(Be,{placeholder:o||c("common.search","Search..."),value:d,onChange:y=>f(y.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),i.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[t&&s.length>0&&i.jsxs(vt,{onValueChange:t,children:[i.jsxs(mt,{className:"w-[140px]",children:[i.jsx(hae,{className:"mr-2 h-4 w-4"}),i.jsx(xt,{placeholder:c("common.status","Status")})]}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:c("common.all","All")}),s.map(y=>i.jsx(Ce,{value:y.value,children:y.label},y.value))]})]}),r&&a.length>0&&i.jsxs(vt,{onValueChange:r,children:[i.jsxs(mt,{className:"w-[140px]",children:[i.jsx(O3e,{className:"mr-2 h-4 w-4"}),i.jsx(xt,{placeholder:c("common.assignee","Assignee")})]}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:c("common.all","All")}),a.filter(y=>["employee","admin","manager","team_leader"].includes(y.user_role)).map(y=>i.jsx(Ce,{value:y.user_id.toString(),children:Ae(y,"user_name")},y.user_id))]})]}),n&&i.jsxs(da,{children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",className:ge("w-[240px] justify-start text-left font-normal",!h.from&&"text-muted-foreground"),children:[i.jsx(Di,{className:"mr-2 h-4 w-4"}),h.from?h.to?i.jsxs(i.Fragment,{children:[ns(h.from,"LLL dd, y",{locale:g})," -"," ",ns(h.to,"LLL dd, y",{locale:g})]}):ns(h.from,"LLL dd, y",{locale:g}):i.jsx("span",{children:c("common.pickDate","Pick a date")})]})}),i.jsx(Kn,{className:"w-auto p-0",align:"start",children:i.jsx(xP,{initialFocus:!0,mode:"range",defaultMonth:h.from,selected:h,onSelect:p,numberOfMonths:2})})]}),i.jsx(le,{variant:"ghost",size:"icon",onClick:v,title:c("common.clearFilters","Clear filters"),children:i.jsx(Mi,{className:"h-4 w-4"})})]})]})}function O3e(e){return i.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}const Ca={async getAll(){try{console.log("[stageService] Fetching all stages...");const e=await J.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const e=await J.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} global stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const t=await J.stages.list({exact_filters:{stage_type:e},sort_by:"stager_order_index",sort_order:"asc"});return console.log(`[stageService] Successfully fetched ${t.data.length} ${e} stages`),t.data}catch(t){throw console.error(`[stageService] Failed to fetch ${e} stages: `,t),t}},async create(e){try{const t=await this.getAll(),r=t.length>0?Math.max(...t.map(o=>o.stager_order_index||0)):-1,n=e.stager_order_index??r+1,a={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:n,color:e.color,color_var:e.color_var};return await J.stages.create(a)}catch(t){throw console.error("[stageService] Failed to create stage:",t),t}},async update(e,t){try{const r=lc(t,{stage_name:"stage_name"});await J.stages.update(e,r)}catch(r){throw console.error("[stageService] Failed to update stage:",r),r}},async delete(e){try{await J.stages.delete(e)}catch(t){throw console.error("[stageService] Failed to delete stage:",t),t}}},xn={async getAll(){try{console.log("[userService] Fetching all users...");const e=await J.Users.list();return console.log(`[userService] Successfully fetched ${e.data.length} users`),e.data}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getCount(){return J.count("Users")},async getById(e){try{const t=await J.Users.list({exact_filters:{userid:e},pageSize:1});return t.data&&t.data.length>0?t.data[0]:null}catch(t){return console.error("[userService] Failed to fetch user:",t),null}},async getByAuthId(e){try{return(await J.Users.list({exact_filters:{userid:e}})).data[0]||null}catch(t){return console.error("[userService] Failed to fetch user by auth ID:",t),null}},async update(e,t){try{const r={};t.name!==void 0&&(r.name=t.name),t.Email!==void 0&&(r.Email=t.Email),t.permissions!==void 0&&(r.permissions=t.permissions),t.mobile!==void 0&&(r.mobile=t.mobile),t.IsActive!==void 0&&(r.IsActive=t.IsActive),t.Employee!==void 0&&(r.Employee=t.Employee),await J.Users.update(e,r),console.log(`[userService] Successfully updated user ${e} `)}catch(r){throw console.error("[userService] Failed to update user:",r),r}}},UH={async getAll(){try{console.log("[clientService] Fetching all clients...");const e=await J.Users.list({exact_filters:{user_role:"client"}});return console.log(`[clientService] Successfully fetched ${e.data.length} clients`),e.data}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getCount(){return J.count("Users")},async getById(e){try{const t=await J.Users.list({exact_filters:{userid:e},pageSize:1});if(t.data&&t.data.length>0){const r=t.data[0];if(r.user_role==="client")return r}return null}catch(t){return console.error("[clientService] Failed to fetch client:",t),null}},async create(e){try{const t={name:e.name,Email:e.Email,mobile:e.mobile,IsActive:1,Employee:0,Owner:0,permissions:e.permissions||0};return await J.Users.create(t)}catch(t){throw console.error("[clientService] Failed to create client:",t),t}}},Eh={async getAll(){try{console.log("[projectService] Fetching all projects...");const e=await J.projects.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[projectService] Successfully fetched ${e.data.length} projects`),e.data}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getCount(){return J.count("projects")},async getById(e){try{return await J.projects.get(e)}catch(t){return console.error("[projectService] Failed to fetch project:",t),null}},async create(e){try{return await J.projects.create({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date})}catch(t){throw console.error("[projectService] Failed to create project:",t),t}},async update(e,t){try{const r={};t.project_name&&(r.project_name=t.project_name),t.project_description!==void 0&&(r.project_description=t.project_description),t.progress!==void 0&&(r.progress=t.progress),t.stage!==void 0&&(r.stage=t.stage),t.end_date!==void 0&&(r.end_date=t.end_date),await J.projects.update(e,r)}catch(r){throw console.error("[projectService] Failed to update project:",r),r}},async delete(e){try{await J.projects.delete(e)}catch(t){throw console.error("[projectService] Failed to delete project:",t),t}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const r=(await J.projectUsers.list({exact_filters:{userid:e}})).data.map(a=>a.project_id);if(r.length===0)return[];const n=await Promise.all(r.map(a=>J.projects.get(a)));return console.log(`[projectService] Successfully fetched ${n.length} projects for user`),n.filter(a=>a!==null)}catch(t){throw console.error("[projectService] Failed to fetch projects for user:",t),t}}},Sd={async getAll(){try{console.log("[taskService] Fetching all tasks...");const e=await J.tasks.list();return console.log(`[taskService] Successfully fetched ${e.data.length} tasks`),e.data}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getCount(e={}){return J.count("tasks",e)},async getByStage(e){try{return(await J.tasks.getByStage(e)).data}catch(t){throw console.error("[taskService] Failed to fetch tasks:",t),t}},async create(e){try{const t=lc({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,userid:e.userid},{task_name:"task_name",description:"description"});return await J.tasks.create(t)}catch(t){throw console.error("[taskService] Failed to create task:",t),t}},async update(e,t){try{const r=lc(t,{task_name:"task_name",description:"description"});await J.tasks.update(e,r)}catch(r){throw console.error("[taskService] Failed to update task:",r),r}},async delete(e){try{await J.tasks.delete(e)}catch(t){throw console.error("[taskService] Failed to delete task:",t),t}}},BC={async getByTask(e){try{return(await J.comments.list({exact_filters:{task_id:e},sort_by:"created_date",sort_order:"asc"})).data}catch(t){throw console.error("[commentService] Failed to fetch comments:",t),t}},async create(e){try{return await J.comments.create({task_id:e.task_id,userid:e.userid,message:e.message})}catch(t){throw console.error("[commentService] Failed to create comment:",t),t}}},Zi={async getUserRooms(e){try{const r=(await J.roomMembers.list({exact_filters:{userid:e}})).data;if(!r||r.length===0)return[];const n=r.map(o=>o.room_id);return(await J.rooms.list({advanced_filters:[{column:"room_id",filter_type:"in",value:n}]})).data}catch(t){throw console.error("[roomService] Failed to get user rooms:",t),t}},async createRoom(e){let t=e.created_by;if(!t||t===0){const n=await xn.getByAuthId(e.userid);n&&(t=n.userid)}return await J.rooms.create({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:t,userid:e.userid})},async addMember(e,t){await J.roomMembers.create({room_id:e,userid:t})},async getRoomMembers(e){const t=await J.roomMembers.getByRoom(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(n=>n.userid).filter(Boolean);if(r.length===0)return[];try{return(await J.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:r}]})).data||[]}catch(n){return console.warn("[roomService] Batch user fetch failed, falling back to individual calls:",n),(await Promise.all(t.data.map(async s=>await xn.getByAuthId(s.userid)))).filter(Boolean)}},async markAsRead(e,t){try{const r=await J.roomMembers.list({exact_filters:{room_id:e,userid:t}});if(r.data.length>0){const n=r.data[0].id;n&&await J.roomMembers.update(n,{last_read_at:new Date().toISOString()})}}catch(r){console.error("[roomService] Failed to mark room as read:",r)}}},D3e={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const t=await J.projectUsers.getByProject(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(a=>a.user_id);return(await Promise.all(r.map(a=>xn.getById(a)))).filter(Boolean)}catch(t){throw console.error("[projectUserService] Failed to fetch project users:",t),t}},async addUserToProject(e,t){try{console.log("[projectUserService] Adding user",t,"to project",e),await J.projectUsers.create({project_id:e,user_id:t}),console.log("[projectUserService] Successfully added user to project")}catch(r){throw console.error("[projectUserService] Failed to add user to project:",r),r}},async removeUserFromProject(e,t){try{console.log("[projectUserService] Removing user",t,"from project",e);const r=await J.projectUsers.list({exact_filters:{project_id:e,user_id:t}});if(r.data.length>0){const n=r.data[0].id;n&&await J.projectUsers.delete(n)}console.log("[projectUserService] Successfully removed user from project")}catch(r){throw console.error("[projectUserService] Failed to remove user from project:",r),r}}},Qf={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await J.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const e=await this.getAll();if(!e||e.length===0)return[];const n=((await J.teamMembers.list()).data||[]).reduce((s,o)=>(s[o.team_id]||(s[o.team_id]=[]),s[o.team_id].push({userid:o.userid,joined_at:o.joined_at||o.created_at}),s),{});return e.map(s=>({...s,team_members:n[s.team_id]||[]}))}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const t=(await J.teamMembers.list()).data,r={};return(t||[]).forEach(n=>{const a={userid:n.user_id,name:n.Users_name||n.user_name||"Unknown User",Email:n.Users_Email||n.user_email,mobile:n.Users_mobile||n.user_mobile,IsActive:n.Users_IsActive,isAdmin:n.Users_isAdmin};r[n.team_id]||(r[n.team_id]=[]),r[n.team_id].push(a)}),r}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{return await J.teams.get(e)}catch(t){return console.error("[teamService] Failed to fetch team:",t),null}},async create(e){try{return await J.teams.create(e)}catch(t){throw console.error("[teamService] Failed to create team:",t),t}},async update(e,t){try{const r=lc(t,{team_name:"team_name"});await J.teams.update(e,r)}catch(r){throw console.error("[teamService] Failed to update team:",r),r}},async delete(e){try{await J.teams.delete(e)}catch(t){throw console.error("[teamService] Failed to delete team:",t),t}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const r=(await J.teamMembers.getByTeam(e)).data;if(!r||r.length===0)return[];const n=r.map(s=>s.userid);return(await Promise.all(n.map(s=>xn.getByAuthId(s)))).filter(Boolean)}catch(t){throw console.error("[teamService] Failed to fetch team members:",t),t}},async addMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Adding member",r,"to team",e),await J.teamMembers.create({team_id:e,user_id:r}),console.log("[teamService] Successfully added member to team")}catch(r){throw console.error("[teamService] Failed to add member to team:",r),r}},async removeMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Removing member",r,"from team",e);const n=await J.teamMembers.list({exact_filters:{team_id:e,user_id:r}});if(console.log("[teamService] Found records for deletion:",n.data.length,n.data),n.data.length>0){const a=n.data[0],s=(a==null?void 0:a.team_mem_id)??(a==null?void 0:a.id)??(a==null?void 0:a.team_members_id)??(a==null?void 0:a.team_membersId)??(a==null?void 0:a.team_id);if(!s)throw new Error("Unable to determine team member identifier for deletion");console.log("[teamService] Deleting team member record with ID:",s),await J.teamMembers.delete(s)}else console.warn("[teamService] No team member record found for team_id:",e,"user_id:",r);console.log("[teamService] Successfully removed member from team")}catch(r){throw console.error("[teamService] Failed to remove member from team:",r),r}}},c0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const e=await J.tickets.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[ticketService] Successfully fetched ${e.data.length} tickets`),e.data}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{return await J.tickets.get(e)}catch(t){return console.error("[ticketService] Failed to fetch ticket:",t),null}},async create(e){try{return await J.tickets.create({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id})}catch(t){throw console.error("[ticketService] Failed to create ticket:",t),t}},async update(e,t){try{const r={};t.created_by!==void 0&&(r.created_by=t.created_by),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.subject!==void 0&&(r.subject=t.subject),t.description!==void 0&&(r.description=t.description),t.priority!==void 0&&(r.priority=t.priority),t.ticket_type!==void 0&&(r.ticket_type=t.ticket_type),t.stage_id!==void 0&&(r.stage_id=t.stage_id),t.resolved_date!==void 0&&(r.resolved_date=t.resolved_date),t.closed_at!==void 0&&(r.closed_at=t.closed_at),t.closed_by!==void 0&&(r.closed_by=t.closed_by),t.room_id!==void 0&&(r.room_id=t.room_id),t.task_id!==void 0&&(r.task_id=t.task_id),t.status!==void 0&&(r.status=t.status),await J.tickets.update(e,r)}catch(r){throw console.error("[ticketService] Failed to update ticket:",r),r}},async moveToStage(e,t){try{console.log(`[ticketService] Moving ticket ${e} to stage ${t}`),await J.tickets.update(e,{stage_id:t}),console.log("[ticketService] Successfully moved ticket to stage")}catch(r){throw console.error("[ticketService] Failed to move ticket to stage:",r),r}},async delete(e){try{await J.tickets.delete(e)}catch(t){throw console.error("[ticketService] Failed to delete ticket:",t),t}}},Yc={async getByRoom(e,t){try{const r={exact_filters:{room_id:e}};t!=null&&t.limit&&(r.limit=t.limit);const n=await J.messages.list(r);if(!n.data)return[];const a=n.data,s=[...new Set(a.map(u=>u.userid))];let o=[];try{if(s.length===0)return[];o=(await J.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:s}]})).data||[]}catch(u){console.warn("[messageService] Batch user fetch failed, falling back to individual calls:",u),o=await Promise.all(s.map(d=>xn.getByAuthId(d)))}const l=new Map(o.filter(u=>u).map(u=>[u.userid,u]));return a.map(u=>({...u,sender:l.get(u.userid)||null})).reverse()}catch(r){throw console.error("[messageService] Failed to fetch messages:",r),r}},async create(e){try{return await J.messages.create(e)}catch(t){throw console.error("[messageService] Failed to create message:",t),t}},async update(e,t){try{await J.messages.update(e,{content:t,is_edited:!0})}catch(r){throw console.error("[messageService] Failed to update message:",r),r}},async delete(e){try{await J.messages.delete(e)}catch(t){throw console.error("[messageService] Failed to delete message:",t),t}},async uploadAttachment(e){try{throw new Error("File upload not available - Supabase storage removed")}catch(t){throw console.error("[messageService] Failed to upload attachment:",t),t}}},md={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await J.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getCount(){return J.count("teams")},async getById(e){try{return await J.leads.get(e)}catch(t){return console.error("[leadService] Failed to fetch lead:",t),null}},async create(e){try{return await J.leads.create({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"})}catch(t){throw console.error("[leadService] Failed to create lead:",t),t}},async createMLead(e){try{return await J.mLeads.create(e)}catch(t){throw console.error("[leadService] Failed to create MLead:",t),t}},async update(e,t){try{const r={};t.lead_name&&(r.lead_name=t.lead_name),t.lead_description!==void 0&&(r.lead_description=t.lead_description),t.client_name&&(r.client_name=t.client_name),t.client_user_id&&(r.client_user_id=t.client_user_id),t.stage!==void 0&&(r.stage=t.stage),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.assigned_at!==void 0&&(r.assigned_at=t.assigned_at),t.value!==void 0&&(r.value=t.value),t.currency!==void 0&&(r.currency=t.currency),await J.leads.update(e,r)}catch(r){throw console.error("[leadService] Failed to update lead:",r),r}},async delete(e){try{await J.leads.delete(e)}catch(t){throw console.error("[leadService] Failed to delete lead:",t),t}}},Wh={async getByRelated(e,t){try{console.log(`[noteService] Fetching notes for ${e} ${t}...`);const n=(await J.notes.list({exact_filters:{related_to_type:e,related_to_id:t}})).data;if(!n||n.length===0)return[];const a=[...new Set(n.map(l=>l.created_by))],s=await Promise.all(a.map(l=>xn.getById(l))),o=new Map(s.filter(l=>l).map(l=>[l.userid,l]));return n.map(l=>({...l,user:o.get(l.created_by)?{userid:o.get(l.created_by).userid,user_id:o.get(l.created_by).userid,user_name:o.get(l.created_by).name,name:o.get(l.created_by).name,Email:o.get(l.created_by).Email}:void 0}))}catch(r){throw console.error("[noteService] Failed to fetch notes:",r),r}},async create(e){try{const t=await J.notes.create({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by});return console.log("[noteService] Successfully created note"),t}catch(t){throw console.error("[noteService] Failed to create note:",t),t}},async update(e,t){try{await J.notes.update(e,{content:t,updated_at:new Date().toISOString()}),console.log("[noteService] Successfully updated note")}catch(r){throw console.error("[noteService] Failed to update note:",r),r}},async delete(e){try{await J.notes.delete(e),console.log("[noteService] Successfully deleted note")}catch(t){throw console.error("[noteService] Failed to delete note:",t),t}}},Ki={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const e=await J.surveyTemplates.list();return console.log(`[surveyTemplateService] Successfully fetched ${e.data.length} templates`),e.data}catch(e){throw console.error("[surveyTemplateService] Failed to fetch survey templates:",e),e}},async getById(e){try{return await J.surveyTemplates.get(e)}catch(t){return console.error("[surveyTemplateService] Failed to fetch template:",t),null}},async create(e){try{const t=await J.surveyTemplates.create(e);return{...e,template_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),updated_by:null}}catch(t){throw console.error("[surveyTemplateService] Failed to create template:",t),t}},async update(e,t){try{const r={};t.template_name&&(r.template_name=t.template_name),t.template_name_ar&&(r.template_name_ar=t.template_name_ar),t.template_description!==void 0&&(r.template_description=t.template_description),t.template_description_ar!==void 0&&(r.template_description_ar=t.template_description_ar),t.category&&(r.category=t.category),t.is_active!==void 0&&(r.is_active=t.is_active),t.is_default!==void 0&&(r.is_default=t.is_default),await J.surveyTemplates.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update template:",r),r}},async delete(e){try{await J.surveyTemplates.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete template:",t),t}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const r=(await J.surveyTemplateFields.getByTemplate(e)).data;return console.log(`[surveyTemplateService] Successfully fetched ${(r==null?void 0:r.length)||0} fields`),(r||[]).sort((n,a)=>(n.field_order||0)-(a.field_order||0))}catch(t){throw console.error("[surveyTemplateService] Failed to fetch template fields:",t),t}},async createField(e){try{const t={...e,field_options:e.field_options?JSON.stringify(e.field_options):null},r=await J.surveyTemplateFields.create(t);return{...e,field_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyTemplateService] Failed to create field:",t),t}},async updateField(e,t){try{const r={};t.field_order!==void 0&&(r.field_order=t.field_order),t.field_type&&(r.field_type=t.field_type),t.field_label&&(r.field_label=t.field_label),t.field_label_ar&&(r.field_label_ar=t.field_label_ar),t.help_text!==void 0&&(r.help_text=t.help_text),t.help_text_ar!==void 0&&(r.help_text_ar=t.help_text_ar),t.is_required!==void 0&&(r.is_required=t.is_required),t.field_options!==void 0&&(r.field_options=t.field_options?JSON.stringify(t.field_options):null),t.validation_rules!==void 0&&(r.validation_rules=t.validation_rules),t.default_value!==void 0&&(r.default_value=t.default_value),t.conditional_logic!==void 0&&(r.conditional_logic=t.conditional_logic?JSON.stringify(t.conditional_logic):null),await J.surveyTemplateFields.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update field:",r),r}},async deleteField(e){try{await J.surveyTemplateFields.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete field:",t),t}}},rh={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const e=await J.surveys.list({select_fields:["survey_id","created_at","survey_name","client_name","client_name_ar","client_company","client_contact","client_email","client_address","location_address","location_latitude","location_longitude","location_accuracy","survey_responses","status","created_by","created_by_name","notes","notes_ar","template_id","lead_id","device_info","decision_maker","updated_at","updated_by","reviewed_at","reviewed_by","converted_to_lead_at","completion_time_seconds"],pageSize:1e3});return console.log(`[surveyService] Successfully fetched ${e.data.length} surveys`),e.data}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getCount(){try{console.log("[surveyService] Fetching surveys count...");const t=(await qo("/api/v1/surveys/list?pageSize=1")).totalRows||0;return console.log(`[surveyService] Successfully fetched surveys count: ${t}`),t}catch(e){return console.error("[surveyService] Failed to fetch surveys count:",e),0}},async getById(e){try{return await J.surveys.get(e)}catch(t){return console.error("[surveyService] Failed to fetch survey:",t),null}},async create(e){try{const t={...e,survey_responses:e.survey_responses?JSON.stringify(e.survey_responses):null},r=await J.surveys.create(t);return{...e,survey_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyService] Failed to create survey:",t),t}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const t=e.map(n=>({...n,survey_responses:n.survey_responses?JSON.stringify(n.survey_responses):null})),r=await Promise.all(t.map(n=>J.surveys.create(n)));return console.log(`[surveyService] Successfully batch created ${r.length} surveys`),r}catch(t){throw console.error("[surveyService] Failed to batch create surveys:",t),t}},async update(e,t){try{const r={};t.template_id!==void 0&&(r.template_id=t.template_id),t.survey_name&&(r.survey_name=t.survey_name),t.survey_description!==void 0&&(r.survey_description=t.survey_description),t.client_name&&(r.client_name=t.client_name),t.client_name_ar&&(r.client_name_ar=t.client_name_ar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.client_email&&(r.client_email=t.client_email),t.client_address&&(r.client_address=t.client_address),t.client_company&&(r.client_company=t.client_company),t.client_company_ar&&(r.client_company_ar=t.client_company_ar),t.survey_responses!==void 0&&(r.survey_responses=t.survey_responses?JSON.stringify(t.survey_responses):null),t.location_latitude!==void 0&&(r.location_latitude=t.location_latitude),t.location_longitude!==void 0&&(r.location_longitude=t.location_longitude),t.location_accuracy!==void 0&&(r.location_accuracy=t.location_accuracy),t.location_address&&(r.location_address=t.location_address),t.status&&(r.status=t.status),t.lead_id!==void 0&&(r.lead_id=t.lead_id),t.converted_to_lead_at!==void 0&&(r.converted_to_lead_at=t.converted_to_lead_at),t.device_info!==void 0&&(r.device_info=t.device_info),t.completion_time_seconds!==void 0&&(r.completion_time_seconds=t.completion_time_seconds),t.notes&&(r.notes=t.notes),t.notes_ar&&(r.notes_ar=t.notes_ar),await J.surveys.update(e,r)}catch(r){throw console.error("[surveyService] Failed to update survey:",r),r}},async delete(e){try{await J.surveys.delete(e)}catch(t){throw console.error("[surveyService] Failed to delete survey:",t),t}}};var zH="AlertDialog",[R3e,$He]=gs(zH,[m7]),kc=m7(),VH=e=>{const{__scopeAlertDialog:t,...r}=e,n=kc(t);return i.jsx(sw,{...n,...r,modal:!0})};VH.displayName=zH;var M3e="AlertDialogTrigger",WH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=kc(r);return i.jsx(rA,{...a,...n,ref:t})});WH.displayName=M3e;var F3e="AlertDialogPortal",HH=e=>{const{__scopeAlertDialog:t,...r}=e,n=kc(t);return i.jsx(iw,{...n,...r})};HH.displayName=F3e;var I3e="AlertDialogOverlay",qH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=kc(r);return i.jsx(yp,{...a,...n,ref:t})});qH.displayName=I3e;var Hh="AlertDialogContent",[L3e,$3e]=R3e(Hh),B3e=fse("AlertDialogContent"),GH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=kc(r),o=x.useRef(null),l=Bt(t,o),c=x.useRef(null);return i.jsx(yue,{contentName:Hh,titleName:KH,docsSlug:"alert-dialog",children:i.jsx(L3e,{scope:r,cancelRef:c,children:i.jsxs(bp,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:Je(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(B3e,{children:n}),i.jsx(z3e,{contentRef:o})]})})})});GH.displayName=Hh;var KH="AlertDialogTitle",YH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=kc(r);return i.jsx(Yv,{...a,...n,ref:t})});YH.displayName=KH;var XH="AlertDialogDescription",QH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=kc(r);return i.jsx(Xv,{...a,...n,ref:t})});QH.displayName=XH;var U3e="AlertDialogAction",JH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=kc(r);return i.jsx(ow,{...a,...n,ref:t})});JH.displayName=U3e;var ZH="AlertDialogCancel",eq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=$3e(ZH,r),s=kc(r),o=Bt(t,a);return i.jsx(ow,{...s,...n,ref:o})});eq.displayName=ZH;var z3e=({contentRef:e})=>{const t=`\`${Hh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hh}\` by passing a \`${XH}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},V3e=VH,W3e=WH,H3e=HH,tq=qH,rq=GH,nq=JH,aq=eq,sq=YH,iq=QH;const Ls=V3e,dx=W3e,q3e=H3e,oq=x.forwardRef(({className:e,...t},r)=>i.jsx(tq,{className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));oq.displayName=tq.displayName;const ss=x.forwardRef(({className:e,...t},r)=>i.jsxs(q3e,{children:[i.jsx(oq,{}),i.jsx(rq,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));ss.displayName=rq.displayName;const is=({className:e,...t})=>i.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});is.displayName="AlertDialogHeader";const os=({className:e,...t})=>i.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",qt()&&"sm:space-x-reverse",e),...t});os.displayName="AlertDialogFooter";const ls=x.forwardRef(({className:e,...t},r)=>i.jsx(sq,{ref:r,className:ge("text-lg font-semibold",e),...t}));ls.displayName=sq.displayName;const cs=x.forwardRef(({className:e,...t},r)=>i.jsx(iq,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));cs.displayName=iq.displayName;const us=x.forwardRef(({className:e,...t},r)=>i.jsx(nq,{ref:r,className:ge(bm(),e),...t}));us.displayName=nq.displayName;const ds=x.forwardRef(({className:e,...t},r)=>i.jsx(aq,{ref:r,className:ge(bm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ds.displayName=aq.displayName;const On=x.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));On.displayName="Textarea";function rj({stages:e,currentStageId:t,onStageChange:r,children:n}){const a=Br(),s=x.useRef(null),o=e.find(l=>l.id===t)??e[0];return x.useEffect(()=>{a&&s.current&&s.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[o==null?void 0:o.id,a]),a?i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:i.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:qt()?"ltr":"rtl",children:i.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...e].sort((l,c)=>(qt(),l.id-c.id)).map(l=>{const c=l.id===o.id;return i.jsxs("button",{ref:c?s:null,onClick:()=>r(l.id),className:ge("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",c?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[i.jsx("span",{className:"truncate max-w-[140px]",children:l.name}),i.jsx(ht,{variant:"secondary",className:ge("h-5 min-w-5 px-1.5 text-xs font-semibold",c?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:l.count})]},l.id)})})})}),i.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:i.jsx("div",{className:"p-2",children:n})})]}):i.jsx(i.Fragment,{children:n})}var nj="Tabs",[G3e,BHe]=gs(nj,[Z_]),lq=Z_(),[K3e,bP]=G3e(nj),cq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Bv(l),[f,h]=fc({prop:n,onChange:a,defaultProp:s??"",caller:nj});return i.jsx(K3e,{scope:r,baseId:ta(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(ft.div,{dir:d,"data-orientation":o,...u,ref:t})})});cq.displayName=nj;var uq="TabsList",dq=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=bP(uq,r),o=lq(r);return i.jsx(xU,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(ft.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});dq.displayName=uq;var fq="TabsTrigger",hq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=bP(fq,r),l=lq(r),c=gq(o.baseId,n),u=vq(o.baseId,n),d=n===o.value;return i.jsx(yU,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(ft.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:Je(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Je(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Je(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});hq.displayName=fq;var mq="TabsContent",pq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=bP(mq,r),c=gq(l.baseId,n),u=vq(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Fa,{present:a||d,children:({present:h})=>i.jsx(ft.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});pq.displayName=mq;function gq(e,t){return`${e}-trigger-${t}`}function vq(e,t){return`${e}-content-${t}`}var Y3e=cq,xq=dq,yq=hq,bq=pq;const Ao=Y3e,Ii=x.forwardRef(({className:e,...t},r)=>i.jsx(xq,{ref:r,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ii.displayName=xq.displayName;const kr=x.forwardRef(({className:e,...t},r)=>i.jsx(yq,{ref:r,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));kr.displayName=yq.displayName;const Vr=x.forwardRef(({className:e,...t},r)=>i.jsx(bq,{ref:r,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Vr.displayName=bq.displayName;function _P({relatedType:e,relatedId:t,notes:r,onNotesChange:n}){const{t:a}=Rt(),{user:s}=hr(),[o,l]=x.useState(""),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState(null),[g,p]=x.useState(!1),v=async()=>{if(!(!o.trim()||!(s!=null&&s.id))){p(!0);try{await Wh.create({content:o.trim(),related_to_type:e,related_to_id:t,created_by:s.id}),l(""),n()}catch(j){console.error("Failed to create note:",j)}finally{p(!1)}}},y=async j=>{if(d.trim()){p(!0);try{await Wh.update(j,d.trim()),u(null),f(""),n()}catch(w){console.error("Failed to update note:",w)}finally{p(!1)}}},b=async()=>{if(h){p(!0);try{await Wh.delete(h),m(null),n()}catch(j){console.error("Failed to delete note:",j)}finally{p(!1)}}},_=j=>{if(!j)return"";try{return Dne(new Date(j),{addSuffix:!0})}catch{return j}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(On,{value:o,onChange:j=>l(j.target.value),placeholder:a("notes.placeholder"),rows:3,className:"resize-none"}),i.jsxs(le,{onClick:v,disabled:!o.trim()||g,className:"w-full",children:[i.jsx(So,{className:"h-4 w-4 mr-2"}),a("notes.save")]})]}),i.jsx("div",{className:"space-y-3",children:r.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:a("notes.noNotes")}):r.map(j=>{var S;const w=c===j.note_id,N=j.created_by===(s==null?void 0:s.id);return i.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(S=j.user)!=null&&S.avatar?i.jsx("img",{src:j.user.avatar,alt:Ae(j.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-xs font-semibold text-primary",children:j.user?Ae(j.user,"user_name")[0]:"?"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:j.user?Ae(j.user,"user_name"):a("notes.unknown")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:_(j.created_at)})]})]}),N&&!w&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{u(j.note_id),f(j.content)},children:i.jsx(Ri,{className:"h-3.5 w-3.5"})}),i.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>m(j.note_id),children:i.jsx(sr,{className:"h-3.5 w-3.5"})})]})]}),w?i.jsxs("div",{className:"space-y-2",children:[i.jsx(On,{value:d,onChange:k=>f(k.target.value),rows:3,className:"resize-none"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(le,{size:"sm",onClick:()=>y(j.note_id),disabled:!d.trim()||g,children:[i.jsx(So,{className:"h-3.5 w-3.5 mr-1"}),a("notes.save")]}),i.jsxs(le,{size:"sm",variant:"outline",onClick:()=>{u(null),f("")},children:[i.jsx(Mi,{className:"h-3.5 w-3.5 mr-1"}),a("buttons.cancel")]})]})]}):i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:j.content})]},j.note_id)})}),i.jsx(Ls,{open:!!h,onOpenChange:()=>m(null),children:i.jsxs(ss,{children:[i.jsxs(is,{children:[i.jsx(ls,{children:a("notes.delete")}),i.jsx(cs,{children:a("notes.deleteConfirmation")})]}),i.jsxs(os,{children:[i.jsx(ds,{children:a("buttons.cancel")}),i.jsx(us,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a("buttons.delete")})]})]})})]})}function _q({priority:e=3,size:t="sm",showCount:r=!1,className:n}){const a=e||3,s={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return i.jsxs("div",{className:ge("flex items-center gap-0.5",n),children:[[1,2,3,4,5].map(o=>i.jsx(SB,{className:ge(s[t],o<=a?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},o)),r&&i.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",a,"/5)"]})]})}function X3e({leadId:e}){const{t}=Rt(),{isRTL:r}=Ma(),{user:n}=hr(),[a,s]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(""),[g,p]=x.useState([]),[v,y]=x.useState(!0),[b,_]=x.useState(!1),[j,w]=x.useState([]),[N,S]=x.useState([]),[k,C]=x.useState([]),[T,O]=x.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{V(),A()},[e]);const A=async()=>{try{const q=await xn.getAll().then(Y=>Y.filter(P=>P.user_role==="client"));C(q)}catch(q){console.error("Failed to load clients:",q)}},V=async()=>{var q,Y,P;try{y(!0);const[G,K,Z]=await Promise.all([md.getById(e),Ca.getByType("leads"),xn.getAll()]);if(s(G),w(K),S(Z),!G)return;if(O({lead_name:G.lead_name||"",lead_description:G.lead_description||"",client_user_id:G.client_user_id||"",stage:((q=G.stage)==null?void 0:q.toString())||"",assigned_to:G.assigned_to||"",value:((Y=G.value)==null?void 0:Y.toString())||"",currency:G.currency||"SAR",priority:((P=G.priority)==null?void 0:P.toString())||"3",expected_close_date:G.expected_close_date||""}),G.client_user_id){const se=await xn.getByAuthId(G.client_user_id);l(se)}if(G.created_by){const se=Z.find(oe=>oe.auth_user_id===G.created_by)||null;u(se)}if(G.assigned_to){const se=Z.find(oe=>oe.auth_user_id===G.assigned_to)||null;f(se)}if(G.stage){const se=K.find(oe=>oe.stage_id===G.stage);se&&m(Ae(se,"stage_name"))}H()}catch(G){console.error("Failed to load lead data:",G)}finally{y(!1)}},H=async()=>{try{const q=await Wh.getByRelated("lead",e);p(q)}catch(q){console.error("Failed to load notes:",q)}},M=async()=>{if(a)try{const q=T.assigned_to&&T.assigned_to!=="unassigned"?T.assigned_to:null,Y=lc({lead_name:T.lead_name,lead_description:T.lead_description||null,client_user_id:T.client_user_id||null,stage:parseInt(T.stage),assigned_to:q,value:T.value?parseFloat(T.value):null,currency:T.currency,priority:parseInt(T.priority),expected_close_date:T.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await md.update(a.lead_id,Y);const P={...a,...Y};if(s(P),T.client_user_id){const K=k.find(Z=>Z.auth_user_id===T.client_user_id)||null;l(K)}if(q){const K=N.find(Z=>Z.auth_user_id===q)||null;f(K)}const G=j.find(K=>K.stage_id===parseInt(T.stage));G&&m(Ae(G,"stage_name")),_(!1)}catch(q){console.error("Failed to update lead:",q)}},F=()=>{var q,Y,P;a&&O({lead_name:a.lead_name||"",lead_description:a.lead_description||"",client_user_id:a.client_user_id||"",stage:((q=a.stage)==null?void 0:q.toString())||"",assigned_to:a.assigned_to||"",value:((Y=a.value)==null?void 0:Y.toString())||"",currency:a.currency||"SAR",priority:((P=a.priority)==null?void 0:P.toString())||"3",expected_close_date:a.expected_close_date||""}),_(!1)},L=(q,Y)=>{if(q===null)return"-";const P=Y||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:P==="SAR"?"SAR":P}).format(q)},B=q=>q?new Date(q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(v)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!a)return i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t("leads.notFound")});const D=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager";return i.jsxs("div",{className:"w-full",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:t("leads.leadDetails")}),D&&!b&&i.jsxs(le,{onClick:()=>_(!0),variant:"outline",size:"sm",children:[i.jsx(Ri,{className:"h-4 w-4 mr-2"}),t("buttons.edit")]}),b&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(le,{onClick:F,variant:"outline",size:"sm",children:[i.jsx(Mi,{className:"h-4 w-4 mr-2"}),t("buttons.cancel")]}),i.jsxs(le,{onClick:M,size:"sm",children:[i.jsx(So,{className:"h-4 w-4 mr-2"}),t("buttons.save")]})]})]}),i.jsxs(Ao,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Ii,{className:"grid w-full grid-cols-2",children:[i.jsx(kr,{value:"overview",children:t("common.overview")}),i.jsx(kr,{value:"notes",children:t("notes.title")})]}),i.jsx(Vr,{value:"overview",className:"space-y-4 mt-4",children:b?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"lead_name",children:[t("leads.leadName")," *"]}),i.jsx(Be,{id:"lead_name",value:T.lead_name,onChange:q=>O(Y=>({...Y,lead_name:q.target.value})),placeholder:t("leads.leadName")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"lead_description",children:t("leads.description")}),i.jsx(On,{id:"lead_description",value:T.lead_description,onChange:q=>O(Y=>({...Y,lead_description:q.target.value})),placeholder:t("leads.description"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("leads.client")}),i.jsxs(vt,{value:T.client_user_id,onValueChange:q=>O(Y=>({...Y,client_user_id:q})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:t("leads.selectClient")})}),i.jsx(pt,{children:k.filter(q=>q.auth_user_id).map(q=>i.jsx(Ce,{value:q.auth_user_id,children:Ae(q,"user_name")},q.user_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("common.stage")}),i.jsxs(vt,{value:T.stage,onValueChange:q=>O(Y=>({...Y,stage:q})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:t("leads.selectStage")})}),i.jsx(pt,{children:j.map(q=>i.jsx(Ce,{value:q.stage_id.toString(),children:Ae(q,"stage_name")},q.stage_id))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("leads.value")}),i.jsx(Be,{type:"number",min:"0",step:"0.01",value:T.value,onChange:q=>O(Y=>({...Y,value:q.target.value})),placeholder:"0.00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("leads.currency")}),i.jsxs(vt,{value:T.currency,onValueChange:q=>O(Y=>({...Y,currency:q})),children:[i.jsx(mt,{children:i.jsx(xt,{})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"SAR",children:"SAR (.)"}),i.jsx(Ce,{value:"USD",children:"USD ($)"}),i.jsx(Ce,{value:"EUR",children:"EUR ()"}),i.jsx(Ce,{value:"GBP",children:"GBP ()"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("common.priority")}),i.jsxs(vt,{value:T.priority,onValueChange:q=>O(Y=>({...Y,priority:q})),children:[i.jsx(mt,{children:i.jsx(xt,{})}),i.jsxs(pt,{children:[i.jsxs(Ce,{value:"1",children:[" ",t("common.veryLow")]}),i.jsxs(Ce,{value:"2",children:[" ",t("common.low")]}),i.jsxs(Ce,{value:"3",children:[" ",t("common.medium")]}),i.jsxs(Ce,{value:"4",children:[" ",t("common.high")]}),i.jsxs(Ce,{value:"5",children:[" ",t("common.veryHigh")]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("leads.expectedCloseDate")}),i.jsx(Be,{type:"date",value:T.expected_close_date,onChange:q=>O(Y=>({...Y,expected_close_date:q.target.value}))})]})]}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("leads.assignToEmployee")}),i.jsxs(vt,{value:T.assigned_to,onValueChange:q=>O(Y=>({...Y,assigned_to:q})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:t("leads.selectAssignee")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"unassigned",children:t("common.unassigned")}),N.filter(q=>["employee","admin","manager","team_leader"].includes(q.user_role)&&q.auth_user_id).map(q=>i.jsx(Ce,{value:q.auth_user_id,children:Ae(q,"user_name")},q.user_id))]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:Ae(a,"lead_name")}),Ae(a,"lead_description")&&i.jsx("p",{className:"text-muted-foreground mt-1",children:Ae(a,"lead_description")})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(fR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.priority")}),i.jsx(_q,{priority:a.priority,size:"sm"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[i.jsx(U0,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.value")}),i.jsx("p",{className:"text-lg font-semibold",children:L(a.value,a.currency)})]})]}),o&&i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[i.jsx(Un,{className:"h-5 w-5 text-primary mt-0.5"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.client")}),i.jsx("p",{className:"font-medium truncate",children:Ae(o,"user_name")}),o.user_email&&i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:o.user_email})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(fR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.stage")}),i.jsx(ht,{variant:"secondary",children:h||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Pn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.assignedTo")}),i.jsx("p",{className:"font-medium",children:d?Ae(d,"user_name"):t("common.unassigned")})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"p-3 rounded-lg border",children:[i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Di,{className:"h-3.5 w-3.5"}),t("common.created")]}),i.jsx("p",{className:"text-sm font-medium mt-1",children:B(a.created_date)})]}),c&&i.jsxs("div",{className:"p-3 rounded-lg border",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.createdBy")}),i.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:Ae(c,"user_name")})]})]})]})}),i.jsx(Vr,{value:"notes",className:"mt-4",children:i.jsx(_P,{relatedType:"lead",relatedId:e,notes:g,onNotesChange:H})})]})]})}function fx({title:e,description:t,icon:r,actions:n,stats:a,className:s=""}){Rt();const o=Br();return i.jsxs("div",{className:ge("mb-6",s),children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[r&&i.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof r=="function"?ie.createElement(r):r}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),t&&i.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:t})]})]}),n&&i.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n})]}),a&&a.length>0&&!o&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:a.map((l,c)=>i.jsx(et,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:i.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.icon&&i.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof l.icon=="function"?ie.createElement(l.icon):l.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:l.label}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:l.value}),l.trend&&i.jsxs("span",{className:ge("text-xs font-medium",l.trend.isPositive?"text-green-600":"text-red-600"),children:[l.trend.isPositive?"+":"",l.trend.value,"%"]})]})]})]})},c))})]})}function bo({icon:e,title:t,description:r,action:n,className:a=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${a}`,children:[e&&i.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?ie.createElement(e):e}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:t}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n]})}const wP=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:ge("w-full caption-bottom text-sm",e),...t})}));wP.displayName="Table";const jP=x.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:ge("[&_tr]:border-b",e),...t}));jP.displayName="TableHeader";const SP=x.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:ge("[&_tr:last-child]:border-0",e),...t}));SP.displayName="TableBody";const Q3e=x.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Q3e.displayName="TableFooter";const gv=x.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:ge("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));gv.displayName="TableRow";const so=x.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:ge("h-12 py-4 align-middle font-medium text-muted-foreground",qt()?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...t}));so.displayName="TableHead";const io=x.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:ge("py-4 align-middle",qt()?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...t}));io.displayName="TableCell";const J3e=x.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:ge("mt-4 text-sm text-muted-foreground",e),...t}));J3e.displayName="TableCaption";var aj="Checkbox",[Z3e,UHe]=gs(aj),[eIe,NP]=Z3e(aj);function tIe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=fc({prop:r,defaultProp:a??!1,onChange:c,caller:aj}),[g,p]=x.useState(null),[v,y]=x.useState(null),b=x.useRef(!1),_=g?!!o||!!g.closest("form"):!0,j={checked:h,disabled:s,setChecked:m,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Tu(a)?!1:a,isFormControl:_,bubbleInput:v,setBubbleInput:y};return i.jsx(eIe,{scope:t,...j,children:rIe(f)?f(j):n})}var wq="CheckboxTrigger",jq=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=NP(wq,e),p=Bt(a,d),v=x.useRef(c);return x.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const b=()=>f(v.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[s,f]),i.jsx(ft.button,{type:"button",role:"checkbox","aria-checked":Tu(c)?"mixed":c,"aria-required":u,"data-state":Eq(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:Je(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Je(r,y=>{f(b=>Tu(b)?!0:!b),g&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});jq.displayName=wq;var kP=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(tIe,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(jq,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx(Cq,{__scopeCheckbox:r})]})})});kP.displayName=aj;var Sq="CheckboxIndicator",Nq=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=NP(Sq,r);return i.jsx(Fa,{present:n||Tu(s.checked)||s.checked===!0,children:i.jsx(ft.span,{"data-state":Eq(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Nq.displayName=Sq;var kq="CheckboxBubbleInput",Cq=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=NP(kq,e),g=Bt(r,m),p=zT(s),v=FT(n);x.useEffect(()=>{const b=h;if(!b)return;const _=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(_,"checked").set,N=!a.current;if(p!==s&&w){const S=new Event("click",{bubbles:N});b.indeterminate=Tu(s),w.call(b,Tu(s)?!1:s),b.dispatchEvent(S)}},[h,p,s,a]);const y=x.useRef(Tu(s)?!1:s);return i.jsx(ft.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Cq.displayName=kq;function rIe(e){return typeof e=="function"}function Tu(e){return e==="indeterminate"}function Eq(e){return Tu(e)?"indeterminate":e?"checked":"unchecked"}const Kb=x.forwardRef(({className:e,indeterminate:t,...r},n)=>i.jsx(kP,{ref:n,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"bg-primary text-primary-foreground",e),...r,children:i.jsx(Nq,{className:ge("flex items-center justify-center text-current"),children:t?i.jsx(bae,{className:"h-4 w-4"}):i.jsx(NT,{className:"h-4 w-4"})})}));Kb.displayName=kP.displayName;function vc({data:e,columns:t,actions:r=[],bulkActions:n=[],keyExtractor:a,onRowClick:s,emptyState:o,mobileCardRender:l,className:c,enableBulkSelect:u=!1,rowHeight:d}){const f=Br(),{t:h}=Rt(),[m,g]=x.useState(new Set);x.useEffect(()=>{const S=new Set(e.map(a));g(k=>{const C=new Set(k);for(const T of k)S.has(T)||C.delete(T);return C})},[e,a]);const p=S=>{const k=new Set(m);k.has(S)?k.delete(S):k.add(S),g(k)},v=()=>{m.size===e.length?g(new Set):g(new Set(e.map(a)))},y=()=>{g(new Set)},b=()=>e.filter(S=>m.has(a(S))),_=S=>{const k=r.filter(C=>!C.show||C.show(S));return k.length===0?null:i.jsxs(QT,{children:[i.jsx(JT,{asChild:!0,onClick:C=>C.stopPropagation(),children:i.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:i.jsx(uae,{className:"h-4 w-4"})})}),i.jsx(nw,{align:"end",children:k.map((C,T)=>i.jsxs(zl,{onClick:O=>{O.stopPropagation(),C.onClick(S)},className:ge(C.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[C.icon&&i.jsx("span",{className:"mr-2",children:C.icon}),C.label]},T))})]})};if(e.length===0)return o||i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:h("common.noData","No data available")});if(f)return i.jsx("div",{className:ge("space-y-3 w-full overflow-hidden",c),children:e.map((S,k)=>l?i.jsx("div",{onClick:()=>s==null?void 0:s(S),className:"w-full",children:l(S,_(S))},a(S)):i.jsx(et,{className:ge("w-full overflow-hidden transition-all",s&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>s==null?void 0:s(S),children:i.jsx(ct,{className:"p-4 w-full",children:i.jsxs("div",{className:"space-y-3 w-full",children:[t.filter(C=>!C.hideOnMobile).map((C,T)=>i.jsxs("div",{className:"flex items-start justify-between gap-2 w-full min-w-0",children:[i.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide flex-shrink-0",children:C.header}),i.jsx("div",{className:"text-sm text-right flex-shrink-0 max-w-[60%]",children:C.render(S,k)})]},C.key)),r.length>0&&i.jsx("div",{className:"pt-2 border-t flex justify-end",children:_(S)})]})})},a(S)))});const j=m.size,w=j===e.length&&e.length>0,N=j>0&&j<e.length;return i.jsxs("div",{className:"space-y-4",children:[u&&j>0&&i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm font-medium",children:[j," ",j===1?h("common.item","item"):h("common.items","items")," ",h("common.selected","selected")]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[n.map((S,k)=>i.jsxs(le,{variant:S.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>S.onClick(b()),className:ge(S.variant==="destructive"&&"hover:bg-destructive/90"),children:[S.icon&&i.jsx("span",{className:"mr-2",children:S.icon}),S.label]},k)),i.jsx(le,{variant:"ghost",size:"sm",onClick:y,className:"text-muted-foreground hover:text-foreground",children:i.jsx(Mi,{className:"h-4 w-4"})})]})]}),i.jsx(et,{className:ge("overflow-hidden",c),children:i.jsx(ct,{className:"p-0",children:i.jsxs(wP,{children:[i.jsx(jP,{children:i.jsxs(gv,{className:"bg-muted/50 hover:bg-muted/50 sticky top-0 z-20 shadow-sm",children:[u&&i.jsx(so,{className:"w-12",children:i.jsx(Kb,{checked:w,indeterminate:N,onCheckedChange:v,"aria-label":h("common.selectAll","Select all")})}),t.map(S=>i.jsx(so,{className:ge("font-semibold",S.className),children:S.header},S.key)),r.length>0&&i.jsx(so,{className:"w-[100px] text-right",children:h("common.actions")})]})}),i.jsx(SP,{children:e.map((S,k)=>{const C=a(S),T=m.has(C);return i.jsxs(gv,{className:ge("group transition-colors",T&&"bg-primary/5",s&&"cursor-pointer hover:bg-muted/50",d),onClick:()=>s==null?void 0:s(S),children:[u&&i.jsx(io,{onClick:O=>O.stopPropagation(),children:i.jsx(Kb,{checked:T,onCheckedChange:()=>p(C),"aria-label":h("common.selectItem","Select item")})}),t.map(O=>i.jsx(io,{className:ge(O.className,"overflow-hidden"),children:O.render(S,k)},O.key)),r.length>0&&i.jsx(io,{className:"text-right",children:i.jsx("div",{children:_(S)})})]},C)})})]})})})]})}function Tq({children:e,variant:t="secondary"}){return i.jsx(ht,{variant:t,className:"text-xs font-medium",children:e})}function Xm({name:e,fallback:t="Unassigned"}){return i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Pn,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:ge(!e&&"text-muted-foreground"),children:e||t})]})}function Af({date:e,fallback:t="Not set"}){return e?i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Di,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{children:new Date(e).toLocaleDateString()})]}):i.jsx("span",{className:"text-muted-foreground",children:t})}function xc({title:e,subtitle:t,icon:r}){return i.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[r&&(typeof r=="function"?ie.createElement(r):r),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium truncate text-sm break-words",children:e}),t&&i.jsx("div",{className:"text-xs text-muted-foreground truncate break-words",children:t})]})]})}function nIe({value:e,currency:t="SAR"}){return e==null?i.jsx("span",{className:"text-muted-foreground",children:"-"}):i.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)})}function aIe({lead:e,client:t,creator:r,assignedUser:n,userRole:a,users:s=[],onDelete:o,onEdit:l,onAssign:c,onClick:u,onDragStart:d,isDragging:f=!1}){const{t:h}=Rt(),m=Br(),g=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):h("leads.unknown"),p=(v,y)=>{if(v===null)return"-";const b=y||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:b}).format(v)};return i.jsxs(et,{className:ge("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",m?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",f&&"opacity-50 rotate-2 scale-105"),onClick:u,draggable:!!d,onDragStart:v=>{d&&(v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",e.lead_id.toString()),d(e.lead_id))},children:[i.jsxs($t,{className:"pb-3 px-4 pt-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Ae(e,"lead_name")}),Ae(e,"lead_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Ae(e,"lead_description")})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[l&&(a==="admin"||a==="manager")&&i.jsx(le,{variant:"ghost",size:"sm",className:ge("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:v=>{v.stopPropagation(),l()},children:i.jsx(Ri,{className:"h-4 w-4"})}),o&&i.jsxs(Ls,{children:[i.jsx(dx,{asChild:!0,onClick:v=>v.stopPropagation(),children:i.jsx(le,{variant:"ghost",size:"sm",className:ge("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(sr,{className:"h-4 w-4"})})}),i.jsxs(ss,{onClick:v=>v.stopPropagation(),children:[i.jsxs(is,{children:[i.jsx(ls,{children:h("leads.deleteLead")}),i.jsx(cs,{children:h("leads.deleteConfirmation",{name:Ae(e,"lead_name")})})]}),i.jsxs(os,{children:[i.jsx(ds,{children:h("buttons.cancel")}),i.jsx(us,{onClick:v=>{v.stopPropagation(),o(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h("buttons.delete")})]})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[i.jsx(_q,{priority:e.priority,size:"sm"}),e.expected_close_date&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(Di,{className:"h-3 w-3"}),i.jsx("span",{children:g(e.expected_close_date)})]})]})]}),i.jsxs(ct,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&i.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(U0,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:h("leads.value")}),i.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:p(e.value,e.currency)})]})]}),t&&i.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(Un,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:h("leads.client")}),i.jsx("p",{className:"text-sm font-semibold truncate",children:Ae(t,"user_name")})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Pn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.createdBy")}),i.jsx("p",{className:"text-xs font-medium truncate",children:Ae(r,"user_name")})]})]}),i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Pn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.assignedTo")}),i.jsx("p",{className:"text-xs font-medium truncate",children:n?Ae(n,"user_name"):h("common.all","Unassigned")})]})]})]}),i.jsx("div",{className:"pt-1",children:i.jsxs(vt,{value:e.assigned_to||"unassigned",onValueChange:v=>c&&c(e.lead_id,v==="unassigned"?"":v),children:[i.jsx(mt,{className:"h-7 text-xs",children:i.jsx(xt,{placeholder:h("leads.selectAssignee","Select assignee")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"unassigned",children:h("common.all","Unassigned")}),s.map(v=>i.jsx(Ce,{value:(v.userid||v.userid||"").toString(),children:Ae(v,"user_name")},v.userid))]})]})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(Di,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:g(e.created_date)})]}),i.jsx(ht,{variant:"secondary",className:"text-xs",children:h("leads.lead")})]})]})]})}function sIe(){var Ze,ae,he;$s();const{hasRole:e,user:t}=hr(),r=Br(),{t:n}=Rt(),{setBreadcrumbs:a}=Iv();x.useEffect(()=>{a([{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.leads")}])},[n,a]);const[s,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]),[m,g]=x.useState(!0);x.useState(!1),x.useState("");const[p,v]=x.useState(null),[y,b]=x.useState(""),[_,j]=x.useState(null),[w,N]=x.useState(null),[S,k]=x.useState(!1),[C,T]=x.useState(null),[O,A]=x.useState("kanban"),[V,H]=x.useState(null),[M,F]=x.useState(""),[L,B]=x.useState("all"),[D,q]=x.useState("all"),[Y,P]=x.useState({from:void 0,to:void 0}),G=x.useMemo(()=>s.filter(U=>{const ue=(U.lead_name||"").toLowerCase().includes(M.toLowerCase())||(U.lead_description||"").toLowerCase().includes(M.toLowerCase())||(U.client_name||"").toLowerCase().includes(M.toLowerCase()),we=D==="all"||U.assigned_to&&U.assigned_to===D;let _e=!0;if(Y.from&&U.created_date){const $e=new Date(U.created_date),tt=new Date(Y.from);tt.setHours(0,0,0,0);const it=new Date($e);if(it.setHours(0,0,0,0),_e=it>=tt,_e&&Y.to){const Ee=new Date(Y.to);Ee.setHours(23,59,59,999),_e=it<=Ee}}else Y.from&&!U.created_date&&(_e=!1);return ue&&we&&_e}),[s,M,L,D,Y]),[K,Z]=x.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{se()},[]),x.useEffect(()=>{if(f.length>0&&C===null){const U=f.find(ue=>ue.stage_id===1);U&&T(U.stage_id)}},[f,C]);const se=async()=>{try{g(!0);const[U,ue,we,_e]=await Promise.all([md.getAll(),xn.getAll(),UH.getAll(),Ca.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:U.length,clients:we.length,users:ue.length,stages:_e.length}),console.log("[Leads] Leads data:",U),console.log("[Leads] Stages data:",_e),o(U),c(we),d(ue),h(_e)}catch(U){console.error("Failed to load data:",U)}finally{g(!1)}},oe=async U=>{if(y.trim())try{await Ca.update(U,{stage_name:y.trim()}),h(f.map(ue=>ue.stage_id===U?{...ue,stage_name:y.trim()}:ue)),v(null),b("")}catch(ue){console.error("Failed to update stage:",ue)}},xe=async U=>{if(s.filter(we=>we.stage===U).length>0){j(U);return}try{await Ca.delete(U),h(f.filter(we=>we.stage_id!==U))}catch(we){console.error("Failed to delete stage:",we)}},z=async()=>{if(_)try{await Ca.delete(_),h(f.filter(U=>U.stage_id!==_)),j(null),se()}catch(U){console.error("Failed to delete stage:",U)}},W=U=>{N(U)},ce=U=>{U.preventDefault(),U.dataTransfer.dropEffect="move"},E=async U=>{if(!w)return;const ue=s.find(we=>we.lead_id===w);if(ue&&ue.stage!==U)try{await md.update(w,{stage:U}),o(s.map(we=>we.lead_id===w?{...we,stage:U}:we))}catch(we){console.error("Failed to update lead stage:",we)}N(null)},Pe=async U=>{try{await md.delete(U),o(s.filter(ue=>ue.lead_id!==U))}catch(ue){console.error("Failed to delete lead:",ue)}},Re=async(U,ue)=>{const we=ue||null,_e=we?new Date().toISOString():null,$e=s.find(tt=>tt.lead_id===U);if($e){o(s.map(tt=>tt.lead_id===U?{...tt,assigned_to:we,assigned_at:_e}:tt));try{await md.update(U,{assigned_to:we,assigned_at:_e})}catch(tt){console.error("Failed to assign lead:",tt),o(s.map(it=>it.lead_id===U?{...it,assigned_to:$e.assigned_to,assigned_at:$e.assigned_at}:it))}}},pe=U=>{Z(ue=>({...ue,stage:U.toString()})),k(!0)},Me=async()=>{if(K.lead_name.trim())try{const U=K.assigned_to&&K.assigned_to!=="unassigned"?K.assigned_to:null,ue=U?new Date().toISOString():null,we=lc({lead_name:K.lead_name.trim(),lead_description:K.lead_description.trim()||null,client_name:K.client_name.trim()||null,client_user_id:K.client_user_id||null,created_by:(t==null?void 0:t.id)||null,stage:parseInt(K.stage),assigned_to:U,assigned_at:ue,value:K.value?parseFloat(K.value):null,currency:K.currency||"SAR",priority:K.priority?parseInt(K.priority):3,expected_close_date:K.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),_e=await md.create(we);o([...s,_e]),Z({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),k(!1)}catch(U){console.error("Failed to create lead:",U)}},be=f.filter(U=>U.stage_type==="leads").sort((U,ue)=>{const we=U.stager_order_index??0,_e=ue.stager_order_index??0;return we-_e}),Ge=be.map(U=>({id:U.stage_id,name:Ae(U,"stage_name"),color:U.color,count:G.filter(ue=>ue.stage===U.stage_id).length}));return m?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:qt()?"rtl":"ltr",children:[i.jsx(fx,{title:n("leads.title"),description:n("leads.description","Manage and track all your sales leads"),icon:i.jsx(Qa,{className:"h-6 w-6 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(le,{variant:O==="kanban"?"default":"ghost",size:"sm",onClick:()=>A("kanban"),className:"h-8 w-8 p-0",children:i.jsx(B_,{className:"h-4 w-4"})}),i.jsx(le,{variant:O==="list"?"default":"ghost",size:"sm",onClick:()=>A("list"),className:"h-8 w-8 p-0",children:i.jsx(xm,{className:"h-4 w-4"})})]}),i.jsxs(le,{onClick:()=>k(!0),children:[i.jsx(Wt,{className:"mr-2 h-4 w-4"})," ",n("leads.newLead")]})]}),stats:[{label:n("leads.totalLeads","Total Leads"),value:s.length,icon:i.jsx(Qa,{className:"h-5 w-5 text-primary"})},{label:n("leads.thisMonth","This Month"),value:s.filter(U=>{const ue=new Date(U.created_date),we=new Date;return ue.getMonth()===we.getMonth()&&ue.getFullYear()===we.getFullYear()}).length,icon:i.jsx(Di,{className:"h-5 w-5 text-green-500"})},{label:n("leads.totalValue","Total Value"),value:`SAR ${s.reduce((U,ue)=>U+(ue.value||0),0).toLocaleString()}`,icon:i.jsx(U0,{className:"h-5 w-5 text-green-600"})},{label:n("leads.avgValue","Avg Value"),value:s.length>0?`SAR ${Math.round(s.reduce((U,ue)=>U+(ue.value||0),0)/s.length).toLocaleString()}`:"SAR 0",icon:i.jsx(U0,{className:"h-5 w-5 text-blue-500"})}]}),i.jsx(yP,{onSearch:F,onFilterAssignee:q,onFilterDateRange:P,users:u}),O==="kanban"?i.jsxs(rj,{stages:Ge,currentStageId:C||((Ze=Ge[0])==null?void 0:Ze.id),onStageChange:T,children:[i.jsx(gn,{open:S,onOpenChange:k,children:i.jsxs(rn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(nn,{children:[i.jsx(an,{children:n("leads.createLead")}),i.jsx(Da,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(Be,{value:K.lead_name,onChange:U=>Z(ue=>({...ue,lead_name:U.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(On,{value:K.lead_description,onChange:U=>Z(ue=>({...ue,lead_description:U.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(Be,{value:K.client_name,onChange:U=>Z(ue=>({...ue,client_name:U.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(vt,{value:K.client_user_id,onValueChange:U=>Z(ue=>({...ue,client_user_id:U})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:n("leads.selectClient")})}),i.jsx(pt,{children:l.filter(U=>U.userid||U.userid).map(U=>i.jsx(Ce,{value:(U.userid||U.userid||"").toString(),children:Ae(U,"user_name")},U.userid))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.value")}),i.jsx(Be,{type:"number",min:"0",step:"0.01",value:K.value,onChange:U=>Z(ue=>({...ue,value:U.target.value})),placeholder:"0.00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.currency")}),i.jsxs(vt,{value:K.currency,onValueChange:U=>Z(ue=>({...ue,currency:U})),children:[i.jsx(mt,{children:i.jsx(xt,{})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"SAR",children:"SAR (.)"}),i.jsx(Ce,{value:"USD",children:"USD ($)"}),i.jsx(Ce,{value:"EUR",children:"EUR ()"}),i.jsx(Ce,{value:"GBP",children:"GBP ()"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("common.priority")}),i.jsxs(vt,{value:K.priority,onValueChange:U=>Z(ue=>({...ue,priority:U})),children:[i.jsx(mt,{children:i.jsx(xt,{})}),i.jsxs(pt,{children:[i.jsxs(Ce,{value:"1",children:[" ",n("common.veryLow")]}),i.jsxs(Ce,{value:"2",children:[" ",n("common.low")]}),i.jsxs(Ce,{value:"3",children:[" ",n("common.medium")]}),i.jsxs(Ce,{value:"4",children:[" ",n("common.high")]}),i.jsxs(Ce,{value:"5",children:[" ",n("common.veryHigh")]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.expectedCloseDate")}),i.jsx(Be,{type:"date",value:K.expected_close_date,onChange:U=>Z(ue=>({...ue,expected_close_date:U.target.value}))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),i.jsxs(vt,{value:K.assigned_to,onValueChange:U=>Z(ue=>({...ue,assigned_to:U})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:n("leads.selectAssignee","Select assignee")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"unassigned",children:n("common.all","Unassigned")}),u.map(U=>i.jsx(Ce,{value:String(U.userid),children:Ae(U,"user_name")},U.userid))]})]})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(le,{onClick:Me,disabled:!((ae=K.lead_name)!=null&&ae.trim()),children:[i.jsx(So,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:be.filter(U=>{var ue;return r?U.stage_id===(C||((ue=Ge[0])==null?void 0:ue.id)):!0}).map((U,ue)=>{var Ee,Le;const we=G.filter(Fe=>Fe.stage===U.stage_id),_e=we.reduce((Fe,st)=>Fe+(st.value||0),0),$e=new Set(we.filter(Fe=>Fe.value!==null&&Fe.currency).map(Fe=>Fe.currency)),tt=$e.size===1?Array.from($e)[0]:"SAR",it=Fe=>new Intl.NumberFormat(void 0,{style:"currency",currency:tt}).format(Fe);return we.length>0&&console.log(`[Leads] Stage ${U.stage_name} (${U.stage_id}): ${we.length} leads`),ue===0&&G.length>0&&(console.log("[Leads] First lead structure:",G[0]),console.log("[Leads] Stage IDs:",f.map(Fe=>Fe.stage_id))),i.jsxs("div",{className:ge("flex-shrink-0 animate-fade-in h-full flex flex-col",r?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${ue*.1}s`},onDragOver:ce,onDrop:()=>E(U.stage_id),children:[i.jsx("div",{className:ge("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",U.color||"border-l-4 border-primary/50","hidden md:block"),children:i.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:p===U.stage_id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(Be,{value:y,onChange:Fe=>b(Fe.target.value),onKeyDown:Fe=>{Fe.key==="Enter"&&oe(U.stage_id),Fe.key==="Escape"&&(v(null),b(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>oe(U.stage_id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("h2",{className:"font-bold text-base",children:Ae(U,"stage_name")})}),i.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:we.length}),i.jsxs(i.Fragment,{children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>pe(U.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:n("leads.addLead"),children:i.jsx(Wt,{className:"h-4 w-4"})}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>{v(U.stage_id),b(Ae(U,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:i.jsx(Ri,{className:"h-3 w-3"})}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>xe(U.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:i.jsx(sr,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((Ee=f.sort((Fe,st)=>(Fe.stager_order_index||0)-(st.stager_order_index||0))[0])==null?void 0:Ee.stage_id)===U.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(et,{className:ge("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",r?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>pe(U.stage_id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Wt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("leads.addNewLeadCard")})]})})}),we.map(Fe=>{const st=l.find(Ut=>{var ar,_r;return((ar=Ut.userid||Ut.userid)==null?void 0:ar.toString())===((_r=Fe.client_user_id)==null?void 0:_r.toString())}),ot=u.find(Ut=>{var ar,_r;return((ar=Ut.userid||Ut.userid)==null?void 0:ar.toString())===((_r=Fe.created_by)==null?void 0:_r.toString())}),_t=u.find(Ut=>{var ar,_r;return((ar=Ut.userid||Ut.userid)==null?void 0:ar.toString())===((_r=Fe.assigned_to)==null?void 0:_r.toString())});return i.jsx("div",{children:i.jsx(aIe,{lead:Fe,client:st||null,creator:ot||null,assignedUser:_t||null,userRole:t==null?void 0:t.role,users:u,onDelete:()=>Pe(Fe.lead_id),onEdit:()=>H(Fe.lead_id),onAssign:Re,onClick:()=>H(Fe.lead_id),onDragStart:W,isDragging:w===Fe.lead_id})},Fe.lead_id)}),((Le=f.sort((Fe,st)=>(Fe.stager_order_index||0)-(st.stager_order_index||0))[0])==null?void 0:Le.stage_id)!==U.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(le,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>pe(U.stage_id),children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})]}),i.jsx("div",{className:ge("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(U0,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),i.jsx("span",{className:"text-lg font-bold text-primary",children:it(_e)})]})})]},U.stage_id)})}),i.jsx(Ls,{open:!!_,onOpenChange:()=>j(null),children:i.jsxs(ss,{children:[i.jsxs(is,{children:[i.jsx(ls,{children:n("leads.deleteStage")}),i.jsx(cs,{children:n("leads.deleteStageConfirmation",{count:s.filter(U=>U.stage===_).length})})]}),i.jsxs(os,{children:[i.jsx(ds,{children:n("buttons.cancel")}),i.jsx(us,{onClick:z,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:[n("leads.title")," (",s.length,")"]}),i.jsx(gn,{open:S,onOpenChange:k,children:i.jsxs(rn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(nn,{children:[i.jsx(an,{children:n("leads.createLead")}),i.jsx(Da,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(Be,{value:K.lead_name,onChange:U=>Z(ue=>({...ue,lead_name:U.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(On,{value:K.lead_description,onChange:U=>Z(ue=>({...ue,lead_description:U.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(Be,{value:K.client_name,onChange:U=>Z(ue=>({...ue,client_name:U.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(vt,{value:K.client_user_id,onValueChange:U=>Z(ue=>({...ue,client_user_id:U})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:n("leads.selectClient")})}),i.jsx(pt,{children:l.filter(U=>U.userid).map(U=>i.jsx(Ce,{value:String(U.userid),children:Ae(U,"user_name")},U.userid))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),i.jsxs(vt,{value:K.assigned_to,onValueChange:U=>Z(ue=>({...ue,assigned_to:U})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:n("leads.selectAssignee","Select assignee")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"unassigned",children:n("common.all","Unassigned")}),u.map(U=>i.jsx(Ce,{value:String(U.userid),children:Ae(U,"user_name")},U.userid))]})]})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(le,{onClick:Me,disabled:!((he=K.lead_name)!=null&&he.trim()),children:[i.jsx(So,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})})]}),(()=>{const U=[{key:"lead",header:n("leads.leadName"),render:_e=>i.jsx(xc,{title:Ae(_e,"lead_name"),subtitle:Ae(_e,"lead_description")})},{key:"value",header:n("leads.value","Value"),render:_e=>i.jsx(nIe,{value:_e.value,currency:_e.currency||"SAR"})},{key:"client",header:n("leads.client"),hideOnMobile:!0,render:_e=>{const $e=l.find(tt=>String(tt.userid)===_e.client_user_id);return $e?Ae($e,"user_name"):n("leads.unknown")}},{key:"creator",header:n("leads.createdBy"),hideOnMobile:!0,render:_e=>{const $e=u.find(tt=>String(tt.userid)===_e.created_by);return i.jsx(Xm,{name:$e?Ae($e,"user_name"):null,fallback:n("leads.unknown")})}},{key:"assignee",header:n("leads.assignedTo"),hideOnMobile:!0,render:_e=>{const $e=u.find(tt=>String(tt.userid)===_e.assigned_to);return i.jsx(Xm,{name:$e?Ae($e,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:_e=>{const $e=f.find(tt=>tt.stage_id===_e.stage);return $e?Ae($e,"stage_name"):n("leads.unknown")}},{key:"created",header:n("common.created"),hideOnMobile:!0,render:_e=>i.jsx(Af,{date:_e.created_date,fallback:n("leads.notSet")})}],ue=[{label:n("common.view"),icon:i.jsx(ti,{className:"h-4 w-4"}),onClick:_e=>H(_e.lead_id)},{label:n("buttons.delete","Delete"),icon:i.jsx(sr,{className:"h-4 w-4"}),onClick:_e=>Pe(_e.lead_id),variant:"destructive",show:()=>!0}],we=[{label:n("buttons.delete","Delete"),icon:i.jsx(sr,{className:"h-4 w-4"}),onClick:_e=>{_e.forEach($e=>Pe($e.lead_id))},variant:"destructive"}];return i.jsx(vc,{data:G,columns:U,actions:ue,bulkActions:we,keyExtractor:_e=>_e.lead_id,onRowClick:_e=>H(_e.lead_id),enableBulkSelect:!0,emptyState:i.jsx(bo,{icon:i.jsx(Qa,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("leads.noLeadsYet"),description:n("leads.createFirst","Create a lead to get started"),action:i.jsxs(le,{onClick:()=>k(!0),children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})})})()]}),i.jsx(vl,{open:!!V,onOpenChange:()=>H(null),children:i.jsxs(Eo,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:qt()?"left":"right",children:[i.jsxs(hc,{children:[i.jsx(xl,{children:n("leads.leadDetails")}),i.jsx(of,{children:n("leads.leadDetailsDesc")})]}),i.jsx("div",{className:"mt-6",children:V&&i.jsx(X3e,{leadId:V})})]})})]})}const CP={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},iIe=()=>dT({queryKey:CP.users,queryFn:xn.getAll}),oIe=()=>dT({queryKey:CP.tasks,queryFn:Sd.getAll,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),lIe=e=>dT({queryKey:[...CP.stages,"type",e],queryFn:()=>Ca.getByType(e)});function Rp({title:e="Something went wrong",message:t,onRetry:r,className:n=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${n}`,children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:i.jsx($_,{className:"h-10 w-10 text-destructive"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:t}),r&&i.jsxs(le,{onClick:r,variant:"outline",className:"gap-2",children:[i.jsx(tf,{className:"h-4 w-4"}),"Try Again"]})]})}function cIe({task:e,assignedUser:t,stages:r=[],onDelete:n,onClick:a,onDragStart:s,onStageChange:o,isDragging:l=!1}){var p,v;const{t:c}=Rt(),u=Br(),d=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",f=y=>{switch(y){case"done":return i.jsx(Jl,{className:"h-3 w-3 text-green-500"});case"in_progress":return i.jsx(ef,{className:"h-3 w-3 text-blue-500"});case"todo":default:return i.jsx($_,{className:"h-3 w-3 text-gray-500"})}},h=y=>{switch(y){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},m=y=>{if(!y)return null;const b=new Date,j=(new Date(y).getTime()-b.getTime())/(1e3*60*60);return j<0?"overdue":j<24?"urgent":j<72?"soon":null},g=y=>{switch(m(y)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return i.jsxs(et,{className:ge("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",u?"w-full":"w-[280px] h-[180px]",h(e.task_status),g(e.due_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:y=>{s&&(y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",e.task_id.toString()),s(e.task_id))},children:[i.jsx($t,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),n&&i.jsxs(Ls,{children:[i.jsx(dx,{asChild:!0,onClick:y=>y.stopPropagation(),children:i.jsx(le,{variant:"ghost",size:"sm",className:ge("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",u?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(sr,{className:"h-4 w-4"})})}),i.jsxs(ss,{onClick:y=>y.stopPropagation(),children:[i.jsxs(is,{children:[i.jsx(ls,{children:"Delete Task"}),i.jsxs(cs,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),i.jsxs(os,{children:[i.jsx(ds,{children:"Cancel"}),i.jsx(us,{onClick:y=>{y.stopPropagation(),n(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),i.jsxs(ct,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Pn,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:t?Ae(t,"user_name"):c("common.all","Unassigned")})]})}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-1",children:[f(e.task_status),i.jsx("span",{className:"text-xs font-medium capitalize",children:((p=e.task_status)==null?void 0:p.replace("_"," "))||"Todo"})]})})]}),u&&o&&i.jsx("div",{className:"pt-1",children:i.jsxs(vt,{value:((v=e.stage_id)==null?void 0:v.toString())||"",onValueChange:y=>o(e.task_id,parseInt(y)),children:[i.jsx(mt,{className:"h-7 text-xs",children:i.jsx(xt,{placeholder:c("tasks.selectStage","Select stage")})}),i.jsx(pt,{children:r.map(y=>{var b;return i.jsx(Ce,{value:((b=y.stage_id)==null?void 0:b.toString())||"",children:Ae(y,"stage_name")},y.stage_id)})})]})}),e.due_date&&i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[i.jsx(Di,{className:"h-3 w-3 flex-shrink-0"}),i.jsxs("span",{children:["Due: ",d(e.due_date)]})]})]})]})}function uIe(){var z;$s();const{hasRole:e,user:t,loading:r}=hr(),{t:n}=Rt(),a=Br(),[s,o]=x.useState(null),[l,c]=x.useState("kanban");x.useState(!1);const u=W=>{switch(W==null?void 0:W.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};x.useState(""),x.useState(null),x.useState(""),x.useState(null);const[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,p]=x.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[v,y]=x.useState(""),[b,_]=x.useState("all"),[j,w]=x.useState("all"),[N,S]=x.useState({from:void 0,to:void 0}),{data:k=[],isLoading:C,error:T}=oIe(),{data:O=[],isLoading:A,error:V}=iIe(),{data:H=[],isLoading:M,error:F}=lIe("tasks"),L=x.useMemo(()=>k.filter(W=>{const ce=W.task_name.toLowerCase().includes(v.toLowerCase())||W.description&&W.description.toLowerCase().includes(v.toLowerCase()),E=b==="all"||W.task_status===b,Pe=j==="all"||W.assigned_to&&W.assigned_to.toString()===j;let Re=!0;if(N.from&&W.due_date){const pe=new Date(W.due_date),Me=new Date(N.from);Me.setHours(0,0,0,0);const be=new Date(pe);if(be.setHours(0,0,0,0),Re=be>=Me,Re&&N.to){const Ge=new Date(N.to);Ge.setHours(23,59,59,999),Re=be<=Ge}}else N.from&&!W.due_date&&(Re=!1);return ce&&E&&Pe&&Re}),[k,v,b,j,N]),B=H.sort((W,ce)=>{const E=W.stager_order_index??0,Pe=ce.stager_order_index??0;return E-Pe}).map(W=>({id:W.stage_id,name:Ae(W,"stage_name"),color:W.color,count:L.filter(ce=>ce.stage_id===W.stage_id).length})),D=C||A||M||r,q=(T==null?void 0:T.message)||(V==null?void 0:V.message)||(F==null?void 0:F.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:t?{id:t.id,email:t.email,role:t.role}:null,authLoading:r,hasUser:!!t,loading:D,data:{tasks:k.length,users:O.length,stages:H.length}});const Y=()=>{},P=async W=>{try{await Sd.delete(W),Y()}catch(ce){console.error("Failed to delete task:",ce)}},G=W=>{f(W)},K=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},Z=async W=>{if(!d)return;const ce=k.find(E=>E.task_id===d);if(ce&&ce.stage_id!==W)try{await Sd.update(d,{stage_id:W}),Y()}catch(E){console.error("Failed to update task stage:",E)}f(null)},se=async(W,ce)=>{const E=k.find(Pe=>Pe.task_id===W);if(E&&E.stage_id!==ce)try{await Sd.update(W,{stage_id:ce}),Y()}catch(Pe){console.error("Failed to update task stage:",Pe)}},oe=async()=>{if(g.task_name.trim())try{const W=lc({task_name:g.task_name.trim(),stage_id:g.stage_id?parseInt(g.stage_id):null,assigned_to:g.assigned_to?parseInt(g.assigned_to):null,task_status:g.task_status,due_date:g.due_date?new Date(g.due_date).toISOString():null,description:g.description.trim()||null,userid:(t==null?void 0:t.id)||null},{task_name:"task_name",description:"description"});await Sd.create(W),Y(),p({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),m(!1)}catch(W){console.error("Failed to create task:",W)}},xe=!0;return x.useEffect(()=>{if(H.length>0&&s===null){const W=H.sort((ce,E)=>(ce.stager_order_index??0)-(E.stager_order_index??0));W.length>0&&o(W[0].stage_id)}},[H,s]),D||r||!t?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:n("common.loading"),size:"2xl"})}):q?i.jsx(Rp,{message:q}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:qt()?"rtl":"ltr",children:[i.jsx(fx,{title:n("tasks.title"),description:n("tasks.description","Manage and track all your tasks"),icon:i.jsx(z0,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.tasks")}],actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(le,{variant:l==="kanban"?"default":"ghost",size:"sm",onClick:()=>c("kanban"),className:"h-8 w-8 p-0",children:i.jsx(B_,{className:"h-4 w-4"})}),i.jsx(le,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"h-8 w-8 p-0",children:i.jsx(xm,{className:"h-4 w-4"})})]}),i.jsxs(le,{onClick:()=>m(!0),children:[i.jsx(Wt,{className:"mr-2 h-4 w-4"})," ",n("tasks.addNewTask")]})]}),stats:[{label:n("tasks.totalTasks"),value:k.length,icon:i.jsx(z0,{className:"h-4 w-4 text-primary"})},{label:n("tasks.todo","To Do"),value:k.filter(W=>W.task_status==="todo").length,icon:i.jsx($_,{className:"h-4 w-4 text-gray-500"})},{label:n("tasks.inProgress","In Progress"),value:k.filter(W=>W.task_status==="in_progress").length,icon:i.jsx(ef,{className:"h-4 w-4 text-blue-500"})},{label:n("tasks.done","Done"),value:k.filter(W=>W.task_status==="done").length,icon:i.jsx(Jl,{className:"h-4 w-4 text-green-500"})}]}),i.jsx(yP,{onSearch:y,onFilterStatus:_,onFilterAssignee:w,onFilterDateRange:S,users:O,statuses:[{value:"todo",label:n("tasks.todo")},{value:"in_progress",label:n("tasks.inProgress")},{value:"done",label:n("tasks.done")}]}),l==="kanban"?i.jsxs(rj,{stages:B,currentStageId:s||((z=B[0])==null?void 0:z.id),onStageChange:o,children:[i.jsx(gn,{open:h,onOpenChange:m,children:i.jsxs(rn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(nn,{children:[i.jsx(an,{children:n("tasks.createTask")}),i.jsx(Da,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(Be,{value:g.task_name,onChange:W=>p(ce=>({...ce,task_name:W.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(On,{value:g.description,onChange:W=>p(ce=>({...ce,description:W.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(vt,{value:g.assigned_to,onValueChange:W=>p(ce=>({...ce,assigned_to:W})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:n("tasks.selectUser")})}),i.jsx(pt,{children:O.map(W=>{var ce;return i.jsx(Ce,{value:((ce=W.user_id)==null?void 0:ce.toString())||"",children:Ae(W,"user_name")},W.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(vt,{value:g.stage_id,onValueChange:W=>p(ce=>({...ce,stage_id:W})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:n("tasks.selectStage")})}),i.jsx(pt,{children:H.map(W=>{var ce;return i.jsx(Ce,{value:((ce=W.stage_id)==null?void 0:ce.toString())||"",children:Ae(W,"stage_name")},W.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(vt,{value:g.task_status,onValueChange:W=>p(ce=>({...ce,task_status:W})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:n("tasks.selectStatus")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"todo",children:n("tasks.todo")}),i.jsx(Ce,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(Ce,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(Be,{type:"date",value:g.due_date,onChange:W=>p(ce=>({...ce,due_date:W.target.value}))})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),i.jsxs(le,{onClick:oe,disabled:!g.task_name.trim(),children:[i.jsx(So,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:H.sort((W,ce)=>{const E=W.stager_order_index??0,Pe=ce.stager_order_index??0;return E-Pe}).filter(W=>{var ce;return a?W.stage_id===(s||((ce=B[0])==null?void 0:ce.id)):!0}).map((W,ce)=>{var Pe,Re;const E=L.filter(pe=>pe.stage_id===W.stage_id);return i.jsxs("div",{className:ge("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${ce*.1}s`},onDragOver:K,onDrop:()=>Z(W.stage_id),children:[i.jsx("div",{className:ge("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",W.color||"border-l-4 border-primary/50"),children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Go,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:Ae(W,"stage_name")})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:E.length})})]})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((Pe=H.sort((pe,Me)=>(pe.stager_order_index||0)-(Me.stager_order_index||0))[0])==null?void 0:Pe.stage_id)===W.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(et,{className:ge("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>m(!0),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Wt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("tasks.addNewTask")})]})})}),E.map(pe=>{const Me=O.find(be=>be.user_id===pe.assigned_to);return i.jsx("div",{draggable:xe,onDragStart:()=>G(pe.task_id),className:"cursor-move",children:i.jsx(cIe,{task:pe,assignedUser:Me||null,stages:H,onDelete:()=>P(pe.task_id),onClick:()=>{console.log("Task clicked:",pe.task_id)},onDragStart:G,onStageChange:se,isDragging:d===pe.task_id})},pe.task_id)}),((Re=H.sort((pe,Me)=>(pe.stager_order_index||0)-(Me.stager_order_index||0))[0])==null?void 0:Re.stage_id)!==W.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(le,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>m(!0),children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),n("tasks.addTask")]})})]})]},W.stage_id)})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:[n("tasks.allTasks")," (",k.length,")"]}),i.jsx(gn,{open:h,onOpenChange:m,children:i.jsxs(rn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(nn,{children:[i.jsx(an,{children:n("tasks.createTask")}),i.jsx(Da,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(Be,{value:g.task_name,onChange:W=>p(ce=>({...ce,task_name:W.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(On,{value:g.description,onChange:W=>p(ce=>({...ce,description:W.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(vt,{value:g.assigned_to,onValueChange:W=>p(ce=>({...ce,assigned_to:W})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:n("tasks.selectUser")})}),i.jsx(pt,{children:O.map(W=>{var ce;return i.jsx(Ce,{value:((ce=W.user_id)==null?void 0:ce.toString())||"",children:Ae(W,"user_name")},W.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(vt,{value:g.stage_id,onValueChange:W=>p(ce=>({...ce,stage_id:W})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:n("tasks.selectStage")})}),i.jsx(pt,{children:H.map(W=>{var ce;return i.jsx(Ce,{value:((ce=W.stage_id)==null?void 0:ce.toString())||"",children:Ae(W,"stage_name")},W.stage_id)})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(vt,{value:g.task_status,onValueChange:W=>p(ce=>({...ce,task_status:W})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:n("tasks.selectStatus")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"todo",children:n("tasks.todo")}),i.jsx(Ce,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(Ce,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(Be,{type:"date",value:g.due_date,onChange:W=>p(ce=>({...ce,due_date:W.target.value}))})]})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),i.jsxs(le,{onClick:oe,disabled:!g.task_name.trim(),children:[i.jsx(So,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})})]}),(()=>{const W=[{key:"task",header:n("tasks.taskName"),render:E=>i.jsx(xc,{title:E.task_name,subtitle:E.description})},{key:"assignee",header:n("tasks.assignedTo"),hideOnMobile:!0,render:E=>{const Pe=O.find(Re=>Re.user_id===E.assigned_to);return i.jsx(Xm,{name:Pe?Ae(Pe,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"status",header:n("tasks.status"),render:E=>i.jsx(Tq,{variant:u(E.task_status),children:E.task_status||n("leads.unknown")})},{key:"due_date",header:n("tasks.dueDate"),hideOnMobile:!0,render:E=>i.jsx(Af,{date:E.due_date,fallback:n("leads.notSet")})},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:E=>{const Pe=H.find(Re=>Re.stage_id===E.stage_id);return Pe?Ae(Pe,"stage_name"):n("leads.unknown")}}],ce=[{label:n("common.view"),icon:i.jsx(ti,{className:"h-4 w-4"}),onClick:E=>console.log("View task:",E.task_id)},{label:n("buttons.delete","Delete"),icon:i.jsx(sr,{className:"h-4 w-4"}),onClick:E=>P(E.task_id),variant:"destructive"}];return i.jsx(vc,{data:L,columns:W,actions:ce,keyExtractor:E=>E.task_id,emptyState:i.jsx(bo,{icon:i.jsx(z0,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("tasks.noTasksYet"),description:n("tasks.createFirst","Create a task to get started"),action:i.jsxs(le,{onClick:()=>m(!0),children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),n("tasks.addNewTask")]})})})})()]})]})}function ZI(e){const[t,r]=x.useState(e),n=x.useCallback((s,o)=>{r(l=>({...l,[s]:o}))},[]),a=x.useCallback(s=>{r(s??e)},[e]);return{values:t,setValues:r,setField:n,reset:a}}const UC=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},dIe=(e,t)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):t,fIe=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return i.jsx(YN,{className:"h-3 w-3 text-red-500"});case"high":return i.jsx(YN,{className:"h-3 w-3 text-orange-500"});default:return null}};function eL({ticket:e,assignedUser:t,userRole:r,onDelete:n,onClick:a,onDragStart:s,onDragEnd:o,isDragging:l=!1,stageName:c}){const{t:u}=Rt(),d=Br();return i.jsxs(et,{className:ge("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",l&&"opacity-50 rotate-2 scale-105"),onClick:a,draggable:!!s,onDragStart:f=>{s&&(f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("text/plain",e.ticket_id.toString()),s(e.ticket_id))},onDragEnd:()=>{o&&o()},children:[i.jsx($t,{className:"pb-3 px-4 pt-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),fIe(e.priority)]}),i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||u("tickets.noSubject","No Subject")}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),n&&r==="admin"&&i.jsxs(Ls,{children:[i.jsx(dx,{asChild:!0,onClick:f=>f.stopPropagation(),children:i.jsx(le,{variant:"ghost",size:"sm",className:ge("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(sr,{className:"h-4 w-4"})})}),i.jsxs(ss,{onClick:f=>f.stopPropagation(),children:[i.jsxs(is,{children:[i.jsx(ls,{children:u("tickets.deleteTicket","Delete Ticket")}),i.jsx(cs,{children:u("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),i.jsxs(os,{children:[i.jsx(ds,{children:u("buttons.cancel")}),i.jsx(us,{onClick:f=>{f.stopPropagation(),n(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(ct,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c&&i.jsx(ht,{variant:"outline",className:"text-xs",children:c}),i.jsx(ht,{variant:UC(e.priority),className:"text-xs",children:e.priority||u("leads.unknown")}),e.ticket_type&&i.jsx(ht,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pn,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground truncate",children:Ae(t,"user_name")})]}),i.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(Di,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:dIe(e.created_date,u("leads.unknown"))})]})})]})]})}function hIe(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,s]=x.useState([]),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState("all"),[g,p]=x.useState("all"),[v,y]=x.useState("all"),[b,_]=x.useState(!1),[j,w]=x.useState(null),[N,S]=x.useState(!1),[k,C]=x.useState(!1),T=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),O=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:A,setField:V,reset:H,setValues:M}=ZI(T),{values:F,setField:L,reset:B,setValues:D}=ZI(O),[q,Y]=x.useState(null),[P,G]=x.useState(null),[K,Z]=x.useState("kanban"),[se,oe]=x.useState(""),[xe,z]=x.useState(!1),{user:W,loading:ce}=hr(),{t:E}=Rt(),Pe=Br();x.useEffect(()=>{W&&!ce&&Re()},[W,ce]),x.useEffect(()=>{if(a.length>0&&P===null){const Ee=a.filter(Le=>Le.stage_type==="tickets");Ee.length>0&&G(Ee[0].stage_id)}},[a,P]);const Re=async()=>{try{l(!0),u(null);const[Ee,Le,Fe]=await Promise.all([c0.getAll().catch(st=>(console.error("[Tickets] Error fetching tickets:",st),[])),xn.getAll().catch(st=>(console.error("[Tickets] Error fetching users:",st),[])),Ca.getByType("tickets").catch(st=>(console.error("[Tickets] Error fetching stages:",st),[]))]);if(t(Ee),n(Le),s(Fe),Fe.length>0){const st=[...Fe].sort((ot,_t)=>(ot.stager_order_index||0)-(_t.stager_order_index||0));M(ot=>{var _t;return{...ot,stage_id:ot.stage_id||((_t=st[0].stage_id)==null?void 0:_t.toString())||""}})}}catch(Ee){console.error("[Tickets] Failed to load data:",Ee),u(Ee.message||E("common.error"))}finally{l(!1)}},pe=Ee=>Ee&&r.find(Le=>Le.user_id===Ee)||null,Me=async Ee=>{var Le,Fe;if(Ee.preventDefault(),!(xe||!W)){oe(""),z(!0);try{const st=A.assigned_to?parseInt(A.assigned_to):null,ot=r.find(_r=>_r.user_id===st),_t={subject:A.subject,description:A.description||null,priority:A.priority,ticket_type:A.ticket_type,stage_id:A.stage_id?parseInt(A.stage_id):null,created_by:((Le=W.profile)==null?void 0:Le.user_id)||null,assigned_to:st,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},Ut=await c0.create(_t);t([Ut,...e]);const ar=a.length>0&&((Fe=[...a].sort((_r,bn)=>(_r.stager_order_index||0)-(bn.stager_order_index||0))[0].stage_id)==null?void 0:Fe.toString())||"";H({...T,stage_id:ar}),_(!1)}catch(st){oe(st.message||E("tickets.createError"))}finally{z(!1)}}},be=Ee=>{var Le,Fe;w(Ee),C(!1),D({...O,subject:Ee.subject||"",description:Ee.description||"",priority:Ee.priority||"medium",ticket_type:Ee.ticket_type||"request",assigned_to:((Le=Ee.assigned_to)==null?void 0:Le.toString())||"unassigned",stage_id:((Fe=Ee.stage_id)==null?void 0:Fe.toString())||""}),S(!0)},Ge=async()=>{if(!(!j||xe)){oe(""),z(!0);try{const Ee=F.assigned_to&&F.assigned_to!=="unassigned"?parseInt(F.assigned_to):null,Le=r.find(Fe=>Fe.user_id===Ee);await c0.update(j.ticket_id,{subject:F.subject,description:F.description||null,priority:F.priority,ticket_type:F.ticket_type,assigned_to:Ee,stage_id:F.stage_id?parseInt(F.stage_id):null}),t(e.map(Fe=>Fe.ticket_id===j.ticket_id?{...Fe,subject:F.subject,description:F.description||null,priority:F.priority,ticket_type:F.ticket_type,assigned_to:Ee,stage_id:F.stage_id?parseInt(F.stage_id):null}:Fe)),w(Fe=>Fe?{...Fe,subject:F.subject,description:F.description||null,priority:F.priority,ticket_type:F.ticket_type,assigned_to:Ee,stage_id:F.stage_id?parseInt(F.stage_id):null}:null),C(!1)}catch(Ee){oe(Ee.message||E("tickets.updateError","Failed to update ticket"))}finally{z(!1)}}},Ze=async Ee=>{try{await c0.delete(Ee),t(e.filter(Le=>Le.ticket_id!==Ee))}catch(Le){console.error("[Tickets] Failed to delete ticket:",Le)}},ae=Ee=>{Y(Ee)},he=()=>{Y(null)},U=Ee=>{Ee.preventDefault(),Ee.dataTransfer.dropEffect="move"},ue=async Ee=>{if(!q)return;const Le=e.find(Fe=>Fe.ticket_id===q);if(Le&&Le.stage_id!==Ee){t(Fe=>Fe.map(st=>st.ticket_id===q?{...st,stage_id:Ee}:st));try{await c0.moveToStage(q,Ee)}catch(Fe){console.error("Failed to update ticket stage:",Fe),t(st=>st.map(ot=>ot.ticket_id===q?{...ot,stage_id:Le.stage_id}:ot))}}Y(null)},we=x.useMemo(()=>e.filter(Ee=>{var _t,Ut,ar;const Le=((_t=Ee.subject)==null?void 0:_t.toLowerCase().includes(d.toLowerCase()))||((Ut=Ee.description)==null?void 0:Ut.toLowerCase().includes(d.toLowerCase())),Fe=h==="all"||Ee.priority===h,st=g==="all"||Ee.ticket_type===g,ot=v==="all"||((ar=Ee.stage_id)==null?void 0:ar.toString())===v;return Le&&Fe&&st&&ot}),[e,d,h,g,v]),_e=x.useMemo(()=>a.filter(Ee=>Ee.stage_type==="tickets").sort((Ee,Le)=>{const Fe=Ee.stager_order_index??0,st=Le.stager_order_index??0;return Fe-st}),[a]),$e=x.useMemo(()=>_e.map(Ee=>({id:Ee.stage_id,name:Ae(Ee,"stage_name"),color:Ee.color,count:we.filter(Le=>Le.stage_id===Ee.stage_id).length})),[_e,we]),tt=()=>{var Ee;return _e.length===0?i.jsx(bo,{icon:i.jsx(th,{className:"h-12 w-12 text-muted-foreground/50"}),title:E("tickets.noStages","No ticket stages found"),description:E("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):i.jsxs(rj,{stages:$e,currentStageId:P||((Ee=$e[0])==null?void 0:Ee.id),onStageChange:G,children:[i.jsx("div",{className:ge("flex gap-4 pb-4 overflow-x-auto",Pe?"hidden":"flex"),children:_e.map(Le=>{const Fe=we.filter(_t=>_t.stage_id===Le.stage_id),st=Le.color||"border-l-4 border-gray-400",ot=Ae(Le,"stage_name");return i.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-full bg-background/50 border border-muted/50 rounded-lg",onDragOver:U,onDrop:()=>ue(Le.stage_id),children:[i.jsx("div",{className:ge("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",st),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold text-sm",children:Ae(Le,"stage_name")}),i.jsx(ht,{variant:"secondary",className:"text-xs",children:Fe.length})]}),i.jsx(le,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{M(_t=>{var Ut;return{..._t,stage_id:((Ut=Le.stage_id)==null?void 0:Ut.toString())||""}}),_(!0)},children:i.jsx(Wt,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:i.jsxs("div",{className:"space-y-3",children:[Fe.map(_t=>i.jsx(eL,{ticket:_t,assignedUser:pe(_t.assigned_to),userRole:W==null?void 0:W.role,onDelete:Ze,onClick:()=>be(_t),onDragStart:ae,onDragEnd:he,isDragging:q===_t.ticket_id,stageName:ot},_t.ticket_id)),Fe.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:E("tickets.noTicketsInStage","No tickets in this stage")})]})})]},Le.stage_id)})}),Pe&&P&&i.jsxs("div",{className:"space-y-3 p-2",children:[we.filter(Le=>Le.stage_id===P).map(Le=>{var Fe;return i.jsx(eL,{ticket:Le,assignedUser:pe(Le.assigned_to),userRole:W==null?void 0:W.role,onDelete:Ze,onClick:()=>be(Le),onDragStart:ae,onDragEnd:he,isDragging:q===Le.ticket_id,stageName:((Fe=$e.find(st=>st.id===P))==null?void 0:Fe.name)||null},Le.ticket_id)}),we.filter(Le=>Le.stage_id===P).length===0&&i.jsx(bo,{icon:i.jsx(th,{className:"h-12 w-12 text-muted-foreground/50"}),title:E("tickets.noTicketsInStage","No tickets in this stage"),description:E("tickets.createFirst","Create a ticket to get started"),action:i.jsxs(le,{onClick:()=>{M(Le=>({...Le,stage_id:(P==null?void 0:P.toString())||""})),_(!0)},children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),E("tickets.newTicket")]})})]})]})},it=()=>{const Ee=[{key:"ticket",header:E("tickets.subject","Subject"),render:Fe=>i.jsx(xc,{title:Fe.subject||E("tickets.noSubject","No Subject"),subtitle:Fe.description})},{key:"priority",header:E("tickets.priority","Priority"),render:Fe=>i.jsx(Tq,{variant:UC(Fe.priority),children:Fe.priority||E("leads.unknown")})},{key:"type",header:E("tickets.ticketType","Type"),hideOnMobile:!0,render:Fe=>i.jsx(ht,{variant:"outline",className:"text-xs",children:Fe.ticket_type||E("leads.unknown")})},{key:"assignee",header:E("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:Fe=>{const st=pe(Fe.assigned_to);return i.jsx(Xm,{name:st?Ae(st,"user_name"):null,fallback:E("tickets.unassigned","Unassigned")})}},{key:"stage",header:E("tickets.stage","Stage"),hideOnMobile:!0,render:Fe=>{const st=_e.find(ot=>ot.stage_id===Fe.stage_id);return st?Ae(st,"stage_name"):E("tickets.noStage","No stage")}},{key:"created",header:E("tickets.createdDate","Created"),hideOnMobile:!0,render:Fe=>i.jsx(Af,{date:Fe.created_date,fallback:E("leads.notSet","Not set")})}],Le=[{label:E("common.view","View"),icon:i.jsx(ti,{className:"h-4 w-4"}),onClick:be},{label:E("buttons.delete","Delete"),icon:i.jsx(sr,{className:"h-4 w-4"}),onClick:Fe=>Ze(Fe.ticket_id),variant:"destructive",show:()=>!0}];return i.jsx(vc,{data:we,columns:Ee,actions:Le,keyExtractor:Fe=>Fe.ticket_id,onRowClick:be,emptyState:i.jsx(bo,{icon:i.jsx(th,{className:"h-12 w-12 text-muted-foreground/50"}),title:E("tickets.noTicketsInPage"),description:E("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:i.jsxs(le,{onClick:()=>_(!0),children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),E("tickets.newTicket","New Ticket")]})})})};return o||ce?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:E("common.loading"),size:"2xl"})}):W?c?i.jsx(Rp,{title:E("tickets.errorTitle","Error loading tickets"),message:c,onRetry:Re}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:qt()?"rtl":"ltr",children:[i.jsx(fx,{title:E("tickets.title"),description:E("tickets.description","Manage and track support tickets"),icon:i.jsx(th,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(le,{variant:K==="kanban"?"default":"ghost",size:"sm",onClick:()=>Z("kanban"),className:"h-8 w-8 p-0",children:i.jsx(B_,{className:"h-4 w-4"})}),i.jsx(le,{variant:K==="list"?"default":"ghost",size:"sm",onClick:()=>Z("list"),className:"h-8 w-8 p-0",children:i.jsx(xm,{className:"h-4 w-4"})})]}),i.jsxs(le,{onClick:()=>_(!0),children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),E("tickets.newTicket")]})]}),stats:[{label:E("tickets.total","Total Tickets"),value:e.length,icon:i.jsx(th,{className:"h-4 w-4 text-primary"})},..._e.map(Ee=>({label:Ae(Ee,"stage_name"),value:e.filter(Le=>Le.stage_id===Ee.stage_id).length,icon:i.jsx(Go,{className:"h-4 w-4 text-muted-foreground"})}))]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Be,{placeholder:E("tickets.searchPlaceholder","Search tickets..."),value:d,onChange:Ee=>f(Ee.target.value),className:"pl-10 h-9"})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs(vt,{value:v,onValueChange:y,children:[i.jsx(mt,{className:"w-[130px] h-9",children:i.jsx(xt,{placeholder:E("tickets.allStages","All Stages")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:E("tickets.allStages","All Stages")}),_e.map(Ee=>{var Le;return i.jsx(Ce,{value:((Le=Ee.stage_id)==null?void 0:Le.toString())||"",children:Ae(Ee,"stage_name")},Ee.stage_id)})]})]}),i.jsxs(vt,{value:g,onValueChange:p,children:[i.jsx(mt,{className:"w-[130px] h-9",children:i.jsx(xt,{placeholder:E("tickets.allTypes")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:E("tickets.allTypes","All Types")}),i.jsx(Ce,{value:"issue",children:E("tickets.typeIssue","Issue")}),i.jsx(Ce,{value:"request",children:E("tickets.typeRequest","Request")}),i.jsx(Ce,{value:"follow_up",children:E("tickets.typeFollowUp","Follow Up")}),i.jsx(Ce,{value:"internal_task",children:E("tickets.typeInternalTask","Internal Task")})]})]}),i.jsxs(vt,{value:h,onValueChange:m,children:[i.jsx(mt,{className:"w-[130px] h-9",children:i.jsx(xt,{placeholder:E("tickets.allPriorities")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:E("tickets.allPriorities","All Priorities")}),i.jsx(Ce,{value:"low",children:E("tickets.priorityLow","Low")}),i.jsx(Ce,{value:"medium",children:E("tickets.priorityMedium","Medium")}),i.jsx(Ce,{value:"high",children:E("tickets.priorityHigh","High")}),i.jsx(Ce,{value:"urgent",children:E("tickets.priorityUrgent","Urgent")})]})]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:K==="kanban"?tt():it()}),i.jsx(gn,{open:b,onOpenChange:_,children:i.jsxs(rn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsxs(nn,{children:[i.jsx(an,{children:E("tickets.createNewTicket")}),i.jsx(Da,{children:E("tickets.createTicketDesc")})]}),i.jsxs("form",{onSubmit:Me,className:"space-y-4",children:[se&&i.jsx(wm,{variant:"destructive",children:i.jsx(jm,{children:se})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"subject",children:[E("tickets.subject")," *"]}),i.jsx(Be,{id:"subject",value:A.subject,onChange:Ee=>V("subject",Ee.target.value),placeholder:E("tickets.subjectPlaceholder"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"description",children:E("tickets.description")}),i.jsx(On,{id:"description",value:A.description,onChange:Ee=>V("description",Ee.target.value),placeholder:E("tickets.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"stage",children:E("tickets.stage","Stage")}),i.jsxs(vt,{value:A.stage_id,onValueChange:Ee=>V("stage_id",Ee),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:E("tickets.selectStage","Select stage")})}),i.jsx(pt,{children:_e.map(Ee=>{var Le;return i.jsx(Ce,{value:((Le=Ee.stage_id)==null?void 0:Le.toString())||"",children:Ae(Ee,"stage_name")},Ee.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"priority",children:[E("tickets.priority")," *"]}),i.jsxs(vt,{value:A.priority,onValueChange:Ee=>V("priority",Ee),children:[i.jsx(mt,{children:i.jsx(xt,{})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"low",children:E("tickets.priorityLow")}),i.jsx(Ce,{value:"medium",children:E("tickets.priorityMedium")}),i.jsx(Ce,{value:"high",children:E("tickets.priorityHigh")}),i.jsx(Ce,{value:"urgent",children:E("tickets.priorityUrgent")})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"ticket_type",children:[E("tickets.ticketType")," *"]}),i.jsxs(vt,{value:A.ticket_type,onValueChange:Ee=>V("ticket_type",Ee),children:[i.jsx(mt,{children:i.jsx(xt,{})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"request",children:E("tickets.typeRequest")}),i.jsx(Ce,{value:"follow_up",children:E("tickets.typeFollowUp")}),i.jsx(Ce,{value:"issue",children:E("tickets.typeIssue")}),i.jsx(Ce,{value:"internal_task",children:E("tickets.typeInternalTask")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"assigned_to",children:E("tickets.assignTo")}),i.jsxs(vt,{value:A.assigned_to,onValueChange:Ee=>V("assigned_to",Ee),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:E("tickets.selectAssignee")})}),i.jsx(pt,{children:r.map(Ee=>{var Le;return i.jsx(Ce,{value:((Le=Ee.user_id)==null?void 0:Le.toString())||"",children:Ae(Ee,"user_name")},Ee.user_id)})})]})]})]}),i.jsxs(Oa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(le,{type:"button",variant:"outline",onClick:()=>_(!1),className:"w-full sm:w-auto",children:E("buttons.cancel")}),i.jsx(le,{type:"submit",disabled:xe||!A.subject.trim(),className:"w-full sm:w-auto",children:E(xe?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),i.jsx(gn,{open:N,onOpenChange:S,children:i.jsxs(rn,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[i.jsxs(nn,{children:[i.jsx(an,{className:"text-lg sm:text-xl leading-tight",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[i.jsx("span",{className:"break-words",children:j==null?void 0:j.subject}),i.jsx(ht,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(j==null?void 0:j.status)||E("leads.unknown")})]})}),i.jsxs(Da,{className:"text-sm",children:[E("tickets.ticketId"),": #",j==null?void 0:j.ticket_id]})]}),j&&i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[se&&i.jsx(wm,{variant:"destructive",children:i.jsx(jm,{children:se})}),k?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"edit-subject",children:[E("tickets.subject")," *"]}),i.jsx(Be,{id:"edit-subject",value:F.subject,onChange:Ee=>L("subject",Ee.target.value),placeholder:E("tickets.subjectPlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"edit-description",children:E("tickets.description")}),i.jsx(On,{id:"edit-description",value:F.description,onChange:Ee=>L("description",Ee.target.value),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:E("tickets.stage","Stage")}),i.jsxs(vt,{value:F.stage_id,onValueChange:Ee=>L("stage_id",Ee),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:E("tickets.selectStage","Select stage")})}),i.jsx(pt,{children:_e.map(Ee=>{var Le;return i.jsx(Ce,{value:((Le=Ee.stage_id)==null?void 0:Le.toString())||"",children:Ae(Ee,"stage_name")},Ee.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:E("tickets.priority")}),i.jsxs(vt,{value:F.priority,onValueChange:Ee=>L("priority",Ee),children:[i.jsx(mt,{children:i.jsx(xt,{})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"low",children:E("tickets.priorityLow")}),i.jsx(Ce,{value:"medium",children:E("tickets.priorityMedium")}),i.jsx(Ce,{value:"high",children:E("tickets.priorityHigh")}),i.jsx(Ce,{value:"urgent",children:E("tickets.priorityUrgent")})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:E("tickets.ticketType")}),i.jsxs(vt,{value:F.ticket_type,onValueChange:Ee=>L("ticket_type",Ee),children:[i.jsx(mt,{children:i.jsx(xt,{})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"request",children:E("tickets.typeRequest")}),i.jsx(Ce,{value:"follow_up",children:E("tickets.typeFollowUp")}),i.jsx(Ce,{value:"issue",children:E("tickets.typeIssue")}),i.jsx(Ce,{value:"internal_task",children:E("tickets.typeInternalTask")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:E("tickets.assignTo")}),i.jsxs(vt,{value:F.assigned_to,onValueChange:Ee=>L("assigned_to",Ee),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:E("tickets.selectAssignee")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"unassigned",children:E("tickets.unassigned","Unassigned")}),r.map(Ee=>{var Le;return i.jsx(Ce,{value:((Le=Ee.user_id)==null?void 0:Le.toString())||"",children:Ae(Ee,"user_name")},Ee.user_id)})]})]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:E("tickets.priority")}),i.jsx("div",{className:"mt-1",children:i.jsx(ht,{variant:UC(j.priority),className:"text-xs",children:j.priority||E("leads.unknown")})})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:E("tickets.ticketType")}),i.jsx("div",{className:"mt-1",children:i.jsx(ht,{variant:"outline",className:"text-xs",children:j.ticket_type||E("leads.unknown")})})]})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:E("tickets.stage","Stage")}),i.jsx("div",{className:"mt-1 text-sm",children:_e.find(Ee=>Ee.stage_id===j.stage_id)?Ae(_e.find(Ee=>Ee.stage_id===j.stage_id),"stage_name"):E("tickets.noStage","No stage")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:E("tickets.assignedTo")}),i.jsx("div",{className:"mt-1 text-sm break-words",children:pe(j.assigned_to)?Ae(pe(j.assigned_to),"user_name"):E("tickets.unassigned","Unassigned")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:E("tickets.createdDate")}),i.jsx("div",{className:"mt-1 text-sm",children:j.created_date?new Date(j.created_date).toLocaleString():"N/A"})]})]}),j.description&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:E("tickets.description")}),i.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:j.description})]})]}),i.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:E("tickets.createdBy")}),i.jsx("div",{className:"mt-1 text-sm break-words",children:pe(j.created_by)?Ae(pe(j.created_by),"user_name"):E("leads.unknown")})]}),j.resolved_date&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:E("tickets.resolvedDate")}),i.jsx("div",{className:"mt-1 text-sm",children:new Date(j.resolved_date).toLocaleString()})]}),j.closed_at&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:E("tickets.closedDate")}),i.jsx("div",{className:"mt-1 text-sm",children:new Date(j.closed_at).toLocaleString()})]})]})]}),i.jsx(Oa,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:k?i.jsxs(i.Fragment,{children:[i.jsx(le,{variant:"outline",onClick:()=>C(!1),className:"w-full sm:w-auto",children:E("buttons.cancel")}),i.jsxs(le,{onClick:Ge,disabled:xe||!F.subject.trim(),className:"w-full sm:w-auto",children:[i.jsx(So,{className:"h-4 w-4 mr-2"}),xe?E("buttons.saving","Saving..."):E("buttons.save","Save")]})]}):i.jsxs(i.Fragment,{children:[i.jsx(le,{variant:"outline",onClick:()=>S(!1),className:"w-full sm:w-auto",children:E("buttons.close","Close")}),i.jsxs(le,{onClick:()=>C(!0),className:"w-full sm:w-auto",children:[i.jsx(Ri,{className:"h-4 w-4 mr-2"}),E("buttons.edit","Edit")]})]})})]})})]}):null}var EP="Progress",TP=100,[mIe,zHe]=gs(EP),[pIe,gIe]=mIe(EP),Aq=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=vIe,...o}=e;(a||a===0)&&!tL(a)&&console.error(xIe(`${a}`,"Progress"));const l=tL(a)?a:TP;n!==null&&!rL(n,l)&&console.error(yIe(`${n}`,"Progress"));const c=rL(n,l)?n:null,u=Yb(c)?s(c,l):void 0;return i.jsx(pIe,{scope:r,value:c,max:l,children:i.jsx(ft.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Yb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Dq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Aq.displayName=EP;var Pq="ProgressIndicator",Oq=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=gIe(Pq,r);return i.jsx(ft.div,{"data-state":Dq(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});Oq.displayName=Pq;function vIe(e,t){return`${Math.round(e/t*100)}%`}function Dq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Yb(e){return typeof e=="number"}function tL(e){return Yb(e)&&!isNaN(e)&&e>0}function rL(e,t){return Yb(e)&&!isNaN(e)&&e<=t&&e>=0}function xIe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${TP}\`.`}function yIe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${TP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Rq=Aq,bIe=Oq;const mf=x.forwardRef(({className:e,value:t,...r},n)=>i.jsx(Rq,{ref:n,className:ge("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(bIe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));mf.displayName=Rq.displayName;function Mq({items:e,stages:t,stageType:r,renderItem:n,onItemUpdate:a,onItemDelete:s,onItemCreate:o,onStageCreate:l,onStageUpdate:c,onStageDelete:u,canManageStages:d=!0,canManageItems:f=!0,showAddButton:h=!0,addButtonText:m="Add New Item",addButtonDescription:g="Add a new item to this stage",className:p="",mobileSelectedStageId:v,onMobileStageChange:y}){var Re;const{t:b}=Rt(),_=Br(),[j,w]=x.useState(null),[N,S]=x.useState(!1),[k,C]=x.useState(""),[T,O]=x.useState(null),[A,V]=x.useState(""),[H,M]=x.useState(null),[F,L]=x.useState(!1),[B,D]=x.useState(""),[q,Y]=x.useState({title:"",description:"",progress:0}),P=t.filter(pe=>!r||pe.stage_type===r).sort((pe,Me)=>{const be=pe.order_index??pe.stager_order_index??0,Ge=Me.order_index??Me.stager_order_index??0;return qt()?Ge-be:be-Ge}),G=P.map(pe=>({id:pe.id,name:Ae(pe,"name"),color:pe.color,count:e.filter(Me=>Me.stage===pe.id).length})),K=pe=>{w(pe)},Z=pe=>{pe.preventDefault(),pe.dataTransfer.dropEffect="move"},se=async pe=>{if(!j||!a)return;const Me=e.find(be=>be.id===j);if(Me&&Me.stage!==pe)try{await a(j,{stage:pe})}catch(be){console.error("Failed to update item stage:",be)}w(null)},oe=async(pe,Me)=>{if(!a)return;const be=e.find(Ge=>Ge.id===pe);if(be&&be.stage!==Me)try{await a(pe,{stage:Me})}catch(Ge){console.error("Failed to update item stage:",Ge)}},xe=async()=>{if(!(!k.trim()||!l))try{const pe=P.length>0?Math.max(...P.map(Me=>Me.order_index??Me.stager_order_index??0)):-1;await l({name:k.trim(),name_ar:null,order_index:pe+1,stager_order_index:pe+1,color:"border-l-4 border-gray-400",color_var:"--gray-400",stage_type:r}),C(""),S(!1)}catch(pe){console.error("Failed to create stage:",pe)}},z=async pe=>{if(!(!A.trim()||!c))try{await c(pe,{name:A.trim()}),O(null),V("")}catch(Me){console.error("Failed to update stage:",Me)}},W=async pe=>{if(e.filter(be=>be.stage===pe).length>0){M(pe);return}if(u)try{await u(pe)}catch(be){console.error("Failed to delete stage:",be)}},ce=async()=>{if(!(!H||!u))try{await u(H),M(null)}catch(pe){console.error("Failed to delete stage:",pe)}},E=pe=>{D(pe),L(!0)},Pe=async()=>{if(!(!q.title.trim()||!o))try{await o(B,{title:q.title.trim(),description:q.description.trim()||null,progress:q.progress}),Y({title:"",description:"",progress:0}),L(!1)}catch(pe){console.error("Failed to create item:",pe)}};return i.jsxs(i.Fragment,{children:[i.jsx(gn,{open:F,onOpenChange:L,children:i.jsxs(rn,{className:"sm:max-w-[500px]",children:[i.jsxs(nn,{children:[i.jsx(an,{children:m}),i.jsx(Da,{children:g})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Title *"}),i.jsx(Be,{value:q.title,onChange:pe=>Y(Me=>({...Me,title:pe.target.value})),placeholder:"Enter title"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Description"}),i.jsx(On,{value:q.description,onChange:pe=>Y(Me=>({...Me,description:pe.target.value})),placeholder:"Enter description",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Initial Progress"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"range",min:"0",max:"100",value:q.progress,onChange:pe=>Y(Me=>({...Me,progress:parseInt(pe.target.value)})),className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"0%"}),i.jsxs("span",{children:[q.progress,"%"]}),i.jsx("span",{children:"100%"})]})]})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>L(!1),children:b("buttons.cancel")}),i.jsxs(le,{onClick:Pe,disabled:!q.title.trim(),children:[i.jsx(So,{className:"h-4 w-4 mr-2"}),"Create"]})]})]})}),i.jsx(rj,{stages:G,currentStageId:v||((Re=G[0])==null?void 0:Re.id),onStageChange:y||(()=>{}),children:i.jsx("div",{className:ge("flex gap-6 pt-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",p),children:P.sort((pe,Me)=>{const be=typeof pe.id=="number"?pe.id:parseInt(pe.id),Ge=typeof Me.id=="number"?Me.id:parseInt(Me.id);return be-Ge}).filter(pe=>{var Me;return _?pe.id===(v||((Me=G[0])==null?void 0:Me.id)):!0}).map((pe,Me)=>{var Ge,Ze;const be=e.filter(ae=>ae.stage===pe.id);return i.jsxs("div",{className:ge("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",_?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${Me*.1}s`},onDragOver:Z,onDrop:()=>se(pe.id),children:[!_&&i.jsx("div",{className:ge("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",pe.color||"border-l-4 border-primary/50"),children:i.jsx("div",{className:"flex items-center justify-between mb-2",children:T===pe.id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(Be,{value:A,onChange:ae=>V(ae.target.value),onKeyDown:ae=>{ae.key==="Enter"&&z(pe.id),ae.key==="Escape"&&(O(null),V(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>z(pe.id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[d&&i.jsx(Go,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:Ae(pe,"name")})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:be.length}),d&&i.jsxs(i.Fragment,{children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>{O(pe.id),V(Ae(pe,"name"))},className:"h-6 w-6 p-0",title:b("buttons.edit"),children:i.jsx(Ri,{className:"h-3 w-3"})}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>W(pe.id),className:"h-6 w-6 p-0 text-destructive",title:b("buttons.delete"),children:i.jsx(sr,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[f&&h&&((Ge=P.sort((ae,he)=>{const U=ae.order_index??ae.stager_order_index??0,ue=he.order_index??he.stager_order_index??0;return U-ue})[0])==null?void 0:Ge.id)===pe.id&&i.jsx("div",{className:"mb-4",children:i.jsx(et,{className:ge("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",_?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>E(pe.id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Wt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:m})]})})}),be.map(ae=>i.jsx("div",{children:n(ae,{onDelete:f&&s?()=>s(ae.id):void 0,onDragStart:f?K:void 0,onStageChange:_?oe:void 0,isDragging:j===ae.id,stages:P})},ae.id)),f&&h&&((Ze=P.sort((ae,he)=>{const U=ae.order_index??ae.stager_order_index??0,ue=he.order_index??he.stager_order_index??0;return U-ue})[0])==null?void 0:Ze.id)!==pe.id&&i.jsx("div",{className:"mt-2",children:i.jsxs(le,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>E(pe.id),children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),m]})})]})]},pe.id)})})}),d&&!_&&i.jsx("div",{className:"flex-shrink-0 w-[280px] sm:w-[300px]",children:N?i.jsxs("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 shadow-soft",children:[i.jsx(Be,{value:k,onChange:pe=>C(pe.target.value),onKeyDown:pe=>{pe.key==="Enter"&&xe(),pe.key==="Escape"&&(S(!1),C(""))},placeholder:"Stage name...",className:"mb-2",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(le,{onClick:xe,size:"sm",className:"flex-1",children:"Add"}),i.jsx(le,{onClick:()=>{S(!1),C("")},size:"sm",variant:"ghost",children:i.jsx(Mi,{className:"h-4 w-4"})})]})]}):i.jsxs(le,{variant:"outline",size:"lg",className:"w-full h-24 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>S(!0),children:[i.jsx(Wt,{className:"h-5 w-5 mr-2"}),"Add Stage"]})}),i.jsx(Ls,{open:!!H,onOpenChange:()=>M(null),children:i.jsxs(ss,{children:[i.jsxs(is,{children:[i.jsx(ls,{children:"Delete Stage"}),i.jsxs(cs,{children:["This stage contains ",e.filter(pe=>pe.stage===H).length," item(s). Deleting this stage will also remove all items in it. This action cannot be undone."]})]}),i.jsxs(os,{children:[i.jsx(ds,{children:"Cancel"}),i.jsx(us,{onClick:ce,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})}function _Ie({projectId:e,onClose:t}){const{id:r}=Qte(),n=$s(),{user:a}=hr(),[s,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,v]=x.useState(null),[y,b]=x.useState(null),[_,j]=x.useState([]),[w,N]=x.useState([]),S=e||(r?parseInt(r):null),k=!!e;x.useEffect(()=>{(async()=>{!S||!a||h(!0)})()},[S,a]),x.useEffect(()=>{S&&f&&C()},[S,f]);const C=async()=>{if(S)try{d(!0);const M=await Eh.getById(S);if(g(M),M){if(M.created_by)try{const F=await xn.getByAuthId(M.created_by.toString());v(F)}catch(F){console.error("Failed to fetch client:",F)}if(M.created_by)try{const F=await xn.getByAuthId(M.created_by.toString());b(F)}catch(F){console.error("Failed to fetch manager:",F)}try{const L=(await D3e.getProjectUsers(S)).map(D=>D.userid),B=await Promise.all(L.map(D=>D?xn.getByAuthId(D.toString()).catch(()=>null):null));j(B.filter(D=>D!==null))}catch(F){console.error("Failed to fetch project users:",F)}try{const B=(await Ca.getAll()).filter(Y=>Y.project_id===S).map(Y=>Y.stage_id),q=(await Promise.all(B.map(Y=>Sd.getByStage(Y)))).flat();N(q)}catch(F){console.error("Failed to fetch tasks:",F)}}}catch(M){console.error("Failed to load project data:",M)}finally{d(!1)}};x.useEffect(()=>{S&&m&&w.length>0&&T()},[S,m,w]);const T=async()=>{if(!(!S||!m||w.length===0))try{const M=[];for(const F of w){const L=await BC.getByTask(F.task_id);M.push(...L)}o(M)}catch(M){console.error("Failed to load comments:",M)}},O=async M=>{if(!(!l.trim()||!a))try{const F=await BC.create({task_id:M,userid:a.id.toString(),message:l.trim()});o(L=>[...L,F]),c("")}catch(F){console.error("Failed to add comment:",F)}},A=()=>{t?t():n("/projects")},V=({children:M})=>k?i.jsx("div",{className:"h-full overflow-y-auto p-1",children:M}):i.jsx(dk,{children:M});if(f===!1)return i.jsx(V,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),i.jsx(le,{onClick:A,children:"Back to Projects"})]})})});if(f===null||!m||!p||!y)return u?i.jsx(V,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):i.jsx(V,{children:i.jsx("div",{children:"Project not found"})});const H={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return i.jsx(V,{children:i.jsxs("div",{className:"space-y-6 pb-10",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(le,{variant:"ghost",size:"icon",onClick:A,children:i.jsx(bB,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:Ae(m,"project_name")}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:Ae(p,"company_name")})]})]}),i.jsx(le,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),i.jsx(et,{children:i.jsxs(ct,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),i.jsxs("span",{className:"text-sm font-bold",children:[m.progress||0,"%"]})]}),i.jsx(mf,{value:m.progress||0,className:"h-3"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:i.jsxs(Ao,{defaultValue:"tasks",children:[i.jsxs(Ii,{className:"w-full sm:w-auto",children:[i.jsx(kr,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),i.jsx(kr,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),i.jsx(kr,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),i.jsxs(Vr,{value:"tasks",className:"space-y-3",children:[w.map(M=>{var L;const F=_.find(B=>B.user_id===M.assigned_to);return i.jsx(et,{children:i.jsx(ct,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:Ae(M,"task_name")}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Ae(M,"description")}),i.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[i.jsx(ht,{className:ge("text-xs",H[M.task_status]),children:((L=M.task_status)==null?void 0:L.replace("_"," "))||"todo"}),M.due_date&&i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Di,{className:"h-3 w-3"}),"Due: ",new Date(M.due_date).toLocaleDateString()]})]})]}),F&&i.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[i.jsx("div",{className:"text-2xl mb-1",children:""}),Ae(F,"user_name")]})]})})},M.task_id)}),i.jsx(le,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),i.jsx(Vr,{value:"images",children:i.jsx(et,{children:i.jsxs(ct,{className:"pt-6",children:[i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(M=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},M))}),i.jsxs(le,{variant:"outline",className:"w-full mt-4",children:[i.jsx(Ag,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),i.jsxs(Vr,{value:"comments",className:"space-y-3",children:[s.map(M=>{const F=[..._,p,y].find(L=>{var B,D,q,Y;return L&&(((B=L.userid)==null?void 0:B.toString())===((D=M.userid)==null?void 0:D.toString())||((q=L.user_id)==null?void 0:q.toString())===((Y=M.userid)==null?void 0:Y.toString()))});return i.jsx(et,{children:i.jsx(ct,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"text-2xl",children:(F==null?void 0:F.avatar)||""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:F?Ae(F,"user_name"):"Unknown"}),i.jsx("p",{className:"text-sm mt-1",children:M.message}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(M.created_date||"").toLocaleString()})]})]})})},M.comment_id)}),w.length>0&&i.jsx(et,{children:i.jsx(ct,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Be,{placeholder:"Add a comment...",value:l,onChange:M=>c(M.target.value),onKeyDown:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),O(w[0].task_id))}}),i.jsx(le,{size:"icon",onClick:()=>O(w[0].task_id),children:i.jsx(Lv,{className:"h-4 w-4"})})]})})})]})]})}),i.jsxs("div",{className:"space-y-4 lg:order-last",children:[i.jsxs(et,{children:[i.jsx($t,{children:i.jsx(Jt,{className:"text-base sm:text-lg",children:"Project Summary"})}),i.jsxs(ct,{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:p.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold",children:Ae(p,"user_name")}),i.jsx("div",{className:"text-xs text-muted-foreground",children:Ae(p,"company_name")})]})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:y.avatar}),i.jsx("div",{className:"text-sm",children:Ae(y,"user_name")})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),i.jsx("div",{className:"space-y-2",children:_.map(M=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:M.avatar||""}),i.jsx("div",{className:"text-sm",children:Ae(M,"user_name")})]},M.user_id))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",m.created_date?new Date(m.created_date).toLocaleDateString():"Not set",m.end_date&&i.jsxs("div",{children:["End: ",new Date(m.end_date).toLocaleDateString()]})]})]})]})]}),i.jsxs(et,{children:[i.jsx($t,{children:i.jsx(Jt,{className:"text-base sm:text-lg",children:"Recent Activity"})}),i.jsx(ct,{children:i.jsxs("div",{className:"space-y-3 text-xs",children:[i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"Task completed"}),i.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"New comment added"}),i.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Images uploaded"}),i.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function wIe({project:e,client:t,manager:r,onDelete:n,onClick:a,onDragStart:s,onStageChange:o,isDragging:l=!1,stages:c}){const{t:u}=Rt(),d=Br(),f=e.progress||0,h=p=>p?new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.notSet","Not set"),m=p=>{if(!p)return null;const v=new Date,b=(new Date(p).getTime()-v.getTime())/(1e3*60*60);return b<0?"overdue":b<24?"urgent":b<72?"soon":null},g=p=>{switch(m(p)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return i.jsxs(et,{className:ge("group relative hover:shadow-lg transition-all duration-200",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!d&&(f===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),g(e.end_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:p=>{s&&(p.dataTransfer.effectAllowed="move",p.dataTransfer.setData("text/plain",e.project_id.toString()),s(e.project_id))},children:[i.jsx($t,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Ae(e,"project_name")}),Ae(e,"project_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Ae(e,"project_description")})]}),n&&i.jsxs(Ls,{children:[i.jsx(dx,{asChild:!0,onClick:p=>p.stopPropagation(),children:i.jsx(le,{variant:"ghost",size:"sm",className:ge("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(sr,{className:"h-4 w-4"})})}),i.jsxs(ss,{onClick:p=>p.stopPropagation(),children:[i.jsxs(is,{children:[i.jsx(ls,{children:u("projects.deleteProject")}),i.jsx(cs,{children:u("projects.deleteConfirmation",{name:Ae(e,"project_name")})})]}),i.jsxs(os,{children:[i.jsx(ds,{children:u("buttons.cancel")}),i.jsx(us,{onClick:p=>{p.stopPropagation(),n()},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(ct,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:u("projects.progress")}),i.jsxs("span",{className:"font-medium",children:[f,"%"]})]}),i.jsx(mf,{value:f,className:"h-2"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Un,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),i.jsx("p",{className:"text-xs font-medium truncate",children:t.user_name})]})]}),i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Pn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),i.jsx("p",{className:"text-xs font-medium truncate",children:r?r.user_name:u("common.all","Unassigned")})]})]})]}),d&&o&&i.jsx("div",{className:"pt-1",children:i.jsxs(vt,{value:e.stage.toString(),onValueChange:p=>o(e.project_id,parseInt(p)),children:[i.jsx(mt,{className:"h-7 text-xs",children:i.jsx(xt,{placeholder:u("projects.selectStage","Select stage")})}),i.jsx(pt,{children:c.filter(p=>["New","In Progress","Overdue","Completed"].includes(p.name)).map(p=>i.jsx(Ce,{value:p.id.toString(),children:Ae(p,"name")},p.id))})]})}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(Di,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:h(e.created_date)})]}),f===100?i.jsx(ht,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):f>0?i.jsx(ht,{variant:"default",className:"text-xs",children:"In Progress"}):i.jsx(ht,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function jIe(){$s();const{hasRole:e,user:t}=hr();Ma();const{t:r}=Rt();Br();const[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState(!0),[m,g]=x.useState(null);x.useState(!1),x.useState(""),x.useState(null),x.useState(""),x.useState(null),x.useState(null);const[p,v]=x.useState(!1),[y,b]=x.useState(null),[_,j]=x.useState("kanban"),[w,N]=x.useState(null),[S,k]=x.useState(""),[C,T]=x.useState("all"),[O,A]=x.useState("all"),[V,H]=x.useState({from:void 0,to:void 0}),M=x.useMemo(()=>n.filter(D=>{const q=(D.project_name||"").toLowerCase().includes(S.toLowerCase())||(D.project_description||"").toLowerCase().includes(S.toLowerCase());let Y=!0;C==="todo"?Y=(D.progress||0)===0:C==="in_progress"?Y=(D.progress||0)>0&&(D.progress||0)<100:C==="done"&&(Y=(D.progress||0)===100);const P=O==="all"||D.created_by&&D.created_by.toString()===O;let G=!0;if(V.from&&D.end_date){const K=new Date(D.end_date),Z=new Date(V.from);Z.setHours(0,0,0,0);const se=new Date(K);if(se.setHours(0,0,0,0),G=se>=Z,G&&V.to){const oe=new Date(V.to);oe.setHours(23,59,59,999),G=se<=oe}}else V.from&&!D.end_date&&(G=!1);return q&&Y&&P&&G}),[n,S,C,O,V]);x.useEffect(()=>{F()},[]),x.useEffect(()=>{if(u.length>0&&y===null){const D=u.find(q=>q.stage_id===5);D&&b(D.stage_id)}},[u,y]);const F=async()=>{try{h(!0),g(null);const[D,q,Y,P]=await Promise.all([Eh.getAll(),UH.getAll(),xn.getAll(),Ca.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:D.length,clients:q.length,users:Y.length,stages:P.length}),console.log("[Projects] Projects data:",D),console.log("[Projects] Stages data:",P),a(D),o(q),c(Y),d(P)}catch(D){console.error("Failed to load data:",D),g(r("projects.loadError","Failed to load projects. Please try again."))}finally{h(!1)}},L=u.filter(D=>D.stage_type==="projects").sort((D,q)=>{const Y=D.stager_order_index??0,P=q.stager_order_index??0;return qt()?P-Y:Y-P});if(f)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:r("common.loading"),size:"2xl"})});const B=()=>m?i.jsx(Rp,{title:r("projects.errorTitle","Error loading projects"),message:m,onRetry:F}):n.length===0&&!S&&C==="all"&&O==="all"?i.jsx(bo,{title:r("projects.emptyTitle","No projects found"),description:r("projects.emptyDescription","Get started by creating your first project."),icon:i.jsx($d,{className:"h-10 w-10 text-muted-foreground"}),action:i.jsxs(le,{onClick:()=>v(!0),children:[i.jsx(Wt,{className:"mr-2 h-4 w-4"})," ",r("projects.createProject")]})}):i.jsxs(i.Fragment,{children:[i.jsx(yP,{onSearch:k,onFilterStatus:T,onFilterAssignee:A,onFilterDateRange:H,users:l,statuses:[{value:"todo",label:r("mprojects.notStarted")},{value:"in_progress",label:r("mprojects.inProgress")},{value:"done",label:r("mprojects.completed")}]}),_==="kanban"?i.jsx(Mq,{items:M.map(D=>({...D,id:D.project_id,title:Ae(D,"project_name")})),stages:L.map(D=>({...D,id:D.stage_id,name:Ae(D,"stage_name")})),stageType:"projects",renderItem:(D,q)=>i.jsx(wIe,{project:D,client:s.find(Y=>{var P,G;return((P=Y.user_id)==null?void 0:P.toString())===((G=D.client_id)==null?void 0:G.toString())})||null,manager:l.find(Y=>Y.userid===Number(D.created_by)||Y.user_id===Number(D.created_by))||null,stages:q.stages,onDelete:q.onDelete,onClick:()=>N(D.project_id),onDragStart:q.onDragStart,onStageChange:q.onStageChange,isDragging:q.isDragging}),onItemUpdate:async(D,q)=>{q.stage!==void 0&&(await Eh.update(D,{stage:q.stage}),a(n.map(Y=>Y.project_id===D?{...Y,stage:q.stage}:Y)))},onItemDelete:async D=>{await Eh.delete(D),a(n.filter(q=>q.project_id!==D))},onItemCreate:async(D,q)=>{var G;const Y=lc({project_name:q.title,project_description:q.description,created_by:((G=t==null?void 0:t.profile)==null?void 0:G.user_id)||1,progress:q.progress,stage:D,end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),P=await Eh.create(Y);a([...n,P])},onStageCreate:async D=>{const q=await Ca.create({stage_name:D.name,stage_name_ar:D.name_ar,stager_order_index:D.order_index,project_id:null,color:D.color,color_var:D.color_var,stage_type:"projects"});d([...u,q])},onStageUpdate:async(D,q)=>{await Ca.update(D,{stage_name:q.name}),d(u.map(Y=>Y.stage_id===D?{...Y,stage_name:q.name}:Y))},onStageDelete:async D=>{await Ca.delete(D),d(u.filter(q=>q.stage_id!==D)),F()},canManageStages:!0,canManageItems:!0,showAddButton:!0,addButtonText:r("projects.addNewProjectCard"),addButtonDescription:r("projects.createProjectDesc"),mobileSelectedStageId:y,onMobileStageChange:b}):i.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:i.jsxs(wP,{children:[i.jsx(jP,{children:i.jsxs(gv,{children:[i.jsx(so,{children:r("projects.projectName")}),i.jsx(so,{children:r("projects.client")}),i.jsx(so,{children:r("projects.manager")}),i.jsx(so,{children:r("projects.stage")}),i.jsx(so,{children:r("projects.progress")}),i.jsx(so,{children:r("projects.dueDate")}),i.jsx(so,{className:"w-[50px]"})]})}),i.jsx(SP,{children:M.map(D=>{const q=l.find(G=>G.userid===Number(D.created_by)||G.user_id===Number(D.created_by)),Y=s.find(G=>{var K,Z;return((K=G.user_id)==null?void 0:K.toString())===((Z=D.client_id)==null?void 0:Z.toString())}),P=u.find(G=>G.stage_id===D.stage);return i.jsxs(gv,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>N(D.project_id),children:[i.jsx(io,{className:"font-medium",children:Ae(D,"project_name")}),i.jsx(io,{children:Y?Ae(Y,"user_name"):"-"}),i.jsx(io,{children:q?Ae(q,"user_name"):"-"}),i.jsx(io,{children:i.jsx(ht,{variant:"outline",className:"bg-background",children:P?Ae(P,"stage_name"):"-"})}),i.jsx(io,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(mf,{value:D.progress||0,className:"w-16 h-2"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[D.progress,"%"]})]})}),i.jsx(io,{className:"text-muted-foreground text-sm",children:D.end_date?new Date(D.end_date).toLocaleDateString():"-"}),i.jsx(io,{children:i.jsx(le,{variant:"ghost",size:"icon",onClick:G=>{G.stopPropagation(),handleDeleteProject(D.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:i.jsx(sr,{className:"h-4 w-4"})})})]},D.project_id)})})]})})]});return i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:qt()?"rtl":"ltr",children:[i.jsx(fx,{title:r("projects.title"),description:r("projects.subtitle"),icon:i.jsx($d,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(le,{variant:_==="kanban"?"default":"ghost",size:"sm",onClick:()=>j("kanban"),className:"h-8 w-8 p-0",children:i.jsx(B_,{className:"h-4 w-4"})}),i.jsx(le,{variant:_==="list"?"default":"ghost",size:"sm",onClick:()=>j("list"),className:"h-8 w-8 p-0",children:i.jsx(xm,{className:"h-4 w-4"})})]}),i.jsxs(le,{onClick:()=>v(!0),children:[i.jsx(Wt,{className:"mr-2 h-4 w-4"})," ",r("projects.newProject")]})]}),stats:[{label:r("projects.total","Total Projects"),value:n.length,icon:i.jsx($d,{className:"h-4 w-4 text-primary"})},{label:r("projects.inProgress","In Progress"),value:n.filter(D=>(D.progress||0)>0&&(D.progress||0)<100).length,icon:i.jsx(Di,{className:"h-4 w-4 text-blue-500"})},{label:r("projects.completed","Completed"),value:n.filter(D=>(D.progress||0)===100).length,icon:i.jsx(Un,{className:"h-4 w-4 text-green-600"})},{label:r("projects.avgProgress","Avg Progress"),value:n.length>0?`${Math.round(n.reduce((D,q)=>D+(q.progress||0),0)/n.length)}%`:"0%",icon:i.jsx(mf,{className:"h-4 w-4 text-blue-500"})}]}),B(),i.jsx(gn,{open:p,onOpenChange:v,children:i.jsxs(rn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(nn,{children:[i.jsx(an,{children:r("projects.createProject")}),i.jsx(Da,{children:r("projects.createProjectDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),i.jsx(Be,{value:"",onChange:D=>{},placeholder:r("projects.projectNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),i.jsx(On,{value:"",onChange:D=>{},placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),i.jsxs(vt,{value:"",children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:r("projects.selectClient")})}),i.jsx(pt,{children:s.map(D=>{var q;return i.jsx(Ce,{value:((q=D.user_id)==null?void 0:q.toString())||"",children:Ae(D,"user_name")},D.user_id)})})]})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>v(!1),children:r("buttons.cancel")}),i.jsxs(le,{onClick:()=>v(!1),disabled:!0,children:[i.jsx(So,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),i.jsx(vl,{open:!!w,onOpenChange:D=>!D&&N(null),children:i.jsxs(Eo,{side:qt()?"left":"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[i.jsxs(hc,{className:"sr-only",children:[i.jsx(xl,{children:"Project Details"}),i.jsx(of,{children:"View and manage project information"})]}),w&&i.jsx(_Ie,{projectId:w,onClose:()=>N(null)})]})})]})}function SIe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var AP="ScrollArea",[Fq,VHe]=gs(AP),[NIe,Ui]=Fq(AP),Iq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,v]=x.useState(null),[y,b]=x.useState(0),[_,j]=x.useState(0),[w,N]=x.useState(!1),[S,k]=x.useState(!1),C=Bt(t,O=>c(O)),T=Bv(a);return i.jsx(NIe,{scope:r,type:n,dir:T,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:w,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:j,children:i.jsx(ft.div,{dir:T,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});Iq.displayName=AP;var Lq="ScrollAreaViewport",$q=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,o=Ui(Lq,r),l=x.useRef(null),c=Bt(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(ft.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});$q.displayName=Lq;var Cl="ScrollAreaScrollbar",PP=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ui(Cl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(kIe,{...n,ref:t,forceMount:r}):a.type==="scroll"?i.jsx(CIe,{...n,ref:t,forceMount:r}):a.type==="auto"?i.jsx(Bq,{...n,ref:t,forceMount:r}):a.type==="always"?i.jsx(OP,{...n,ref:t}):null});PP.displayName=Cl;var kIe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ui(Cl,e.__scopeScrollArea),[s,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(Fa,{present:r||s,children:i.jsx(Bq,{"data-state":s?"visible":"hidden",...n,ref:t})})}),CIe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ui(Cl,e.__scopeScrollArea),s=e.orientation==="horizontal",o=ij(()=>c("SCROLL_END"),100),[l,c]=SIe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(Fa,{present:r||l!=="hidden",children:i.jsx(OP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Je(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Je(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Bq=x.forwardRef((e,t)=>{const r=Ui(Cl,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,o]=x.useState(!1),l=e.orientation==="horizontal",c=ij(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Qm(r.viewport,c),Qm(r.content,c),i.jsx(Fa,{present:n||s,children:i.jsx(OP,{"data-state":s?"visible":"hidden",...a,ref:t})})}),OP=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ui(Cl,e.__scopeScrollArea),s=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Hq(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return DIe(h,o.current,l,m)}return r==="horizontal"?i.jsx(EIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=nL(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?i.jsx(TIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=nL(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),EIe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Ui(Cl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=Bt(t,c,s.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(zq,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":sj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Gq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Qb(o.paddingLeft),paddingEnd:Qb(o.paddingRight)}})}})}),TIe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Ui(Cl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=Bt(t,c,s.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(zq,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":sj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Gq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Qb(o.paddingTop),paddingEnd:Qb(o.paddingBottom)}})}})}),[AIe,Uq]=Fq(Cl),zq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Ui(Cl,r),[g,p]=x.useState(null),v=Bt(t,C=>p(C)),y=x.useRef(null),b=x.useRef(""),_=m.viewport,j=n.content-n.viewport,w=zn(d),N=zn(c),S=ij(f,10);function k(C){if(y.current){const T=C.clientX-y.current.left,O=C.clientY-y.current.top;u({x:T,y:O})}}return x.useEffect(()=>{const C=T=>{const O=T.target;(g==null?void 0:g.contains(O))&&w(T,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[_,g,j,w]),x.useEffect(N,[n,N]),Qm(g,S),Qm(m.content,S),i.jsx(AIe,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:zn(s),onThumbPointerUp:zn(o),onThumbPositionChange:N,onThumbPointerDown:zn(l),children:i.jsx(ft.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Je(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:Je(e.onPointerMove,k),onPointerUp:Je(e.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Xb="ScrollAreaThumb",Vq=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Uq(Xb,e.__scopeScrollArea);return i.jsx(Fa,{present:r||a.hasThumb,children:i.jsx(PIe,{ref:t,...n})})}),PIe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=Ui(Xb,r),o=Uq(Xb,r),{onThumbPositionChange:l}=o,c=Bt(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=ij(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=RIe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),i.jsx(ft.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Je(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Je(e.onPointerUp,o.onThumbPointerUp)})});Vq.displayName=Xb;var DP="ScrollAreaCorner",Wq=x.forwardRef((e,t)=>{const r=Ui(DP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(OIe,{...e,ref:t}):null});Wq.displayName=DP;var OIe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ui(DP,r),[s,o]=x.useState(0),[l,c]=x.useState(0),u=!!(s&&l);return Qm(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Qm(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(ft.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Qb(e){return e?parseInt(e,10):0}function Hq(e,t){const r=e/t;return isNaN(r)?0:r}function sj(e){const t=Hq(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function DIe(e,t,r,n="ltr"){const a=sj(r),s=a/2,o=t||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return qq([c,u],f)(e)}function nL(e,t,r="ltr"){const n=sj(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=QN(e,c);return qq([0,o],[0,l])(u)}function qq(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Gq(e,t){return e>0&&e<t}var RIe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function ij(e,t){const r=zn(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Qm(e,t){const r=zn(t);yn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var Kq=Iq,MIe=$q,FIe=Wq;const Xa=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Kq,{ref:n,className:ge("relative overflow-hidden",e),...r,children:[i.jsx(MIe,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(Yq,{}),i.jsx(FIe,{})]}));Xa.displayName=Kq.displayName;const Yq=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(PP,{ref:n,orientation:t,className:ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(Vq,{className:"relative flex-1 rounded-full bg-border"})}));Yq.displayName=PP.displayName;const Zy={async createApplication(e){return await J.partnerApply.create(e)},async getApplications(){return(await J.partnerApply.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async updateStatus(e,t){await J.partnerApply.update(e,{status:t})}},IIe=async e=>{const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")};function LIe(){const{user:e}=hr(),{currentLanguage:t,isRTL:r}=Ma();Br();const{t:n}=Rt(),[a,s]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(""),[h,m]=x.useState(!1),[g,p]=x.useState(""),[v,y]=x.useState(""),[b,_]=x.useState(""),[j,w]=x.useState("employee"),[N,S]=x.useState(""),[k,C]=x.useState(!1),[T,O]=x.useState(null),[A,V]=x.useState("all"),[H,M]=x.useState("employees"),[F,L]=x.useState(!1),[B,D]=x.useState(null),[q,Y]=x.useState(!1),[P,G]=x.useState({name:"",Email:"",mobile:"",permissions:""}),[K,Z]=x.useState(!1),[se,oe]=x.useState(""),[xe,z]=x.useState(new Map);x.useEffect(()=>{ce(),W()},[]);const W=async()=>{try{const U=await wT(),ue=new Map;U.forEach(we=>{ue.set(we.permissions_ID,we.permissions_Name)}),z(ue)}catch(U){console.error("Failed to load permission names:",U)}},ce=async()=>{try{u(!0);const[U,ue]=await Promise.all([xn.getAll(),Zy.getApplications()]);s(U),l(ue)}catch(U){console.error("Failed to load users:",U)}finally{u(!1)}},E=a.filter(U=>{var Le,Fe;const ue=H==="employees",we=H==="clients",_e=H==="partners";if(ue&&![1,2,3,4].includes(Number(U.permissions))||_e&&![5,6].includes(Number(U.permissions)))return!1;const $e=((Le=U.name)==null?void 0:Le.toLowerCase())||"",tt=((Fe=U.Email)==null?void 0:Fe.toLowerCase())||"",it=String(U.permissions||""),Ee=d.toLowerCase();return $e.includes(Ee)||tt.includes(Ee)||it.includes(Ee)}),Pe=U=>{const ue=["destructive","default","secondary","outline","default","secondary"];return U&&U>=1&&U<=ue.length?ue[U-1]:"secondary"},Re=U=>{if(!U)return"User";const ue=xe.get(U);return ue||{1:"Admin",2:"Manager",3:"Employee",4:"Team Leader",5:"Partner Employee",6:"Partner Leader"}[U]||`Permission ${U}`},pe=async U=>{if(U.preventDefault(),!k){S(""),C(!0);try{const ue=await IIe(b),we={name:g,Email:v,user_pasword:ue,permissions:j==="admin"?1:j==="manager"||j==="employee"?2:j==="team_leader"?4:2},_e=await J.Users.create(we);T&&(await Zy.updateStatus(T,"approved"),O(null)),m(!1),p(""),y(""),_(""),w("employee"),ce()}catch(ue){S(ue.message||n("users.addUserError"))}finally{C(!1)}}},Me=U=>{p(U.full_name),y(U.email),w("employee"),_(""),O(U.apply_id),m(!0),M("employees")},be=async U=>{if(confirm(n("users.rejectConfirmation")))try{await Zy.updateStatus(U,"rejected"),ce()}catch(ue){console.error("Failed to reject application:",ue)}},Ge=async(U,ue)=>{if(confirm(n("users.deleteConfirmation",{name:ue})))try{await J.Users.delete(U),ce()}catch(we){alert(`${n("users.deleteError")}: ${we.message}`)}},Ze=async(U,ue)=>{try{const we=ue==="1"?1:2;await J.Users.update(U,{permissions:we}),ce()}catch(we){alert(`${n("users.updateRoleError")}: ${we.message}`)}},ae=async U=>{var ue;if(U.preventDefault(),!(K||!B)){oe(""),Z(!0);try{const we={};P.name!==Ae(B,"name")&&(we.name=P.name),P.Email!==B.Email&&(we.Email=P.Email),P.mobile!==((ue=B.mobile)==null?void 0:ue.toString())&&(we.mobile=P.mobile?parseInt(P.mobile):null),P.permissions!==B.permissions&&(we.permissions=P.permissions),Object.keys(we).length>0?(await J.Users.update(B.userid,we),Y(!1),ce()):Y(!1)}catch(we){oe(we.message||n("users.updateUserError"))}finally{Z(!1)}}},he=U=>{var ue;D(U),G({name:U.name||"",Email:U.Email||"",mobile:((ue=U.mobile)==null?void 0:ue.toString())||"",permissions:U.permissions||""}),Y(!1),oe(""),L(!0)};return c?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:n("users.title")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qa,{className:"h-5 w-5"}),i.jsxs("span",{className:"text-sm font-medium",children:[a.length," ",n("users.totalUsers")]})]}),i.jsx("p",{className:"hidden md:block text-muted-foreground",children:n("users.subtitle")})]}),i.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[i.jsxs(le,{variant:H==="employees"?"default":"ghost",size:"sm",onClick:()=>M("employees"),className:"h-8 px-3",children:[i.jsx(hR,{className:"h-4 w-4 mr-2"}),n("users.employees")]}),i.jsxs(le,{variant:H==="clients"?"default":"ghost",size:"sm",onClick:()=>M("clients"),className:"h-8 px-3",children:[i.jsx(Pn,{className:"h-4 w-4 mr-2"}),n("users.clients")]}),i.jsxs(le,{variant:H==="partners"?"default":"ghost",size:"sm",onClick:()=>M("partners"),className:"h-8 px-3",children:[i.jsx(Qa,{className:"h-4 w-4 mr-2"}),n("users.partners")]})]}),H==="employees"&&i.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&i.jsxs(gn,{open:h,onOpenChange:m,children:[i.jsx(H1,{asChild:!0,children:i.jsxs(le,{className:"w-full",children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),n("users.addUser")]})}),i.jsxs(rn,{children:[i.jsxs(nn,{children:[i.jsx(an,{children:n("users.addNewUser")}),i.jsx(Da,{children:n("users.addUserDescription")})]}),i.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[N&&i.jsx(wm,{variant:"destructive",children:i.jsx(jm,{children:N})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"formName",children:n("users.fullName")}),i.jsx(Be,{id:"formName",value:g,onChange:U=>p(U.target.value),placeholder:n("users.fullName"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"formEmail",children:n("users.email")}),i.jsx(Be,{id:"formEmail",type:"email",value:v,onChange:U=>y(U.target.value),placeholder:n("users.email"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"formPassword",children:n("users.password")}),i.jsx(Be,{id:"formPassword",type:"password",value:b,onChange:U=>_(U.target.value),placeholder:n("users.password"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"formRole",children:n("users.role")}),i.jsxs(vt,{value:j,onValueChange:U=>w(U),children:[i.jsx(mt,{children:i.jsx(xt,{})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"employee",children:n("users.employee")}),i.jsx(Ce,{value:"manager",children:n("users.manager")}),i.jsx(Ce,{value:"admin",children:n("users.admin")}),i.jsx(Ce,{value:"team_leader",children:n("users.team_leader")})]})]})]}),i.jsx(le,{type:"submit",className:"w-full",disabled:k,children:n(k?"users.addingUser":"users.addUser")})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Be,{placeholder:n("users.searchPlaceholder"),value:d,onChange:U=>f(U.target.value),className:"pl-10"})]}),i.jsxs(Xa,{className:"flex-1",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(U=>i.jsxs(et,{className:"hover:shadow-md transition-shadow",children:[i.jsx($t,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(Jt,{className:"text-lg truncate",children:Ae(U,"name")}),i.jsx(ht,{variant:Pe(U.permissions),className:"mt-1",children:Re(U.permissions)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>he(U),children:i.jsx(ti,{className:"h-4 w-4"})}),i.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>Ge(U.userid,Ae(U,"name")),children:i.jsx(sr,{className:"h-4 w-4"})})]})]})}),i.jsxs(ct,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(eh,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:U.Email})]}),U.mobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(ql,{className:"h-4 w-4"}),i.jsx("span",{children:U.mobile})]}),(U.permissions===2||U.permissions===1)&&!0&&i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("div",{className:"text-xs font-medium mb-1",children:n("users.changeRole")}),i.jsxs(vt,{value:String(U.permissions),onValueChange:ue=>Ze(U.userid,ue),children:[i.jsx(mt,{className:"w-full h-8",children:i.jsx(xt,{})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"2",children:n("users.employee")}),i.jsx(Ce,{value:"1",children:n("users.manager")})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",U.created_at?new Date(U.created_at).toLocaleDateString():"-"]})]})]},U.userid))}),E.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Qa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("users.noUsersFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(d?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),H==="clients"&&i.jsx("div",{className:"space-y-6",children:i.jsxs(Xa,{className:"flex-1",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(U=>i.jsxs(et,{className:"hover:shadow-md transition-shadow",children:[i.jsx($t,{className:"pb-3",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(Jt,{className:"text-lg truncate",children:Ae(U,"name")}),i.jsx(ht,{variant:"outline",className:"mt-1",children:n("users.client")})]})})}),i.jsxs(ct,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(eh,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:U.Email})]}),U.mobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(ql,{className:"h-4 w-4"}),i.jsx("span",{children:U.mobile})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",U.created_at?new Date(U.created_at).toLocaleDateString():"-"]})]})]},U.userid))}),E.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Pn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("clients.noClientsFound")}),i.jsx("p",{className:"text-muted-foreground",children:n("clients.noClientsYet")})]})]})}),H==="partners"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-280px)]",children:[i.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(hR,{className:"h-5 w-5"}),n("users.partnerUsers"),i.jsx(ht,{variant:"secondary",className:"ml-auto",children:a.filter(U=>[5,6].includes(Number(U.permissions))).length})]}),i.jsx(Xa,{className:"flex-1 pr-4",children:i.jsx("div",{className:"space-y-3",children:a.filter(U=>[5,6].includes(Number(U.permissions))).length>0?a.filter(U=>[5,6].includes(Number(U.permissions))).map(U=>i.jsx(et,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>he(U),children:i.jsxs(ct,{className:"p-4 flex items-center gap-3",children:[i.jsxs(Fs,{children:[i.jsx(No,{src:U.avatar||""}),i.jsx(Is,{children:Ae(U,"name").charAt(0).toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:Ae(U,"name")}),i.jsx("div",{className:"text-xs text-muted-foreground truncate",children:U.Email}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(ht,{variant:"outline",className:"text-xs py-0 h-5",children:U.permissions===5?n("users.partner_leader"):n("users.partner_employee")}),U.company_name&&i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(sae,{className:"h-3 w-3"}),U.company_name]})]})]})]})},U.userid)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Qa,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:n("users.noPartnerUsersFound")})]})})})]}),i.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(eh,{className:"h-5 w-5"}),n("users.partnerApplications"),i.jsx(ht,{variant:"secondary",children:o.length})]}),i.jsx("div",{className:"w-[140px]",children:i.jsxs(vt,{value:A,onValueChange:U=>V(U),children:[i.jsx(mt,{className:"h-8",children:i.jsx(xt,{placeholder:n("common.filter")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:n("common.all")}),i.jsx(Ce,{value:"pending",children:n("status.pending")}),i.jsx(Ce,{value:"approved",children:n("status.approved")}),i.jsx(Ce,{value:"rejected",children:n("status.rejected")})]})]})})]}),i.jsx(Xa,{className:"flex-1 pr-4",children:i.jsx("div",{className:"space-y-3",children:o.filter(U=>A==="all"||U.status===A).length>0?o.filter(U=>A==="all"||U.status===A).map(U=>i.jsx(et,{children:i.jsxs(ct,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[i.jsx("div",{className:"font-medium",children:U.company_name||U.full_name}),i.jsx(ht,{variant:U.status==="pending"?"outline":U.status==="approved"?"default":"destructive",className:"capitalize",children:n(`status.${U.status}`)})]}),i.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pn,{className:"h-3 w-3"}),U.full_name]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(eh,{className:"h-3 w-3"}),U.email]}),U.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ql,{className:"h-3 w-3"}),U.phone]})]}),U.status==="pending"&&i.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[i.jsx(le,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>be(U.apply_id),children:n("users.reject")}),i.jsx(le,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>Me(U),children:n("users.approve")})]})]})},U.apply_id)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(eh,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:n("users.noApplicationsFound")})]})})})]})]}),i.jsx(gn,{open:F,onOpenChange:L,children:i.jsxs(rn,{className:"max-w-2xl max-h-[80vh]",children:[i.jsxs(nn,{children:[i.jsx(an,{children:n("users.userDetails")}),i.jsx(Da,{children:n("users.userDetailsDescription")})]}),B&&i.jsx(Xa,{className:"max-h-[60vh] pr-4",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold",children:Ae(B,"name")}),i.jsx(ht,{variant:Pe(B.permissions),className:"mt-1",children:Re(B.permissions)})]})}),q?i.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[se&&i.jsx(wm,{variant:"destructive",children:i.jsx(jm,{children:se})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"editName",children:n("users.fullName")}),i.jsx(Be,{id:"editName",value:P.name,onChange:U=>G(ue=>({...ue,name:U.target.value})),placeholder:n("users.fullName")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"editEmail",children:n("users.email")}),i.jsx(Be,{id:"editEmail",type:"email",value:P.Email,onChange:U=>G(ue=>({...ue,Email:U.target.value})),placeholder:n("users.email")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"editRole",children:n("users.role")}),i.jsxs(vt,{value:String(P.permissions),onValueChange:U=>G(ue=>({...ue,permissions:Number(U)})),children:[i.jsx(mt,{children:i.jsx(xt,{})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"2",children:n("users.employee")}),i.jsx(Ce,{value:"1",children:n("users.manager")}),i.jsx(Ce,{value:"3",children:n("users.client")}),i.jsx(Ce,{value:"4",children:n("users.partner")}),i.jsx(Ce,{value:"5",children:n("users.partner_employee")})]})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(ze,{className:"text-sm font-medium",children:n("users.joined")}),i.jsx("p",{className:"text-sm",children:new Date(B.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(ze,{className:"text-sm font-medium",children:n("users.updated")}),i.jsx("p",{className:"text-sm",children:B.updated_at?new Date(B.updated_at).toLocaleDateString():"-"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"editPhone",children:n("users.phone")}),i.jsx(Be,{id:"editPhone",type:"tel",value:P.mobile,onChange:U=>G(ue=>({...ue,mobile:U.target.value})),placeholder:n("users.phone")})]}),B.client_contact&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(ze,{className:"text-sm font-medium",children:n("users.contact")}),i.jsx("p",{className:"text-sm",children:B.client_contact})]}),B.company_name&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(ze,{className:"text-sm font-medium",children:n("users.company")}),i.jsx("p",{className:"text-sm",children:Ae(B,"company_name")})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(ze,{className:"text-sm font-medium",children:n("users.userId")}),i.jsx("p",{className:"text-sm font-mono text-xs",children:B.userid})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(le,{type:"button",variant:"outline",onClick:()=>Y(!1),children:n("buttons.cancel")}),i.jsx(le,{type:"submit",disabled:K,children:n(K?"buttons.saving":"buttons.save")})]})]}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.fullName")}),i.jsx("p",{className:"text-sm",children:Ae(B,"name")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.email")}),i.jsx("p",{className:"text-sm",children:B.Email||n("common.na")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.role")}),i.jsx("p",{className:"text-sm",children:n(`users.${B.permissions===1?"admin":B.permissions===2?"employee":B.permissions===3?"client":"user"}`)})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.joined")}),i.jsx("p",{className:"text-sm",children:new Date(B.created_at).toLocaleDateString()})]}),B.updated_at&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.updated")}),i.jsx("p",{className:"text-sm",children:new Date(B.updated_at).toLocaleDateString()})]})]}),i.jsxs("div",{className:"space-y-3",children:[B.user_phone&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.phone")}),i.jsx("p",{className:"text-sm",children:B.mobile})]}),B.client_contact&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.contact")}),i.jsx("p",{className:"text-sm",children:B.client_contact})]}),B.company_name&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.company")}),i.jsx("p",{className:"text-sm",children:Ae(B,"company_name")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.userId")}),i.jsx("p",{className:"text-sm font-mono text-xs",children:B.userid})]})]})]}),B.userid&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.authId","Auth ID")}),i.jsx("p",{className:"text-sm font-mono text-xs break-all",children:B.userid})]})]})}),i.jsxs(Oa,{children:[!q&&!0&&i.jsx(le,{variant:"outline",onClick:()=>Y(!0),children:n("buttons.edit")}),i.jsx(le,{onClick:()=>L(!1),children:n("buttons.close")})]})]})})]})}function $Ie(){hr();const{t:e}=Rt(),{isRTL:t}=Ma();Br();const r=$s();console.log("Teams Page - isRTL:",t);const[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState({}),[u,d]=x.useState(!0),[f,h]=x.useState(""),[m,g]=x.useState(!1),[p,v]=x.useState(""),[y,b]=x.useState(""),[_,j]=x.useState(null),w=!0;x.useEffect(()=>{S(),k()},[]);const N=M=>{r("/chats",{state:{teamId:M}})},S=async()=>{try{d(!0);const M=await Qf.getAll(),F=await Qf.getAllTeamMembers();a(M),c(F)}catch(M){console.error("Failed to load teams:",M)}finally{d(!1)}},k=async()=>{try{const M=await xn.getAll();o(M)}catch(M){console.error("Failed to load users:",M)}},C=async()=>{if(p.trim())try{const M=lc({team_name:p.trim(),team_leader_id:(y==null?void 0:y.toString())||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await Qf.create(M),v(""),b(""),g(!1),await S()}catch(M){console.error("Failed to create team:",M)}},T=async(M,F)=>{try{await Qf.addMember(M,F),await S()}catch(L){console.error("Failed to add team member:",L)}},O=async(M,F)=>{try{await Qf.removeMember(M,F),await S()}catch(L){console.error("Failed to remove team member:",L)}},A=async M=>{try{await Qf.delete(M),a(F=>F.filter(L=>L.team_id!==M)),c(F=>{const L={...F};return delete L[M],L}),j(null)}catch(F){console.error("Failed to delete team:",F)}},V=n.filter(M=>(Ae(M,"team_name")||"").toLowerCase().includes(f.toLowerCase())),H=s;return u?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:e("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("teams.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("teams.subtitle")})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qa,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium",children:e("teams.memberCount_plural",{count:n.length})})]}),i.jsxs(gn,{open:m,onOpenChange:g,children:[i.jsx(H1,{asChild:!0,children:i.jsxs(le,{children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),e("teams.createTeam")]})}),i.jsxs(rn,{className:"sm:max-w-[425px]",children:[i.jsxs(nn,{children:[i.jsx(an,{children:e("teams.createTeamTitle")}),i.jsx(Da,{children:e("teams.createTeamDesc")})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"team-name",className:"text-right rtl:text-left",children:e("teams.teamName")}),i.jsx(Be,{id:"team-name",value:p,onChange:M=>v(M.target.value),className:"col-span-3",placeholder:e("teams.teamNamePlaceholder")})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:e("teams.teamLeader")}),i.jsxs(vt,{value:y,onValueChange:b,children:[i.jsx(mt,{className:"col-span-3",children:i.jsx(xt,{placeholder:e("teams.selectTeamLeader")})}),i.jsx(pt,{children:H.map(M=>i.jsx(Ce,{value:M.userid.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:M.name})]})},M.userid))})]})]})]}),i.jsx(Oa,{children:i.jsx(le,{type:"submit",onClick:C,disabled:!p.trim(),children:e("teams.createTeam")})})]})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Be,{placeholder:e("teams.searchPlaceholder"),value:f,onChange:M=>h(M.target.value),className:"pl-10"})]}),i.jsxs(Xa,{className:"flex-1",dir:t?"rtl":"ltr",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:t?"rtl":"ltr",children:V.map(M=>{const F=l[M.team_id]||[];return i.jsxs(et,{className:"hover:shadow-md transition-shadow",children:[i.jsxs($t,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Jt,{className:"text-lg",children:Ae(M,"team_name")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>N(M.team_id),title:e("teams.chat","Chat"),children:i.jsx(Ru,{className:"h-4 w-4"})}),i.jsx(ht,{variant:"outline",children:e("teams.memberCount_plural",{count:F.length})}),i.jsxs(Ls,{children:[i.jsx(dx,{asChild:!0,children:i.jsx(le,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:L=>{L.stopPropagation(),j(M.team_id)},children:i.jsx(sr,{className:"h-3 w-3"})})}),i.jsxs(ss,{onClick:L=>L.stopPropagation(),children:[i.jsxs(is,{children:[i.jsx(ls,{children:e("teams.deleteTeam")}),i.jsx(cs,{children:e("teams.deleteConfirmation",{name:Ae(M,"team_name")})})]}),i.jsxs(os,{children:[i.jsx(ds,{children:e("buttons.cancel")}),i.jsx(us,{onClick:L=>{L.stopPropagation(),A(M.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]}),M.team_leader_id_name&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsxs("span",{children:[e("teams.teamLeader"),":"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),i.jsx("span",{children:M.team_leader_id_name})]})]})]}),i.jsxs(ct,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:e("teams.members")}),i.jsxs("div",{className:"space-y-2",children:[F.slice(0,4).map(L=>i.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Fs,{className:"h-6 w-6",children:[i.jsx(No,{src:""}),i.jsx(Is,{className:"text-xs",children:(L.name||"").charAt(0).toUpperCase()})]}),i.jsx("span",{className:"text-sm",children:L.name})]}),i.jsx(le,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>{var B;return O(M.team_id,((B=L.userid)==null?void 0:B.toString())||"")},children:i.jsx(Tae,{className:"h-3 w-3"})})]},L.userid)),F.length>4&&i.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e("teams.moreMembers",{count:F.length-4})}),F.length===0&&i.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:e("teams.noMembersYet")})]})]}),i.jsx("div",{children:i.jsxs(vt,{onValueChange:L=>{L&&T(M.team_id,L)},children:[i.jsx(mt,{className:"w-full",children:i.jsx(xt,{placeholder:e("teams.addMember")})}),i.jsx(pt,{children:s.filter(L=>!F.some(B=>B.userid.toString()===L.userid.toString())).map(L=>i.jsx(Ce,{value:L.userid.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:L.name})]})},L.userid))})]})}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[e("teams.created")," ",M.created_at?new Date(M.created_at).toLocaleDateString():"N/A"]})]})]},M.team_id)})}),V.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Qa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:e(f?"teams.noTeamsFound":"teams.noTeamsYet")}),i.jsx("p",{className:"text-muted-foreground mb-4",children:e(f?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!f&&w&&i.jsxs(le,{onClick:()=>g(!0),children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),e("teams.createFirstTeam")]})]})]})]})}function BIe({rooms:e,selectedRoom:t,onSelectRoom:r,currentUser:n,onNewChannel:a,onNewDM:s,className:o}){const{t:l}=Rt(),[c,u]=x.useState(""),d=e.filter(p=>{const v=p.is_private&&Ae(p.other_user||{},"user_name")||p.room_name;return v==null?void 0:v.toLowerCase().includes(c.toLowerCase())}),f=d.filter(p=>!p.is_private&&!p.team_id),h=d.filter(p=>p.is_private),m=d.filter(p=>p.team_id),g=p=>{var w;const v=(t==null?void 0:t.room_id)===p.room_id,y=p.is_private,b=y&&Ae(p.other_user||{},"user_name")||p.room_name,_=y?(w=p.other_user)==null?void 0:w.avatar:null,j=(b==null?void 0:b.charAt(0).toUpperCase())||"?";return i.jsxs("button",{onClick:()=>r(p),className:ge("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",v?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[i.jsx("div",{className:"relative flex-shrink-0",children:y?i.jsxs(Fs,{className:"h-6 w-6",children:[i.jsx(No,{src:_}),i.jsx(Is,{className:"text-[10px]",children:j})]}):i.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:i.jsx(Qa,{className:"h-3.5 w-3.5"})})}),i.jsx("span",{className:"truncate flex-1 text-left",children:b})]},p.room_id)};return i.jsxs("div",{className:ge("flex flex-col h-full bg-background border-r",o),children:[i.jsxs("div",{className:"flex-shrink-0 p-3 border-b",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"font-semibold text-lg",children:l("chat.title","Messages")}),i.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(jB,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ps,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Be,{placeholder:l("common.search","Jump to..."),value:c,onChange:p=>u(p.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),i.jsxs(Xa,{className:"flex-1 px-2 py-3 overflow-hidden",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.channels","Channels")}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&i.jsx(le,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:a,title:l("chat.createChannel","Create Channel"),children:i.jsx(Wt,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-0.5",children:[f.map(g),f.length===0&&i.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noChannels","No channels")})]})]}),m.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.teams","Teams")})}),i.jsx("div",{className:"space-y-0.5",children:m.map(g)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.directMessages","Direct Messages")}),i.jsx(le,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s,children:i.jsx(Wt,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-0.5",children:[h.map(g),h.length===0&&i.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noMessages","No messages")})]})]})]})]})}function UIe({room:e,messages:t,currentUser:r,onSendMessage:n,onBack:a,loading:s,onLoadMore:o,hasMoreMessages:l,isLoadingMore:c,onEditMessage:u,onDeleteMessage:d,className:f}){var Z;const{t:h}=Rt(),[m,g]=x.useState(""),p=x.useRef(null),[v,y]=x.useState(!1),[b,_]=x.useState(null),[j,w]=x.useState(""),[N,S]=x.useState(!1),k=x.useRef(null),[C,T]=x.useState(null);x.useEffect(()=>{if(p.current&&!c){const se=p.current.querySelector("[data-radix-scroll-area-viewport]");se&&(se.scrollTop=se.scrollHeight)}},[t,c]);const O=se=>{const oe=se.target;if(!oe)return;const z=oe.scrollTop<100;y(z),z&&l&&o&&!c&&o()};x.useEffect(()=>{var oe;const se=(oe=p.current)==null?void 0:oe.querySelector("[data-radix-scroll-area-viewport]");if(se)return se.addEventListener("scroll",O),()=>se.removeEventListener("scroll",O)},[l,c,o]),x.useEffect(()=>{e&&!e.is_private?(async()=>{try{if(console.log("[ChatArea] Room data:",e),e.member_count!==void 0){console.log("[ChatArea] Using room.member_count:",e.member_count),T(e.member_count);return}console.log("[ChatArea] Fetching room members for room:",e.room_id);const oe=await Zi.getRoomMembers(e.room_id);console.log("[ChatArea] Fetched members:",oe.length),T(oe.length)}catch(oe){console.error("Failed to fetch member count:",oe),T(null)}})():(console.log("[ChatArea] Room is private or null, clearing member count"),T(null))},[e==null?void 0:e.room_id]);const A=se=>{_(se.message_id),w(se.content)},V=()=>{_(null),w("")},H=()=>{b&&j.trim()&&u&&(u(b,j),_(null),w(""))},M=()=>{m.trim()&&(n(m),g(""))},F=se=>{se.key==="Enter"&&!se.shiftKey&&(se.preventDefault(),M())},L=async se=>{var xe;const oe=(xe=se.target.files)==null?void 0:xe[0];if(!(!oe||!n))try{S(!0);const z=await Yc.uploadAttachment(oe),ce=oe.type.startsWith("image/")?`![${oe.name}](${z})`:`[${oe.name}](${z})`;n(ce)}catch(z){console.error("Failed to upload file:",z),alert(h("chat.uploadError","Failed to upload file"))}finally{S(!1),k.current&&(k.current.value="")}},B=()=>{var se;(se=k.current)==null||se.click()},D=se=>{const oe=/!\\[(.*?)\\]\((.*?)\)/g,xe=/\\[(.*?)\\]\((.*?)\)/g,z=oe.exec(se);if(z)return i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("img",{src:z[2],alt:z[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(z[2],"_blank")}),se.replace(z[0],"").trim()&&i.jsx("span",{children:se.replace(z[0],"").trim()})]});const W=xe.exec(se);return W?i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("a",{href:W[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[i.jsx(uR,{className:"h-4 w-4"}),W[1]]}),se.replace(W[0],"").trim()&&i.jsx("span",{children:se.replace(W[0],"").trim()})]}):se};if(s)return i.jsx("div",{className:ge("flex items-center justify-center h-full bg-background",f),children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return i.jsxs("div",{className:ge("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",f),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:i.jsx(Ru,{className:"h-8 w-8"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:h("chat.welcome","Welcome to Chat")}),i.jsx("p",{className:"max-w-xs",children:h("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const q=e.is_private,Y=q&&Ae(e.other_user||{},"user_name")||e.room_name,P=q?(Z=e.other_user)==null?void 0:Z.avatar:null,G=(Y==null?void 0:Y.charAt(0).toUpperCase())||"?",K=t.reduce((se,oe)=>{const xe=new Date(oe.created_at).toLocaleDateString();return se[xe]||(se[xe]=[]),se[xe].push(oe),se},{});return i.jsxs("div",{className:ge("flex flex-col h-full bg-background overflow-x-hidden",f),children:[i.jsxs("div",{className:"flex-shrink-0 h-16 border-b flex items-center justify-between px-4 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[a&&i.jsx(le,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:a,children:i.jsx(bB,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[q?i.jsxs(Fs,{className:"h-9 w-9",children:[i.jsx(No,{src:P}),i.jsx(Is,{children:G})]}):i.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?i.jsx(Qa,{className:"h-5 w-5"}):i.jsx(mae,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[Y,q&&i.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!q&&i.jsx("p",{className:"text-xs text-muted-foreground",children:C!==null?h("chat.membersCount",{count:C}):h("chat.loadingMembers","Loading members...")})]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(le,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(ql,{className:"h-5 w-5"})}),i.jsx(le,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(Pae,{className:"h-5 w-5"})}),i.jsx(le,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(pae,{className:"h-5 w-5"})})]})]}),i.jsx(Xa,{className:"flex-1 p-4 overflow-hidden",ref:p,children:i.jsxs("div",{className:"space-y-6 pb-4",children:[c&&i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!l&&t.length>10&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:h("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(K).map(([se,oe])=>i.jsxs("div",{children:[i.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:se===new Date().toLocaleDateString()?h("common.today","Today"):se})})]}),i.jsx("div",{className:"space-y-4",children:oe.map((xe,z)=>{var Re;const W=xe.auth_user_id===(r==null?void 0:r.id),ce=z===0||oe[z-1].auth_user_id!==xe.auth_user_id,E=xe.sender,Pe=b===xe.message_id;return i.jsxs("div",{className:ge("flex gap-3 group",W?"flex-row-reverse":""),children:[ce?i.jsxs(Fs,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[i.jsx(No,{src:E==null?void 0:E.avatar}),i.jsx(Is,{children:((Re=E==null?void 0:E.user_name)==null?void 0:Re.charAt(0))||"?"})]}):i.jsx("div",{className:"w-8 flex-shrink-0"}),i.jsxs("div",{className:ge("flex flex-col max-w-[75%]",W?"items-end":"items-start"),children:[ce&&i.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-semibold",children:E==null?void 0:E.user_name}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:ns(new Date(xe.created_at),"h:mm a")})]}),i.jsx("div",{className:ge("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",W?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",Pe?"w-full min-w-[200px]":""),children:Pe?i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("textarea",{value:j,onChange:pe=>w(pe.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:V,className:"h-6 px-2 text-xs",children:h("common.cancel","Cancel")}),i.jsx(le,{size:"sm",variant:"secondary",onClick:H,className:"h-6 px-2 text-xs",children:h("common.save","Save")})]})]}):i.jsxs(i.Fragment,{children:[D(xe.content),W&&!Pe&&i.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[i.jsxs(le,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>A(xe),children:[i.jsx("span",{className:"sr-only",children:"Edit"}),i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[i.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),i.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),i.jsxs(le,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>d&&d(xe.message_id),children:[i.jsx("span",{className:"sr-only",children:"Delete"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:i.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},`${xe.message_id}-${z}`)})})]},se))]})}),i.jsxs("div",{className:"flex-shrink-0 p-4 bg-background border-t",children:[i.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[i.jsx(le,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:B,disabled:N,children:N?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):i.jsx(uR,{className:"h-5 w-5"})}),i.jsx("input",{type:"file",ref:k,className:"hidden",onChange:L,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),i.jsx("textarea",{value:m,onChange:se=>g(se.target.value),onKeyDown:F,placeholder:h("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:se=>{const oe=se.target;oe.style.height="auto",oe.style.height=`${Math.min(oe.scrollHeight,128)}px`}}),i.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[i.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:i.jsx(Nae,{className:"h-5 w-5"})}),i.jsx(le,{size:"icon",className:ge("h-8 w-8 transition-all",m.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:M,disabled:!m.trim()&&!N,children:i.jsx(Lv,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:i.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function zIe({open:e,onOpenChange:t,onSelectUser:r,currentUserId:n}){const{t:a}=Rt(),[s,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!1);x.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{d(!0);const m=await xn.getAll();o(m.filter(g=>g.auth_user_id!==n))}catch(m){console.error("Failed to load users:",m)}finally{d(!1)}},h=s.filter(m=>{var g,p;return((g=m.user_name)==null?void 0:g.toLowerCase().includes(l.toLowerCase()))||((p=m.user_email)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))});return i.jsx(gn,{open:e,onOpenChange:t,children:i.jsxs(rn,{className:"sm:max-w-[425px]",children:[i.jsx(nn,{children:i.jsx(an,{children:a("chat.newDirectMessage","New Direct Message")})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ps,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Be,{placeholder:a("chat.searchUsers","Search users..."),value:l,onChange:m=>c(m.target.value),className:"pl-8"})]}),i.jsx(Xa,{className:"h-[300px]",children:u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):h.length===0?i.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("chat.noUsersFound","No users found")}):i.jsx("div",{className:"space-y-1",children:h.map(m=>{var g;return i.jsxs("button",{onClick:()=>{r(m),t(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[i.jsxs(Fs,{children:[i.jsx(No,{src:m.avatar}),i.jsx(Is,{children:((g=m.user_name)==null?void 0:g.charAt(0))||"?"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:m.user_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:m.user_email})]})]},m.user_id)})})})]})]})})}var oj="Switch",[VIe,WHe]=gs(oj),[WIe,HIe]=VIe(oj),Xq=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),g=Bt(t,_=>m(_)),p=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,b]=fc({prop:a,defaultProp:s??!1,onChange:u,caller:oj});return i.jsxs(WIe,{scope:r,checked:y,disabled:l,children:[i.jsx(ft.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":eG(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Je(e.onClick,_=>{b(j=>!j),v&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})}),v&&i.jsx(Zq,{control:h,bubbles:!p.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Xq.displayName=oj;var Qq="SwitchThumb",Jq=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=HIe(Qq,r);return i.jsx(ft.span,{"data-state":eG(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Jq.displayName=Qq;var qIe="SwitchBubbleInput",Zq=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const o=x.useRef(null),l=Bt(o,s),c=zT(r),u=FT(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Zq.displayName=qIe;function eG(e){return e?"checked":"unchecked"}var tG=Xq,GIe=Jq;const rG=x.forwardRef(({className:e,...t},r)=>i.jsx(tG,{className:ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:i.jsx(GIe,{className:ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rG.displayName=tG.displayName;function KIe({open:e,onOpenChange:t,onCreate:r}){const{t:n}=Rt(),[a,s]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(!1),d=async f=>{if(f.preventDefault(),!!a.trim())try{u(!0),await r(a,o),t(!1),s(""),l(!1)}catch(h){console.error("Failed to create channel:",h)}finally{u(!1)}};return i.jsx(gn,{open:e,onOpenChange:t,children:i.jsxs(rn,{children:[i.jsx(nn,{children:i.jsx(an,{children:n("chat.createRoomTitle","Create New Room")})}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"name",children:n("chat.roomName","Room Name")}),i.jsx(Be,{id:"name",value:a,onChange:f=>s(f.target.value),placeholder:n("chat.roomNamePlaceholder","Enter room name"),disabled:c})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs(ze,{htmlFor:"private",className:"flex flex-col space-y-1",children:[i.jsx("span",{children:n("chat.privateRoom","Private Room")}),i.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:n("chat.privateRoomDesc","Only invited members can view this room.")})]}),i.jsx(rG,{id:"private",checked:o,onCheckedChange:l,disabled:c})]}),i.jsxs(Oa,{children:[i.jsx(le,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:n("common.cancel","Cancel")}),i.jsx(le,{type:"submit",disabled:!a.trim()||c,children:c?n("common.creating","Creating..."):n("chat.createRoom","Create Room")})]})]})]})})}function YIe(){var B;const{user:e}=hr(),{t}=Rt(),{isRTL:r}=Ma(),[n,a]=x.useState([]),[s,o]=x.useState(null),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(!1),[m,g]=x.useState(!0),[p,v]=x.useState(!0),[y,b]=x.useState(!1);x.useState([]);const[_,j]=x.useState(!1),[w,N]=x.useState(!1),S=x.useRef(!1),k=x.useRef(null);x.useRef(null),x.useRef(null),x.useEffect(()=>{const D=()=>{const q=window.innerWidth<768;h(q),q||g(!0)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),x.useEffect(()=>{e&&!S.current&&O()},[e]),x.useEffect(()=>{var q;const D=(q=window.history.state)==null?void 0:q.usr;if(D!=null&&D.teamId&&n.length>0){const Y=n.find(P=>P.team_id===D.teamId);Y&&o(Y)}},[n]),x.useEffect(()=>{s&&(k.current!==s.room_id&&(v(!0),b(!1),A(s.room_id),e&&(Zi.markAsRead(s.room_id,e.id.toString()),a(D=>D.map(q=>q.room_id===s.room_id?{...q,unreadCount:0}:q)))),f&&g(!1))},[s,f,e]),x.useEffect(()=>{var P;if(!e||!s)return;let D=((P=l[0])==null?void 0:P.message_id)||0;const q=async()=>{try{const G=await Yc.getByRoom(s.room_id.toString(),{limit:5});if(G.length>0){const K=G[0];K.message_id>D&&(console.log("New message detected, refreshing..."),await A(s.room_id.toString()),D=K.message_id)}}catch(G){console.warn("Failed to poll for new messages:",G)}},Y=setInterval(q,2e3);return q(),()=>{clearInterval(Y)}},[e,s,l]);const C=async(D,q)=>{try{await Yc.update(D,q)}catch(Y){console.error("Failed to edit message:",Y)}},T=async D=>{if(confirm(t("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await Yc.delete(D)}catch(q){console.error("Failed to delete message:",q)}},O=async()=>{try{d(!0);const D=await Zi.getUserRooms(e==null?void 0:e.id.toString()),q=D.filter(G=>G.is_private).map(G=>G.room_id),Y=new Map;if(q.length>0){const G=q.map(Z=>Zi.getRoomMembers(Z).catch(()=>[])),K=await Promise.all(G);q.forEach((Z,se)=>{Y.set(Z,K[se])})}const P=D.map(G=>{if(G.is_private){const Z=(Y.get(G.room_id)||[]).find(se=>{var oe;return((oe=se.userid)==null?void 0:oe.toString())!==(e==null?void 0:e.id.toString())});return{...G,other_user:Z}}return G});a(P),S.current=!0}catch(D){console.error("Failed to load rooms:",D)}finally{d(!1)}},A=async(D,q=!1)=>{try{q&&b(!0);const Y=10,P=q&&l.length>0?l[0].created_at:void 0,G=await Yc.getByRoom(D,{limit:Y,before:P});q?(c(K=>[...G,...K]),v(G.length===Y)):(c(G),v(G.length===Y),k.current=D)}catch(Y){console.error("Failed to load messages:",Y)}finally{q&&b(!1)}},V=async()=>{!s||y||!p||await A(s.room_id,!0)},H=async D=>{if(!(!s||!e))try{const q={message_id:Date.now(),room_id:s.room_id,user_id:parseInt(e.id.toString()),content:D,metadata:null,created_at:new Date().toISOString(),sender:e.profile};c(Y=>[...Y,q]),await Yc.create({room_id:s.room_id,user_id:parseInt(e.id.toString()),content:D,metadata:null}),setTimeout(()=>{A(s.room_id.toString())},500)}catch(q){console.error("Failed to send message:",q),c(Y=>Y.filter(P=>P.message_id!==Date.now()))}},M=()=>{g(!0)},F=async(D,q)=>{if(e)try{const Y=await Zi.createRoom({name:D,is_private:q,created_by:e.profile.user_id||0,userid:e.id.toString()});await Zi.addMember(Y.room_id,e.id.toString()),await O();const P={...Y};o(P)}catch(Y){console.error("Failed to create channel:",Y)}},L=async D=>{if(!e)return;const q=n.find(Y=>{var P;return Y.is_private&&((P=Y.other_user)==null?void 0:P.userid)===D.userid});if(q){o(q);return}try{const Y=await Zi.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,userid:e.id.toString()});await Zi.addMember(Y.room_id,e.id.toString()),await Zi.addMember(Y.room_id,(D.userid||D.user_id||"").toString()),await O();const P={...Y,other_user:D};o(P)}catch(Y){console.error("Failed to create DM:",Y)}};return i.jsxs("div",{className:"flex w-full h-full overflow-hidden bg-background",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:ge("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-full bg-background border-r overflow-hidden",m?"translate-x-0":"-translate-x-full md:translate-x-0",f&&!m&&"hidden"),children:i.jsx(BIe,{rooms:n,selectedRoom:s,onSelectRoom:o,currentUser:e,onNewChannel:()=>j(!0),onNewDM:()=>N(!0)})}),i.jsx("div",{className:ge("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-full overflow-hidden",f&&m?"hidden":"flex"),children:i.jsx(UIe,{room:s,messages:l,currentUser:e,onSendMessage:H,onBack:M,loading:u,onLoadMore:V,hasMoreMessages:p,isLoadingMore:y,onEditMessage:C,onDeleteMessage:T})}),i.jsx(KIe,{open:_,onOpenChange:j,onCreate:F}),i.jsx(zIe,{open:w,onOpenChange:N,onSelectUser:L,currentUserId:(B=e==null?void 0:e.id)==null?void 0:B.toString()})]})}function nG(e,t){return function(){return e.apply(t,arguments)}}const{toString:XIe}=Object.prototype,{getPrototypeOf:RP}=Object,{iterator:lj,toStringTag:aG}=Symbol,cj=(e=>t=>{const r=XIe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ro=e=>(e=e.toLowerCase(),t=>cj(t)===e),uj=e=>t=>typeof t===e,{isArray:Mp}=Array,Jm=uj("undefined");function hx(e){return e!==null&&!Jm(e)&&e.constructor!==null&&!Jm(e.constructor)&&Ds(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sG=Ro("ArrayBuffer");function QIe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sG(e.buffer),t}const JIe=uj("string"),Ds=uj("function"),iG=uj("number"),mx=e=>e!==null&&typeof e=="object",ZIe=e=>e===!0||e===!1,e1=e=>{if(cj(e)!=="object")return!1;const t=RP(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(aG in e)&&!(lj in e)},eLe=e=>{if(!mx(e)||hx(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},tLe=Ro("Date"),rLe=Ro("File"),nLe=Ro("Blob"),aLe=Ro("FileList"),sLe=e=>mx(e)&&Ds(e.pipe),iLe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ds(e.append)&&((t=cj(e))==="formdata"||t==="object"&&Ds(e.toString)&&e.toString()==="[object FormData]"))},oLe=Ro("URLSearchParams"),[lLe,cLe,uLe,dLe]=["ReadableStream","Request","Response","Headers"].map(Ro),fLe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function px(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Mp(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(hx(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function oG(e,t){if(hx(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Nd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lG=e=>!Jm(e)&&e!==Nd;function zC(){const{caseless:e,skipUndefined:t}=lG(this)&&this||{},r={},n=(a,s)=>{const o=e&&oG(r,s)||s;e1(r[o])&&e1(a)?r[o]=zC(r[o],a):e1(a)?r[o]=zC({},a):Mp(a)?r[o]=a.slice():(!t||!Jm(a))&&(r[o]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&px(arguments[a],n);return r}const hLe=(e,t,r,{allOwnKeys:n}={})=>(px(t,(a,s)=>{r&&Ds(a)?e[s]=nG(a,r):e[s]=a},{allOwnKeys:n}),e),mLe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),pLe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},gLe=(e,t,r,n)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&RP(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},vLe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},xLe=e=>{if(!e)return null;if(Mp(e))return e;let t=e.length;if(!iG(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},yLe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&RP(Uint8Array)),bLe=(e,t)=>{const n=(e&&e[lj]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},_Le=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},wLe=Ro("HTMLFormElement"),jLe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),aL=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),SLe=Ro("RegExp"),cG=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};px(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},NLe=e=>{cG(e,(t,r)=>{if(Ds(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ds(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},kLe=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Mp(e)?n(e):n(String(e).split(t)),r},CLe=()=>{},ELe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function TLe(e){return!!(e&&Ds(e.append)&&e[aG]==="FormData"&&e[lj])}const ALe=e=>{const t=new Array(10),r=(n,a)=>{if(mx(n)){if(t.indexOf(n)>=0)return;if(hx(n))return n;if(!("toJSON"in n)){t[a]=n;const s=Mp(n)?[]:{};return px(n,(o,l)=>{const c=r(o,a+1);!Jm(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},PLe=Ro("AsyncFunction"),OLe=e=>e&&(mx(e)||Ds(e))&&Ds(e.then)&&Ds(e.catch),uG=((e,t)=>e?setImmediate:t?((r,n)=>(Nd.addEventListener("message",({source:a,data:s})=>{a===Nd&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Nd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ds(Nd.postMessage)),DLe=typeof queueMicrotask<"u"?queueMicrotask.bind(Nd):typeof process<"u"&&process.nextTick||uG,RLe=e=>e!=null&&Ds(e[lj]),Oe={isArray:Mp,isArrayBuffer:sG,isBuffer:hx,isFormData:iLe,isArrayBufferView:QIe,isString:JIe,isNumber:iG,isBoolean:ZIe,isObject:mx,isPlainObject:e1,isEmptyObject:eLe,isReadableStream:lLe,isRequest:cLe,isResponse:uLe,isHeaders:dLe,isUndefined:Jm,isDate:tLe,isFile:rLe,isBlob:nLe,isRegExp:SLe,isFunction:Ds,isStream:sLe,isURLSearchParams:oLe,isTypedArray:yLe,isFileList:aLe,forEach:px,merge:zC,extend:hLe,trim:fLe,stripBOM:mLe,inherits:pLe,toFlatObject:gLe,kindOf:cj,kindOfTest:Ro,endsWith:vLe,toArray:xLe,forEachEntry:bLe,matchAll:_Le,isHTMLForm:wLe,hasOwnProperty:aL,hasOwnProp:aL,reduceDescriptors:cG,freezeMethods:NLe,toObjectSet:kLe,toCamelCase:jLe,noop:CLe,toFiniteNumber:ELe,findKey:oG,global:Nd,isContextDefined:lG,isSpecCompliantForm:TLe,toJSONObject:ALe,isAsyncFn:PLe,isThenable:OLe,setImmediate:uG,asap:DLe,isIterable:RLe};function It(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Oe.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const dG=It.prototype,fG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fG[e]={value:e}});Object.defineProperties(It,fG);Object.defineProperty(dG,"isAxiosError",{value:!0});It.from=(e,t,r,n,a,s)=>{const o=Object.create(dG);Oe.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return It.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const MLe=null;function VC(e){return Oe.isPlainObject(e)||Oe.isArray(e)}function hG(e){return Oe.endsWith(e,"[]")?e.slice(0,-2):e}function sL(e,t,r){return e?e.concat(t).map(function(a,s){return a=hG(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function FLe(e){return Oe.isArray(e)&&!e.some(VC)}const ILe=Oe.toFlatObject(Oe,{},null,function(t){return/^is[A-Z]/.test(t)});function dj(e,t,r){if(!Oe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Oe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!Oe.isUndefined(v[p])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(t);if(!Oe.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Oe.isDate(g))return g.toISOString();if(Oe.isBoolean(g))return g.toString();if(!c&&Oe.isBlob(g))throw new It("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(g)||Oe.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,p,v){let y=g;if(g&&!v&&typeof g=="object"){if(Oe.endsWith(p,"{}"))p=n?p:p.slice(0,-2),g=JSON.stringify(g);else if(Oe.isArray(g)&&FLe(g)||(Oe.isFileList(g)||Oe.endsWith(p,"[]"))&&(y=Oe.toArray(g)))return p=hG(p),y.forEach(function(_,j){!(Oe.isUndefined(_)||_===null)&&t.append(o===!0?sL([p],j,s):o===null?p:p+"[]",u(_))}),!1}return VC(g)?!0:(t.append(sL(v,p,s),u(g)),!1)}const f=[],h=Object.assign(ILe,{defaultVisitor:d,convertValue:u,isVisitable:VC});function m(g,p){if(!Oe.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(g),Oe.forEach(g,function(y,b){(!(Oe.isUndefined(y)||y===null)&&a.call(t,y,Oe.isString(b)?b.trim():b,p,h))===!0&&m(y,p?p.concat(b):[b])}),f.pop()}}if(!Oe.isObject(e))throw new TypeError("data must be an object");return m(e),t}function iL(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function MP(e,t){this._pairs=[],e&&dj(e,this,t)}const mG=MP.prototype;mG.append=function(t,r){this._pairs.push([t,r])};mG.toString=function(t){const r=t?function(n){return t.call(this,n,iL)}:iL;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function LLe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pG(e,t,r){if(!t)return e;const n=r&&r.encode||LLe;Oe.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=Oe.isURLSearchParams(t)?t.toString():new MP(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class oL{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Oe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const gG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$Le=typeof URLSearchParams<"u"?URLSearchParams:MP,BLe=typeof FormData<"u"?FormData:null,ULe=typeof Blob<"u"?Blob:null,zLe={isBrowser:!0,classes:{URLSearchParams:$Le,FormData:BLe,Blob:ULe},protocols:["http","https","file","blob","url","data"]},FP=typeof window<"u"&&typeof document<"u",WC=typeof navigator=="object"&&navigator||void 0,VLe=FP&&(!WC||["ReactNative","NativeScript","NS"].indexOf(WC.product)<0),WLe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HLe=FP&&window.location.href||"http://localhost",qLe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FP,hasStandardBrowserEnv:VLe,hasStandardBrowserWebWorkerEnv:WLe,navigator:WC,origin:HLe},Symbol.toStringTag,{value:"Module"})),Na={...qLe,...zLe};function GLe(e,t){return dj(e,new Na.classes.URLSearchParams,{visitor:function(r,n,a,s){return Na.isNode&&Oe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function KLe(e){return Oe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function YLe(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function vG(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=r.length;return o=!o&&Oe.isArray(a)?a.length:o,c?(Oe.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!Oe.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&Oe.isArray(a[o])&&(a[o]=YLe(a[o])),!l)}if(Oe.isFormData(e)&&Oe.isFunction(e.entries)){const r={};return Oe.forEachEntry(e,(n,a)=>{t(KLe(n),a,r,0)}),r}return null}function XLe(e,t,r){if(Oe.isString(e))try{return(t||JSON.parse)(e),Oe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const gx={transitional:gG,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Oe.isObject(t);if(s&&Oe.isHTMLForm(t)&&(t=new FormData(t)),Oe.isFormData(t))return a?JSON.stringify(vG(t)):t;if(Oe.isArrayBuffer(t)||Oe.isBuffer(t)||Oe.isStream(t)||Oe.isFile(t)||Oe.isBlob(t)||Oe.isReadableStream(t))return t;if(Oe.isArrayBufferView(t))return t.buffer;if(Oe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return GLe(t,this.formSerializer).toString();if((l=Oe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return dj(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),XLe(t)):t}],transformResponse:[function(t){const r=this.transitional||gx.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Oe.isResponse(t)||Oe.isReadableStream(t))return t;if(t&&Oe.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?It.from(l,It.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Na.classes.FormData,Blob:Na.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],e=>{gx.headers[e]={}});const QLe=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JLe=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&QLe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},lL=Symbol("internals");function u0(e){return e&&String(e).trim().toLowerCase()}function t1(e){return e===!1||e==null?e:Oe.isArray(e)?e.map(t1):String(e)}function ZLe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const e5e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function d2(e,t,r,n,a){if(Oe.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Oe.isString(t)){if(Oe.isString(n))return t.indexOf(n)!==-1;if(Oe.isRegExp(n))return n.test(t)}}function t5e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function r5e(e,t){const r=Oe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}class Rs{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=u0(c);if(!d)throw new Error("header name must be a non-empty string");const f=Oe.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=t1(l))}const o=(l,c)=>Oe.forEach(l,(u,d)=>s(u,d,c));if(Oe.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Oe.isString(t)&&(t=t.trim())&&!e5e(t))o(JLe(t),r);else if(Oe.isObject(t)&&Oe.isIterable(t)){let l={},c,u;for(const d of t){if(!Oe.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Oe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=u0(t),t){const n=Oe.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return ZLe(a);if(Oe.isFunction(r))return r.call(this,a,n);if(Oe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=u0(t),t){const n=Oe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||d2(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=u0(o),o){const l=Oe.findKey(n,o);l&&(!r||d2(n,n[l],l,r))&&(delete n[l],a=!0)}}return Oe.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||d2(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return Oe.forEach(this,(a,s)=>{const o=Oe.findKey(n,s);if(o){r[o]=t1(a),delete r[s];return}const l=t?t5e(s):String(s).trim();l!==s&&delete r[s],r[l]=t1(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Oe.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Oe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[lL]=this[lL]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=u0(o);n[l]||(r5e(a,o),n[l]=!0)}return Oe.isArray(t)?t.forEach(s):s(t),this}}Rs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(Rs.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Oe.freezeMethods(Rs);function f2(e,t){const r=this||gx,n=t||r,a=Rs.from(n.headers);let s=n.data;return Oe.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function xG(e){return!!(e&&e.__CANCEL__)}function Fp(e,t,r){It.call(this,e??"canceled",It.ERR_CANCELED,t,r),this.name="CanceledError"}Oe.inherits(Fp,It,{__CANCEL__:!0});function yG(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new It("Request failed with status code "+r.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function n5e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function a5e(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];o||(o=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function s5e(e,t){let r=0,n=1e3/t,a,s;const o=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(a=u,s||(s=setTimeout(()=>{s=null,o(a)},n-f)))},()=>a&&o(a)]}const Jb=(e,t,r=3)=>{let n=0;const a=a5e(50,250);return s5e(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},cL=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},uL=e=>(...t)=>Oe.asap(()=>e(...t)),i5e=Na.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Na.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Na.origin),Na.navigator&&/(msie|trident)/i.test(Na.navigator.userAgent)):()=>!0,o5e=Na.hasStandardBrowserEnv?{write(e,t,r,n,a,s,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Oe.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Oe.isString(n)&&l.push(`path=${n}`),Oe.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),Oe.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function l5e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function c5e(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bG(e,t,r){let n=!l5e(t);return e&&(n||r==!1)?c5e(e,t):t}const dL=e=>e instanceof Rs?{...e}:e;function pf(e,t){t=t||{};const r={};function n(u,d,f,h){return Oe.isPlainObject(u)&&Oe.isPlainObject(d)?Oe.merge.call({caseless:h},u,d):Oe.isPlainObject(d)?Oe.merge({},d):Oe.isArray(d)?d.slice():d}function a(u,d,f,h){if(Oe.isUndefined(d)){if(!Oe.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!Oe.isUndefined(d))return n(void 0,d)}function o(u,d){if(Oe.isUndefined(d)){if(!Oe.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>a(dL(u),dL(d),f,!0)};return Oe.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);Oe.isUndefined(h)&&f!==l||(r[d]=h)}),r}const _G=e=>{const t=pf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Rs.from(o),t.url=pG(bG(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Oe.isFormData(r)){if(Na.hasStandardBrowserEnv||Na.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Oe.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Na.hasStandardBrowserEnv&&(n&&Oe.isFunction(n)&&(n=n(t)),n||n!==!1&&i5e(t.url))){const c=a&&s&&o5e.read(s);c&&o.set(a,c)}return t},u5e=typeof XMLHttpRequest<"u",d5e=u5e&&function(e){return new Promise(function(r,n){const a=_G(e);let s=a.data;const o=Rs.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,g;function p(){m&&m(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const _=Rs.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),w={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:_,config:e,request:v};yG(function(S){r(S),p()},function(S){n(S),p()},w),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new It("Request aborted",It.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const w=j&&j.message?j.message:"Network Error",N=new It(w,It.ERR_NETWORK,e,v);N.event=j||null,n(N),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const w=a.transitional||gG;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new It(j,w.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,e,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&Oe.forEach(o.toJSON(),function(j,w){v.setRequestHeader(w,j)}),Oe.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,g]=Jb(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,m]=Jb(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=_=>{v&&(n(!_||_.type?new Fp(null,e,v):_),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=n5e(a.url);if(b&&Na.protocols.indexOf(b)===-1){n(new It("Unsupported protocol "+b+":",It.ERR_BAD_REQUEST,e));return}v.send(s||null)})},f5e=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof It?d:new Fp(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new It(`timeout ${t} of ms exceeded`,It.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Oe.asap(l),c}},h5e=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},m5e=async function*(e,t){for await(const r of p5e(e))yield*h5e(r,t)},p5e=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},fL=(e,t,r,n)=>{const a=m5e(e,t);let s=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},hL=64*1024,{isFunction:xy}=Oe,g5e=(({Request:e,Response:t})=>({Request:e,Response:t}))(Oe.global),{ReadableStream:mL,TextEncoder:pL}=Oe.global,gL=(e,...t)=>{try{return!!e(...t)}catch{return!1}},v5e=e=>{e=Oe.merge.call({skipUndefined:!0},g5e,e);const{fetch:t,Request:r,Response:n}=e,a=t?xy(t):typeof fetch=="function",s=xy(r),o=xy(n);if(!a)return!1;const l=a&&xy(mL),c=a&&(typeof pL=="function"?(g=>p=>g.encode(p))(new pL):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=s&&l&&gL(()=>{let g=!1;const p=new r(Na.origin,{body:new mL,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!p}),d=o&&l&&gL(()=>Oe.isReadableStream(new n("").body)),f={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(p,v)=>{let y=p&&p[g];if(y)return y.call(p);throw new It(`Response type '${g}' is not supported`,It.ERR_NOT_SUPPORT,v)})});const h=async g=>{if(g==null)return 0;if(Oe.isBlob(g))return g.size;if(Oe.isSpecCompliantForm(g))return(await new r(Na.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(g)||Oe.isArrayBuffer(g))return g.byteLength;if(Oe.isURLSearchParams(g)&&(g=g+""),Oe.isString(g))return(await c(g)).byteLength},m=async(g,p)=>{const v=Oe.toFiniteNumber(g.getContentLength());return v??h(p)};return async g=>{let{url:p,method:v,data:y,signal:b,cancelToken:_,timeout:j,onDownloadProgress:w,onUploadProgress:N,responseType:S,headers:k,withCredentials:C="same-origin",fetchOptions:T}=_G(g),O=t||fetch;S=S?(S+"").toLowerCase():"text";let A=f5e([b,_&&_.toAbortSignal()],j),V=null;const H=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let M;try{if(N&&u&&v!=="get"&&v!=="head"&&(M=await m(k,y))!==0){let Y=new r(p,{method:"POST",body:y,duplex:"half"}),P;if(Oe.isFormData(y)&&(P=Y.headers.get("content-type"))&&k.setContentType(P),Y.body){const[G,K]=cL(M,Jb(uL(N)));y=fL(Y.body,hL,G,K)}}Oe.isString(C)||(C=C?"include":"omit");const F=s&&"credentials"in r.prototype,L={...T,signal:A,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:y,duplex:"half",credentials:F?C:void 0};V=s&&new r(p,L);let B=await(s?O(V,T):O(p,L));const D=d&&(S==="stream"||S==="response");if(d&&(w||D&&H)){const Y={};["status","statusText","headers"].forEach(Z=>{Y[Z]=B[Z]});const P=Oe.toFiniteNumber(B.headers.get("content-length")),[G,K]=w&&cL(P,Jb(uL(w),!0))||[];B=new n(fL(B.body,hL,G,()=>{K&&K(),H&&H()}),Y)}S=S||"text";let q=await f[Oe.findKey(f,S)||"text"](B,g);return!D&&H&&H(),await new Promise((Y,P)=>{yG(Y,P,{data:q,headers:Rs.from(B.headers),status:B.status,statusText:B.statusText,config:g,request:V})})}catch(F){throw H&&H(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new It("Network Error",It.ERR_NETWORK,g,V),{cause:F.cause||F}):It.from(F,F&&F.code,g,V)}}},x5e=new Map,wG=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let o=s.length,l=o,c,u,d=x5e;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:v5e(t)),d=u;return u};wG();const IP={http:MLe,xhr:d5e,fetch:{get:wG}};Oe.forEach(IP,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vL=e=>`- ${e}`,y5e=e=>Oe.isFunction(e)||e===null||e===!1;function b5e(e,t){e=Oe.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!y5e(n)&&(a=IP[(l=String(n)).toLowerCase()],a===void 0))throw new It(`Unknown adapter '${l}'`);if(a&&(Oe.isFunction(a)||(a=a.get(t))))break;s[l||"#"+o]=a}if(!a){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(vL).join(`
`):" "+vL(o[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const jG={getAdapter:b5e,adapters:IP};function h2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fp(null,e)}function xL(e){return h2(e),e.headers=Rs.from(e.headers),e.data=f2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jG.getAdapter(e.adapter||gx.adapter,e)(e).then(function(n){return h2(e),n.data=f2.call(e,e.transformResponse,n),n.headers=Rs.from(n.headers),n},function(n){return xG(n)||(h2(e),n&&n.response&&(n.response.data=f2.call(e,e.transformResponse,n.response),n.response.headers=Rs.from(n.response.headers))),Promise.reject(n)})}const SG="1.13.2",fj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fj[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const yL={};fj.transitional=function(t,r,n){function a(s,o){return"[Axios v"+SG+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new It(a(o," has been removed"+(r?" in "+r:"")),It.ERR_DEPRECATED);return r&&!yL[o]&&(yL[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};fj.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function _5e(e,t,r){if(typeof e!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new It("option "+s+" must be "+c,It.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new It("Unknown option "+s,It.ERR_BAD_OPTION)}}const r1={assertOptions:_5e,validators:fj},$o=r1.validators;class Vd{constructor(t){this.defaults=t||{},this.interceptors={request:new oL,response:new oL}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=pf(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&r1.assertOptions(n,{silentJSONParsing:$o.transitional($o.boolean),forcedJSONParsing:$o.transitional($o.boolean),clarifyTimeoutError:$o.transitional($o.boolean)},!1),a!=null&&(Oe.isFunction(a)?r.paramsSerializer={serialize:a}:r1.assertOptions(a,{encode:$o.function,serialize:$o.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),r1.assertOptions(r,{baseUrl:$o.spelling("baseURL"),withXsrfToken:$o.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&Oe.merge(s.common,s[r.method]);s&&Oe.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=Rs.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,h;if(!c){const g=[xL.bind(this),void 0];for(g.unshift(...l),g.push(...u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let m=r;for(;f<h;){const g=l[f++],p=l[f++];try{m=g(m)}catch(v){p.call(this,v);break}}try{d=xL.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=pf(this.defaults,t);const r=bG(t.baseURL,t.url,t.allowAbsoluteUrls);return pG(r,t.params,t.paramsSerializer)}}Oe.forEach(["delete","get","head","options"],function(t){Vd.prototype[t]=function(r,n){return this.request(pf(n||{},{method:t,url:r,data:(n||{}).data}))}});Oe.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(pf(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Vd.prototype[t]=r(),Vd.prototype[t+"Form"]=r(!0)});class LP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new Fp(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new LP(function(a){t=a}),cancel:t}}}function w5e(e){return function(r){return e.apply(null,r)}}function j5e(e){return Oe.isObject(e)&&e.isAxiosError===!0}const HC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HC).forEach(([e,t])=>{HC[t]=e});function NG(e){const t=new Vd(e),r=nG(Vd.prototype.request,t);return Oe.extend(r,Vd.prototype,t,{allOwnKeys:!0}),Oe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return NG(pf(e,a))},r}const Lr=NG(gx);Lr.Axios=Vd;Lr.CanceledError=Fp;Lr.CancelToken=LP;Lr.isCancel=xG;Lr.VERSION=SG;Lr.toFormData=dj;Lr.AxiosError=It;Lr.Cancel=Lr.CanceledError;Lr.all=function(t){return Promise.all(t)};Lr.spread=w5e;Lr.isAxiosError=j5e;Lr.mergeConfig=pf;Lr.AxiosHeaders=Rs;Lr.formToJSON=e=>vG(Oe.isHTMLForm(e)?new FormData(e):e);Lr.getAdapter=jG.getAdapter;Lr.HttpStatusCode=HC;Lr.default=Lr;const d0="https://app.chatwoot.com",Bo="",Uo="",yy={async getConversations(e="open",t=1){var r;try{if(!Bo||!Uo)return console.warn("Chatwoot credentials missing. Please check .env file."),[];const a=(await Lr.get(`${d0}/api/v1/accounts/${Uo}/conversations`,{headers:{api_access_token:Bo},params:{status:e,page:t}})).data;return(r=a==null?void 0:a.data)!=null&&r.payload?a.data.payload:a!=null&&a.payload?a.payload:[]}catch(n){return console.error("[Chatwoot] Failed to fetch conversations:",n),[]}},async getMessages(e){try{return!Bo||!Uo?[]:(await Lr.get(`${d0}/api/v1/accounts/${Uo}/conversations/${e}/messages`,{headers:{api_access_token:Bo}})).data.payload||[]}catch(t){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,t),[]}},async sendMessage(e,t,r=!1){try{return!Bo||!Uo?null:(await Lr.post(`${d0}/api/v1/accounts/${Uo}/conversations/${e}/messages`,{content:t,message_type:r?"private":"outgoing",private:r},{headers:{api_access_token:Bo}})).data}catch(n){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,n),n}},async toggleStatus(e,t){try{if(!Bo||!Uo)return;await Lr.post(`${d0}/api/v1/accounts/${Uo}/conversations/${e}/toggle_status`,{status:t},{headers:{api_access_token:Bo}})}catch(r){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,r),r}},async getInboxes(){try{return!Bo||!Uo?[]:(await Lr.get(`${d0}/api/v1/accounts/${Uo}/inboxes`,{headers:{api_access_token:Bo}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function S5e(){const{t:e}=Rt();hr(),Po();const[t,r]=x.useState([]),[n,a]=x.useState(null),[s,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,g]=x.useState(""),[p,v]=x.useState("open"),y=x.useRef(null);x.useEffect(()=>{b(p);const k=setInterval(()=>{b(p,!0)},3e4);return()=>clearInterval(k)},[p]),x.useEffect(()=>{if(n){_(n.id);const k=setInterval(()=>_(n.id),1e4);return()=>clearInterval(k)}},[n]),x.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[s]);const b=async(k,C=!1)=>{C||c(!0);try{const T=await yy.getConversations(k);r(T||[])}catch(T){console.error("Failed to load conversations:",T),C||console.error("User notification skipped for load error")}finally{C||c(!1)}},_=async k=>{s.length===0&&d(!0);try{const C=await yy.getMessages(k);o(C)}catch(C){console.error("Failed to load messages",C)}finally{d(!1)}},j=async()=>{if(!(!m.trim()||!n)){h(!0);try{const k=await yy.sendMessage(n.id,m);k&&(o(C=>[...C,k]),g(""))}catch(k){console.error("Failed to send message",k)}finally{h(!1)}}},w=async k=>{try{const C=p==="open"?"resolved":"open";await yy.toggleStatus(k,C),p!=="all"?(r(T=>T.filter(O=>O.id!==k)),(n==null?void 0:n.id)===k&&(a(null),o([]))):(r(T=>T.map(O=>O.id===k?{...O,status:C}:O)),b(p))}catch(C){console.error("Failed to toggle status",C)}},N=k=>k!=null&&k.includes("email")?i.jsx(eh,{className:"h-4 w-4"}):k!=null&&k.includes("whatsapp")?i.jsx(ql,{className:"h-4 w-4"}):i.jsx(Ru,{className:"h-4 w-4"}),S=k=>new Date(k*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg shadow-sm",dir:qt()?"rtl":"ltr",children:[i.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[i.jsxs("div",{className:"p-4 border-b space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),i.jsx(le,{variant:"ghost",size:"icon",onClick:()=>b(p),disabled:l,children:i.jsx(tf,{className:`h-4 w-4 ${l?"animate-spin":""}`})})]}),i.jsx(Ao,{defaultValue:"open",onValueChange:k=>v(k),className:"w-full",children:i.jsxs(Ii,{className:"grid w-full grid-cols-3",children:[i.jsx(kr,{value:"open",children:e("status.open")}),i.jsx(kr,{value:"resolved",children:e("status.closed")}),i.jsx(kr,{value:"all",children:e("common.all")})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(ps,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Be,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),i.jsx(Xa,{className:"flex-1",children:t.length===0&&!l?i.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):i.jsx("div",{className:"divide-y",children:t.map(k=>i.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(n==null?void 0:n.id)===k.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>a(k),children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Fs,{className:"h-8 w-8",children:[i.jsx(No,{src:k.meta.sender.thumbnail}),i.jsx(Is,{children:k.meta.sender.name.charAt(0)})]}),i.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:k.meta.sender.name})]}),i.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:S(k.timestamp)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[N(k.meta.channel),i.jsx("span",{className:"capitalize",children:k.meta.channel.split(".")[1]||"Web"}),k.status==="resolved"&&i.jsx(ht,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),i.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:k.messages&&k.messages.length>0?k.messages[k.messages.length-1].content:e("common.noMessages")||"No messages"})]},k.id))})})]}),i.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:n?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Fs,{children:[i.jsx(No,{src:n.meta.sender.thumbnail}),i.jsx(Is,{children:n.meta.sender.name.charAt(0)})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:n.meta.sender.name}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.meta.sender.email&&i.jsx("span",{children:n.meta.sender.email}),n.meta.sender.phone_number&&i.jsxs("span",{children:[" ",n.meta.sender.phone_number]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(le,{variant:n.status==="resolved"?"outline":"default",size:"sm",onClick:()=>w(n.id),children:n.status==="resolved"?i.jsxs(i.Fragment,{children:[i.jsx(tf,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):i.jsxs(i.Fragment,{children:[i.jsx(cR,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),i.jsxs(QT,{children:[i.jsx(JT,{asChild:!0,children:i.jsx(le,{variant:"ghost",size:"icon",children:i.jsx(jB,{className:"h-4 w-4"})})}),i.jsxs(nw,{align:"end",children:[i.jsx(zl,{children:e("chats.viewContactDetails")}),i.jsx(zl,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),i.jsx("div",{ref:y,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):s.map(k=>{const C=k.message_type==="outgoing"||k.sender&&k.sender.type==="user",T=k.private;return i.jsx("div",{className:`flex w-full ${C?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${T?"bg-yellow-50 border border-yellow-200":C?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[T&&i.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[i.jsx(eae,{className:"h-3 w-3"})," ",e("chats.note")]}),i.jsx("div",{className:"text-sm whitespace-pre-wrap",children:k.content}),i.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${C?"text-primary-foreground/70":"text-muted-foreground"}`,children:[S(k.created_at),C&&i.jsx(cR,{className:"h-3 w-3"})]})]})},k.id)})}),i.jsxs("div",{className:"p-4 border-t bg-background",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Be,{placeholder:e("chats.typeMessage"),value:m,onChange:k=>g(k.target.value),onKeyDown:k=>k.key==="Enter"&&!k.shiftKey&&j(),disabled:f||n.status==="resolved",className:"flex-1"}),i.jsx(le,{onClick:j,disabled:f||!m.trim()||n.status==="resolved",children:f?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):i.jsx(Lv,{className:"h-4 w-4"})})]}),n.status==="resolved"&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[i.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:i.jsx(Ru,{className:"h-8 w-8 text-muted-foreground/50"})}),i.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),i.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}function N5e(){const{user:e}=hr(),{t}=Rt(),[r,n]=x.useState([]),[a,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(""),[h,m]=x.useState(!0),[g,p]=x.useState(!1),[v,y]=x.useState(null),[b,_]=x.useState(null),[j,w]=x.useState(!1),[N,S]=x.useState(!0),k=x.useRef(!1),C=x.useRef(null),T=x.useRef(null);x.useEffect(()=>{e&&!k.current&&O()},[e]),x.useEffect(()=>{a&&(T.current!==a.room_id&&V(),C.current!==a.room_id&&A())},[a]),x.useEffect(()=>{a&&(async()=>{try{console.log("Realtime not available - Supabase removed");return}catch(L){console.error("Failed to setup realtime:",L)}})()},[a]),x.useEffect(()=>{p(!1),y(null),_(null),k.current=!1,C.current=null,T.current=null},[e]);const O=async()=>{if(!k.current)try{m(!0);const F=await Zi.getUserRooms((e==null?void 0:e.id)||"");n(F),F.length>0&&s(F[0]),p(!0),k.current=!0}catch(F){console.error("Failed to load rooms:",F)}finally{m(!1)}},A=async()=>{if(!(!a||C.current===a.room_id))try{const F=await Yc.getByRoom(a.room_id);l(F),y(a.room_id),C.current=a.room_id}catch(F){console.error("Failed to load messages:",F)}},V=async()=>{if(!(!a||T.current===a.room_id))try{const F=await Zi.getRoomMembers(a.room_id);u(F),_(a.room_id),T.current=a.room_id}catch(F){console.error("Failed to load room members:",F)}},H=async()=>{if(!d.trim()||!a||!e)return;const F=d.trim(),L={message_id:`temp-${Date.now()}`,room_id:a.room_id,userid:e.id.toString(),content:F,created_at:new Date().toISOString(),metadata:null};l(B=>[...B,L]),f("");try{await Yc.create({room_id:a.room_id,userid:e.id.toString(),content:F,metadata:null})}catch(B){console.error("Failed to send message:",B),l(D=>D.filter(q=>q.message_id!==L.message_id)),f(F)}},M=F=>new Date(F).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return h?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{size:"xl"})}):i.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[i.jsxs("div",{className:`flex-col border rounded-lg ${N?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[i.jsx("div",{className:"p-4 border-b",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h2",{className:"text-xl font-semibold",children:t("chats.myChatRooms")})})}),i.jsx(Xa,{className:"flex-1 p-4",children:i.jsx("div",{className:"space-y-2",children:r.map(F=>i.jsx(et,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===F.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>s(F),children:i.jsx(ct,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Xx,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:F.room_name||`Room ${F.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:F.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},F.room_id))})})]}),a&&i.jsx("div",{className:"md:hidden mb-4",children:i.jsxs(vl,{open:j,onOpenChange:w,children:[i.jsx(P7,{asChild:!0,children:i.jsxs(le,{variant:"outline",className:"w-full justify-between",children:[i.jsx("span",{className:"truncate",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),i.jsx(Xx,{className:"h-4 w-4 ml-2"})]})}),i.jsx(Eo,{side:"left",className:"w-80 p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:t("chats.myChatRooms")}),i.jsx(Xa,{className:"h-[60vh]",children:i.jsx("div",{className:"space-y-2",children:r.map(F=>i.jsx(et,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===F.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{s(F),w(!1)},children:i.jsx(ct,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Xx,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:F.room_name||`Room ${F.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:F.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},F.room_id))})})]})})]})}),i.jsx("div",{className:"flex-1 flex flex-col",children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Qa,{className:"h-4 w-4"}),i.jsxs("span",{children:[c.length," ",t("chats.members")]}),a.is_private&&i.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:t("chats.private")})]})]}),i.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>S(!N),children:i.jsx(wae,{className:"h-4 w-4"})})]}),i.jsx(Xa,{className:"flex-1 mb-4",children:i.jsx("div",{className:"space-y-4 p-4",children:b===a.room_id&&o.map(F=>{var B,D,q,Y,P;let L;return F.userid===((B=e==null?void 0:e.id)==null?void 0:B.toString())?L={userid:e.id.toString(),user_name:((D=e.profile)==null?void 0:D.user_name)||e.email||t("chats.you"),avatar:(q=e.profile)==null?void 0:q.avatar,user_id:((Y=e.profile)==null?void 0:Y.user_id)||0,user_email:e.email}:L=c.find(G=>G.userid===F.userid),L||(L={userid:F.userid,user_name:t("chats.unknownUser"),avatar:"",user_id:0}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(Fs,{className:"h-8 w-8",children:[i.jsx(No,{src:L.avatar||""}),i.jsx(Is,{children:((P=L.user_name)==null?void 0:P.charAt(0))||"?"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-sm",children:L.user_name}),i.jsx("span",{className:"text-xs text-muted-foreground",children:M(F.created_at)})]}),i.jsx("p",{className:"text-sm",children:F.content})]})]},F.message_id)})})}),i.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[i.jsx(Be,{value:d,onChange:F=>f(F.target.value),placeholder:t("chats.typeMessage"),onKeyPress:F=>F.key==="Enter"&&H(),className:"flex-1"}),i.jsx(le,{onClick:H,disabled:!d.trim(),children:i.jsx(Lv,{className:"h-4 w-4"})})]})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx(Xx,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:t("chats.selectRoom")})]})})})]})}function k5e(){const{isRTL:e}=Ma();Br();const[t,r]=x.useState(null),[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0),{user:f,signOut:h}=hr();x.useEffect(()=>{(async()=>{if(f!=null&&f.id)try{d(!0);const p=await Eh.getByUserAuthId(f.id);a(p)}catch(p){console.error("Failed to fetch user projects:",p)}finally{d(!1)}})()},[f==null?void 0:f.id]),x.useEffect(()=>{(async()=>{if(t)try{const[p,v]=await Promise.all([Sd.getAll(),BC.getByTask(0)]),y=p.filter(b=>!0);o(y),c(v)}catch(p){console.error("Failed to fetch project data:",p)}})()},[t]);const m=t?n.find(g=>g.project_id===t):null;return i.jsxs("div",{className:"space-y-6",dir:e?"rtl":"ltr",children:[i.jsx("header",{className:"border-b bg-card",children:i.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),i.jsxs(le,{variant:"ghost",size:"sm",children:[i.jsx(xae,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),i.jsxs("div",{className:"container mx-auto px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",Ae((f==null?void 0:f.profile)||{},"user_name"),"! "]}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),m?i.jsxs("div",{children:[i.jsx(le,{variant:"ghost",className:"mb-4",onClick:()=>r(null),children:" Back to Projects"}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(et,{children:[i.jsx($t,{children:i.jsx(Jt,{children:m.project_name})}),i.jsxs(ct,{children:[i.jsx("p",{className:"text-muted-foreground",children:m.project_description||"No description available"}),i.jsxs("div",{className:"mt-4",children:[i.jsx(mf,{value:m.progress||0,className:"h-3"}),i.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[m.progress||0,"% Complete"]})]})]})]}),i.jsxs(Ao,{defaultValue:"tasks",children:[i.jsxs(Ii,{children:[i.jsx(kr,{value:"tasks",children:"Tasks"}),i.jsx(kr,{value:"images",children:"Gallery"}),i.jsx(kr,{value:"comments",children:"Comments"})]}),i.jsx(Vr,{value:"tasks",className:"space-y-3",children:s.filter(g=>g.stage_id!==null).map(g=>{var p;return i.jsx(et,{children:i.jsx(ct,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:g.task_name}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.description||"No description"})]}),i.jsxs(ht,{variant:g.task_status==="completed"?"default":"secondary",children:[g.task_status==="completed"?"":""," ",((p=g.task_status)==null?void 0:p.replace("_"," "))||"pending"]})]})})},g.task_id)})}),i.jsx(Vr,{value:"images",children:i.jsx(et,{children:i.jsx(ct,{className:"pt-6",children:i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(g=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},g))})})})}),i.jsx(Vr,{value:"comments",children:i.jsx(et,{children:i.jsxs(ct,{className:"pt-6 space-y-4",children:[l.map(g=>i.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[i.jsx("div",{className:"text-2xl",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),i.jsx("p",{className:"text-sm mt-1",children:g.message||"No message"}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:g.created_date?new Date(g.created_date).toLocaleString():"Unknown date"})]})]},g.comment_id)),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx(Be,{placeholder:"Add a comment..."}),i.jsx(le,{children:i.jsx(Ru,{className:"h-4 w-4"})})]})]})})})]})]}),i.jsx("div",{children:i.jsxs(et,{children:[i.jsx($t,{children:i.jsx(Jt,{className:"text-lg",children:"Timeline"})}),i.jsxs(ct,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:m.created_date?new Date(m.created_date).toLocaleDateString():"N/A"})]}),m.end_date&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"End Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(m.end_date).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Project Kickoff"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Design Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-blue-500",children:""}),i.jsx("span",{children:"Development Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):u?i.jsx(Pa,{size:"xl"}):n.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),i.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(g=>i.jsxs(et,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(g.project_id),children:[i.jsxs($t,{children:[i.jsx(Jt,{className:"text-lg",children:g.project_name}),i.jsxs(ht,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",g.stage||"N/A"]})]}),i.jsx(ct,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progress"}),i.jsxs("span",{className:"font-semibold",children:[g.progress||0,"%"]})]}),i.jsx(mf,{value:g.progress||0,className:"h-2"})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",g.created_date?new Date(g.created_date).toLocaleDateString():"N/A"]}),i.jsx(le,{className:"w-full",variant:"outline",children:"View Details "})]})})]},g.project_id))})]})]})}const C5e=()=>{const e=$s(),{t}=Rt(),{toast:r}=Po(),{companyName:n}=BB(),a=[{icon:i.jsx($d,{className:"h-6 w-6"}),title:t("landing.features.projectManagement.title"),description:t("landing.features.projectManagement.description")},{icon:i.jsx(Qa,{className:"h-6 w-6"}),title:t("landing.features.leadManagement.title"),description:t("landing.features.leadManagement.description")},{icon:i.jsx(_B,{className:"h-6 w-6"}),title:t("landing.features.analytics.title"),description:t("landing.features.analytics.description")},{icon:i.jsx(Ru,{className:"h-6 w-6"}),title:t("landing.features.communication.title"),description:t("landing.features.communication.description")},{icon:i.jsx(z0,{className:"h-6 w-6"}),title:t("landing.features.taskManagement.title"),description:t("landing.features.taskManagement.description")},{icon:i.jsx(M1,{className:"h-6 w-6"}),title:t("landing.features.security.title"),description:t("landing.features.security.description")}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[i.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:(n==null?void 0:n.charAt(0))||"M"})}),i.jsx("span",{className:"text-xl font-bold text-gray-900",children:n})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(fU,{}),i.jsx(le,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:t("buttons.login")})]})]})}),i.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"text-center",children:[i.jsxs(ht,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[i.jsx(SB,{className:"h-3 w-3 mr-1"}),t("landing.badge")]}),i.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[t("landing.hero.title.line1"),i.jsx("span",{className:"text-primary block",children:t("landing.hero.title.line2")})]}),i.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:t("landing.hero.description")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[i.jsxs(le,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[t("landing.hero.cta.primary"),i.jsx(rae,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),i.jsx(le,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:t("landing.hero.cta.secondary")})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.users")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.usersLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.projects")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.projectsLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.uptime")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.uptimeLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.support")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.supportLabel")})]})]})]})}),i.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:t("landing.features.title")}),i.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t("landing.features.subtitle")})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:a.map((s,o)=>i.jsx(et,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:i.jsxs(ct,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:s.icon}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.title})]}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.description})]})},o))})]})}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[i.jsx(et,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:i.jsxs(ct,{className:"p-8 sm:p-12 text-center",children:[i.jsx(kB,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),i.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:t("landing.cta.title")}),i.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:t("landing.cta.description")}),i.jsxs(le,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[t("landing.cta.button"),i.jsx(Bd,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),i.jsx(et,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:i.jsxs(ct,{className:"p-8 sm:p-12",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t("landing.partner.title")}),i.jsx("p",{className:"text-gray-600",children:t("landing.partner.subtitle")})]}),i.jsxs("form",{className:"space-y-4",onSubmit:async s=>{s.preventDefault();const o=s.target,l=new FormData(o);try{await Zy.createApplication({company_name:l.get("company_name"),full_name:l.get("full_name"),email:l.get("email"),phone:l.get("phone")}),r({title:t("landing.partner.success"),description:t("landing.partner.successMessage")}),o.reset()}catch{r({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[i.jsx("div",{className:"space-y-2",children:i.jsx(Be,{name:"company_name",placeholder:t("landing.partner.companyName"),required:!0,className:"bg-white"})}),i.jsx("div",{className:"space-y-2",children:i.jsx(Be,{name:"full_name",placeholder:t("landing.partner.fullName"),required:!0,className:"bg-white"})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(Be,{name:"email",type:"email",placeholder:t("landing.partner.email"),required:!0,className:"bg-white"}),i.jsx(Be,{name:"phone",type:"tel",placeholder:t("landing.partner.phone"),required:!0,className:"bg-white"})]}),i.jsx(le,{type:"submit",className:"w-full text-lg h-12",children:t("landing.partner.submit")})]})]})})]})})}),i.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:(n==null?void 0:n.charAt(0))||"M"})}),i.jsxs("span",{className:"font-semibold text-gray-900",children:[n," CRM"]})]}),i.jsx("p",{className:"text-sm text-gray-600",children:t("landing.footer.copyright",{brand:t("landing.brandName")})})]})})]})},E5e=()=>{const[e,t]=x.useState("loading"),[r,n]=x.useState("Processing authentication..."),a=$s(),{user:s}=hr();return x.useEffect(()=>((async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),s){console.log("[AuthCallback] User already authenticated by auth context:",s.role),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{s.role==="client"?a("/client-portal"):s.role==="employee"||s.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] No user from context, checking localStorage..."),t("error"),n("OAuth authentication is not available. Please use email/password sign in."),setTimeout(()=>a("/login"),3e3)}catch(l){console.error("[AuthCallback] Error handling callback:",l),t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3)}})(),()=>{}),[s,a]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&i.jsxs(i.Fragment,{children:[i.jsx(Pa,{size:"xl",message:r}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),i.jsx("p",{className:"text-gray-600",children:r})]})]})})};function bL({data:e,columns:t,actions:r=[],keyExtractor:n,className:a="",gridClassName:s="grid gap-4 md:grid-cols-2 lg:grid-cols-3 pb-4",cardClassName:o="group relative overflow-hidden transition-all duration-300 hover:shadow-xl border-primary/5 hover:border-primary/20",emptyState:l,onCardClick:c,renderCardHeader:u,renderCardContent:d,renderCardFooter:f}){return Rt(),e.length===0&&l?i.jsx(et,{className:ge("flex items-center justify-center h-64",a),children:i.jsxs(ct,{className:"text-center",children:[l.icon&&i.jsx("div",{className:"mb-4",children:l.icon}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:l.title}),i.jsx("p",{className:"text-muted-foreground",children:l.description})]})}):i.jsx("div",{className:ge(s,a),dir:qt()?"rtl":"ltr",children:e.map((h,m)=>{var p,v,y,b,_,j;const g=n(h,m);return i.jsxs(et,{className:ge(o,c&&"cursor-pointer"),children:[i.jsx("div",{className:"absolute top-0 inset-inline-start-0 w-1 h-full bg-primary/10 group-hover:bg-primary transition-colors"}),u?u(h,m):i.jsx($t,{className:"pb-3",children:i.jsx("div",{className:"flex items-start justify-between gap-2",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[(p=t.find(w=>w.key==="title"))!=null&&p.render?t.find(w=>w.key==="title").render(h,m):i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:String(h[(v=t.find(w=>w.key==="title"))==null?void 0:v.key]||"")}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.filter(w=>w.key!=="title"&&w.render).map((w,N)=>i.jsx(ie.Fragment,{children:w.render(h,m)},N))})]})})}),d?d(h,m):i.jsxs(ct,{className:"space-y-4",children:[(y=t.find(w=>w.key==="description"))!=null&&y.render?t.find(w=>w.key==="description").render(h,m):i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 min-h-[40px]",children:String(h[(b=t.find(w=>w.key==="description"))==null?void 0:b.key]||"")}),f?f(h,m):i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-primary/5",children:[(_=t.find(w=>w.key==="date"))!=null&&_.render?t.find(w=>w.key==="date").render(h,m):i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(ef,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:new Date(String(h[(j=t.find(w=>w.key==="date"))==null?void 0:j.key]||Date.now())).toLocaleDateString()})]}),r.length>0&&i.jsx("div",{className:"flex items-center gap-1 opacity-80 group-hover:opacity-100 transition-opacity",children:r.filter(w=>!w.condition||w.condition(h)).map(w=>i.jsx(le,{variant:w.variant||"ghost",size:"icon",className:ge("h-8 w-8",w.className),onClick:N=>{N.stopPropagation(),w.onClick(h,N)},title:w.title||w.label,children:w.icon},w.key))})]})]})]},g)})})}const _L=({children:e,className:t})=>i.jsx("h3",{className:ge("font-semibold text-base truncate group-hover:text-primary transition-colors",t),children:e}),T5e=({children:e,className:t})=>i.jsx("p",{className:ge("text-sm text-muted-foreground line-clamp-2 min-h-[40px]",t),children:e}),wL=({date:e,className:t})=>i.jsxs("div",{className:ge("flex items-center gap-2 text-xs text-muted-foreground",t),children:[i.jsx(ef,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:new Date(e).toLocaleDateString()})]}),m2=({children:e,variant:t="secondary",className:r})=>i.jsx(ht,{variant:t,className:ge("text-[10px] uppercase tracking-wider font-bold",r),children:e}),Zm=({className:e,...t})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:ge("mx-auto flex w-full justify-center",e),...t});Zm.displayName="Pagination";const ep=x.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,className:ge("flex flex-row items-center gap-1",e),...t}));ep.displayName="PaginationContent";const Sa=x.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,className:ge("",e),...t}));Sa.displayName="PaginationItem";const $P=({className:e,isActive:t,size:r="icon",...n})=>i.jsx("a",{"aria-current":t?"page":void 0,className:ge(bm({variant:t?"outline":"ghost",size:r}),e),...n});$P.displayName="PaginationLink";const du=({className:e,children:t,...r})=>i.jsx($P,{"aria-label":"Go to previous page",size:"default",className:ge("gap-1 pl-2.5",e),...r,children:i.jsx("span",{children:t||"Previous"})});du.displayName="PaginationPrevious";const fu=({className:e,children:t,...r})=>i.jsx($P,{"aria-label":"Go to next page",size:"default",className:ge("gap-1 pr-2.5",e),...r,children:i.jsx("span",{children:t||"Next"})});fu.displayName="PaginationNext";/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var kG=1252,A5e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],BP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},UP=function(e){A5e.indexOf(e)!=-1&&(kG=BP[0]=e)};function P5e(){UP(1252)}var ho=function(e){UP(e)};function CG(){ho(1200),P5e()}function jL(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function O5e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function EG(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var N0=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?O5e(e.slice(2)):t==254&&r==255?EG(e.slice(2)):t==65279?e.slice(1):e},by=function(t){return String.fromCharCode(t)},SL=function(t){return String.fromCharCode(t)},Xc,hu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function NL(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=hu.charAt(s)+hu.charAt(o)+hu.charAt(l)+hu.charAt(c);return t}function li(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=hu.indexOf(e.charAt(u++)),o=hu.indexOf(e.charAt(u++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=hu.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=hu.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Xt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Pf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Lu(e){return Xt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function kL(e){return Xt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var co=function(t){return Xt?Pf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Of(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function zP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return zP(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Qc=Xt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Pf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function D5e(e){for(var t=[],r=0,n=e.length+250,a=Lu(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Lu(65535),n=65530)}return t.push(a.slice(0,r)),Qc(t)}var as=/\u0000/g,k0=/[\u0001-\u0006]/g;function qh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function mo(e,t){var r=""+e;return r.length>=t?r:Qr("0",t-r.length)+r}function VP(e,t){var r=""+e;return r.length>=t?r:Qr(" ",t-r.length)+r}function Zb(e,t){var r=""+e;return r.length>=t?r:r+Qr(" ",t-r.length)}function R5e(e,t){var r=""+Math.round(e);return r.length>=t?r:Qr("0",t-r.length)+r}function M5e(e,t){var r=""+e;return r.length>=t?r:Qr("0",t-r.length)+r}var CL=Math.pow(2,32);function Jf(e,t){if(e>CL||e<-CL)return R5e(e,t);var r=Math.round(e);return M5e(r,t)}function e_(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var EL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],p2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function F5e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ft={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},TL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},I5e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function t_(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function kd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=V5e(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var TG=new Date(1899,11,31,0,0,0),L5e=TG.getTime(),$5e=new Date(1900,2,1,0,0,0);function AG(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=$5e&&(r+=24*60*60*1e3),(r-(L5e+(e.getTimezoneOffset()-TG.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function WP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function B5e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function U5e(e){var t=e<0?12:11,r=WP(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function z5e(e){var t=WP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function vv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=U5e(e):t===10?r=e.toFixed(10).substr(0,12):r=z5e(e),WP(B5e(r.toUpperCase()))}function gf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):vv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Li(14,AG(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function V5e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function W5e(e,t,r,n){var a="",s=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return p2[r.m-1][1];case 5:return p2[r.m-1][0];default:return p2[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return EL[r.q][0];default:return EL[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?mo(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=mo(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?mo(c,u):"";return d}function mu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var PG=/%/g;function H5e(e,t,r){var n=t.replace(PG,""),a=t.length-n.length;return rc(e,n,r*Math.pow(10,2*a))+Qr("%",a)}function q5e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return rc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function OG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+OG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var DG=/# (\?+)( ?)\/( ?)(\d+)/;function G5e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?Qr(" ",e[1].length+1+e[4].length):VP(o,e[1].length)+e[2]+"/"+e[3]+mo(l,e[4].length))}function K5e(e,t,r){return r+(t===0?"":""+t)+Qr(" ",e[1].length+2+e[4].length)}var RG=/^#*0*\.([0#]+)/,MG=/\).*[0#]/,FG=/\(###\) ###\\?-####/;function qa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function AL(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function PL(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Y5e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function X5e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function xi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(MG)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?xi("n",n,r):"("+xi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return q5e(e,t,r);if(t.indexOf("%")!==-1)return H5e(e,t,r);if(t.indexOf("E")!==-1)return OG(t,r);if(t.charCodeAt(0)===36)return"$"+xi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Jf(c,t.length);if(t.match(/^[#?]+$/))return a=Jf(r,0),a==="0"&&(a=""),a.length>t.length?a:qa(t.substr(0,t.length-a.length))+a;if(s=t.match(DG))return G5e(s,c,u);if(t.match(/^#+0+$/))return u+Jf(c,t.length-t.indexOf("0"));if(s=t.match(RG))return a=AL(r,s[1].length).replace(/^([^\.]+)$/,"$1."+qa(s[1])).replace(/\.$/,"."+qa(s[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+Qr("0",qa(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+AL(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+mu(Jf(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+xi(e,t,-r):mu(""+(Math.floor(r)+Y5e(r,s[1].length)))+"."+mo(PL(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return xi(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=qh(xi(e,t.replace(/[\\-]/g,""),r)),o=0,qh(qh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(FG))return a=xi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=t_(c,Math.pow(10,o)-1,!1),a=""+u,d=rc("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Zb(l[2],o),d.length<s[4].length&&(d=qa(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=t_(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?VP(l[1],o)+s[2]+"/"+s[3]+Zb(l[2],o):Qr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Jf(r,0),t.length<=a.length?a:qa(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return qa(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=PL(r,s[1].length),r<0?"-"+xi(e,t,-r):mu(X5e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?mo(0,3-g.length):"")+g})+"."+mo(o,s[1].length);switch(t){case"###,##0.00":return xi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=mu(Jf(c,0));return m!=="0"?u+m:"";case"###,###.00":return xi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return xi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Q5e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return rc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function J5e(e,t,r){var n=t.replace(PG,""),a=t.length-n.length;return rc(e,n,r*Math.pow(10,2*a))+Qr("%",a)}function IG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+IG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Wo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(MG)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Wo("n",n,r):"("+Wo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Q5e(e,t,r);if(t.indexOf("%")!==-1)return J5e(e,t,r);if(t.indexOf("E")!==-1)return IG(t,r);if(t.charCodeAt(0)===36)return"$"+Wo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+mo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:qa(t.substr(0,t.length-a.length))+a;if(s=t.match(DG))return K5e(s,c,u);if(t.match(/^#+0+$/))return u+mo(c,t.length-t.indexOf("0"));if(s=t.match(RG))return a=(""+r).replace(/^([^\.]+)$/,"$1."+qa(s[1])).replace(/\.$/,"."+qa(s[1])),a=a.replace(/\.(\d*)$/,function(g,p){return"."+p+Qr("0",qa(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+mu(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Wo(e,t,-r):mu(""+r)+"."+Qr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Wo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=qh(Wo(e,t.replace(/[\\-]/g,""),r)),o=0,qh(qh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(FG))return a=Wo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=t_(c,Math.pow(10,o)-1,!1),a=""+u,d=rc("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Zb(l[2],o),d.length<s[4].length&&(d=qa(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=t_(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?VP(l[1],o)+s[2]+"/"+s[3]+Zb(l[2],o):Qr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:qa(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return qa(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Wo(e,t,-r):mu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?mo(0,3-g.length):"")+g})+"."+mo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=mu(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Wo(e,t.slice(0,t.lastIndexOf(".")),r)+qa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function rc(e,t,r){return(r|0)===r?Wo(e,t,r):xi(e,t,r)}function Z5e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var LG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ip(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":e_(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(LG))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function e$e(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!e_(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++o;break;case"\\":var m=e.charAt(++o),g=m==="("||m===")"?m:"t";a[a.length]={t:g,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=kd(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=kd(t,r),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(u==null&&(u=kd(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",o+=5,h="h"):(p.t="t",++o),u==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(LG)){if(u==null&&(u=kd(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ip(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,y=0,b;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",v<1&&(v=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var _="",j;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=W5e(a[o].t.charCodeAt(0),a[o].v,u,y),a[o].t="t";break;case"n":case"?":for(j=o+1;a[j]!=null&&((l=a[j].t)==="?"||l==="D"||(l===" "||l==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[o].v+=a[j].v,a[j]={v:"",t:";"},++j;_+=a[o].v,o=j-1;break;case"G":a[o].t="t",a[o].v=gf(t,r);break}var w="",N,S;if(_.length>0){_.charCodeAt(0)==40?(N=t<0&&_.charCodeAt(0)===45?-t:t,S=rc("n",_,N)):(N=t<0&&n>1?-t:t,S=rc("n",_,N),N<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),j=S.length-1;var k=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){k=o;break}var C=a.length;if(k===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(j>=a[o].v.length-1?(j-=a[o].v.length,a[o].v=S.substr(j+1,a[o].v.length)):j<0?a[o].v="":(a[o].v=S.substr(0,j+1),j=-1),a[o].t="t",C=o);j>=0&&C<a.length&&(a[C].v=S.substr(0,j+1)+a[C].v)}else if(k!==a.length&&S.indexOf("E")===-1){for(j=S.indexOf(".")-1,o=k;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")-1:a[o].v.length-1,w=a[o].v.substr(d+1);d>=0;--d)j>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(w=S.charAt(j--)+w);a[o].v=w,a[o].t="t",C=o}for(j>=0&&C<a.length&&(a[C].v=S.substr(0,j+1)+a[C].v),j=S.indexOf(".")+1,o=k;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==k)){for(d=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")+1:0,w=a[o].v.substr(0,d);d<a[o].v.length;++d)j<S.length&&(w+=S.charAt(j++));a[o].v=w,a[o].t="t",C=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=rc(a[o].t,a[o].v,N),a[o].t="t");var T="";for(o=0;o!==a.length;++o)a[o]!=null&&(T+=a[o].v);return T}var OL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function DL(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function t$e(e,t){var r=Z5e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(OL),l=r[1].match(OL);return DL(t,o)?[n,r[0]]:DL(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function Li(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ft)[e],n==null&&(n=r.table&&r.table[TL[e]]||Ft[TL[e]]),n==null&&(n=I5e[e]||"General");break}if(e_(n,0))return gf(t,r);t instanceof Date&&(t=AG(t,r.date1904));var a=t$e(n,t);if(e_(a[1]))return gf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return e$e(a[1],t,r,a[0])}function Wd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ft[r]==null){t<0&&(t=r);continue}if(Ft[r]==e){t=r;break}}t<0&&(t=391)}return Ft[t]=e,t}function $G(){Ft=F5e()}var r$e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},BG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function n$e(e){var t=typeof e=="number"?Ft[e]:e;return t=t.replace(BG,"(\\d+)"),new RegExp("^"+t+"$")}function a$e(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match(BG)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var s$e=function(){var e={};e.version="1.2.0";function t(){for(var S=0,k=new Array(256),C=0;C!=256;++C)S=C,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,k[C]=S;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(S){var k=0,C=0,T=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)O[T]=S[T];for(T=0;T!=256;++T)for(C=S[T],k=256+T;k<4096;k+=256)C=O[k]=C>>>8^S[C&255];var A=[];for(T=1;T!=16;++T)A[T-1]=typeof Int32Array<"u"?O.subarray(T*256,T*256+256):O.slice(T*256,T*256+256);return A}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],g=a[9],p=a[10],v=a[11],y=a[12],b=a[13],_=a[14];function j(S,k){for(var C=k^-1,T=0,O=S.length;T<O;)C=C>>>8^r[(C^S.charCodeAt(T++))&255];return~C}function w(S,k){for(var C=k^-1,T=S.length-15,O=0;O<T;)C=_[S[O++]^C&255]^b[S[O++]^C>>8&255]^y[S[O++]^C>>16&255]^v[S[O++]^C>>>24]^p[S[O++]]^g[S[O++]]^m[S[O++]]^h[S[O++]]^f[S[O++]]^d[S[O++]]^u[S[O++]]^c[S[O++]]^l[S[O++]]^o[S[O++]]^s[S[O++]]^r[S[O++]];for(T+=15;O<T;)C=C>>>8^r[(C^S[O++])&255];return~C}function N(S,k){for(var C=k^-1,T=0,O=S.length,A=0,V=0;T<O;)A=S.charCodeAt(T++),A<128?C=C>>>8^r[(C^A)&255]:A<2048?(C=C>>>8^r[(C^(192|A>>6&31))&255],C=C>>>8^r[(C^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,V=S.charCodeAt(T++)&1023,C=C>>>8^r[(C^(240|A>>8&7))&255],C=C>>>8^r[(C^(128|A>>2&63))&255],C=C>>>8^r[(C^(128|V>>6&15|(A&3)<<4))&255],C=C>>>8^r[(C^(128|V&63))&255]):(C=C>>>8^r[(C^(224|A>>12&15))&255],C=C>>>8^r[(C^(128|A>>6&63))&255],C=C>>>8^r[(C^(128|A&63))&255]);return~C}return e.table=r,e.bstr=j,e.buf=w,e.str=N,e}(),Qt=function(){var t={};t.version="1.2.1";function r(X,re){for(var te=X.split("/"),ne=re.split("/"),I=0,Q=0,fe=Math.min(te.length,ne.length);I<fe;++I){if(Q=te[I].length-ne[I].length)return Q;if(te[I]!=ne[I])return te[I]<ne[I]?-1:1}return te.length-ne.length}function n(X){if(X.charAt(X.length-1)=="/")return X.slice(0,-1).indexOf("/")===-1?X:n(X.slice(0,-1));var re=X.lastIndexOf("/");return re===-1?X:X.slice(0,re+1)}function a(X){if(X.charAt(X.length-1)=="/")return a(X.slice(0,-1));var re=X.lastIndexOf("/");return re===-1?X:X.slice(re+1)}function s(X,re){typeof re=="string"&&(re=new Date(re));var te=re.getHours();te=te<<6|re.getMinutes(),te=te<<5|re.getSeconds()>>>1,X.write_shift(2,te);var ne=re.getFullYear()-1980;ne=ne<<4|re.getMonth()+1,ne=ne<<5|re.getDate(),X.write_shift(2,ne)}function o(X){var re=X.read_shift(2)&65535,te=X.read_shift(2)&65535,ne=new Date,I=te&31;te>>>=5;var Q=te&15;te>>>=4,ne.setMilliseconds(0),ne.setFullYear(te+1980),ne.setMonth(Q-1),ne.setDate(I);var fe=re&31;re>>>=5;var Se=re&63;return re>>>=6,ne.setHours(re),ne.setMinutes(Se),ne.setSeconds(fe<<1),ne}function l(X){Jn(X,0);for(var re={},te=0;X.l<=X.length-4;){var ne=X.read_shift(2),I=X.read_shift(2),Q=X.l+I,fe={};switch(ne){case 21589:te=X.read_shift(1),te&1&&(fe.mtime=X.read_shift(4)),I>5&&(te&2&&(fe.atime=X.read_shift(4)),te&4&&(fe.ctime=X.read_shift(4))),fe.mtime&&(fe.mt=new Date(fe.mtime*1e3));break}X.l=Q,re[ne]=fe}return re}var c;function u(){return c||(c={})}function d(X,re){if(X[0]==80&&X[1]==75)return zs(X,re);if((X[0]|32)==109&&(X[1]|32)==105)return La(X,re);if(X.length<512)throw new Error("CFB file size "+X.length+" < 512");var te=3,ne=512,I=0,Q=0,fe=0,Se=0,Ne=0,ke=[],Te=X.slice(0,512);Jn(Te,0);var Ue=f(Te);switch(te=Ue[0],te){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(Ue[1]==0)return zs(X,re);default:throw new Error("Major Version: Expected 3 or 4 saw "+te)}ne!==512&&(Te=X.slice(0,ne),Jn(Te,28));var Ke=X.slice(0,ne);h(Te,te);var ee=Te.read_shift(4,"i");if(te===3&&ee!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ee);Te.l+=4,fe=Te.read_shift(4,"i"),Te.l+=4,Te.chk("00100000","Mini Stream Cutoff Size: "),Se=Te.read_shift(4,"i"),I=Te.read_shift(4,"i"),Ne=Te.read_shift(4,"i"),Q=Te.read_shift(4,"i");for(var me=-1,je=0;je<109&&(me=Te.read_shift(4,"i"),!(me<0));++je)ke[je]=me;var ve=m(X,ne);v(Ne,Q,ve,ne,ke);var Xe=b(ve,fe,ke,ne);Xe[fe].name="!Directory",I>0&&Se!==V&&(Xe[Se].name="!MiniFAT"),Xe[ke[0]].name="!FAT",Xe.fat_addrs=ke,Xe.ssz=ne;var bt={},Vt=[],rt=[],Ye=[];_(fe,Xe,ve,Vt,I,bt,rt,Se),g(rt,Ye,Vt),Vt.shift();var ln={FileIndex:rt,FullPaths:Ye};return re&&re.raw&&(ln.raw={header:Ke,sectors:ve}),ln}function f(X){if(X[X.l]==80&&X[X.l+1]==75)return[0,0];X.chk(H,"Header Signature: "),X.l+=16;var re=X.read_shift(2,"u");return[X.read_shift(2,"u"),re]}function h(X,re){var te=9;switch(X.l+=2,te=X.read_shift(2)){case 9:if(re!=3)throw new Error("Sector Shift: Expected 9 saw "+te);break;case 12:if(re!=4)throw new Error("Sector Shift: Expected 12 saw "+te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+te)}X.chk("0600","Mini Sector Shift: "),X.chk("000000000000","Reserved: ")}function m(X,re){for(var te=Math.ceil(X.length/re)-1,ne=[],I=1;I<te;++I)ne[I-1]=X.slice(I*re,(I+1)*re);return ne[te-1]=X.slice(te*re),ne}function g(X,re,te){for(var ne=0,I=0,Q=0,fe=0,Se=0,Ne=te.length,ke=[],Te=[];ne<Ne;++ne)ke[ne]=Te[ne]=ne,re[ne]=te[ne];for(;Se<Te.length;++Se)ne=Te[Se],I=X[ne].L,Q=X[ne].R,fe=X[ne].C,ke[ne]===ne&&(I!==-1&&ke[I]!==I&&(ke[ne]=ke[I]),Q!==-1&&ke[Q]!==Q&&(ke[ne]=ke[Q])),fe!==-1&&(ke[fe]=ne),I!==-1&&ne!=ke[ne]&&(ke[I]=ke[ne],Te.lastIndexOf(I)<Se&&Te.push(I)),Q!==-1&&ne!=ke[ne]&&(ke[Q]=ke[ne],Te.lastIndexOf(Q)<Se&&Te.push(Q));for(ne=1;ne<Ne;++ne)ke[ne]===ne&&(Q!==-1&&ke[Q]!==Q?ke[ne]=ke[Q]:I!==-1&&ke[I]!==I&&(ke[ne]=ke[I]));for(ne=1;ne<Ne;++ne)if(X[ne].type!==0){if(Se=ne,Se!=ke[Se])do Se=ke[Se],re[ne]=re[Se]+"/"+re[ne];while(Se!==0&&ke[Se]!==-1&&Se!=ke[Se]);ke[ne]=-1}for(re[0]+="/",ne=1;ne<Ne;++ne)X[ne].type!==2&&(re[ne]+="/")}function p(X,re,te){for(var ne=X.start,I=X.size,Q=[],fe=ne;te&&I>0&&fe>=0;)Q.push(re.slice(fe*A,fe*A+A)),I-=A,fe=pd(te,fe*4);return Q.length===0?Nn(0):Qc(Q).slice(0,X.size)}function v(X,re,te,ne,I){var Q=V;if(X===V){if(re!==0)throw new Error("DIFAT chain shorter than expected")}else if(X!==-1){var fe=te[X],Se=(ne>>>2)-1;if(!fe)return;for(var Ne=0;Ne<Se&&(Q=pd(fe,Ne*4))!==V;++Ne)I.push(Q);v(pd(fe,ne-4),re-1,te,ne,I)}}function y(X,re,te,ne,I){var Q=[],fe=[];I||(I=[]);var Se=ne-1,Ne=0,ke=0;for(Ne=re;Ne>=0;){I[Ne]=!0,Q[Q.length]=Ne,fe.push(X[Ne]);var Te=te[Math.floor(Ne*4/ne)];if(ke=Ne*4&Se,ne<4+ke)throw new Error("FAT boundary crossed: "+Ne+" 4 "+ne);if(!X[Te])break;Ne=pd(X[Te],ke)}return{nodes:Q,data:VL([fe])}}function b(X,re,te,ne){var I=X.length,Q=[],fe=[],Se=[],Ne=[],ke=ne-1,Te=0,Ue=0,Ke=0,ee=0;for(Te=0;Te<I;++Te)if(Se=[],Ke=Te+re,Ke>=I&&(Ke-=I),!fe[Ke]){Ne=[];var me=[];for(Ue=Ke;Ue>=0;){me[Ue]=!0,fe[Ue]=!0,Se[Se.length]=Ue,Ne.push(X[Ue]);var je=te[Math.floor(Ue*4/ne)];if(ee=Ue*4&ke,ne<4+ee)throw new Error("FAT boundary crossed: "+Ue+" 4 "+ne);if(!X[je]||(Ue=pd(X[je],ee),me[Ue]))break}Q[Ke]={nodes:Se,data:VL([Ne])}}return Q}function _(X,re,te,ne,I,Q,fe,Se){for(var Ne=0,ke=ne.length?2:0,Te=re[X].data,Ue=0,Ke=0,ee;Ue<Te.length;Ue+=128){var me=Te.slice(Ue,Ue+128);Jn(me,64),Ke=me.read_shift(2),ee=YP(me,0,Ke-ke),ne.push(ee);var je={name:ee,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},ve=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);ve!==0&&(je.ct=j(me,me.l-8));var Xe=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);Xe!==0&&(je.mt=j(me,me.l-8)),je.start=me.read_shift(4,"i"),je.size=me.read_shift(4,"i"),je.size<0&&je.start<0&&(je.size=je.type=0,je.start=V,je.name=""),je.type===5?(Ne=je.start,I>0&&Ne!==V&&(re[Ne].name="!StreamData")):je.size>=4096?(je.storage="fat",re[je.start]===void 0&&(re[je.start]=y(te,je.start,re.fat_addrs,re.ssz)),re[je.start].name=je.name,je.content=re[je.start].data.slice(0,je.size)):(je.storage="minifat",je.size<0?je.size=0:Ne!==V&&je.start!==V&&re[Ne]&&(je.content=p(je,re[Ne].data,(re[Se]||{}).data))),je.content&&Jn(je.content,0),Q[ee]=je,fe.push(je)}}function j(X,re){return new Date((Qs(X,re+4)/1e7*Math.pow(2,32)+Qs(X,re)/1e7-11644473600)*1e3)}function w(X,re){return u(),d(c.readFileSync(X),re)}function N(X,re){var te=re&&re.type;switch(te||Xt&&Buffer.isBuffer(X)&&(te="buffer"),te||"base64"){case"file":return w(X,re);case"base64":return d(co(li(X)),re);case"binary":return d(co(X),re)}return d(X,re)}function S(X,re){var te=re||{},ne=te.root||"Root Entry";if(X.FullPaths||(X.FullPaths=[]),X.FileIndex||(X.FileIndex=[]),X.FullPaths.length!==X.FileIndex.length)throw new Error("inconsistent CFB structure");X.FullPaths.length===0&&(X.FullPaths[0]=ne+"/",X.FileIndex[0]={name:ne,type:5}),te.CLSID&&(X.FileIndex[0].clsid=te.CLSID),k(X)}function k(X){var re="Sh33tJ5";if(!Qt.find(X,"/"+re)){var te=Nn(4);te[0]=55,te[1]=te[3]=50,te[2]=54,X.FileIndex.push({name:re,type:2,content:te,size:4,L:69,R:69,C:69}),X.FullPaths.push(X.FullPaths[0]+re),C(X)}}function C(X,re){S(X);for(var te=!1,ne=!1,I=X.FullPaths.length-1;I>=0;--I){var Q=X.FileIndex[I];switch(Q.type){case 0:ne?te=!0:(X.FileIndex.pop(),X.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(Q.R*Q.L*Q.C)&&(te=!0),Q.R>-1&&Q.L>-1&&Q.R==Q.L&&(te=!0);break;default:te=!0;break}}if(!(!te&&!re)){var fe=new Date(1987,1,19),Se=0,Ne=Object.create?Object.create(null):{},ke=[];for(I=0;I<X.FullPaths.length;++I)Ne[X.FullPaths[I]]=!0,X.FileIndex[I].type!==0&&ke.push([X.FullPaths[I],X.FileIndex[I]]);for(I=0;I<ke.length;++I){var Te=n(ke[I][0]);ne=Ne[Te],ne||(ke.push([Te,{name:a(Te).replace("/",""),type:1,clsid:F,ct:fe,mt:fe,content:null}]),Ne[Te]=!0)}for(ke.sort(function(ee,me){return r(ee[0],me[0])}),X.FullPaths=[],X.FileIndex=[],I=0;I<ke.length;++I)X.FullPaths[I]=ke[I][0],X.FileIndex[I]=ke[I][1];for(I=0;I<ke.length;++I){var Ue=X.FileIndex[I],Ke=X.FullPaths[I];if(Ue.name=a(Ke).replace("/",""),Ue.L=Ue.R=Ue.C=-(Ue.color=1),Ue.size=Ue.content?Ue.content.length:0,Ue.start=0,Ue.clsid=Ue.clsid||F,I===0)Ue.C=ke.length>1?1:-1,Ue.size=0,Ue.type=5;else if(Ke.slice(-1)=="/"){for(Se=I+1;Se<ke.length&&n(X.FullPaths[Se])!=Ke;++Se);for(Ue.C=Se>=ke.length?-1:Se,Se=I+1;Se<ke.length&&n(X.FullPaths[Se])!=n(Ke);++Se);Ue.R=Se>=ke.length?-1:Se,Ue.type=1}else n(X.FullPaths[I+1]||"")==n(Ke)&&(Ue.R=I+1),Ue.type=2}}}function T(X,re){var te=re||{};if(te.fileType=="mad")return fi(X,te);switch(C(X),te.fileType){case"zip":return Mn(X,te)}var ne=function(ee){for(var me=0,je=0,ve=0;ve<ee.FileIndex.length;++ve){var Xe=ee.FileIndex[ve];if(Xe.content){var bt=Xe.content.length;bt>0&&(bt<4096?me+=bt+63>>6:je+=bt+511>>9)}}for(var Vt=ee.FullPaths.length+3>>2,rt=me+7>>3,Ye=me+127>>7,ln=rt+je+Vt+Ye,qr=ln+127>>7,bs=qr<=109?0:Math.ceil((qr-109)/127);ln+qr+bs+127>>7>qr;)bs=++qr<=109?0:Math.ceil((qr-109)/127);var ia=[1,bs,qr,Ye,Vt,je,me,0];return ee.FileIndex[0].size=me<<6,ia[7]=(ee.FileIndex[0].start=ia[0]+ia[1]+ia[2]+ia[3]+ia[4]+ia[5])+(ia[6]+7>>3),ia}(X),I=Nn(ne[7]<<9),Q=0,fe=0;{for(Q=0;Q<8;++Q)I.write_shift(1,M[Q]);for(Q=0;Q<8;++Q)I.write_shift(2,0);for(I.write_shift(2,62),I.write_shift(2,3),I.write_shift(2,65534),I.write_shift(2,9),I.write_shift(2,6),Q=0;Q<3;++Q)I.write_shift(2,0);for(I.write_shift(4,0),I.write_shift(4,ne[2]),I.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),I.write_shift(4,0),I.write_shift(4,4096),I.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:V),I.write_shift(4,ne[3]),I.write_shift(-4,ne[1]?ne[0]-1:V),I.write_shift(4,ne[1]),Q=0;Q<109;++Q)I.write_shift(-4,Q<ne[2]?ne[1]+Q:-1)}if(ne[1])for(fe=0;fe<ne[1];++fe){for(;Q<236+fe*127;++Q)I.write_shift(-4,Q<ne[2]?ne[1]+Q:-1);I.write_shift(-4,fe===ne[1]-1?V:fe+1)}var Se=function(ee){for(fe+=ee;Q<fe-1;++Q)I.write_shift(-4,Q+1);ee&&(++Q,I.write_shift(-4,V))};for(fe=Q=0,fe+=ne[1];Q<fe;++Q)I.write_shift(-4,L.DIFSECT);for(fe+=ne[2];Q<fe;++Q)I.write_shift(-4,L.FATSECT);Se(ne[3]),Se(ne[4]);for(var Ne=0,ke=0,Te=X.FileIndex[0];Ne<X.FileIndex.length;++Ne)Te=X.FileIndex[Ne],Te.content&&(ke=Te.content.length,!(ke<4096)&&(Te.start=fe,Se(ke+511>>9)));for(Se(ne[6]+7>>3);I.l&511;)I.write_shift(-4,L.ENDOFCHAIN);for(fe=Q=0,Ne=0;Ne<X.FileIndex.length;++Ne)Te=X.FileIndex[Ne],Te.content&&(ke=Te.content.length,!(!ke||ke>=4096)&&(Te.start=fe,Se(ke+63>>6)));for(;I.l&511;)I.write_shift(-4,L.ENDOFCHAIN);for(Q=0;Q<ne[4]<<2;++Q){var Ue=X.FullPaths[Q];if(!Ue||Ue.length===0){for(Ne=0;Ne<17;++Ne)I.write_shift(4,0);for(Ne=0;Ne<3;++Ne)I.write_shift(4,-1);for(Ne=0;Ne<12;++Ne)I.write_shift(4,0);continue}Te=X.FileIndex[Q],Q===0&&(Te.start=Te.size?Te.start-1:V);var Ke=Q===0&&te.root||Te.name;if(ke=2*(Ke.length+1),I.write_shift(64,Ke,"utf16le"),I.write_shift(2,ke),I.write_shift(1,Te.type),I.write_shift(1,Te.color),I.write_shift(-4,Te.L),I.write_shift(-4,Te.R),I.write_shift(-4,Te.C),Te.clsid)I.write_shift(16,Te.clsid,"hex");else for(Ne=0;Ne<4;++Ne)I.write_shift(4,0);I.write_shift(4,Te.state||0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,Te.start),I.write_shift(4,Te.size),I.write_shift(4,0)}for(Q=1;Q<X.FileIndex.length;++Q)if(Te=X.FileIndex[Q],Te.size>=4096)if(I.l=Te.start+1<<9,Xt&&Buffer.isBuffer(Te.content))Te.content.copy(I,I.l,0,Te.size),I.l+=Te.size+511&-512;else{for(Ne=0;Ne<Te.size;++Ne)I.write_shift(1,Te.content[Ne]);for(;Ne&511;++Ne)I.write_shift(1,0)}for(Q=1;Q<X.FileIndex.length;++Q)if(Te=X.FileIndex[Q],Te.size>0&&Te.size<4096)if(Xt&&Buffer.isBuffer(Te.content))Te.content.copy(I,I.l,0,Te.size),I.l+=Te.size+63&-64;else{for(Ne=0;Ne<Te.size;++Ne)I.write_shift(1,Te.content[Ne]);for(;Ne&63;++Ne)I.write_shift(1,0)}if(Xt)I.l=I.length;else for(;I.l<I.length;)I.write_shift(1,0);return I}function O(X,re){var te=X.FullPaths.map(function(Ne){return Ne.toUpperCase()}),ne=te.map(function(Ne){var ke=Ne.split("/");return ke[ke.length-(Ne.slice(-1)=="/"?2:1)]}),I=!1;re.charCodeAt(0)===47?(I=!0,re=te[0].slice(0,-1)+re):I=re.indexOf("/")!==-1;var Q=re.toUpperCase(),fe=I===!0?te.indexOf(Q):ne.indexOf(Q);if(fe!==-1)return X.FileIndex[fe];var Se=!Q.match(k0);for(Q=Q.replace(as,""),Se&&(Q=Q.replace(k0,"!")),fe=0;fe<te.length;++fe)if((Se?te[fe].replace(k0,"!"):te[fe]).replace(as,"")==Q||(Se?ne[fe].replace(k0,"!"):ne[fe]).replace(as,"")==Q)return X.FileIndex[fe];return null}var A=64,V=-2,H="d0cf11e0a1b11ae1",M=[208,207,17,224,161,177,26,225],F="00000000000000000000000000000000",L={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:F,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function B(X,re,te){u();var ne=T(X,te);c.writeFileSync(re,ne)}function D(X){for(var re=new Array(X.length),te=0;te<X.length;++te)re[te]=String.fromCharCode(X[te]);return re.join("")}function q(X,re){var te=T(X,re);switch(re&&re.type||"buffer"){case"file":return u(),c.writeFileSync(re.filename,te),te;case"binary":return typeof te=="string"?te:D(te);case"base64":return NL(typeof te=="string"?te:D(te));case"buffer":if(Xt)return Buffer.isBuffer(te)?te:Pf(te);case"array":return typeof te=="string"?co(te):te}return te}var Y;function P(X){try{var re=X.InflateRaw,te=new re;if(te._processChunk(new Uint8Array([3,0]),te._finishFlushFlag),te.bytesRead)Y=X;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function G(X,re){if(!Y)return bn(X,re);var te=Y.InflateRaw,ne=new te,I=ne._processChunk(X.slice(X.l),ne._finishFlushFlag);return X.l+=ne.bytesRead,I}function K(X){return Y?Y.deflateRawSync(X):Le(X)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(X){var re=(X<<1|X<<11)&139536|(X<<5|X<<15)&558144;return(re>>16|re>>8|re)&255}for(var z=typeof Uint8Array<"u",W=z?new Uint8Array(256):[],ce=0;ce<256;++ce)W[ce]=xe(ce);function E(X,re){var te=W[X&255];return re<=8?te>>>8-re:(te=te<<8|W[X>>8&255],re<=16?te>>>16-re:(te=te<<8|W[X>>16&255],te>>>24-re))}function Pe(X,re){var te=re&7,ne=re>>>3;return(X[ne]|(te<=6?0:X[ne+1]<<8))>>>te&3}function Re(X,re){var te=re&7,ne=re>>>3;return(X[ne]|(te<=5?0:X[ne+1]<<8))>>>te&7}function pe(X,re){var te=re&7,ne=re>>>3;return(X[ne]|(te<=4?0:X[ne+1]<<8))>>>te&15}function Me(X,re){var te=re&7,ne=re>>>3;return(X[ne]|(te<=3?0:X[ne+1]<<8))>>>te&31}function be(X,re){var te=re&7,ne=re>>>3;return(X[ne]|(te<=1?0:X[ne+1]<<8))>>>te&127}function Ge(X,re,te){var ne=re&7,I=re>>>3,Q=(1<<te)-1,fe=X[I]>>>ne;return te<8-ne||(fe|=X[I+1]<<8-ne,te<16-ne)||(fe|=X[I+2]<<16-ne,te<24-ne)||(fe|=X[I+3]<<24-ne),fe&Q}function Ze(X,re,te){var ne=re&7,I=re>>>3;return ne<=5?X[I]|=(te&7)<<ne:(X[I]|=te<<ne&255,X[I+1]=(te&7)>>8-ne),re+3}function ae(X,re,te){var ne=re&7,I=re>>>3;return te=(te&1)<<ne,X[I]|=te,re+1}function he(X,re,te){var ne=re&7,I=re>>>3;return te<<=ne,X[I]|=te&255,te>>>=8,X[I+1]=te,re+8}function U(X,re,te){var ne=re&7,I=re>>>3;return te<<=ne,X[I]|=te&255,te>>>=8,X[I+1]=te&255,X[I+2]=te>>>8,re+16}function ue(X,re){var te=X.length,ne=2*te>re?2*te:re+5,I=0;if(te>=re)return X;if(Xt){var Q=kL(ne);if(X.copy)X.copy(Q);else for(;I<X.length;++I)Q[I]=X[I];return Q}else if(z){var fe=new Uint8Array(ne);if(fe.set)fe.set(X);else for(;I<te;++I)fe[I]=X[I];return fe}return X.length=ne,X}function we(X){for(var re=new Array(X),te=0;te<X;++te)re[te]=0;return re}function _e(X,re,te){var ne=1,I=0,Q=0,fe=0,Se=0,Ne=X.length,ke=z?new Uint16Array(32):we(32);for(Q=0;Q<32;++Q)ke[Q]=0;for(Q=Ne;Q<te;++Q)X[Q]=0;Ne=X.length;var Te=z?new Uint16Array(Ne):we(Ne);for(Q=0;Q<Ne;++Q)ke[I=X[Q]]++,ne<I&&(ne=I),Te[Q]=0;for(ke[0]=0,Q=1;Q<=ne;++Q)ke[Q+16]=Se=Se+ke[Q-1]<<1;for(Q=0;Q<Ne;++Q)Se=X[Q],Se!=0&&(Te[Q]=ke[Se+16]++);var Ue=0;for(Q=0;Q<Ne;++Q)if(Ue=X[Q],Ue!=0)for(Se=E(Te[Q],ne)>>ne-Ue,fe=(1<<ne+4-Ue)-1;fe>=0;--fe)re[Se|fe<<Ue]=Ue&15|Q<<4;return ne}var $e=z?new Uint16Array(512):we(512),tt=z?new Uint16Array(32):we(32);if(!z){for(var it=0;it<512;++it)$e[it]=0;for(it=0;it<32;++it)tt[it]=0}(function(){for(var X=[],re=0;re<32;re++)X.push(5);_e(X,tt,32);var te=[];for(re=0;re<=143;re++)te.push(8);for(;re<=255;re++)te.push(9);for(;re<=279;re++)te.push(7);for(;re<=287;re++)te.push(8);_e(te,$e,288)})();var Ee=function(){for(var re=z?new Uint8Array(32768):[],te=0,ne=0;te<oe.length-1;++te)for(;ne<oe[te+1];++ne)re[ne]=te;for(;ne<32768;++ne)re[ne]=29;var I=z?new Uint8Array(259):[];for(te=0,ne=0;te<se.length-1;++te)for(;ne<se[te+1];++ne)I[ne]=te;function Q(Se,Ne){for(var ke=0;ke<Se.length;){var Te=Math.min(65535,Se.length-ke),Ue=ke+Te==Se.length;for(Ne.write_shift(1,+Ue),Ne.write_shift(2,Te),Ne.write_shift(2,~Te&65535);Te-- >0;)Ne[Ne.l++]=Se[ke++]}return Ne.l}function fe(Se,Ne){for(var ke=0,Te=0,Ue=z?new Uint16Array(32768):[];Te<Se.length;){var Ke=Math.min(65535,Se.length-Te);if(Ke<10){for(ke=Ze(Ne,ke,+(Te+Ke==Se.length)),ke&7&&(ke+=8-(ke&7)),Ne.l=ke/8|0,Ne.write_shift(2,Ke),Ne.write_shift(2,~Ke&65535);Ke-- >0;)Ne[Ne.l++]=Se[Te++];ke=Ne.l*8;continue}ke=Ze(Ne,ke,+(Te+Ke==Se.length)+2);for(var ee=0;Ke-- >0;){var me=Se[Te];ee=(ee<<5^me)&32767;var je=-1,ve=0;if((je=Ue[ee])&&(je|=Te&-32768,je>Te&&(je-=32768),je<Te))for(;Se[je+ve]==Se[Te+ve]&&ve<250;)++ve;if(ve>2){me=I[ve],me<=22?ke=he(Ne,ke,W[me+1]>>1)-1:(he(Ne,ke,3),ke+=5,he(Ne,ke,W[me-23]>>5),ke+=3);var Xe=me<8?0:me-4>>2;Xe>0&&(U(Ne,ke,ve-se[me]),ke+=Xe),me=re[Te-je],ke=he(Ne,ke,W[me]>>3),ke-=3;var bt=me<4?0:me-2>>1;bt>0&&(U(Ne,ke,Te-je-oe[me]),ke+=bt);for(var Vt=0;Vt<ve;++Vt)Ue[ee]=Te&32767,ee=(ee<<5^Se[Te])&32767,++Te;Ke-=ve-1}else me<=143?me=me+48:ke=ae(Ne,ke,1),ke=he(Ne,ke,W[me]),Ue[ee]=Te&32767,++Te}ke=he(Ne,ke,0)-1}return Ne.l=(ke+7)/8|0,Ne.l}return function(Ne,ke){return Ne.length<8?Q(Ne,ke):fe(Ne,ke)}}();function Le(X){var re=Nn(50+Math.floor(X.length*1.1)),te=Ee(X,re);return re.slice(0,te)}var Fe=z?new Uint16Array(32768):we(32768),st=z?new Uint16Array(32768):we(32768),ot=z?new Uint16Array(128):we(128),_t=1,Ut=1;function ar(X,re){var te=Me(X,re)+257;re+=5;var ne=Me(X,re)+1;re+=5;var I=pe(X,re)+4;re+=4;for(var Q=0,fe=z?new Uint8Array(19):we(19),Se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ne=1,ke=z?new Uint8Array(8):we(8),Te=z?new Uint8Array(8):we(8),Ue=fe.length,Ke=0;Ke<I;++Ke)fe[Z[Ke]]=Q=Re(X,re),Ne<Q&&(Ne=Q),ke[Q]++,re+=3;var ee=0;for(ke[0]=0,Ke=1;Ke<=Ne;++Ke)Te[Ke]=ee=ee+ke[Ke-1]<<1;for(Ke=0;Ke<Ue;++Ke)(ee=fe[Ke])!=0&&(Se[Ke]=Te[ee]++);var me=0;for(Ke=0;Ke<Ue;++Ke)if(me=fe[Ke],me!=0){ee=W[Se[Ke]]>>8-me;for(var je=(1<<7-me)-1;je>=0;--je)ot[ee|je<<me]=me&7|Ke<<3}var ve=[];for(Ne=1;ve.length<te+ne;)switch(ee=ot[be(X,re)],re+=ee&7,ee>>>=3){case 16:for(Q=3+Pe(X,re),re+=2,ee=ve[ve.length-1];Q-- >0;)ve.push(ee);break;case 17:for(Q=3+Re(X,re),re+=3;Q-- >0;)ve.push(0);break;case 18:for(Q=11+be(X,re),re+=7;Q-- >0;)ve.push(0);break;default:ve.push(ee),Ne<ee&&(Ne=ee);break}var Xe=ve.slice(0,te),bt=ve.slice(te);for(Ke=te;Ke<286;++Ke)Xe[Ke]=0;for(Ke=ne;Ke<30;++Ke)bt[Ke]=0;return _t=_e(Xe,Fe,286),Ut=_e(bt,st,30),re}function _r(X,re){if(X[0]==3&&!(X[1]&3))return[Lu(re),2];for(var te=0,ne=0,I=kL(re||1<<18),Q=0,fe=I.length>>>0,Se=0,Ne=0;!(ne&1);){if(ne=Re(X,te),te+=3,ne>>>1)ne>>1==1?(Se=9,Ne=5):(te=ar(X,te),Se=_t,Ne=Ut);else{te&7&&(te+=8-(te&7));var ke=X[te>>>3]|X[(te>>>3)+1]<<8;if(te+=32,ke>0)for(!re&&fe<Q+ke&&(I=ue(I,Q+ke),fe=I.length);ke-- >0;)I[Q++]=X[te>>>3],te+=8;continue}for(;;){!re&&fe<Q+32767&&(I=ue(I,Q+32767),fe=I.length);var Te=Ge(X,te,Se),Ue=ne>>>1==1?$e[Te]:Fe[Te];if(te+=Ue&15,Ue>>>=4,!(Ue>>>8&255))I[Q++]=Ue;else{if(Ue==256)break;Ue-=257;var Ke=Ue<8?0:Ue-4>>2;Ke>5&&(Ke=0);var ee=Q+se[Ue];Ke>0&&(ee+=Ge(X,te,Ke),te+=Ke),Te=Ge(X,te,Ne),Ue=ne>>>1==1?tt[Te]:st[Te],te+=Ue&15,Ue>>>=4;var me=Ue<4?0:Ue-2>>1,je=oe[Ue];for(me>0&&(je+=Ge(X,te,me),te+=me),!re&&fe<ee&&(I=ue(I,ee+100),fe=I.length);Q<ee;)I[Q]=I[Q-je],++Q}}}return re?[I,te+7>>>3]:[I.slice(0,Q),te+7>>>3]}function bn(X,re){var te=X.slice(X.l||0),ne=_r(te,re);return X.l+=ne[1],ne[0]}function Tr(X,re){if(X)typeof console<"u"&&console.error(re);else throw new Error(re)}function zs(X,re){var te=X;Jn(te,0);var ne=[],I=[],Q={FileIndex:ne,FullPaths:I};S(Q,{root:re.root});for(var fe=te.length-4;(te[fe]!=80||te[fe+1]!=75||te[fe+2]!=5||te[fe+3]!=6)&&fe>=0;)--fe;te.l=fe+4,te.l+=4;var Se=te.read_shift(2);te.l+=6;var Ne=te.read_shift(4);for(te.l=Ne,fe=0;fe<Se;++fe){te.l+=20;var ke=te.read_shift(4),Te=te.read_shift(4),Ue=te.read_shift(2),Ke=te.read_shift(2),ee=te.read_shift(2);te.l+=8;var me=te.read_shift(4),je=l(te.slice(te.l+Ue,te.l+Ue+Ke));te.l+=Ue+Ke+ee;var ve=te.l;te.l=me+4,sa(te,ke,Te,Q,je),te.l=ve}return Q}function sa(X,re,te,ne,I){X.l+=2;var Q=X.read_shift(2),fe=X.read_shift(2),Se=o(X);if(Q&8257)throw new Error("Unsupported ZIP encryption");for(var Ne=X.read_shift(4),ke=X.read_shift(4),Te=X.read_shift(4),Ue=X.read_shift(2),Ke=X.read_shift(2),ee="",me=0;me<Ue;++me)ee+=String.fromCharCode(X[X.l++]);if(Ke){var je=l(X.slice(X.l,X.l+Ke));(je[21589]||{}).mt&&(Se=je[21589].mt),((I||{})[21589]||{}).mt&&(Se=I[21589].mt)}X.l+=Ke;var ve=X.slice(X.l,X.l+ke);switch(fe){case 8:ve=G(X,Te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+fe)}var Xe=!1;Q&8&&(Ne=X.read_shift(4),Ne==134695760&&(Ne=X.read_shift(4),Xe=!0),ke=X.read_shift(4),Te=X.read_shift(4)),ke!=re&&Tr(Xe,"Bad compressed size: "+re+" != "+ke),Te!=te&&Tr(Xe,"Bad uncompressed size: "+te+" != "+Te),ys(ne,ee,ve,{unsafe:!0,mt:Se})}function Mn(X,re){var te=re||{},ne=[],I=[],Q=Nn(1),fe=te.compression?8:0,Se=0,Ne=0,ke=0,Te=0,Ue=0,Ke=X.FullPaths[0],ee=Ke,me=X.FileIndex[0],je=[],ve=0;for(Ne=1;Ne<X.FullPaths.length;++Ne)if(ee=X.FullPaths[Ne].slice(Ke.length),me=X.FileIndex[Ne],!(!me.size||!me.content||ee=="Sh33tJ5")){var Xe=Te,bt=Nn(ee.length);for(ke=0;ke<ee.length;++ke)bt.write_shift(1,ee.charCodeAt(ke)&127);bt=bt.slice(0,bt.l),je[Ue]=s$e.buf(me.content,0);var Vt=me.content;fe==8&&(Vt=K(Vt)),Q=Nn(30),Q.write_shift(4,67324752),Q.write_shift(2,20),Q.write_shift(2,Se),Q.write_shift(2,fe),me.mt?s(Q,me.mt):Q.write_shift(4,0),Q.write_shift(-4,je[Ue]),Q.write_shift(4,Vt.length),Q.write_shift(4,me.content.length),Q.write_shift(2,bt.length),Q.write_shift(2,0),Te+=Q.length,ne.push(Q),Te+=bt.length,ne.push(bt),Te+=Vt.length,ne.push(Vt),Q=Nn(46),Q.write_shift(4,33639248),Q.write_shift(2,0),Q.write_shift(2,20),Q.write_shift(2,Se),Q.write_shift(2,fe),Q.write_shift(4,0),Q.write_shift(-4,je[Ue]),Q.write_shift(4,Vt.length),Q.write_shift(4,me.content.length),Q.write_shift(2,bt.length),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(4,0),Q.write_shift(4,Xe),ve+=Q.l,I.push(Q),ve+=bt.length,I.push(bt),++Ue}return Q=Nn(22),Q.write_shift(4,101010256),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,Ue),Q.write_shift(2,Ue),Q.write_shift(4,ve),Q.write_shift(4,Te),Q.write_shift(2,0),Qc([Qc(ne),Qc(I),Q])}var _n={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Mo(X,re){if(X.ctype)return X.ctype;var te=X.name||"",ne=te.match(/\.([^\.]+)$/);return ne&&_n[ne[1]]||re&&(ne=(te=re).match(/[\.\\]([^\.\\])+$/),ne&&_n[ne[1]])?_n[ne[1]]:"application/octet-stream"}function Al(X){for(var re=NL(X),te=[],ne=0;ne<re.length;ne+=76)te.push(re.slice(ne,ne+76));return te.join(`\r
`)+`\r
`}function Vs(X){var re=X.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ke){var Te=ke.charCodeAt(0).toString(16).toUpperCase();return"="+(Te.length==1?"0"+Te:Te)});re=re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),re.charAt(0)==`
`&&(re="=0D"+re.slice(1)),re=re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var te=[],ne=re.split(`\r
`),I=0;I<ne.length;++I){var Q=ne[I];if(Q.length==0){te.push("");continue}for(var fe=0;fe<Q.length;){var Se=76,Ne=Q.slice(fe,fe+Se);Ne.charAt(Se-1)=="="?Se--:Ne.charAt(Se-2)=="="?Se-=2:Ne.charAt(Se-3)=="="&&(Se-=3),Ne=Q.slice(fe,fe+Se),fe+=Se,fe<Q.length&&(Ne+="="),te.push(Ne)}}return te.join(`\r
`)}function xs(X){for(var re=[],te=0;te<X.length;++te){for(var ne=X[te];te<=X.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+X[++te];re.push(ne)}for(var I=0;I<re.length;++I)re[I]=re[I].replace(/[=][0-9A-Fa-f]{2}/g,function(Q){return String.fromCharCode(parseInt(Q.slice(1),16))});return co(re.join(`\r
`))}function Wi(X,re,te){for(var ne="",I="",Q="",fe,Se=0;Se<10;++Se){var Ne=re[Se];if(!Ne||Ne.match(/^\s*$/))break;var ke=Ne.match(/^(.*?):\s*([^\s].*)$/);if(ke)switch(ke[1].toLowerCase()){case"content-location":ne=ke[2].trim();break;case"content-type":Q=ke[2].trim();break;case"content-transfer-encoding":I=ke[2].trim();break}}switch(++Se,I.toLowerCase()){case"base64":fe=co(li(re.slice(Se).join("")));break;case"quoted-printable":fe=xs(re.slice(Se));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+I)}var Te=ys(X,ne.slice(te.length),fe,{unsafe:!0});Q&&(Te.ctype=Q)}function La(X,re){if(D(X.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var te=re&&re.root||"",ne=(Xt&&Buffer.isBuffer(X)?X.toString("binary"):D(X)).split(`\r
`),I=0,Q="";for(I=0;I<ne.length;++I)if(Q=ne[I],!!/^Content-Location:/i.test(Q)&&(Q=Q.slice(Q.indexOf("file")),te||(te=Q.slice(0,Q.lastIndexOf("/")+1)),Q.slice(0,te.length)!=te))for(;te.length>0&&(te=te.slice(0,te.length-1),te=te.slice(0,te.lastIndexOf("/")+1),Q.slice(0,te.length)!=te););var fe=(ne[1]||"").match(/boundary="(.*?)"/);if(!fe)throw new Error("MAD cannot find boundary");var Se="--"+(fe[1]||""),Ne=[],ke=[],Te={FileIndex:Ne,FullPaths:ke};S(Te);var Ue,Ke=0;for(I=0;I<ne.length;++I){var ee=ne[I];ee!==Se&&ee!==Se+"--"||(Ke++&&Wi(Te,ne.slice(Ue,I),te),Ue=I)}return Te}function fi(X,re){var te=re||{},ne=te.boundary||"SheetJS";ne="------="+ne;for(var I=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],Q=X.FullPaths[0],fe=Q,Se=X.FileIndex[0],Ne=1;Ne<X.FullPaths.length;++Ne)if(fe=X.FullPaths[Ne].slice(Q.length),Se=X.FileIndex[Ne],!(!Se.size||!Se.content||fe=="Sh33tJ5")){fe=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ve){return"_x"+ve.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ve){return"_u"+ve.charCodeAt(0).toString(16)+"_"});for(var ke=Se.content,Te=Xt&&Buffer.isBuffer(ke)?ke.toString("binary"):D(ke),Ue=0,Ke=Math.min(1024,Te.length),ee=0,me=0;me<=Ke;++me)(ee=Te.charCodeAt(me))>=32&&ee<128&&++Ue;var je=Ue>=Ke*4/5;I.push(ne),I.push("Content-Location: "+(te.root||"file:///C:/SheetJS/")+fe),I.push("Content-Transfer-Encoding: "+(je?"quoted-printable":"base64")),I.push("Content-Type: "+Mo(Se,fe)),I.push(""),I.push(je?Vs(Te):Al(Te))}return I.push(ne+`--\r
`),I.join(`\r
`)}function qn(X){var re={};return S(re,X),re}function ys(X,re,te,ne){var I=ne&&ne.unsafe;I||S(X);var Q=!I&&Qt.find(X,re);if(!Q){var fe=X.FullPaths[0];re.slice(0,fe.length)==fe?fe=re:(fe.slice(-1)!="/"&&(fe+="/"),fe=(fe+re).replace("//","/")),Q={name:a(re),type:2},X.FileIndex.push(Q),X.FullPaths.push(fe),I||Qt.utils.cfb_gc(X)}return Q.content=te,Q.size=te?te.length:0,ne&&(ne.CLSID&&(Q.clsid=ne.CLSID),ne.mt&&(Q.mt=ne.mt),ne.ct&&(Q.ct=ne.ct)),Q}function Fo(X,re){S(X);var te=Qt.find(X,re);if(te){for(var ne=0;ne<X.FileIndex.length;++ne)if(X.FileIndex[ne]==te)return X.FileIndex.splice(ne,1),X.FullPaths.splice(ne,1),!0}return!1}function Ec(X,re,te){S(X);var ne=Qt.find(X,re);if(ne){for(var I=0;I<X.FileIndex.length;++I)if(X.FileIndex[I]==ne)return X.FileIndex[I].name=a(te),X.FullPaths[I]=te,!0}return!1}function If(X){C(X,!0)}return t.find=O,t.read=N,t.parse=d,t.write=q,t.writeFile=B,t.utils={cfb_new:qn,cfb_add:ys,cfb_del:Fo,cfb_mov:Ec,cfb_gc:If,ReadShift:Q0,CheckField:lK,prep_blob:Jn,bconcat:Qc,use_zlib:P,_deflateRaw:Le,_inflateRaw:bn,consts:L},t}();function i$e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function _l(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function HP(e){for(var t=[],r=_l(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var r_=new Date(1899,11,30,0,0,0);function fs(e,t){var r=e.getTime(),n=r_.getTime()+(e.getTimezoneOffset()-r_.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var UG=new Date,o$e=r_.getTime()+(UG.getTimezoneOffset()-r_.getTimezoneOffset())*6e4,RL=UG.getTimezoneOffset();function hj(e){var t=new Date;return t.setTime(e*24*60*60*1e3+o$e),t.getTimezoneOffset()!==RL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-RL)*6e4),t}function l$e(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var ML=new Date("2017-02-19T19:06:09.000Z"),zG=isNaN(ML.getFullYear())?new Date("2/19/17"):ML,c$e=zG.getFullYear()==2017;function Wn(e,t){var r=new Date(e);if(c$e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(zG.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function vf(e,t){if(Xt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return E0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return E0(EG(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return E0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return E0(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ra(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ra(e[r]));return t}function Qr(e,t){for(var r="";r.length<t;)r+=e;return r}function _o(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var u$e=["january","february","march","april","may","june","july","august","september","october","november","december"];function tp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&u$e.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var d$e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),o=[s[0]],l=1;l<s.length;++l)o.push(a),o.push(s[l]);return o}}();function VG(e){return e?e.content&&e.type?vf(e.content,!0):e.data?N0(e.data):e.asNodeBuffer&&Xt?N0(e.asNodeBuffer().toString("binary")):e.asBinary?N0(e.asBinary()):e._data&&e._data.getContent?N0(vf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function WG(e){if(!e)return null;if(e.data)return jL(e.data);if(e.asNodeBuffer&&Xt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?jL(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function f$e(e){return e&&e.name.slice(-4)===".bin"?WG(e):VG(e)}function yi(e,t){for(var r=e.FullPaths||_l(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function qP(e,t){var r=yi(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function hn(e,t,r){if(!r)return f$e(qP(e,t));if(!t)return null;try{return hn(e,t)}catch{return null}}function Zs(e,t,r){if(!r)return VG(qP(e,t));if(!t)return null;try{return Zs(e,t)}catch{return null}}function h$e(e,t,r){return WG(qP(e,t))}function FL(e){for(var t=e.FullPaths||_l(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function m$e(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Xt?n=Pf(r):n=D5e(r),Qt.utils.cfb_add(e,t,n)}Qt.utils.cfb_add(e,t,r)}else e.file(t,r)}function HG(e,t){switch(t.type){case"base64":return Qt.read(e,{type:"base64"});case"binary":return Qt.read(e,{type:"binary"});case"buffer":case"array":return Qt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function C0(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var qG=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,p$e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,IL=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,g$e=/<[^>]*>/g,Ia=qG.match(IL)?IL:g$e,v$e=/<\w*:/,x$e=/<(\/?)\w+:/;function kt(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(p$e),l=0,c="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[m]&&d.slice(l-3,l)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function El(e){return e.replace(x$e,"<$1")}var GG={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},y$e=HP(GG),rr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return GG[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,o)+r(a.slice(o+3))}}(),b$e=/[&<>'"]/g,_$e=/[\u0000-\u001f]/g;function GP(e){var t=e+"";return t.replace(b$e,function(r){return y$e[r]}).replace(/\n/g,"<br/>").replace(_$e,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var LL=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Fr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function g2(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function $L(e){var t=Lu(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function BL(e){return Pf(e,"binary").toString("utf8")}var _y="foo bar baz",Cr=Xt&&(BL(_y)==g2(_y)&&BL||$L(_y)==g2(_y)&&$L)||g2,E0=Xt?function(e){return Pf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},xv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),KG=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),w$e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),j$e=/<\/?(?:vt:)?variant>/g,S$e=/<(?:vt:)([^>]*)>([\s\S]*)</;function UL(e,t){var r=kt(e),n=e.match(w$e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var o=s.replace(j$e,"").match(S$e);o&&a.push({v:Cr(o[2]),t:o[1]})}),a}var N$e=/(^\s|\s$|\n)/;function k$e(e){return _l(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function C$e(e,t,r){return"<"+e+(r!=null?k$e(r):"")+(t!=null?(t.match(N$e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function KP(e){if(Xt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Cr(Of(zP(e)));throw new Error("Bad input format: expected Buffer or string")}var yv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,E$e={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},T$e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function A$e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function P$e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var zL=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},VL=Xt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Pf(t)})):zL(e)}:zL,WL=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Xl(e,a)));return n.join("").replace(as,"")},YP=Xt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(as,""):WL(e,t,r)}:WL,HL=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},YG=Xt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):HL(e,t,r)}:HL,qL=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(nh(e,a)));return n.join("")},vx=Xt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):qL(t,r,n)}:qL,XG=function(e,t){var r=Qs(e,t);return r>0?vx(e,t+4,t+4+r-1):""},QG=XG,JG=function(e,t){var r=Qs(e,t);return r>0?vx(e,t+4,t+4+r-1):""},ZG=JG,eK=function(e,t){var r=2*Qs(e,t);return r>0?vx(e,t+4,t+4+r-1):""},tK=eK,rK=function(t,r){var n=Qs(t,r);return n>0?YP(t,r+4,r+4+n):""},nK=rK,aK=function(e,t){var r=Qs(e,t);return r>0?vx(e,t+4,t+4+r):""},sK=aK,iK=function(e,t){return A$e(e,t)},n_=iK,oK=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Xt&&(QG=function(t,r){if(!Buffer.isBuffer(t))return XG(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},ZG=function(t,r){if(!Buffer.isBuffer(t))return JG(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},tK=function(t,r){if(!Buffer.isBuffer(t))return eK(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},nK=function(t,r){if(!Buffer.isBuffer(t))return rK(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},sK=function(t,r){if(!Buffer.isBuffer(t))return aK(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},n_=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):iK(t,r)},oK=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var nh=function(e,t){return e[t]},Xl=function(e,t){return e[t+1]*256+e[t]},O$e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Qs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},pd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},D$e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Q0(e,t){var r="",n,a,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Xt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Xl(this,u)),u+=2;e*=2;break;case"utf8":r=vx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=YP(this,this.l,this.l+e);break;case"wstr":return Q0.call(this,e,"dbcs");case"lpstr-ansi":r=QG(this,this.l),e=4+Qs(this,this.l);break;case"lpstr-cp":r=ZG(this,this.l),e=4+Qs(this,this.l);break;case"lpwstr":r=tK(this,this.l),e=4+2*Qs(this,this.l);break;case"lpp4":e=4+Qs(this,this.l),r=nK(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Qs(this,this.l),r=sK(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=nh(this,this.l+e++))!==0;)s.push(by(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=Xl(this,this.l+e))!==0;)s.push(by(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=nh(this,u),this.l=u+1,l=Q0.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(by(Xl(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=nh(this,u),this.l=u+1,l=Q0.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(by(nh(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=nh(this,this.l),this.l++,n;case 2:return n=(t==="i"?O$e:Xl)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?pd:D$e)(this,this.l),this.l+=4,n):(a=Qs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=n_(this,this.l):a=n_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=YG(this,this.l,e);break}}return this.l+=e,r}var R$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},M$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},F$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function I$e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)F$e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,R$e(this,t,this.l);break;case 8:if(n=8,r==="f"){P$e(this,t,this.l);break}case 16:break;case-4:n=4,M$e(this,t,this.l);break}return this.l+=n,this}function lK(e,t){var r=YG(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Jn(e,t){e.l=t,e.read_shift=Q0,e.chk=lK,e.write_shift=I$e}function Ra(e,t){e.l+=t}function Nn(e){var t=Lu(e);return Jn(t,0),t}function Cc(e,t,r){if(e){var n,a,s;Jn(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=c_[l]||c_[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function qC(){var e=[],t=Xt?256:2048,r=function(u){var d=Nn(u);return Jn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Qc(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function J0(e,t,r){var n=ra(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function GL(e,t,r){var n=ra(e);return n.s=J0(n.s,t.s,r),n.e=J0(n.e,t.s,r),n}function Z0(e,t){if(e.cRel&&e.c<0)for(e=ra(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ra(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=At(e);return!e.cRel&&e.cRel!=null&&(r=B$e(r)),!e.rRel&&e.rRel!=null&&(r=L$e(r)),r}function v2(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+An(e.s.c)+":"+(e.e.cRel?"":"$")+An(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+na(e.s.r)+":"+(e.e.rRel?"":"$")+na(e.e.r):Z0(e.s,t.biff)+":"+Z0(e.e,t.biff)}function XP(e){return parseInt($$e(e),10)-1}function na(e){return""+(e+1)}function L$e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function $$e(e){return e.replace(/\$(\d+)$/,"$1")}function QP(e){for(var t=U$e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function An(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function B$e(e){return e.replace(/^([A-Z])/,"$$$1")}function U$e(e){return e.replace(/^\$([A-Z])/,"$1")}function z$e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ts(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function At(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Lp(e){var t=e.indexOf(":");return t==-1?{s:ts(e),e:ts(e)}:{s:ts(e.slice(0,t)),e:ts(e.slice(t+1))}}function Zt(e,t){return typeof t>"u"||typeof t=="number"?Zt(e.s,e.e):(typeof e!="string"&&(e=At(e)),typeof t!="string"&&(t=At(t)),e==t?e:e+":"+t)}function Jr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function KL(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Li(e.z,r?fs(t):t)}catch{}try{return e.w=Li((e.XF||{}).numFmtId||(r?14:0),r?fs(t):t)}catch{return""+t}}function yc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Mf[e.v]||e.v:t==null?KL(e,e.v):KL(e,t))}function ed(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function cK(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?ts(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Jr(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},g=o+f,p=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Ft[14],n.cellDates?(m.t="d",m.w=Li(m.z,fs(m.v))):(m.t="n",m.v=fs(m.v),m.w=Li(m.z,m.v))):m.t="s";if(a)s[g]||(s[g]=[]),s[g][p]&&s[g][p].z&&(m.z=s[g][p].z),s[g][p]=m;else{var v=At({c:p,r:g});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=Zt(u)),s}function $p(e,t){return cK(null,e,t)}function V$e(e){return e.read_shift(4,"i")}function Ta(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function W$e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function JP(e,t){var r=e.l,n=e.read_shift(1),a=Ta(e),s=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(W$e(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var H$e=JP;function zi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Df(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var q$e=Ta;function ZP(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var G$e=Ta,GC=ZP;function eO(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?n_([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):pd(t,0)>>2;return r?a/100:a}function uK(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Rf=uK;function ka(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function K$e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Hd[a];u&&(t.rgb=_v(u));break;case 2:t.rgb=_v([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Y$e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function dK(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function X$e(e){return dK(e,1)}function Q$e(e){return dK(e,2)}var tO=2,js=3,wy=11,YL=12,a_=19,jy=64,J$e=65,Z$e=71,e8e=4108,t8e=4126,Ln=80,fK=81,r8e=[Ln,fK],n8e={1:{n:"CodePage",t:tO},2:{n:"Category",t:Ln},3:{n:"PresentationFormat",t:Ln},4:{n:"ByteCount",t:js},5:{n:"LineCount",t:js},6:{n:"ParagraphCount",t:js},7:{n:"SlideCount",t:js},8:{n:"NoteCount",t:js},9:{n:"HiddenCount",t:js},10:{n:"MultimediaClipCount",t:js},11:{n:"ScaleCrop",t:wy},12:{n:"HeadingPairs",t:e8e},13:{n:"TitlesOfParts",t:t8e},14:{n:"Manager",t:Ln},15:{n:"Company",t:Ln},16:{n:"LinksUpToDate",t:wy},17:{n:"CharacterCount",t:js},19:{n:"SharedDoc",t:wy},22:{n:"HyperlinksChanged",t:wy},23:{n:"AppVersion",t:js,p:"version"},24:{n:"DigSig",t:J$e},26:{n:"ContentType",t:Ln},27:{n:"ContentStatus",t:Ln},28:{n:"Language",t:Ln},29:{n:"Version",t:Ln},255:{},2147483648:{n:"Locale",t:a_},2147483651:{n:"Behavior",t:a_},1919054434:{}},a8e={1:{n:"CodePage",t:tO},2:{n:"Title",t:Ln},3:{n:"Subject",t:Ln},4:{n:"Author",t:Ln},5:{n:"Keywords",t:Ln},6:{n:"Comments",t:Ln},7:{n:"Template",t:Ln},8:{n:"LastAuthor",t:Ln},9:{n:"RevNumber",t:Ln},10:{n:"EditTime",t:jy},11:{n:"LastPrinted",t:jy},12:{n:"CreatedDate",t:jy},13:{n:"ModifiedDate",t:jy},14:{n:"PageCount",t:js},15:{n:"WordCount",t:js},16:{n:"CharCount",t:js},17:{n:"Thumbnail",t:Z$e},18:{n:"Application",t:Ln},19:{n:"DocSecurity",t:js},255:{},2147483648:{n:"Locale",t:a_},2147483651:{n:"Behavior",t:a_},1919054434:{}},XL={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},s8e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function i8e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var o8e=i8e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Hd=ra(o8e),Mf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},hK={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},QL={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function l8e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function c8e(e){var t=l8e();if(!e||!e.match)return t;var r={};if((e.match(Ia)||[]).forEach(function(n){var a=kt(n);switch(a[0].replace(v$e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[QL[a.ContentType]]!==void 0&&t[QL[a.ContentType]].push(a.PartName);break}}),t.xmlns!==E$e.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Th={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function KC(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function eg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ia)||[]).forEach(function(a){var s=kt(a);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:C0(s.Target,t);r[l]=o,n[s.Id]=o}}),r["!id"]=n,r}var u8e="application/vnd.oasis.opendocument.spreadsheet";function d8e(e,t){for(var r=KP(e),n,a;n=yv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=kt(n[0],!1),a.path=="/"&&a.type!==u8e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var tg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],f8e=function(){for(var e=new Array(tg.length),t=0;t<tg.length;++t){var r=tg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function mK(e){var t={};e=Cr(e);for(var r=0;r<tg.length;++r){var n=tg[r],a=e.match(f8e[r]);a!=null&&a.length>0&&(t[n[1]]=rr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Wn(t[n[1]]))}return t}var h8e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function pK(e,t,r,n){var a=[];if(typeof e=="string")a=UL(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var o=typeof t=="string"?UL(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function m8e(e,t,r){var n={};return t||(t={}),e=Cr(e),h8e.forEach(function(a){var s=(e.match(xv(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=rr(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&pK(n.HeadingPairs,n.TitlesOfParts,t,r),t}var p8e=/<[^>]+>[^<]*/g;function g8e(e,t){var r={},n="",a=e.match(p8e);if(a)for(var s=0;s!=a.length;++s){var o=a[s],l=kt(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=rr(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=rr(d);break;case"bool":r[n]=Fr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Wn(d);break;case"cy":case"error":r[n]=rr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}var v8e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},x2;function x8e(e,t,r){x2||(x2=HP(v8e)),t=x2[t]||t,e[t]=r}function rO(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function gK(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function vK(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function xK(e,t,r){return t===31?vK(e):gK(e,t,r)}function YC(e,t,r){return xK(e,t,r===!1?0:4)}function y8e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return xK(e,t,0)}function b8e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(as,""),e.l-a&2&&(e.l+=2)}return r}function _8e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(as,"");return r}function w8e(e){var t=e.l,r=s_(e,fK);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=s_(e,js);return[r,n]}function j8e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(w8e(e));return r}function JL(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),o=e.read_shift(4);n[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(as,"").replace(k0,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function yK(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function S8e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function s_(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==YL&&n!==t&&r8e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===YL?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return gK(e,n,4).replace(as,"");case 31:return vK(e);case 64:return rO(e);case 65:return yK(e);case 71:return S8e(e);case 80:return YC(e,n,!s.raw).replace(as,"");case 81:return y8e(e,n).replace(as,"");case 4108:return j8e(e);case 4126:case 4127:return n==4127?b8e(e):_8e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function ZL(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);s[o]=[d,f+r]}s.sort(function(b,_){return b[1]-_[1]});var h={};for(o=0;o!=a;++o){if(e.l!==s[o][1]){var m=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(m=!1,e.l=s[o][1]),m)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var g=t[s[o][0]];if(h[g.n]=s_(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ho(l=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(s[o][0]===1){if(l=h.CodePage=s_(e,tO),ho(l),c!==-1){var p=e.l;e.l=s[c][1],u=JL(e,l),e.l=p}}else if(s[o][0]===0){if(l===0){c=o,e.l=s[o+1][1];continue}u=JL(e,l)}else{var v=u[s[o][0]],y;switch(e[e.l]){case 65:e.l+=4,y=yK(e);break;case 30:e.l+=4,y=YC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=YC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Zr(e,4);break;case 64:e.l+=4,y=Wn(rO(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function e5(e,t,r){var n=e.content;if(!n)return{};Jn(n,0);var a,s,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Qt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=ZL(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var g;try{g=ZL(n,null)}catch{}for(m in g)h[m]=g[m];return h.FMTID=[s,o],h}function Lc(e,t){return e.read_shift(t),null}function N8e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Zr(e,t){return e.read_shift(t)===1}function mn(e){return e.read_shift(2,"u")}function bK(e,t){return N8e(e,t,mn)}function k8e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function xx(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function C8e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function xf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function yx(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):xf(e,n,r)}function Ff(e,t,r){if(r.biff>5)return yx(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function E8e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function T8e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(as,"");return n&&(e.l+=24),a}function A8e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(as,"");return r+o}function P8e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return T8e(e);case"0303000000000000c000000000000046":return A8e(e);default:throw new Error("Unsupported Moniker "+r)}}function Sy(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(as,""):"";return r}function O8e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,o,l,c,u="",d,f;a&16&&(s=Sy(e,r-e.l)),a&128&&(o=Sy(e,r-e.l)),(a&257)===257&&(l=Sy(e,r-e.l)),(a&257)===1&&(c=P8e(e,r-e.l)),a&8&&(u=Sy(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=rO(e)),e.l=r;var h=o||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function _K(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function wK(e,t){var r=_K(e);return r[3]=0,r}function Tl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function D8e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function R8e(e,t,r){return t===0?"":Ff(e,t,r)}function M8e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function jK(e){var t=e.read_shift(2),r=eO(e);return[t,r]}function F8e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=xx(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function mj(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function SK(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var I8e=SK;function NK(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function L8e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function $8e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ua(e){e.l+=2,e.l+=e.read_shift(2)}var B8e={0:ua,4:ua,5:ua,6:ua,7:$8e,8:ua,9:ua,10:ua,11:ua,12:ua,13:L8e,14:ua,15:ua,16:ua,17:ua,18:ua,19:ua,20:ua,21:NK};function U8e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(B8e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Ny(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function z8e(e,t){return t===0||e.read_shift(2),1200}function V8e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Ff(e,0,r);return e.read_shift(t+n-e.l),a}function W8e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function H8e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=xx(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:s,name:o}}function q8e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0;o!=a&&e.l<r;++o)s.push(C8e(e));return s.Count=n,s.Unique=a,s}function G8e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function K8e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Y8e(e){var t=D8e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function X8e(e){return e.read_shift(2),e.read_shift(4)}function t5(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function Q8e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function J8e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Z8e(){}function e6e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=xx(e,0,r),n}function t6e(e){var t=Tl(e);return t.isst=e.read_shift(4),t}function r6e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Tl(e);r.biff==2&&e.l++;var s=yx(e,n-e.l,r);return a.val=s,a}function n6e(e,t,r){var n=e.read_shift(2),a=Ff(e,0,r);return[n,a]}var a6e=Ff;function r5(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:o,c}}}function s6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=jK(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function i6e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(jK(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:s}}function o6e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:s}}function l6e(e,t,r,n){var a={},s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=s8e[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function c6e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=l6e(e,t,n.fStyle,r),n}function u6e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function n5(e,t,r){var n=Tl(e);(r.biff==2||t==9)&&++e.l;var a=k8e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function d6e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Tl(e),a=ka(e);return n.val=a,n}var a5=R8e;function f6e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=xf(e,s),l=[];n>e.l;)l.push(yx(e));return[s,a,o,l]}function s5(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=F8e(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var h6e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function i5(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=xf(e,o,r);a&32&&(u=h6e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:KUe(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:f}}function kK(e,t,r){if(r.biff<8)return m6e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(M8e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function m6e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=xx(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function p6e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=xf(e,n,r),o=xf(e,a,r);return[s,o]}function g6e(e,t,r){var n=SK(e);e.l++;var a=e.read_shift(1);return t-=8,[YUe(e,t,r),a,n]}function o5(e,t,r){var n=I8e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,qUe(e,t,r)]}function v6e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function x6e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=Ff(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,s]}}function y6e(e,t,r){return x6e(e,t,r)}function b6e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(mj(e));return r}function _6e(e,t,r){if(r&&r.biff<8)return j6e(e,t,r);var n=NK(e),a=U8e(e,t-22,n[1]);return{cmo:n,ft:a}}var w6e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function j6e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((w6e[n]||Ra)(e,t,r)),{cmo:[a,n,s],ft:o}}function S6e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=E8e(e,6,r);var l=e.read_shift(2);e.read_shift(2),mn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=xf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function N6e(e,t){var r=mj(e);e.l+=16;var n=O8e(e,t-24);return[r,n]}function k6e(e,t){e.read_shift(2);var r=mj(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(as,""),[r,n]}function C6e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=XL[r]||r,r=e.read_shift(2),t[1]=XL[r]||r,t}function E6e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(wK(e));return r}function T6e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(wK(e));return r}function A6e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function CK(e,t,r){if(!r.cellStyles)return Ra(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function P6e(e,t){var r={};return t<32||(e.l+=16,r.header=ka(e),r.footer=ka(e),e.l+=2),r}function O6e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var D6e=Tl,R6e=bK,M6e=yx;function F6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function I6e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Tl(e);++e.l;var a=Ff(e,t-7,r);return n.t="str",n.val=a,n}function L6e(e){var t=Tl(e);++e.l;var r=ka(e);return t.t="n",t.val=r,t}function $6e(e){var t=Tl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function B6e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function U6e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function z6e(e,t,r){var n=e.l+t,a=Tl(e),s=e.read_shift(2),o=xf(e,s,r);return e.l=n,a.t="str",a.val=o,a}var V6e=[2,3,48,49,131,139,140,245],l5=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=HP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Lu(1);switch(c.type){case"base64":d=co(li(l));break;case"binary":d=co(l);break;case"buffer":case"array":d=l;break}Jn(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,v=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(v=d.read_shift(2));var y=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var _=[],j={},w=Math.min(d.length,f==2?521:v-10-(m?264:0)),N=g?32:11;d.l<w&&d[d.l]!=13;)switch(j={},j.name=Xc.utils.decode(b,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,j.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(j.offset=d.read_shift(4)),j.len=d.read_shift(1),f==2&&(j.offset=d.read_shift(2)),j.dec=d.read_shift(1),j.name.length&&_.push(j),f!=2&&(d.l+=g?13:14),j.type){case"B":(!m||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var S=0,k=0;for(u[0]=[],k=0;k!=_.length;++k)u[0][k]=_[k].name;for(;p-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++S]=[],k=0,k=0;k!=_.length;++k){var C=d.slice(d.l,d.l+_[k].len);d.l+=_[k].len,Jn(C,0);var T=Xc.utils.decode(b,C);switch(_[k].type){case"C":T.trim().length&&(u[S][k]=T.replace(/\s+$/,""));break;case"D":T.length===8?u[S][k]=new Date(+T.slice(0,4),+T.slice(4,6)-1,+T.slice(6,8)):u[S][k]=T;break;case"F":u[S][k]=parseFloat(T.trim());break;case"+":case"I":u[S][k]=g?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(T.trim().toUpperCase()){case"Y":case"T":u[S][k]=!0;break;case"N":case"F":u[S][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+T+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][k]="##MEMO##"+(g?parseInt(T.trim(),10):C.read_shift(4));break;case"N":T=T.replace(/\u0000/g,"").trim(),T&&T!="."&&(u[S][k]=+T||0);break;case"@":u[S][k]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[S][k]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[S][k]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][k]=-C.read_shift(-8,"f");break;case"B":if(m&&_[k].len==8){u[S][k]=C.read_shift(8,"f");break}case"G":case"P":C.l+=_[k].len;break;case"0":if(_[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[k].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=_,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=$p(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return ed(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&ho(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=qC(),f=rE(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),g=l["!cols"]||[],p=0,v=0,y=0,b=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++y;continue}if(h[p]!=null){if(++y,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var _=Jr(l["!ref"]),j=[],w=[],N=[];for(p=0;p<=_.e.c-_.s.c;++p){var S="",k="",C=0,T=[];for(v=0;v<m.length;++v)m[v][p]!=null&&T.push(m[v][p]);if(T.length==0||h[p]==null){j[p]="?";continue}for(v=0;v<T.length;++v){switch(typeof T[v]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=T[v]instanceof Date?"D":"C";break;default:k="C"}C=Math.max(C,String(T[v]).length),S=S&&S!=k?"C":k}C>250&&(C=250),k=((g[p]||{}).DBF||{}).type,k=="C"&&g[p].DBF.len>C&&(C=g[p].DBF.len),S=="B"&&k=="N"&&(S="N",N[p]=g[p].DBF.dec,C=g[p].DBF.len),w[p]=S=="C"||k=="N"?C:s[S]||0,b+=w[p],j[p]=S}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,m.length),O.write_shift(2,296+32*y),O.write_shift(2,b),p=0;p<4;++p)O.write_shift(4,0);for(O.write_shift(4,0|(+t[kG]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var A=d.next(32),V=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,V,"sbcs"),A.write_shift(1,j[p]=="?"?"C":j[p],"sbcs"),A.write_shift(4,v),A.write_shift(1,w[p]||s[j[p]]||0),A.write_shift(1,N[p]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),v+=w[p]||s[j[p]]||0}var H=d.next(264);for(H.write_shift(4,13),p=0;p<65;++p)H.write_shift(4,0);for(p=0;p<m.length;++p){var M=d.next(b);for(M.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(j[v]){case"L":M.write_shift(1,m[p][v]==null?63:m[p][v]?84:70);break;case"B":M.write_shift(8,m[p][v]||0,"f");break;case"N":var F="0";for(typeof m[p][v]=="number"&&(F=m[p][v].toFixed(N[v]||0)),y=0;y<w[v]-F.length;++y)M.write_shift(1,32);M.write_shift(1,F,"sbcs");break;case"D":m[p][v]?(M.write_shift(4,("0000"+m[p][v].getFullYear()).slice(-4),"sbcs"),M.write_shift(2,("00"+(m[p][v].getMonth()+1)).slice(-2),"sbcs"),M.write_shift(2,("00"+m[p][v].getDate()).slice(-2),"sbcs")):M.write_shift(8,"00000000","sbcs");break;case"C":var L=String(m[p][v]!=null?m[p][v]:"").slice(0,w[v]);for(M.write_shift(1,L,"sbcs"),y=0;y<w[v]-L.length;++y)M.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),W6e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+_l(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var g=e[m];return typeof g=="number"?SL(g):g},n=function(h,m,g){var p=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:SL(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(li(h),m);case"binary":return s(h,m);case"buffer":return s(Xt&&Buffer.isBuffer(h)?h.toString("binary"):Of(h),m);case"array":return s(vf(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var g=h.split(/[\n\r]+/),p=-1,v=-1,y=0,b=0,_=[],j=[],w=null,N={},S=[],k=[],C=[],T=0,O;for(+m.codepage>=0&&ho(+m.codepage);y!==g.length;++y){T=0;var A=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),V=A.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),H=V[0],M;if(A.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&j.push(A.slice(3).replace(/;;/g,";"));break;case"C":var F=!1,L=!1,B=!1,D=!1,q=-1,Y=-1;for(b=1;b<V.length;++b)switch(V[b].charAt(0)){case"A":break;case"X":v=parseInt(V[b].slice(1))-1,L=!0;break;case"Y":for(p=parseInt(V[b].slice(1))-1,L||(v=0),O=_.length;O<=p;++O)_[O]=[];break;case"K":M=V[b].slice(1),M.charAt(0)==='"'?M=M.slice(1,M.length-1):M==="TRUE"?M=!0:M==="FALSE"?M=!1:isNaN(_o(M))?isNaN(tp(M).getDate())||(M=Wn(M)):(M=_o(M),w!==null&&Ip(w)&&(M=hj(M))),F=!0;break;case"E":D=!0;var P=Gh(V[b].slice(1),{r:p,c:v});_[p][v]=[_[p][v],P];break;case"S":B=!0,_[p][v]=[_[p][v],"S5S"];break;case"G":break;case"R":q=parseInt(V[b].slice(1))-1;break;case"C":Y=parseInt(V[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+A)}if(F&&(_[p][v]&&_[p][v].length==2?_[p][v][0]=M:_[p][v]=M,w=null),B){if(D)throw new Error("SYLK shared formula cannot have own formula");var G=q>-1&&_[q][Y];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");_[p][v][1]=IK(G[1],{r:p-q,c:v-Y})}break;case"F":var K=0;for(b=1;b<V.length;++b)switch(V[b].charAt(0)){case"X":v=parseInt(V[b].slice(1))-1,++K;break;case"Y":for(p=parseInt(V[b].slice(1))-1,O=_.length;O<=p;++O)_[O]=[];break;case"M":T=parseInt(V[b].slice(1))/20;break;case"F":break;case"G":break;case"P":w=j[parseInt(V[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=V[b].slice(1).split(" "),O=parseInt(C[0],10);O<=parseInt(C[1],10);++O)T=parseInt(C[2],10),k[O-1]=T===0?{hidden:!0}:{wch:T},rp(k[O-1]);break;case"C":v=parseInt(V[b].slice(1))-1,k[v]||(k[v]={});break;case"R":p=parseInt(V[b].slice(1))-1,S[p]||(S[p]={}),T>0?(S[p].hpt=T,S[p].hpx=wv(T)):T===0&&(S[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+A)}K<1&&(w=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+A)}}return S.length>0&&(N["!rows"]=S),k.length>0&&(N["!cols"]=k),m&&m.sheetRows&&(_=_.slice(0,m.sheetRows)),[_,N]}function o(h,m){var g=a(h,m),p=g[0],v=g[1],y=$p(p,m);return _l(v).forEach(function(b){y[b]=v[b]}),y}function l(h,m){return ed(o(h,m),m)}function c(h,m,g,p){var v="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+A9e(h.f,{r:g,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,m){m.forEach(function(g,p){var v="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=o_(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=l_(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,m){m.forEach(function(g,p){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*RK(g.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function f(h,m){var g=["ID;PWXL;N;E"],p=[],v=Jr(h["!ref"]),y,b=Array.isArray(h),_=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var j=v.s.r;j<=v.e.r;++j)for(var w=v.s.c;w<=v.e.c;++w){var N=At({r:j,c:w});y=b?(h[j]||[])[w]:h[N],!(!y||y.v==null&&(!y.f||y.F))&&p.push(c(y,h,j,w))}return g.join(_)+_+p.join(_)+_+"E"+_}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),H6e=function(){function e(s,o){switch(o.type){case"base64":return t(li(s),o);case"binary":return t(s,o);case"buffer":return t(Xt&&Buffer.isBuffer(s)?s.toString("binary"):Of(s),o);case"array":return t(vf(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],g=h[1];++d;for(var p=l[d]||"";(p.match(/["]/g)||[]).length&1&&d<l.length-1;)p+=`
`+l[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(_o(g))?isNaN(tp(g).getDate())?f[c][u]=g:f[c][u]=Wn(g):f[c][u]=_o(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(s,o){return $p(e(s,o),o)}function n(s,o){return ed(r(s,o),o)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Jr(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var p=At({r:m,c:g});if(f=h?(c[m]||[])[g]:c[p],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Li(f.z||Ft[14],fs(Wn(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var y=`\r
`,b=u.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),q6e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),g=-1,p=-1,v=0,y=[];v!==m.length;++v){var b=m[v].trim().split(":");if(b[0]==="cell"){var _=ts(b[1]);if(y.length<=_.r)for(g=y.length;g<=_.r;++g)y[g]||(y[g]=[]);switch(g=_.r,p=_.c,b[2]){case"t":y[g][p]=e(b[3]);break;case"v":y[g][p]=+b[3];break;case"vtf":var j=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[g][p]=!!+b[4];break;default:y[g][p]=+b[4];break}b[2]=="vtf"&&(y[g][p]=[y[g][p],j])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return $p(r(f,h),h)}function a(f,h){return ed(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],g,p="",v=Lp(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var _=v.s.c;_<=v.e.c;++_)if(p=At({r:b,c:_}),g=y?(f[b]||[])[_]:f[p],!(!g||g.v==null||g.t==="z")){switch(m=["cell",p,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var j=fs(Wn(g.v));m[2]="vtc",m[3]="nd",m[4]=""+j,m[5]=g.w||Li(g.z||Ft[14],j);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),bv=function(){function e(d,f,h,m,g){g.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(_o(d))?isNaN(tp(d).getDate())?f[h][m]=d:f[h][m]=Wn(d):f[h][m]=_o(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var g=d.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var v=10,y=0,b=0;b<=p;++b)y=g[b].indexOf(" "),y==-1?y=g[b].length:y++,v=Math.max(v,y);for(b=0;b<=p;++b){m[b]=[];var _=0;for(e(g[b].slice(0,v).trim(),m,b,_,h),_=1;_<=(g[b].length-v)/10+1;++_)e(g[b].slice(v+(_-1)*10,v+_*10).trim(),m,b,_,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,g=0;m<d.length;++m)(g=d.charCodeAt(m))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m]);if(!g.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m])}return g.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),r[g.pop()[1]]||44}function s(d,f){var h=f||{},m="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var v=0,y=0,b=0,_=0,j=0,w=m.charCodeAt(0),N=!1,S=0,k=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var C=h.dateNF!=null?n$e(h.dateNF):null;function T(){var O=d.slice(_,j),A={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)A.t="z";else if(h.raw)A.t="s",A.v=O;else if(O.trim().length===0)A.t="s",A.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(A.t="s",A.v=O.slice(2,-1).replace(/""/g,'"')):O9e(O)?(A.t="n",A.f=O.slice(1)):(A.t="s",A.v=O);else if(O=="TRUE")A.t="b",A.v=!0;else if(O=="FALSE")A.t="b",A.v=!1;else if(!isNaN(b=_o(O)))A.t="n",h.cellText!==!1&&(A.w=O),A.v=b;else if(!isNaN(tp(O).getDate())||C&&O.match(C)){A.z=h.dateNF||Ft[14];var V=0;C&&O.match(C)&&(O=a$e(O,h.dateNF,O.match(C)||[]),V=1),h.cellDates?(A.t="d",A.v=Wn(O,V)):(A.t="n",A.v=fs(Wn(O,V))),h.cellText!==!1&&(A.w=Li(A.z,A.v instanceof Date?fs(A.v):A.v)),h.cellNF||delete A.z}else A.t="s",A.v=O;if(A.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=A):g[At({c:y,r:v})]=A),_=j+1,k=d.charCodeAt(_),p.e.c<y&&(p.e.c=y),p.e.r<v&&(p.e.r=v),S==w)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;j<d.length;++j)switch(S=d.charCodeAt(j)){case 34:k===34&&(N=!N);break;case w:case 10:case 13:if(!N&&T())break e;break}return j-_>0&&T(),g["!ref"]=Zt(p),g}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):$p(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:uO(d,f);switch(f.type){case"base64":h=li(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Xc<"u"?h=Xc.utils.decode(f.codepage,d):h=Xt&&Buffer.isBuffer(d)?d.toString("binary"):Of(d);break;case"array":h=vf(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Cr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Cr(h):f.type=="binary"&&typeof Xc<"u"&&f.codepage&&(h=Xc.utils.decode(f.codepage,Xc.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?q6e.to_sheet(f.type=="string"?h:Cr(h),f):o(h,f)}function c(d,f){return ed(l(d,f),f)}function u(d){for(var f=[],h=Jr(d["!ref"]),m,g=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=At({r:p,c:y});if(m=g?(d[p]||[])[y]:d[b],!m||m.v==null){v.push("          ");continue}for(var _=(m.w||(yc(m),m.w)||"").slice(0,10);_.length<10;)_+=" ";v.push(_+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function G6e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=W6e.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return bv.to_workbook(e,t)}}var rg=function(){function e(P,G,K){if(P){Jn(P,P.l||0);for(var Z=K.Enum||q;P.l<P.length;){var se=P.read_shift(2),oe=Z[se]||Z[65535],xe=P.read_shift(2),z=P.l+xe,W=oe.f&&oe.f(P,xe,K);if(P.l=z,G(W,oe,se))return}}}function t(P,G){switch(G.type){case"base64":return r(co(li(P)),G);case"binary":return r(co(P),G);case"buffer":case"array":return r(P,G)}throw"Unsupported type "+G.type}function r(P,G){if(!P)return P;var K=G||{},Z=K.dense?[]:{},se="Sheet1",oe="",xe=0,z={},W=[],ce=[],E={s:{r:0,c:0},e:{r:0,c:0}},Pe=K.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)K.Enum=q,e(P,function(be,Ge,Ze){switch(Ze){case 0:K.vers=be,be>=4096&&(K.qpro=!0);break;case 6:E=be;break;case 204:be&&(oe=be);break;case 222:oe=be;break;case 15:case 51:K.qpro||(be[1].v=be[1].v.slice(1));case 13:case 14:case 16:Ze==14&&(be[2]&112)==112&&(be[2]&15)>1&&(be[2]&15)<15&&(be[1].z=K.dateNF||Ft[14],K.cellDates&&(be[1].t="d",be[1].v=hj(be[1].v))),K.qpro&&be[3]>xe&&(Z["!ref"]=Zt(E),z[se]=Z,W.push(se),Z=K.dense?[]:{},E={s:{r:0,c:0},e:{r:0,c:0}},xe=be[3],se=oe||"Sheet"+(xe+1),oe="");var ae=K.dense?(Z[be[0].r]||[])[be[0].c]:Z[At(be[0])];if(ae){ae.t=be[1].t,ae.v=be[1].v,be[1].z!=null&&(ae.z=be[1].z),be[1].f!=null&&(ae.f=be[1].f);break}K.dense?(Z[be[0].r]||(Z[be[0].r]=[]),Z[be[0].r][be[0].c]=be[1]):Z[At(be[0])]=be[1];break}},K);else if(P[2]==26||P[2]==14)K.Enum=Y,P[2]==14&&(K.qpro=!0,P.l=0),e(P,function(be,Ge,Ze){switch(Ze){case 204:se=be;break;case 22:be[1].v=be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(be[3]>xe&&(Z["!ref"]=Zt(E),z[se]=Z,W.push(se),Z=K.dense?[]:{},E={s:{r:0,c:0},e:{r:0,c:0}},xe=be[3],se="Sheet"+(xe+1)),Pe>0&&be[0].r>=Pe)break;K.dense?(Z[be[0].r]||(Z[be[0].r]=[]),Z[be[0].r][be[0].c]=be[1]):Z[At(be[0])]=be[1],E.e.c<be[0].c&&(E.e.c=be[0].c),E.e.r<be[0].r&&(E.e.r=be[0].r);break;case 27:be[14e3]&&(ce[be[14e3][0]]=be[14e3][1]);break;case 1537:ce[be[0]]=be[1],be[0]==xe&&(se=be[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(Z["!ref"]=Zt(E),z[oe||se]=Z,W.push(oe||se),!ce.length)return{SheetNames:W,Sheets:z};for(var Re={},pe=[],Me=0;Me<ce.length;++Me)z[W[Me]]?(pe.push(ce[Me]||W[Me]),Re[ce[Me]]=z[ce[Me]]||z[W[Me]]):(pe.push(ce[Me]),Re[ce[Me]]={"!ref":"A1"});return{SheetNames:pe,Sheets:Re}}function n(P,G){var K=G||{};if(+K.codepage>=0&&ho(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=qC(),se=Jr(P["!ref"]),oe=Array.isArray(P),xe=[];Xi(Z,0,s(1030)),Xi(Z,6,c(se));for(var z=Math.min(se.e.r,8191),W=se.s.r;W<=z;++W)for(var ce=na(W),E=se.s.c;E<=se.e.c;++E){W===se.s.r&&(xe[E]=An(E));var Pe=xe[E]+ce,Re=oe?(P[W]||[])[E]:P[Pe];if(!(!Re||Re.t=="z"))if(Re.t=="n")(Re.v|0)==Re.v&&Re.v>=-32768&&Re.v<=32767?Xi(Z,13,m(W,E,Re.v)):Xi(Z,14,p(W,E,Re.v));else{var pe=yc(Re);Xi(Z,15,f(W,E,pe.slice(0,239)))}}return Xi(Z,1),Z.end()}function a(P,G){var K=G||{};if(+K.codepage>=0&&ho(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=qC();Xi(Z,0,o(P));for(var se=0,oe=0;se<P.SheetNames.length;++se)(P.Sheets[P.SheetNames[se]]||{})["!ref"]&&Xi(Z,27,D(P.SheetNames[se],oe++));var xe=0;for(se=0;se<P.SheetNames.length;++se){var z=P.Sheets[P.SheetNames[se]];if(!(!z||!z["!ref"])){for(var W=Jr(z["!ref"]),ce=Array.isArray(z),E=[],Pe=Math.min(W.e.r,8191),Re=W.s.r;Re<=Pe;++Re)for(var pe=na(Re),Me=W.s.c;Me<=W.e.c;++Me){Re===W.s.r&&(E[Me]=An(Me));var be=E[Me]+pe,Ge=ce?(z[Re]||[])[Me]:z[be];if(!(!Ge||Ge.t=="z"))if(Ge.t=="n")Xi(Z,23,T(Re,Me,xe,Ge.v));else{var Ze=yc(Ge);Xi(Z,22,S(Re,Me,xe,Ze.slice(0,239)))}}++xe}}return Xi(Z,1),Z.end()}function s(P){var G=Nn(2);return G.write_shift(2,P),G}function o(P){var G=Nn(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var K=0,Z=0,se=0,oe=0;oe<P.SheetNames.length;++oe){var xe=P.SheetNames[oe],z=P.Sheets[xe];if(!(!z||!z["!ref"])){++se;var W=Lp(z["!ref"]);K<W.e.r&&(K=W.e.r),Z<W.e.c&&(Z=W.e.c)}}return K>8191&&(K=8191),G.write_shift(2,K),G.write_shift(1,se),G.write_shift(1,Z),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function l(P,G,K){var Z={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&K.qpro?(Z.s.c=P.read_shift(1),P.l++,Z.s.r=P.read_shift(2),Z.e.c=P.read_shift(1),P.l++,Z.e.r=P.read_shift(2),Z):(Z.s.c=P.read_shift(2),Z.s.r=P.read_shift(2),G==12&&K.qpro&&(P.l+=2),Z.e.c=P.read_shift(2),Z.e.r=P.read_shift(2),G==12&&K.qpro&&(P.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function c(P){var G=Nn(8);return G.write_shift(2,P.s.c),G.write_shift(2,P.s.r),G.write_shift(2,P.e.c),G.write_shift(2,P.e.r),G}function u(P,G,K){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Z[0].c=P.read_shift(1),Z[3]=P.read_shift(1),Z[0].r=P.read_shift(2),P.l+=2):(Z[2]=P.read_shift(1),Z[0].c=P.read_shift(2),Z[0].r=P.read_shift(2)),Z}function d(P,G,K){var Z=P.l+G,se=u(P,G,K);if(se[1].t="s",K.vers==20768){P.l++;var oe=P.read_shift(1);return se[1].v=P.read_shift(oe,"utf8"),se}return K.qpro&&P.l++,se[1].v=P.read_shift(Z-P.l,"cstr"),se}function f(P,G,K){var Z=Nn(7+K.length);Z.write_shift(1,255),Z.write_shift(2,G),Z.write_shift(2,P),Z.write_shift(1,39);for(var se=0;se<Z.length;++se){var oe=K.charCodeAt(se);Z.write_shift(1,oe>=128?95:oe)}return Z.write_shift(1,0),Z}function h(P,G,K){var Z=u(P,G,K);return Z[1].v=P.read_shift(2,"i"),Z}function m(P,G,K){var Z=Nn(7);return Z.write_shift(1,255),Z.write_shift(2,G),Z.write_shift(2,P),Z.write_shift(2,K,"i"),Z}function g(P,G,K){var Z=u(P,G,K);return Z[1].v=P.read_shift(8,"f"),Z}function p(P,G,K){var Z=Nn(13);return Z.write_shift(1,255),Z.write_shift(2,G),Z.write_shift(2,P),Z.write_shift(8,K,"f"),Z}function v(P,G,K){var Z=P.l+G,se=u(P,G,K);if(se[1].v=P.read_shift(8,"f"),K.qpro)P.l=Z;else{var oe=P.read_shift(2);j(P.slice(P.l,P.l+oe),se),P.l+=oe}return se}function y(P,G,K){var Z=G&32768;return G&=-32769,G=(Z?P:0)+(G>=8192?G-16384:G),(Z?"":"$")+(K?An(G):na(G))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(P,G){Jn(P,0);for(var K=[],Z=0,se="",oe="",xe="",z="";P.l<P.length;){var W=P[P.l++];switch(W){case 0:K.push(P.read_shift(8,"f"));break;case 1:oe=y(G[0].c,P.read_shift(2),!0),se=y(G[0].r,P.read_shift(2),!1),K.push(oe+se);break;case 2:{var ce=y(G[0].c,P.read_shift(2),!0),E=y(G[0].r,P.read_shift(2),!1);oe=y(G[0].c,P.read_shift(2),!0),se=y(G[0].r,P.read_shift(2),!1),K.push(ce+E+":"+oe+se)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(P.read_shift(2));break;case 6:{for(var Pe="";W=P[P.l++];)Pe+=String.fromCharCode(W);K.push('"'+Pe.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:z=K.pop(),xe=K.pop(),K.push(["AND","OR"][W-20]+"("+xe+","+z+")");break;default:if(W<32&&_[W])z=K.pop(),xe=K.pop(),K.push(xe+_[W]+z);else if(b[W]){if(Z=b[W][1],Z==69&&(Z=P[P.l++]),Z>K.length){console.error("WK1 bad formula parse 0x"+W.toString(16)+":|"+K.join("|")+"|");return}var Re=K.slice(-Z);K.length-=Z,K.push(b[W][0]+"("+Re.join(",")+")")}else return W<=7?console.error("WK1 invalid opcode "+W.toString(16)):W<=24?console.error("WK1 unsupported op "+W.toString(16)):W<=30?console.error("WK1 invalid opcode "+W.toString(16)):W<=115?console.error("WK1 unsupported function opcode "+W.toString(16)):console.error("WK1 unrecognized opcode "+W.toString(16))}}K.length==1?G[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function w(P){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=P.read_shift(2),G[3]=P[P.l++],G[0].c=P[P.l++],G}function N(P,G){var K=w(P);return K[1].t="s",K[1].v=P.read_shift(G-4,"cstr"),K}function S(P,G,K,Z){var se=Nn(6+Z.length);se.write_shift(2,P),se.write_shift(1,K),se.write_shift(1,G),se.write_shift(1,39);for(var oe=0;oe<Z.length;++oe){var xe=Z.charCodeAt(oe);se.write_shift(1,xe>=128?95:xe)}return se.write_shift(1,0),se}function k(P,G){var K=w(P);K[1].v=P.read_shift(2);var Z=K[1].v>>1;if(K[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return K[1].v=Z,K}function C(P,G){var K=w(P),Z=P.read_shift(4),se=P.read_shift(4),oe=P.read_shift(2);if(oe==65535)return Z===0&&se===3221225472?(K[1].t="e",K[1].v=15):Z===0&&se===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var xe=oe&32768;return oe=(oe&32767)-16446,K[1].v=(1-xe*2)*(se*Math.pow(2,oe+32)+Z*Math.pow(2,oe)),K}function T(P,G,K,Z){var se=Nn(14);if(se.write_shift(2,P),se.write_shift(1,K),se.write_shift(1,G),Z==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var oe=0,xe=0,z=0,W=0;return Z<0&&(oe=1,Z=-Z),xe=Math.log2(Z)|0,Z/=Math.pow(2,xe-31),W=Z>>>0,W&2147483648||(Z/=2,++xe,W=Z>>>0),Z-=W,W|=2147483648,W>>>=0,Z*=Math.pow(2,32),z=Z>>>0,se.write_shift(4,z),se.write_shift(4,W),xe+=16383+(oe?32768:0),se.write_shift(2,xe),se}function O(P,G){var K=C(P);return P.l+=G-14,K}function A(P,G){var K=w(P),Z=P.read_shift(4);return K[1].v=Z>>6,K}function V(P,G){var K=w(P),Z=P.read_shift(8,"f");return K[1].v=Z,K}function H(P,G){var K=V(P);return P.l+=G-10,K}function M(P,G){return P[P.l+G-1]==0?P.read_shift(G,"cstr"):""}function F(P,G){var K=P[P.l++];K>G-1&&(K=G-1);for(var Z="";Z.length<K;)Z+=String.fromCharCode(P[P.l++]);return Z}function L(P,G,K){if(!(!K.qpro||G<21)){var Z=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var se=P.read_shift(G-21,"cstr");return[Z,se]}}function B(P,G){for(var K={},Z=P.l+G;P.l<Z;){var se=P.read_shift(2);if(se==14e3){for(K[se]=[0,""],K[se][0]=P.read_shift(2);P[P.l];)K[se][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return K}function D(P,G){var K=Nn(5+P.length);K.write_shift(2,14e3),K.write_shift(2,G);for(var Z=0;Z<P.length;++Z){var se=P.charCodeAt(Z);K[K.l++]=se>127?95:se}return K[K.l++]=0,K}var q={0:{n:"BOF",f:mn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:M},222:{n:"SHEETNAMELP",f:F},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:B},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:A},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:M},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:L},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function K6e(e){var t={},r=e.match(Ia),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=kt(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=BP[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var Y6e=function(){var e=xv("t"),t=xv("rPr");function r(s){var o=s.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:rr(o[1])},c=s.match(t);return c&&(l.s=K6e(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),X6e=function(){var t=/(\r\n|\n)/g;function r(a,s,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),o.push("</b>")),a.i&&(s.push("<i>"),o.push("</i>")),a.strike&&(s.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),Q6e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,J6e=/<(?:\w+:)?r>/,Z6e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function nO(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=rr(Cr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Cr(e),r&&(n.h=GP(n.t))):e.match(J6e)&&(n.r=Cr(e),n.t=rr(Cr((e.replace(Z6e,"").match(Q6e)||[]).join("").replace(Ia,""))),r&&(n.h=X6e(Y6e(n.r)))),n):{t:""}}var eBe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,tBe=/<(?:\w+:)?(?:si|sstItem)>/g,rBe=/<\/(?:\w+:)?(?:si|sstItem)>/;function nBe(e,t){var r=[],n="";if(!e)return r;var a=e.match(eBe);if(a){n=a[2].replace(tBe,"").split(rBe);for(var s=0;s!=n.length;++s){var o=nO(n[s].trim(),t);o!=null&&(r[r.length]=o)}a=kt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function aBe(e){return[e.read_shift(4),e.read_shift(4)]}function sBe(e,t){var r=[],n=!1;return Cc(e,function(s,o,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function EK(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function nc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function iBe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=nc(e,4),t.U=nc(e,4),t.W=nc(e,4),t}function oBe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function lBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(oBe(e));return t}function cBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function uBe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=nc(e,4),t.U=nc(e,4),t.W=nc(e,4),t}function dBe(e){var t=uBe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function TK(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function AK(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function fBe(e){var t=nc(e);switch(t.Minor){case 2:return[t.Minor,hBe(e)];case 3:return[t.Minor,mBe()];case 4:return[t.Minor,pBe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function hBe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=TK(e,r),a=AK(e,e.length-e.l);return{t:"Std",h:n,v:a}}function mBe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pBe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ia,function(s){var o=kt(s);switch(El(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function gBe(e,t){var r={},n=r.EncryptionVersionInfo=nc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=TK(e,a),t-=a,r.EncryptionVerifier=AK(e,t),r}function vBe(e){var t={},r=t.EncryptionVersionInfo=nc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function xBe(e){var t=0,r,n=EK(e),a=n.length+1,s,o,l,c,u;for(r=Lu(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var PK=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},s=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=EK(o),c=s(l),u=l.length,d=Lu(16),f=0;f!=16;++f)d[f]=0;var h,m,g;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=l[l.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,g=15-l.length;g>0;)h=c>>8,d[u]=a(e[g],h),--u,--g,h=c&255,d[u]=a(l[u],h),--u,--g;return d}}(),yBe=function(e,t,r,n,a){a||(a=t),n||(n=PK(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=n[r],o=(o>>5|o<<3)&255,a[s]=o,++r;return[a,r,n]},bBe=function(e){var t=0,r=PK(e);return function(n){var a=yBe("",n,t,r);return t=a[1],a[0]}};function _Be(e,t,r,n){var a={key:mn(e),verificationBytes:mn(e)};return r.password&&(a.verifier=xBe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=bBe(r.password)),a}function wBe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=vBe(e):n.Data=gBe(e,t),n}function jBe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?wBe(e,t-2,n):_Be(e,r.biff>=8?t:t-2,r,n),n}var SBe=function(){function e(a,s){switch(s.type){case"base64":return t(li(a),s);case"binary":return t(a,s);case"buffer":return t(Xt&&Buffer.isBuffer(a)?a.toString("binary"):Of(a),s);case"array":return t(vf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,g,p=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var v=d.slice(m,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var y={v,t:"s"};Array.isArray(l)?l[f][p]=y:l[At({r:f,c:p})]=y}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=Zt(u),l}function r(a,s){return ed(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=Jr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=At({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(yc(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function NBe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function _v(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function kBe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),o=a-s;if(o===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function CBe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,o=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function i_(e,t){if(t===0)return e;var r=kBe(NBe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),_v(CBe(r))}var OK=6,EBe=15,TBe=1,Ka=OK;function o_(e){return Math.floor((e+Math.round(128/Ka)/256)*Ka)}function l_(e){return Math.floor((e-5)/Ka*100+.5)/100}function XC(e){return Math.round((e*Ka+5)/Ka*256)/256}function y2(e){return XC(l_(o_(e)))}function aO(e){var t=Math.abs(e-y2(e)),r=Ka;if(t>.005)for(Ka=TBe;Ka<EBe;++Ka)Math.abs(e-y2(e))<=t&&(t=Math.abs(e-y2(e)),r=Ka);Ka=r}function rp(e){e.width?(e.wpx=o_(e.width),e.wch=l_(e.wpx),e.MDW=Ka):e.wpx?(e.wch=l_(e.wpx),e.width=XC(e.wch),e.MDW=Ka):typeof e.wch=="number"&&(e.width=XC(e.wch),e.wpx=o_(e.width),e.MDW=Ka),e.customWidth&&delete e.customWidth}var ABe=96,DK=ABe;function RK(e){return e*96/DK}function wv(e){return e*DK/96}var PBe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function OBe(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Ia)||[]).forEach(function(o){var l=kt(o);switch(El(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Fr(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Fr(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function DBe(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Ia)||[]).forEach(function(o){var l=kt(o);switch(El(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function RBe(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Ia)||[]).forEach(function(o){var l=kt(o);switch(El(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Cr(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Fr(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Fr(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Fr(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Fr(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Fr(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Fr(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Fr(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=BP[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Fr(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Hd[a.color.index];a.color.index==81&&(c=Hd[1]),c||(c=Hd[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=i_(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function MBe(e,t,r){t.NumberFmt=[];for(var n=_l(Ft),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Ft[n[a]];var s=e[0].match(Ia);if(s)for(a=0;a<s.length;++a){var o=kt(s[a]);switch(El(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=rr(Cr(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Wd(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var ky=["numFmtId","fillId","fontId","borderId","xfId"],Cy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function FBe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ia)||[]).forEach(function(s){var o=kt(s),l=0;switch(El(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<ky.length;++l)n[ky[l]]&&(n[ky[l]]=parseInt(n[ky[l]],10));for(l=0;l<Cy.length;++l)n[Cy[l]]&&(n[Cy[l]]=Fr(n[Cy[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Fr(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var IBe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&MBe(f,d,u),(f=l.match(a))&&RBe(f,d,c,u),(f=l.match(n))&&DBe(f,d,c,u),(f=l.match(s))&&OBe(f,d,c,u),(f=l.match(r))&&FBe(f,d,u),d}}();function LBe(e,t){var r=e.read_shift(2),n=Ta(e);return[r,n]}function $Be(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Y$e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=K$e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ta(e),n}var BBe=Ra;function UBe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var zBe=Ra;function VBe(e,t,r){var n={};n.NumberFmt=[];for(var a in Ft)n.NumberFmt[a]=Ft[a];n.CellXf=[],n.Fonts=[];var s=[],o=!1;return Cc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Wd(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=i_(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var WBe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function HBe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ia)||[]).forEach(function(a){var s=kt(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[WBe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function qBe(){}function GBe(){}var KBe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,YBe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,XBe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function QBe(e,t,r){t.themeElements={};var n;[["clrScheme",KBe,HBe],["fontScheme",YBe,qBe],["fmtScheme",XBe,GBe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var JBe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function MK(e,t){(!e||e.length===0)&&(e=ZBe());var r,n={};if(!(r=e.match(JBe)))throw new Error("themeElements not found in theme");return QBe(r[0],n,t),n.raw=e,n}function ZBe(e,t){var r=[qG];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function e9e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var o;try{o=HG(s,{type:"array"})}catch{return}var l=Zs(o,"theme/theme/theme1.xml",!0);if(l)return MK(l,r)}}function t9e(e){return e.read_shift(4)}function r9e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=n9e(e,4);break;case 2:t.xclrValue=_K(e);break;case 3:t.xclrValue=t9e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function n9e(e,t){return Ra(e,t)}function a9e(e,t){return Ra(e,t)}function s9e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=r9e(e);break;case 6:n[1]=a9e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function i9e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(s9e(e,r-e.l));return{ixfe:n,ext:s}}function o9e(e,t){t.forEach(function(r){switch(r[0]){}})}function l9e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ta(e)}}function c9e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function u9e(e){return e.l+=4,e.read_shift(4)!=0}function d9e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],o=!1,l=2;return Cc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function f9e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,o;return e.replace(Ia,function(l){var c=kt(l);switch(El(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function h9e(e){var t=[];if(!e)return t;var r=1;return(e.match(Ia)||[]).forEach(function(n){var a=kt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function m9e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=At(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function p9e(e,t,r){var n=[];return Cc(e,function(s,o,l){switch(l){case 63:n.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function g9e(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Cc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function v9e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function c5(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(o){var l=ts(o.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[o.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[o.ref]=s;var c=Jr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Zt(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function x9e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=kt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=ts(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&nO(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function y9e(e,t){var r=[],n=!1,a={},s=0;return e.replace(Ia,function(l,c){var u=kt(l);switch(El(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function b9e(e,t){var r=[],n=!1;return e.replace(Ia,function(s){var o=kt(s);switch(El(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function _9e(e){var t={};t.iauthor=e.read_shift(4);var r=Rf(e);return t.rfx=r.s,t.ref=At(r.s),e.l+=16,t}var w9e=Ta;function j9e(e,t){var r=[],n=[],a={},s=!1;return Cc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var S9e="application/vnd.ms-office.vbaProject";function N9e(e){var t=Qt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Qt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Qt.write(t)}function k9e(){return{"!type":"dialog"}}function C9e(){return{"!type":"dialog"}}function E9e(){return{"!type":"macro"}}function T9e(){return{"!type":"macro"}}var Gh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+An(d)+(c?"":"$")+na(u)}return function(a,s){return t=s,a.replace(e,r)}}(),FK=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,A9e=function(){return function(t,r){return t.replace(FK,function(n,a,s,o,l,c){var u=QP(o)-(s?0:r.c),d=XP(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function IK(e,t){return e.replace(FK,function(r,n,a,s,o,l){return n+(a=="$"?a+s:An(QP(s)+t.c))+(o=="$"?o+l:na(XP(l)+t.r))})}function P9e(e,t,r){var n=Lp(t),a=n.s,s=ts(r),o={r:s.r-a.r,c:s.c-a.c};return IK(e,o)}function O9e(e){return e.length!=1}function u5(e){return e.replace(/_xlfn\./g,"")}function un(e){e.l+=1}function $u(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function LK(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return $K(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=$u(e),l=$u(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function $K(e){var t=$u(e),r=$u(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function D9e(e,t,r){if(r.biff<8)return $K(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=$u(e),o=$u(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function BK(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return R9e(e);var n=e.read_shift(r&&r.biff==12?4:2),a=$u(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function R9e(e){var t=$u(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function M9e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function F9e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return I9e(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function I9e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function L9e(e,t,r){var n=(e[e.l++]&96)>>5,a=LK(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function $9e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=LK(e,s,r);return[n,a,o]}function B9e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function U9e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function z9e(e,t,r){var n=(e[e.l++]&96)>>5,a=D9e(e,t-1,r);return[n,a]}function V9e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function d5(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function W9e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function H9e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function q9e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function G9e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function K9e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function UK(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Y9e(e){return e.read_shift(2),UK(e)}function X9e(e){return e.read_shift(2),UK(e)}function Q9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=BK(e,0,r);return[n,a]}function J9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=F9e(e,0,r);return[n,a]}function Z9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=BK(e,0,r);return[n,a,s]}function eUe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[t7e[a],WK[a],n]}function tUe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:rUe(e);return[a,(s[0]===0?WK:e7e)[s[1]]]}function rUe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function nUe(e,t,r){e.l+=r&&r.biff==2?3:4}function aUe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function sUe(e){return e.l++,Mf[e.read_shift(1)]}function iUe(e){return e.l++,e.read_shift(2)}function oUe(e){return e.l++,e.read_shift(1)!==0}function lUe(e){return e.l++,ka(e)}function cUe(e,t,r){return e.l++,xx(e,t-1,r)}function uUe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Zr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Mf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ka(e);break;case 2:r[1]=Ff(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function dUe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Rf:mj)(e));return a}function fUe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=uUe(e,r.biff);return o}function hUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function mUe(e,t,r){if(r.biff==5)return pUe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function pUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function gUe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function vUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function xUe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function yUe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var bUe=Ra,_Ue=Ra,wUe=Ra;function bx(e,t,r){return e.l+=2,[M9e(e)]}function sO(e){return e.l+=6,[]}var jUe=bx,SUe=sO,NUe=sO,kUe=bx;function zK(e){return e.l+=2,[mn(e),e.read_shift(2)&1]}var CUe=bx,EUe=zK,TUe=sO,AUe=bx,PUe=bx,OUe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function DUe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=OUe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function RUe(e){return e.l+=2,[e.read_shift(4)]}function MUe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function FUe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function IUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function LUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function $Ue(e){return e.l+=4,[0,0]}var f5={1:{n:"PtgExp",f:aUe},2:{n:"PtgTbl",f:wUe},3:{n:"PtgAdd",f:un},4:{n:"PtgSub",f:un},5:{n:"PtgMul",f:un},6:{n:"PtgDiv",f:un},7:{n:"PtgPower",f:un},8:{n:"PtgConcat",f:un},9:{n:"PtgLt",f:un},10:{n:"PtgLe",f:un},11:{n:"PtgEq",f:un},12:{n:"PtgGe",f:un},13:{n:"PtgGt",f:un},14:{n:"PtgNe",f:un},15:{n:"PtgIsect",f:un},16:{n:"PtgUnion",f:un},17:{n:"PtgRange",f:un},18:{n:"PtgUplus",f:un},19:{n:"PtgUminus",f:un},20:{n:"PtgPercent",f:un},21:{n:"PtgParen",f:un},22:{n:"PtgMissArg",f:un},23:{n:"PtgStr",f:cUe},26:{n:"PtgSheet",f:MUe},27:{n:"PtgEndSheet",f:FUe},28:{n:"PtgErr",f:sUe},29:{n:"PtgBool",f:oUe},30:{n:"PtgInt",f:iUe},31:{n:"PtgNum",f:lUe},32:{n:"PtgArray",f:V9e},33:{n:"PtgFunc",f:eUe},34:{n:"PtgFuncVar",f:tUe},35:{n:"PtgName",f:hUe},36:{n:"PtgRef",f:Q9e},37:{n:"PtgArea",f:L9e},38:{n:"PtgMemArea",f:gUe},39:{n:"PtgMemErr",f:bUe},40:{n:"PtgMemNoMem",f:_Ue},41:{n:"PtgMemFunc",f:vUe},42:{n:"PtgRefErr",f:xUe},43:{n:"PtgAreaErr",f:B9e},44:{n:"PtgRefN",f:J9e},45:{n:"PtgAreaN",f:z9e},46:{n:"PtgMemAreaN",f:IUe},47:{n:"PtgMemNoMemN",f:LUe},57:{n:"PtgNameX",f:mUe},58:{n:"PtgRef3d",f:Z9e},59:{n:"PtgArea3d",f:$9e},60:{n:"PtgRefErr3d",f:yUe},61:{n:"PtgAreaErr3d",f:U9e},255:{}},BUe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},UUe={1:{n:"PtgElfLel",f:zK},2:{n:"PtgElfRw",f:AUe},3:{n:"PtgElfCol",f:jUe},6:{n:"PtgElfRwV",f:PUe},7:{n:"PtgElfColV",f:kUe},10:{n:"PtgElfRadical",f:CUe},11:{n:"PtgElfRadicalS",f:TUe},13:{n:"PtgElfColS",f:SUe},15:{n:"PtgElfColSV",f:NUe},16:{n:"PtgElfRadicalLel",f:EUe},25:{n:"PtgList",f:DUe},29:{n:"PtgSxName",f:RUe},255:{}},zUe={0:{n:"PtgAttrNoop",f:$Ue},1:{n:"PtgAttrSemi",f:K9e},2:{n:"PtgAttrIf",f:q9e},4:{n:"PtgAttrChoose",f:W9e},8:{n:"PtgAttrGoto",f:H9e},16:{n:"PtgAttrSum",f:nUe},32:{n:"PtgAttrBaxcel",f:d5},33:{n:"PtgAttrBaxcel",f:d5},64:{n:"PtgAttrSpace",f:Y9e},65:{n:"PtgAttrSpaceSemi",f:X9e},128:{n:"PtgAttrIfError",f:G9e},255:{}};function _x(e,t,r,n){if(n.biff<8)return Ra(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=fUe(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=dUe(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(Ra(e,t)),s}function wx(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=f5[s]||f5[BUe[s]],(s===24||s===25)&&(a=(s===24?UUe:zUe)[e[e.l+1]]),!a||!a.f?Ra(e,t):o.push([a.n,a.f(e,t,r)]);return o}function VUe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var WUe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function HUe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function VK(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function h5(e,t,r){var n=VK(e,t,r);return n=="#REF"?n:HUe(n,r)}function _a(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,v="",y=0,b=e[0].length;y<b;++y){var _=e[0][y];switch(_[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:v=Qr(" ",e[0][p][1][1]);break;case 1:v=Qr("\r",e[0][p][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+v,p=-1}l.push(u+WUe[_[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=J0(_[1][1],o,a),l.push(Z0(d,s));break;case"PtgRefN":d=r?J0(_[1][1],r,a):_[1][1],l.push(Z0(d,s));break;case"PtgRef3d":f=_[1][1],d=J0(_[1][2],o,a),g=h5(n,f,a),l.push(g+"!"+Z0(d,s));break;case"PtgFunc":case"PtgFuncVar":var j=_[1][0],w=_[1][1];j||(j=0),j&=127;var N=j==0?[]:l.slice(-j);l.length-=j,w==="User"&&(w=N.shift()),l.push(w+"("+N.join(",")+")");break;case"PtgBool":l.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(_[1]);break;case"PtgNum":l.push(String(_[1]));break;case"PtgStr":l.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(_[1]);break;case"PtgAreaN":m=GL(_[1][1],r?{s:r}:o,a),l.push(v2(m,a));break;case"PtgArea":m=GL(_[1][1],o,a),l.push(v2(m,a));break;case"PtgArea3d":f=_[1][1],m=_[1][2],g=h5(n,f,a),l.push(g+"!"+v2(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=_[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],k=S?S.Name:"SH33TJSNAME"+String(h);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var C=_[1][1];h=_[1][2];var T;if(a.biff<=5)C<0&&(C=-C),n[C]&&(T=n[C][h]);else{var O="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][h]&&n[C][h].itab>0&&(O=n.SheetNames[n[C][h].itab-1]+"!"):O=n.SheetNames[h-1]+"!"),n[C]&&n[C][h])O+=n[C][h].Name;else if(n[0]&&n[0][h])O+=n[0][h].Name;else{var A=(VK(n,C,a)||"").split(";;");A[h-1]?O=A[h-1]:O+="SH33TJSERRX"}l.push(O);break}T||(T={Name:"SH33TJSERRY"}),l.push(T.Name);break;case"PtgParen":var V="(",H=")";if(p>=0){switch(v="",e[0][p][1][0]){case 2:V=Qr(" ",e[0][p][1][1])+V;break;case 3:V=Qr("\r",e[0][p][1][1])+V;break;case 4:H=Qr(" ",e[0][p][1][1])+H;break;case 5:H=Qr("\r",e[0][p][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(V+l.pop()+H);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:_[1][1],r:_[1][0]};var M={c:r.c,r:r.r};if(n.sharedf[At(d)]){var F=n.sharedf[At(d)];l.push(_a(F,o,M,n,a))}else{var L=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(_a(u[1],o,M,n,a)),L=!0;break}L||l.push(_[1])}break;case"PtgArray":l.push("{"+VUe(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var B=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&B.indexOf(e[0][y][0])==-1){_=e[0][p];var D=!0;switch(_[1][0]){case 4:D=!1;case 0:v=Qr(" ",_[1][1]);break;case 5:D=!1;case 1:v=Qr("\r",_[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}l.push((D?v:"")+l.pop()+(D?"":v)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function qUe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Ra(e,t-2)];var l=wx(e,o,r);return t!==o+a&&(s=_x(e,t-o-a,l,r)),e.l=n,[l,s]}function GUe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Ra(e,t-2)];var l=wx(e,o,r);return t!==o+a&&(s=_x(e,t-o-a,l,r)),e.l=n,[l,s]}function KUe(e,t,r,n){var a=e.l+t,s=wx(e,n,r),o;return a!==e.l&&(o=_x(e,a-e.l,s,r)),[s,o]}function YUe(e,t,r){var n=e.l+t,a,s=e.read_shift(2),o=wx(e,s,r);return s==65535?[[],Ra(e,t-2)]:(t!==s+2&&(a=_x(e,n-s-2,o,r)),[o,a])}function XUe(e){var t;if(Xl(e,e.l+6)!==65535)return[ka(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function b2(e,t,r){var n=e.l+t,a=Tl(e);r.biff==2&&++e.l;var s=XUe(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=GUe(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:o>>3&1,tt:s[1]}}function pj(e,t,r){var n=e.read_shift(4),a=wx(e,n,r),s=e.read_shift(4),o=s>0?_x(e,s,a,r):null;return[a,o]}var QUe=pj,gj=pj,JUe=pj,ZUe=pj,e7e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},WK={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},t7e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function m5(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function _2(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var ng={},Kh={};function ag(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function HK(e,t,r,n,a,s){try{n.cellNF&&(e.z=Ft[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Wn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Ft[t]==null&&Wd(r$e[t]||"General",t),e.t==="e")e.w=e.w||Mf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=vv(e.v);else if(e.t==="d"){var o=fs(e.v);(o|0)===o?e.w=o.toString(10):e.w=vv(o)}else{if(e.v===void 0)return"";e.w=gf(e.v,Kh)}else e.t==="d"?e.w=Li(t,fs(e.v),Kh):e.w=Li(t,e.v,Kh)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=i_(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=i_(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function r7e(e,t){var r=Jr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Zt(r))}var n7e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,a7e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,s7e=/<(?:\w:)?hyperlink [^>]*>/mg,i7e=/"(\w*:\w*)"/,o7e=/<(?:\w:)?col\b[^>]*[\/]?>/g,l7e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,c7e=/<(?:\w:)?pageMargins[^>]*\/>/g,qK=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,u7e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,d7e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function f7e(e,t,r,n,a,s,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(a7e);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(qK);h?iO(h[0],l,a,r):(h=u.match(u7e))&&h7e(h[0],h[1]||"",l,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var g=u.slice(m,m+50).match(i7e);g&&r7e(l,g[1])}var p=u.match(d7e);p&&p[1]&&y7e(p[1],a);var v=[];if(t.cellStyles){var y=u.match(o7e);y&&g7e(v,y)}f&&b7e(f[1],l,t,c,s,o);var b=d.match(l7e);b&&(l["!autofilter"]=v7e(b[0]));var _=[],j=d.match(n7e);if(j)for(m=0;m!=j.length;++m)_[m]=Jr(j[m].slice(j[m].indexOf('"')+1));var w=d.match(s7e);w&&m7e(l,w,n);var N=d.match(c7e);if(N&&(l["!margins"]=p7e(kt(N[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Zt(c)),t.sheetRows>0&&l["!ref"]){var S=Jr(l["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>c.e.r&&(S.e.r=c.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>c.e.c&&(S.e.c=c.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Zt(S))}return v.length>0&&(l["!cols"]=v),_.length>0&&(l["!merges"]=_),l}function iO(e,t,r,n){var a=kt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=rr(Cr(a.codeName)))}function h7e(e,t,r,n,a){iO(e.slice(0,e.indexOf(">")),r,n,a)}function m7e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=kt(Cr(t[a]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+rr(s.location))):(s.Target="#"+rr(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=Jr(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=At({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function p7e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function g7e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=kt(t[n],!0);a.hidden&&(a.hidden=Fr(a.hidden));var s=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,aO(a.width)),rp(a);s<=o;)e[s++]=ra(a)}}function v7e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var x7e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function y7e(e,t){t.Views||(t.Views=[{}]),(e.match(x7e)||[]).forEach(function(r,n){var a=kt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Fr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var b7e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=xv("v"),o=xv("f");return function(c,u,d,f,h,m){for(var g=0,p="",v=[],y=[],b=0,_=0,j=0,w="",N,S,k=0,C=0,T,O,A=0,V=0,H=Array.isArray(m.CellXf),M,F=[],L=[],B=Array.isArray(u),D=[],q={},Y=!1,P=!!d.sheetStubs,G=c.split(t),K=0,Z=G.length;K!=Z;++K){p=G[K].trim();var se=p.length;if(se!==0){var oe=0;e:for(g=0;g<se;++g)switch(p[g]){case">":if(p[g-1]!="/"){++g;break e}if(d&&d.cellStyles){if(S=kt(p.slice(oe,g),!0),k=S.r!=null?parseInt(S.r,10):k+1,C=-1,d.sheetRows&&d.sheetRows<k)continue;q={},Y=!1,S.ht&&(Y=!0,q.hpt=parseFloat(S.ht),q.hpx=wv(q.hpt)),S.hidden=="1"&&(Y=!0,q.hidden=!0),S.outlineLevel!=null&&(Y=!0,q.level=+S.outlineLevel),Y&&(D[k-1]=q)}break;case"<":oe=g;break}if(oe>=g)break;if(S=kt(p.slice(oe,g),!0),k=S.r!=null?parseInt(S.r,10):k+1,C=-1,!(d.sheetRows&&d.sheetRows<k)){f.s.r>k-1&&(f.s.r=k-1),f.e.r<k-1&&(f.e.r=k-1),d&&d.cellStyles&&(q={},Y=!1,S.ht&&(Y=!0,q.hpt=parseFloat(S.ht),q.hpx=wv(q.hpt)),S.hidden=="1"&&(Y=!0,q.hidden=!0),S.outlineLevel!=null&&(Y=!0,q.level=+S.outlineLevel),Y&&(D[k-1]=q)),v=p.slice(g).split(e);for(var xe=0;xe!=v.length&&v[xe].trim().charAt(0)=="<";++xe);for(v=v.slice(xe),g=0;g!=v.length;++g)if(p=v[g].trim(),p.length!==0){if(y=p.match(r),b=g,_=0,j=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,y!=null&&y.length===2){for(b=0,w=y[1],_=0;_!=w.length&&!((j=w.charCodeAt(_)-64)<1||j>26);++_)b=26*b+j;--b,C=b}else++C;for(_=0;_!=p.length&&p.charCodeAt(_)!==62;++_);if(++_,S=kt(p.slice(0,_),!0),S.r||(S.r=At({r:k-1,c:C})),w=p.slice(_),N={t:""},(y=w.match(s))!=null&&y[1]!==""&&(N.v=rr(y[1])),d.cellFormula){if((y=w.match(o))!=null&&y[1]!==""){if(N.f=rr(Cr(y[1])).replace(/\r\n/g,`
`),d.xlfn||(N.f=u5(N.f)),y[0].indexOf('t="array"')>-1)N.F=(w.match(a)||[])[1],N.F.indexOf(":")>-1&&F.push([Jr(N.F),N.F]);else if(y[0].indexOf('t="shared"')>-1){O=kt(y[0]);var z=rr(Cr(y[1]));d.xlfn||(z=u5(z)),L[parseInt(O.si,10)]=[O,z,S.r]}}else(y=w.match(/<f[^>]*\/>/))&&(O=kt(y[0]),L[O.si]&&(N.f=P9e(L[O.si][1],L[O.si][2],S.r)));var W=ts(S.r);for(_=0;_<F.length;++_)W.r>=F[_][0].s.r&&W.r<=F[_][0].e.r&&W.c>=F[_][0].s.c&&W.c<=F[_][0].e.c&&(N.F=F[_][1])}if(S.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(P)N.t="z";else continue;else N.t=S.t||"n";switch(f.s.c>C&&(f.s.c=C),f.e.c<C&&(f.e.c=C),N.t){case"n":if(N.v==""||N.v==null){if(!P)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!P)continue;N.t="z"}else T=ng[parseInt(N.v,10)],N.v=T.t,N.r=T.r,d.cellHTML&&(N.h=T.h);break;case"str":N.t="s",N.v=N.v!=null?Cr(N.v):"",d.cellHTML&&(N.h=GP(N.v));break;case"inlineStr":y=w.match(n),N.t="s",y!=null&&(T=nO(y[1]))?(N.v=T.t,d.cellHTML&&(N.h=T.h)):N.v="";break;case"b":N.v=Fr(N.v);break;case"d":d.cellDates?N.v=Wn(N.v,1):(N.v=fs(Wn(N.v,1)),N.t="n");break;case"e":(!d||d.cellText!==!1)&&(N.w=N.v),N.v=hK[N.v];break}if(A=V=0,M=null,H&&S.s!==void 0&&(M=m.CellXf[S.s],M!=null&&(M.numFmtId!=null&&(A=M.numFmtId),d.cellStyles&&M.fillId!=null&&(V=M.fillId))),HK(N,A,V,d,h,m),d.cellDates&&H&&N.t=="n"&&Ip(Ft[A])&&(N.t="d",N.v=hj(N.v)),S.cm&&d.xlmeta){var ce=(d.xlmeta.Cell||[])[+S.cm-1];ce&&ce.type=="XLDAPR"&&(N.D=!0)}if(B){var E=ts(S.r);u[E.r]||(u[E.r]=[]),u[E.r][E.c]=N}else u[S.r]=N}}}}D.length>0&&(u["!rows"]=D)}}();function _7e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var w7e=Rf;function j7e(){}function S7e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=q$e(e),r}function N7e(e){var t=zi(e);return[t]}function k7e(e){var t=Df(e);return[t]}function C7e(e){var t=zi(e),r=e.read_shift(1);return[t,r,"b"]}function E7e(e){var t=Df(e),r=e.read_shift(1);return[t,r,"b"]}function T7e(e){var t=zi(e),r=e.read_shift(1);return[t,r,"e"]}function A7e(e){var t=Df(e),r=e.read_shift(1);return[t,r,"e"]}function P7e(e){var t=zi(e),r=e.read_shift(4);return[t,r,"s"]}function O7e(e){var t=Df(e),r=e.read_shift(4);return[t,r,"s"]}function D7e(e){var t=zi(e),r=ka(e);return[t,r,"n"]}function GK(e){var t=Df(e),r=ka(e);return[t,r,"n"]}function R7e(e){var t=zi(e),r=eO(e);return[t,r,"n"]}function M7e(e){var t=Df(e),r=eO(e);return[t,r,"n"]}function F7e(e){var t=zi(e),r=JP(e);return[t,r,"is"]}function I7e(e){var t=zi(e),r=Ta(e);return[t,r,"str"]}function L7e(e){var t=Df(e),r=Ta(e);return[t,r,"str"]}function $7e(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=gj(e,n-e.l,r);o[3]=_a(l,null,a,r.supbooks,r)}else e.l=n;return o}function B7e(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=gj(e,n-e.l,r);o[3]=_a(l,null,a,r.supbooks,r)}else e.l=n;return o}function U7e(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=ka(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=gj(e,n-e.l,r);o[3]=_a(l,null,a,r.supbooks,r)}else e.l=n;return o}function z7e(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=Ta(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=gj(e,n-e.l,r);o[3]=_a(l,null,a,r.supbooks,r)}else e.l=n;return o}var V7e=Rf;function W7e(e,t){var r=e.l+t,n=Rf(e),a=ZP(e),s=Ta(e),o=Ta(e),l=Ta(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function H7e(){}function q7e(e,t,r){var n=e.l+t,a=uK(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=QUe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function G7e(e,t,r){var n=e.l+t,a=Rf(e),s=[a];if(r.cellFormula){var o=ZUe(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}var K7e=["left","right","top","bottom","header","footer"];function Y7e(e){var t={};return K7e.forEach(function(r){t[r]=ka(e)}),t}function X7e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Q7e(){}function J7e(){}function Z7e(e,t,r,n,a,s,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,g,p,v,y,b,_,j,w,N=[];l.biff=12,l["!row"]=0;var S=0,k=!1,C=[],T={},O=l.supbooks||a.supbooks||[[]];if(O.sharedf=T,O.arrayf=C,O.SheetNames=a.SheetNames||a.Sheets.map(function(B){return B.name}),!l.supbooks&&(l.supbooks=O,a.Names))for(var A=0;A<a.Names.length;++A)O[0][A+1]=a.Names[A];var V=[],H=[],M=!1;c_[16]={n:"BrtShortReal",f:GK};var F;if(Cc(e,function(D,q,Y){if(!h)switch(Y){case 148:u=D;break;case 0:m=D,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),j=na(v=m.r),l["!row"]=m.r,(D.hidden||D.hpt||D.level!=null)&&(D.hpt&&(D.hpx=wv(D.hpt)),H[D.r]=D);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:D[2]},D[2]){case"n":g.v=D[1];break;case"s":_=ng[D[1]],g.v=_.t,g.r=_.r;break;case"b":g.v=!!D[1];break;case"e":g.v=D[1],l.cellText!==!1&&(g.w=Mf[g.v]);break;case"str":g.t="s",g.v=D[1];break;case"is":g.t="s",g.v=D[1].t;break}if((p=o.CellXf[D[0].iStyleRef])&&HK(g,p.numFmtId,null,l,s,o),y=D[0].c==-1?y+1:D[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[An(y)+j]=g,l.cellFormula){for(k=!1,S=0;S<C.length;++S){var P=C[S];m.r>=P[0].s.r&&m.r<=P[0].e.r&&y>=P[0].s.c&&y<=P[0].e.c&&(g.F=Zt(P[0]),k=!0)}!k&&D.length>3&&(g.f=D[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),l.cellDates&&p&&g.t=="n"&&Ip(Ft[p.numFmtId])){var G=kd(g.v);G&&(g.t="d",g.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}F&&(F.type=="XLDAPR"&&(g.D=!0),F=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;g={t:"z",v:void 0},y=D[0].c==-1?y+1:D[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[An(y)+j]=g,d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),F&&(F.type=="XLDAPR"&&(g.D=!0),F=void 0);break;case 176:N.push(D);break;case 49:F=((l.xlmeta||{}).Cell||[])[D-1];break;case 494:var K=n["!id"][D.relId];for(K?(D.Target=K.Target,D.loc&&(D.Target+="#"+D.loc),D.Rel=K):D.relId==""&&(D.Target="#"+D.loc),v=D.rfx.s.r;v<=D.rfx.e.r;++v)for(y=D.rfx.s.c;y<=D.rfx.e.c;++y)l.dense?(c[v]||(c[v]=[]),c[v][y]||(c[v][y]={t:"z",v:void 0}),c[v][y].l=D):(b=At({c:y,r:v}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=D);break;case 426:if(!l.cellFormula)break;C.push(D),w=l.dense?c[v][y]:c[An(y)+j],w.f=_a(D[1],d,{r:m.r,c:y},O,l),w.F=Zt(D[0]);break;case 427:if(!l.cellFormula)break;T[At(D[0].s)]=D[1],w=l.dense?c[v][y]:c[An(y)+j],w.f=_a(D[1],d,{r:m.r,c:y},O,l);break;case 60:if(!l.cellStyles)break;for(;D.e>=D.s;)V[D.e--]={width:D.w/256,hidden:!!(D.flags&1),level:D.level},M||(M=!0,aO(D.w/256)),rp(V[D.e+1]);break;case 161:c["!autofilter"]={ref:Zt(D)};break;case 476:c["!margins"]=D;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),D.name&&(a.Sheets[r].CodeName=D.name),(D.above||D.left)&&(c["!outline"]={above:D.above,left:D.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),D.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!q.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+Y.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Zt(u||d)),l.sheetRows&&c["!ref"]){var L=Jr(c["!ref"]);l.sheetRows<=+L.e.r&&(L.e.r=l.sheetRows-1,L.e.r>d.e.r&&(L.e.r=d.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>d.e.c&&(L.e.c=d.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Zt(L))}return N.length>0&&(c["!merges"]=N),V.length>0&&(c["!cols"]=V),H.length>0&&(c["!rows"]=H),c}function eze(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=rr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function tze(e,t,r,n,a,s){var o=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=eze(f);d.s.r=d.s.c=0,d.e.c=l,u=An(l),h[0].forEach(function(m,g){o[u+na(g)]={t:"n",v:m,z:h[1]},c=g}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=Zt(d)),o}function rze(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(qK);return l&&iO(l[0],s,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function nze(e,t){e.l+=10;var r=Ta(e);return{name:r}}function aze(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Cc(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var KK=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],sze=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],ize=[],oze=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function p5(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Fr(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function g5(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Fr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function YK(e){g5(e.WBProps,KK),g5(e.CalcPr,oze),p5(e.WBView,sze),p5(e.Sheets,ize),Kh.date1904=Fr(e.WBProps.date1904)}var lze="][*?/\\".split("");function cze(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return lze.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var uze=/<\w+:workbook/;function dze(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},o=0;if(e.replace(Ia,function(c,u){var d=kt(c);switch(El(d[0])){case"<?xml":break;case"<workbook":c.match(uze)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":KK.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Fr(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Cr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=rr(Cr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Cr(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Fr(d.hidden||"0")&&(s.Hidden=!0),o=u+c.length;break;case"</definedName>":s.Ref=rr(Cr(e.slice(o,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),T$e.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return YK(r),r}function fze(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=GC(e),r.name=Ta(e),r}function hze(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ta(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function mze(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function pze(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=G$e(e),o=JUe(e,0,r),l=ZP(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function gze(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],c_[16]={n:"BrtFRTArchID$",f:mze},Cc(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=_a(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),YK(r),r.Names=s,r.supbooks=o,r}function vze(e,t,r){return t.slice(-4)===".bin"?gze(e,r):dze(e,r)}function xze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?Z7e(e,n,r,a,s,o,l):f7e(e,n,r,a,s,o,l)}function yze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?aze(e,n,r,a,s):rze(e,n,r,a,s)}function bze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?E9e():T9e()}function _ze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?k9e():C9e()}function wze(e,t,r,n){return t.slice(-4)===".bin"?VBe(e,r,n):IBe(e,r,n)}function jze(e,t,r){return MK(e,r)}function Sze(e,t,r){return t.slice(-4)===".bin"?sBe(e,r):nBe(e,r)}function Nze(e,t,r){return t.slice(-4)===".bin"?j9e(e,r):x9e(e,r)}function kze(e,t,r){return t.slice(-4)===".bin"?p9e(e):h9e(e)}function Cze(e,t,r,n){return r.slice(-4)===".bin"?g9e(e,t,r,n):void 0}function Eze(e,t,r){return t.slice(-4)===".bin"?d9e(e,t,r):f9e(e,t,r)}var XK=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,QK=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Yi(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(XK),s,o,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(QK),(o=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(o+1),n[l]=s[2].slice(1,s[2].length-1));return n}function Tze(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(XK),a,s,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(QK),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}var sg;function Aze(e,t){var r=sg[e]||rr(e);return r==="General"?gf(t):Li(r,t)}function Pze(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Fr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Wn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[rr(t)]=a}function Oze(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Mf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=vv(e.v):e.w=gf(e.v):e.w=Aze(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=sg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Ip(n)){var a=kd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Dze(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=PBe[n.Pattern]||n.Pattern)}e[t.ID]=t}function Rze(e,t,r,n,a,s,o,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],g=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Fr(e);break;case"String":n.t="s",n.r=LL(rr(e)),n.v=e.indexOf("<")>-1?rr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Wn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=rr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=hK[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=LL(t||e));break}if(Oze(n,d,u),u.cellFormula!==!1)if(n.Formula){var p=rr(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=Gh(p,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Gh("RC:RC",a):n.ArrayRange&&(n.F=Gh(n.ArrayRange,a),c.push([Jr(n.F),n.F]))}else for(g=0;g<c.length;++g)a.r>=c[g][0].s.r&&a.r<=c[g][0].e.r&&a.c>=c[g][0].s.c&&a.c<=c[g][0].e.c&&(n.F=c[g][1]);u.cellStyles&&(m.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Mze(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function w2(e,t){var r=t||{};$G();var n=N0(KP(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Cr(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=ra(r);return o.type="string",bv.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ge){a.indexOf("<"+Ge)>=0&&(s=!0)}),s)return Wze(n,r);sg={"General Number":"General","General Date":Ft[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ft[15],"Short Date":Ft[14],"Long Time":Ft[19],"Medium Time":Ft[18],"Short Time":Ft[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ft[2],Standard:Ft[4],Percent:Ft[10],Scientific:Ft[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},m="",g={},p={},v=Yi('<Data ss:Type="String">'),y=0,b=0,_=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},w={},N={},S="",k=0,C=[],T={},O={},A=0,V=[],H=[],M={},F=[],L,B=!1,D=[],q=[],Y={},P=0,G=0,K={Sheets:[],WBProps:{date1904:!1}},Z={};yv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var se="";l=yv.exec(n);)switch(l[3]=(se=l[3]).toLowerCase()){case"data":if(se=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?Rze(n.slice(y,l.index),S,v,c[c.length-1][0]=="comment"?M:g,{c:b,r:_},w,F[b],p,D,r):(S="",v=Yi(l[0]),y=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(H.length>0&&(g.c=H),(!r.sheetRows||r.sheetRows>_)&&g.v!==void 0&&(r.dense?(h[_]||(h[_]=[]),h[_][b]=g):h[An(b)+na(_)]=g),g.HRef&&(g.l={Target:rr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(P=b+(parseInt(g.MergeAcross,10)|0),G=_+(parseInt(g.MergeDown,10)|0),C.push({s:{c:b,r:_},e:{c:P,r:G}})),!r.sheetStubs)g.MergeAcross?b=P+1:++b;else if(g.MergeAcross||g.MergeDown){for(var oe=b;oe<=P;++oe)for(var xe=_;xe<=G;++xe)(oe>b||xe>_)&&(r.dense?(h[xe]||(h[xe]=[]),h[xe][oe]={t:"z"}):h[An(oe)+na(xe)]={t:"z"});b=P+1}else++b;else g=Tze(l[0]),g.Index&&(b=+g.Index-1),b<j.s.c&&(j.s.c=b),b>j.e.c&&(j.e.c=b),l[0].slice(-2)==="/>"&&++b,H=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(_<j.s.r&&(j.s.r=_),_>j.e.r&&(j.e.r=_),l[0].slice(-2)==="/>"&&(p=Yi(l[0]),p.Index&&(_=+p.Index-1)),b=0,++_):(p=Yi(l[0]),p.Index&&(_=+p.Index-1),Y={},(p.AutoFitHeight=="0"||p.Height)&&(Y.hpx=parseInt(p.Height,10),Y.hpt=RK(Y.hpx),q[_]=Y),p.Hidden=="1"&&(Y.hidden=!0,q[_]=Y));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(m),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(h["!ref"]=Zt(j),r.sheetRows&&r.sheetRows<=j.e.r&&(h["!fullref"]=h["!ref"],j.e.r=r.sheetRows-1,h["!ref"]=Zt(j))),C.length&&(h["!merges"]=C),F.length>0&&(h["!cols"]=F),q.length>0&&(h["!rows"]=q),d[m]=h}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=b=0,c.push([l[3],!1]),u=Yi(l[0]),m=rr(u.Name),h=r.dense?[]:{},C=[],D=[],q=[],Z={name:m,Hidden:0},K.Sheets.push(Z);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),F=[],B=!1}break;case"style":l[1]==="/"?Dze(w,N,r):N=Yi(l[0]);break;case"numberformat":N.nf=rr(Yi(l[0]).Format||"General"),sg[N.nf]&&(N.nf=sg[N.nf]);for(var z=0;z!=392&&Ft[z]!=N.nf;++z);if(z==392){for(z=57;z!=392;++z)if(Ft[z]==null){Wd(N.nf,z);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(L=Yi(l[0]),L.Hidden&&(L.hidden=!0,delete L.Hidden),L.Width&&(L.wpx=parseInt(L.Width,10)),!B&&L.wpx>10){B=!0,Ka=OK;for(var W=0;W<F.length;++W)F[W]&&rp(F[W])}B&&rp(L),F[L.Index-1||F.length]=L;for(var ce=0;ce<+L.Span;++ce)F[F.length]=ra(L);break;case"namedrange":if(l[1]==="/")break;K.Names||(K.Names=[]);var E=kt(l[0]),Pe={Name:E.Name,Ref:Gh(E.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(Pe.Sheet=K.Sheets.length-1),K.Names.push(Pe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?S+=n.slice(k,l.index):k=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=Yi(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?x8e(T,se,n.slice(A,l.index)):A=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));Mze(M),H.push(M)}else c.push([l[3],!1]),u=Yi(l[0]),M={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Re=Yi(l[0]);h["!autofilter"]={ref:Gh(Re.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return w5(n,r);var pe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:pe=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:pe=!1}break;case"excelworkbook":switch(l[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:pe=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:pe=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(A,l.index)){case"SheetHidden":Z.Hidden=1;break;case"SheetVeryHidden":Z.Hidden=2;break}else A=l.index+l[0].length;break;case"header":h["!margins"]||ag(h["!margins"]={},"xlml"),isNaN(+kt(l[0]).Margin)||(h["!margins"].header=+kt(l[0]).Margin);break;case"footer":h["!margins"]||ag(h["!margins"]={},"xlml"),isNaN(+kt(l[0]).Margin)||(h["!margins"].footer=+kt(l[0]).Margin);break;case"pagemargins":var Me=kt(l[0]);h["!margins"]||ag(h["!margins"]={},"xlml"),isNaN(+Me.Top)||(h["!margins"].top=+Me.Top),isNaN(+Me.Left)||(h["!margins"].left=+Me.Left),isNaN(+Me.Right)||(h["!margins"].right=+Me.Right),isNaN(+Me.Bottom)||(h["!margins"].bottom=+Me.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:pe=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:pe=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:pe=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:pe=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:pe=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:pe=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:pe=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:pe=!1}break;case"smarttags":break;default:pe=!1;break}if(pe||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Pze(O,se,V,n.slice(A,l.index)):(V=l,A=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var be={};return!r.bookSheets&&!r.bookProps&&(be.Sheets=d),be.SheetNames=f,be.Workbook=K,be.SSF=ra(Ft),be.Props=T,be.Custprops=O,be}function QC(e,t){switch(cO(t=t||{}),t.type||"base64"){case"base64":return w2(li(e),t);case"binary":case"buffer":case"file":return w2(e,t);case"array":return w2(Of(e),t)}}function Fze(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=X$e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Q$e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Ize=[60,1084,2066,2165,2175];function Lze(e,t,r,n,a){var s=n,o=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=s;for(var c=Xl(r,r.l),u=JC[c],d=0;u!=null&&Ize.indexOf(c)>-1;)s=Xl(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),o.push(l),r.l+=4+s,u=JC[c=Xl(r,r.l)];var f=Qc(o);Jn(f,0);var h=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(h),h+=o[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function zo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ft[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Mf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=vv(e.v):e.w=gf(e.v):e.w=Li(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Ip(Ft[n]||String(n))){var a=kd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Ey(e,t,r){return{v:e,ixfe:t,t:r}}function $ze(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},o={},l=null,c=[],u="",d={},f,h="",m,g,p,v,y={},b=[],_,j,w=[],N=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},C=function(Le){return Le<8?Hd[Le]:Le<64&&N[Le-8]||Hd[Le]},T=function(Le,Fe,st){var ot=Fe.XF.data;if(!(!ot||!ot.patternType||!st||!st.cellStyles)){Fe.s={},Fe.s.patternType=ot.patternType;var _t;(_t=_v(C(ot.icvFore)))&&(Fe.s.fgColor={rgb:_t}),(_t=_v(C(ot.icvBack)))&&(Fe.s.bgColor={rgb:_t})}},O=function(Le,Fe,st){if(!(Y>1)&&!(st.sheetRows&&Le.r>=st.sheetRows)){if(st.cellStyles&&Fe.XF&&Fe.XF.data&&T(Le,Fe,st),delete Fe.ixfe,delete Fe.XF,f=Le,h=At(Le),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Le.r<o.s.r&&(o.s.r=Le.r),Le.c<o.s.c&&(o.s.c=Le.c),Le.r+1>o.e.r&&(o.e.r=Le.r+1),Le.c+1>o.e.c&&(o.e.c=Le.c+1),st.cellFormula&&Fe.f){for(var ot=0;ot<b.length;++ot)if(!(b[ot][0].s.c>Le.c||b[ot][0].s.r>Le.r)&&!(b[ot][0].e.c<Le.c||b[ot][0].e.r<Le.r)){Fe.F=Zt(b[ot][0]),(b[ot][0].s.c!=Le.c||b[ot][0].s.r!=Le.r)&&delete Fe.f,Fe.f&&(Fe.f=""+_a(b[ot][1],o,Le,D,A));break}}st.dense?(a[Le.r]||(a[Le.r]=[]),a[Le.r][Le.c]=Fe):a[h]=Fe}},A={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(A.password=t.password);var V,H=[],M=[],F=[],L=[],B=!1,D=[];D.SheetNames=A.snames,D.sharedf=A.sharedf,D.arrayf=A.arrayf,D.names=[],D.XTI=[];var q=0,Y=0,P=0,G=[],K=[],Z;A.codepage=1200,ho(1200);for(var se=!1;e.l<e.length-1;){var oe=e.l,xe=e.read_shift(2);if(xe===0&&q===10)break;var z=e.l===e.length?0:e.read_shift(2),W=JC[xe];if(W&&W.f){if(t.bookSheets&&q===133&&xe!==133)break;if(q=xe,W.r===2||W.r==12){var ce=e.read_shift(2);if(z-=2,!A.enc&&ce!==xe&&((ce&255)<<8|ce>>8)!==xe)throw new Error("rt mismatch: "+ce+"!="+xe);W.r==12&&(e.l+=10,z-=10)}var E={};if(xe===10?E=W.f(e,z,A):E=Lze(xe,W,e,z,A),Y==0&&[9,521,1033,2057].indexOf(q)===-1)continue;switch(xe){case 34:r.opts.Date1904=S.WBProps.date1904=E;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(A.enc||(e.l=0),A.enc=E,!t.password)throw new Error("File is password-protected");if(E.valid==null)throw new Error("Encryption scheme unsupported");if(!E.valid)throw new Error("Password is incorrect");break;case 92:A.lastuser=E;break;case 66:var Pe=Number(E);switch(Pe){case 21010:Pe=1200;break;case 32768:Pe=1e4;break;case 32769:Pe=1252;break}ho(A.codepage=Pe),se=!0;break;case 317:A.rrtabid=E;break;case 25:A.winlocked=E;break;case 439:r.opts.RefreshAll=E;break;case 12:r.opts.CalcCount=E;break;case 16:r.opts.CalcDelta=E;break;case 17:r.opts.CalcIter=E;break;case 13:r.opts.CalcMode=E;break;case 14:r.opts.CalcPrecision=E;break;case 95:r.opts.CalcSaveRecalc=E;break;case 15:A.CalcRefMode=E;break;case 2211:r.opts.FullCalc=E;break;case 129:E.fDialog&&(a["!type"]="dialog"),E.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),E.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:w.push(E);break;case 430:D.push([E]),D[D.length-1].XTI=[];break;case 35:case 547:D[D.length-1].push(E);break;case 24:case 536:Z={Name:E.Name,Ref:_a(E.rgce,o,null,D,A)},E.itab>0&&(Z.Sheet=E.itab-1),D.names.push(Z),D[0]||(D[0]=[],D[0].XTI=[]),D[D.length-1].push(E),E.Name=="_xlnm._FilterDatabase"&&E.itab>0&&E.rgce&&E.rgce[0]&&E.rgce[0][0]&&E.rgce[0][0][0]=="PtgArea3d"&&(K[E.itab-1]={ref:Zt(E.rgce[0][0][1][2])});break;case 22:A.ExternCount=E;break;case 23:D.length==0&&(D[0]=[],D[0].XTI=[]),D[D.length-1].XTI=D[D.length-1].XTI.concat(E),D.XTI=D.XTI.concat(E);break;case 2196:if(A.biff<8)break;Z!=null&&(Z.Comment=E[1]);break;case 18:a["!protect"]=E;break;case 19:E!==0&&A.WTF&&console.error("Password verifier: "+E);break;case 133:s[E.pos]=E,A.snames.push(E.name);break;case 10:{if(--Y)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Zt(o),t.sheetRows&&t.sheetRows<=o.e.r){var Re=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Zt(o),o.e.r=Re}o.e.r++,o.e.c++}H.length>0&&(a["!merges"]=H),M.length>0&&(a["!objects"]=M),F.length>0&&(a["!cols"]=F),L.length>0&&(a["!rows"]=L),S.Sheets.push(k)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(A.biff===8&&(A.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[E.BIFFVer]||8),A.biffguess=E.BIFFVer==0,E.BIFFVer==0&&E.dt==4096&&(A.biff=5,se=!0,ho(A.codepage=28591)),A.biff==8&&E.BIFFVer==0&&E.dt==16&&(A.biff=2),Y++)break;if(a=t.dense?[]:{},A.biff<8&&!se&&(se=!0,ho(A.codepage=t.codepage||1252)),A.biff<5||E.BIFFVer==0&&E.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var pe={pos:e.l-z,name:u};s[pe.pos]=pe,A.snames.push(u)}else u=(s[oe]||{name:""}).name;E.dt==32&&(a["!type"]="chart"),E.dt==64&&(a["!type"]="macro"),H=[],M=[],A.arrayf=b=[],F=[],L=[],B=!1,k={Hidden:(s[oe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[E.r]||[])[E.c]:a[At({c:E.c,r:E.r})])&&++E.c,_={ixfe:E.ixfe,XF:w[E.ixfe]||{},v:E.val,t:"n"},P>0&&(_.z=G[_.ixfe>>8&63]),zo(_,t,r.opts.Date1904),O({c:E.c,r:E.r},_,t);break;case 5:case 517:_={ixfe:E.ixfe,XF:w[E.ixfe],v:E.val,t:E.t},P>0&&(_.z=G[_.ixfe>>8&63]),zo(_,t,r.opts.Date1904),O({c:E.c,r:E.r},_,t);break;case 638:_={ixfe:E.ixfe,XF:w[E.ixfe],v:E.rknum,t:"n"},P>0&&(_.z=G[_.ixfe>>8&63]),zo(_,t,r.opts.Date1904),O({c:E.c,r:E.r},_,t);break;case 189:for(var Me=E.c;Me<=E.C;++Me){var be=E.rkrec[Me-E.c][0];_={ixfe:be,XF:w[be],v:E.rkrec[Me-E.c][1],t:"n"},P>0&&(_.z=G[_.ixfe>>8&63]),zo(_,t,r.opts.Date1904),O({c:Me,r:E.r},_,t)}break;case 6:case 518:case 1030:{if(E.val=="String"){l=E;break}if(_=Ey(E.val,E.cell.ixfe,E.tt),_.XF=w[_.ixfe],t.cellFormula){var Ge=E.formula;if(Ge&&Ge[0]&&Ge[0][0]&&Ge[0][0][0]=="PtgExp"){var Ze=Ge[0][0][1][0],ae=Ge[0][0][1][1],he=At({r:Ze,c:ae});y[he]?_.f=""+_a(E.formula,o,E.cell,D,A):_.F=((t.dense?(a[Ze]||[])[ae]:a[he])||{}).F}else _.f=""+_a(E.formula,o,E.cell,D,A)}P>0&&(_.z=G[_.ixfe>>8&63]),zo(_,t,r.opts.Date1904),O(E.cell,_,t),l=E}break;case 7:case 519:if(l)l.val=E,_=Ey(E,l.cell.ixfe,"s"),_.XF=w[_.ixfe],t.cellFormula&&(_.f=""+_a(l.formula,o,l.cell,D,A)),P>0&&(_.z=G[_.ixfe>>8&63]),zo(_,t,r.opts.Date1904),O(l.cell,_,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(E);var U=At(E[0].s);if(m=t.dense?(a[E[0].s.r]||[])[E[0].s.c]:a[U],t.cellFormula&&m){if(!l||!U||!m)break;m.f=""+_a(E[1],o,E[0],D,A),m.F=Zt(E[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;y[At(l.cell)]=E[0],m=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[At(l.cell)],(m||{}).f=""+_a(E[0],o,f,D,A)}}break;case 253:_=Ey(c[E.isst].t,E.ixfe,"s"),c[E.isst].h&&(_.h=c[E.isst].h),_.XF=w[_.ixfe],P>0&&(_.z=G[_.ixfe>>8&63]),zo(_,t,r.opts.Date1904),O({c:E.c,r:E.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:E.ixfe,XF:w[E.ixfe],t:"z"},P>0&&(_.z=G[_.ixfe>>8&63]),zo(_,t,r.opts.Date1904),O({c:E.c,r:E.r},_,t));break;case 190:if(t.sheetStubs)for(var ue=E.c;ue<=E.C;++ue){var we=E.ixfe[ue-E.c];_={ixfe:we,XF:w[we],t:"z"},P>0&&(_.z=G[_.ixfe>>8&63]),zo(_,t,r.opts.Date1904),O({c:ue,r:E.r},_,t)}break;case 214:case 516:case 4:_=Ey(E.val,E.ixfe,"s"),_.XF=w[_.ixfe],P>0&&(_.z=G[_.ixfe>>8&63]),zo(_,t,r.opts.Date1904),O({c:E.c,r:E.r},_,t);break;case 0:case 512:Y===1&&(o=E);break;case 252:c=E;break;case 1054:if(A.biff==4){G[P++]=E[1];for(var _e=0;_e<P+163&&Ft[_e]!=E[1];++_e);_e>=163&&Wd(E[1],P+163)}else Wd(E[1],E[0]);break;case 30:{G[P++]=E;for(var $e=0;$e<P+163&&Ft[$e]!=E;++$e);$e>=163&&Wd(E,P+163)}break;case 229:H=H.concat(E);break;case 93:M[E.cmo[0]]=A.lastobj=E;break;case 438:A.lastobj.TxO=E;break;case 127:A.lastobj.ImData=E;break;case 440:for(v=E[0].s.r;v<=E[0].e.r;++v)for(p=E[0].s.c;p<=E[0].e.c;++p)m=t.dense?(a[v]||[])[p]:a[At({c:p,r:v})],m&&(m.l=E[1]);break;case 2048:for(v=E[0].s.r;v<=E[0].e.r;++v)for(p=E[0].s.c;p<=E[0].e.c;++p)m=t.dense?(a[v]||[])[p]:a[At({c:p,r:v})],m&&m.l&&(m.l.Tooltip=E[1]);break;case 28:{if(A.biff<=5&&A.biff>=2)break;m=t.dense?(a[E[0].r]||[])[E[0].c]:a[At(E[0])];var tt=M[E[2]];m||(t.dense?(a[E[0].r]||(a[E[0].r]=[]),m=a[E[0].r][E[0].c]={t:"z"}):m=a[At(E[0])]={t:"z"},o.e.r=Math.max(o.e.r,E[0].r),o.s.r=Math.min(o.s.r,E[0].r),o.e.c=Math.max(o.e.c,E[0].c),o.s.c=Math.min(o.s.c,E[0].c)),m.c||(m.c=[]),g={a:E[1],t:tt.TxO.t},m.c.push(g)}break;case 2173:o9e(w[E.ixfe],E.ext);break;case 125:{if(!A.cellStyles)break;for(;E.e>=E.s;)F[E.e--]={width:E.w/256,level:E.level||0,hidden:!!(E.flags&1)},B||(B=!0,aO(E.w/256)),rp(F[E.e+1])}break;case 520:{var it={};E.level!=null&&(L[E.r]=it,it.level=E.level),E.hidden&&(L[E.r]=it,it.hidden=!0),E.hpt&&(L[E.r]=it,it.hpt=E.hpt,it.hpx=wv(E.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||ag(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=E;break;case 161:a["!margins"]||ag(a["!margins"]={}),a["!margins"].header=E.header,a["!margins"].footer=E.footer;break;case 574:E.RTL&&(S.Views[0].RTL=!0);break;case 146:N=E;break;case 2198:V=E;break;case 140:j=E;break;case 442:u?k.CodeName=E||k.name:S.WBProps.CodeName=E||"ThisWorkbook";break}}else W||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),e.l+=z}return r.SheetNames=_l(s).sort(function(Ee,Le){return Number(Ee)-Number(Le)}).map(function(Ee){return s[Ee].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&K.forEach(function(Ee,Le){r.Sheets[r.SheetNames[Le]]["!autofilter"]=Ee}),r.Strings=c,r.SSF=ra(Ft),A.enc&&(r.Encryption=A.enc),V&&(r.Themes=V),r.Metadata={},j!==void 0&&(r.Metadata.Country=j),D.names.length>0&&(S.Names=D.names),r.Workbook=S,r}var v5={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Bze(e,t,r){var n=Qt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=e5(n,n8e,v5.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var o=Qt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=e5(o,a8e,v5.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(pK(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function JK(e,t){t||(t={}),cO(t),CG(),t.codepage&&UP(t.codepage);var r,n;if(e.FullPaths){if(Qt.find(e,"/encryption"))throw new Error("File is password-protected");r=Qt.find(e,"!CompObj"),n=Qt.find(e,"/Workbook")||Qt.find(e,"/Book")}else{switch(t.type){case"base64":e=co(li(e));break;case"binary":e=co(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Jn(e,0),n={content:e}}var a,s;if(r&&Fze(r),t.bookProps&&!t.bookSheets)a={};else{var o=Xt?"buffer":"array";if(n&&n.content)a=$ze(n.content,t);else if((s=Qt.find(e,"PerfectOffice_MAIN"))&&s.content)a=rg.to_workbook(s.content,(t.type=o,t));else if((s=Qt.find(e,"NativeContent_MAIN"))&&s.content)a=rg.to_workbook(s.content,(t.type=o,t));else throw(s=Qt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Qt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=N9e(e))}var l={};return e.FullPaths&&Bze(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var c_={0:{f:_7e},1:{f:N7e},2:{f:R7e},3:{f:T7e},4:{f:C7e},5:{f:D7e},6:{f:I7e},7:{f:P7e},8:{f:z7e},9:{f:U7e},10:{f:$7e},11:{f:B7e},12:{f:k7e},13:{f:M7e},14:{f:A7e},15:{f:E7e},16:{f:GK},17:{f:L7e},18:{f:O7e},19:{f:JP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:pze},40:{},42:{},43:{f:$Be},44:{f:LBe},45:{f:BBe},46:{f:zBe},47:{f:UBe},48:{},49:{f:V$e},50:{},51:{f:c9e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:CK},62:{f:F7e},63:{f:m9e},64:{f:Q7e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ra,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:X7e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:S7e},148:{f:w7e,p:16},151:{f:H7e},152:{},153:{f:hze},154:{},155:{},156:{f:fze},157:{},158:{},159:{T:1,f:aBe},160:{T:-1},161:{T:1,f:Rf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:V7e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:l9e},336:{T:-1},337:{f:u9e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:GC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:kK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:q7e},427:{f:G7e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Y7e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:j7e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:W7e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:GC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:w9e},633:{T:1},634:{T:-1},635:{T:1,f:_9e},636:{T:-1},637:{f:H$e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nze},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:J7e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},JC={6:{f:b2},10:{f:Lc},12:{f:mn},13:{f:mn},14:{f:Zr},15:{f:Zr},16:{f:ka},17:{f:Zr},18:{f:Zr},19:{f:mn},20:{f:a5},21:{f:a5},23:{f:kK},24:{f:i5},25:{f:Zr},26:{},27:{},28:{f:y6e},29:{},34:{f:Zr},35:{f:s5},38:{f:ka},39:{f:ka},40:{f:ka},41:{f:ka},42:{f:Zr},43:{f:Zr},47:{f:jBe},49:{f:e6e},51:{f:mn},60:{},61:{f:Q8e},64:{f:Zr},65:{f:Z8e},66:{f:mn},77:{},80:{},81:{},82:{},85:{f:mn},89:{},90:{},91:{},92:{f:V8e},93:{f:_6e},94:{},95:{f:Zr},96:{},97:{},99:{f:Zr},125:{f:CK},128:{f:u6e},129:{f:W8e},130:{f:mn},131:{f:Zr},132:{f:Zr},133:{f:H8e},134:{},140:{f:C6e},141:{f:mn},144:{},146:{f:T6e},151:{},152:{},153:{},154:{},155:{},156:{f:mn},157:{},158:{},160:{f:R6e},161:{f:P6e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:i6e},190:{f:o6e},193:{f:Lc},197:{},198:{},199:{},200:{},201:{},202:{f:Zr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:mn},220:{},221:{f:Zr},222:{},224:{f:c6e},225:{f:z8e},226:{f:Lc},227:{},229:{f:b6e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:q8e},253:{f:t6e},255:{f:G8e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:bK},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Zr},353:{f:Lc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:f6e},431:{f:Zr},432:{},433:{},434:{},437:{},438:{f:S6e},439:{f:Zr},440:{f:N6e},441:{},442:{f:yx},443:{},444:{f:mn},445:{},446:{},448:{f:Lc},449:{f:X8e,r:2},450:{f:Lc},512:{f:r5},513:{f:D6e},515:{f:d6e},516:{f:r6e},517:{f:n5},519:{f:M6e},520:{f:K8e},523:{},545:{f:o5},549:{f:t5},566:{},574:{f:J8e},638:{f:s6e},659:{},1048:{},1054:{f:n6e},1084:{},1212:{f:g6e},2048:{f:k6e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Ny},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Lc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:A6e,r:12},2173:{f:i9e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Zr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:p6e,r:12},2197:{},2198:{f:e9e,r:12},2199:{},2200:{},2201:{},2202:{f:v6e,r:12},2203:{f:Lc},2204:{},2205:{},2206:{},2207:{},2211:{f:Y8e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:mn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:O6e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:E6e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:r5},1:{},2:{f:$6e},3:{f:L6e},4:{f:I6e},5:{f:n5},7:{f:B6e},8:{},9:{f:Ny},11:{},22:{f:mn},30:{f:a6e},31:{},32:{},33:{f:o5},36:{},37:{f:t5},50:{f:U6e},62:{},52:{},67:{},68:{f:mn},69:{},86:{},126:{},127:{f:F6e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:z6e},223:{},234:{},354:{},421:{},518:{f:b2},521:{f:Ny},536:{f:i5},547:{f:s5},561:{},579:{},1030:{f:b2},1033:{f:Ny},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Xi(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&oK(r)&&e.push(r)}}function x5(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=a.index,l=s&&s.index||e.length,c=d$e(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(o=0;o<c.length;++o){var p=c[o].trim(),v=p.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var y=p.split(/<\/t[dh]>/i);for(l=0;l<y.length;++l){var b=y[l].trim();if(b.match(/<t[dh]/i)){for(var _=b,j=0;_.charAt(0)=="<"&&(j=_.indexOf(">"))>-1;)_=_.slice(j+1);for(var w=0;w<g.length;++w){var N=g[w];N.s.c==d&&N.s.r<u&&u<=N.e.r&&(d=N.e.c+1,w=-1)}var S=kt(b.slice(0,b.indexOf(">")));h=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||h>1)&&g.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var k=S.t||S["data-t"]||"";if(!_.length){d+=h;continue}if(_=KG(_),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!_.length){d+=h;continue}var C={t:"s",v:_};r.raw||!_.trim().length||k=="s"||(_==="TRUE"?C={t:"b",v:!0}:_==="FALSE"?C={t:"b",v:!1}:isNaN(_o(_))?isNaN(tp(_).getDate())||(C={t:"d",v:Wn(_)},r.cellDates||(C={t:"n",v:fs(C.v)}),C.z=r.dateNF||Ft[14]):C={t:"n",v:_o(_)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=C):n[At({r:u,c:d})]=C,d+=h}}}}return n["!ref"]=Zt(m),g.length&&(n["!merges"]=g),n}function Uze(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=At({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||GP(f.w||(yc(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(C$e("td",h,m))}}var g="<tr>";return g+s.join("")+"</tr>"}var zze='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Vze="</body></html>";function Wze(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return ed(x5(r[0],t),t);var n=dO();return r.forEach(function(a,s){fO(n,x5(a,t),"Sheet"+(s+1))}),n}function Hze(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function qze(e,t){var r=t||{},n=r.header!=null?r.header:zze,a=r.footer!=null?r.footer:Vze,s=[n],o=Lp(e["!ref"]);r.dense=Array.isArray(e),s.push(Hze(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(Uze(e,o,l,r));return s.push("</table>"+a),s.join("")}function ZK(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?ts(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Lp(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),g=0,p=0,v=0,y=0,b=0,_=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&p<c;++g){var j=l[g];if(y5(j)){if(n.display)continue;m[p]={hidden:!0}}var w=j.children;for(v=y=0;v<w.length;++v){var N=w[v];if(!(n.display&&y5(N))){var S=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):KG(N.innerHTML),k=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var C=f[h];C.s.c==y+s&&C.s.r<p+a&&p+a<=C.e.r&&(y=C.e.c+1-s,h=-1)}_=+N.getAttribute("colspan")||1,((b=+N.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:p+a,c:y+s},e:{r:p+a+(b||1)-1,c:y+s+(_||1)-1}});var T={t:"s",v:S},O=N.getAttribute("data-t")||N.getAttribute("t")||"";S!=null&&(S.length==0?T.t=O||"z":n.raw||S.trim().length==0||O=="s"||(S==="TRUE"?T={t:"b",v:!0}:S==="FALSE"?T={t:"b",v:!1}:isNaN(_o(S))?isNaN(tp(S).getDate())||(T={t:"d",v:Wn(S)},n.cellDates||(T={t:"n",v:fs(T.v)}),T.z=n.dateNF||Ft[14]):T={t:"n",v:_o(S)})),T.z===void 0&&k!=null&&(T.z=k);var A="",V=N.getElementsByTagName("A");if(V&&V.length)for(var H=0;H<V.length&&!(V[H].hasAttribute("href")&&(A=V[H].getAttribute("href"),A.charAt(0)!="#"));++H);A&&A.charAt(0)!="#"&&(T.l={Target:A}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][y+s]=T):e[At({c:y+s,r:p+a})]=T,u.e.c<y+s&&(u.e.c=y+s),y+=_}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=Zt(u),p>=c&&(e["!fullref"]=Zt((u.e.r=l.length-g+p-1+a,u))),e}function eY(e,t){var r=t||{},n=r.dense?[]:{};return ZK(n,e,t)}function Gze(e,t){return ed(eY(e,t),t)}function y5(e){var t="",r=Kze(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Kze(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Yze(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=rr(t.replace(/<[^>]*>/g,""));return[r]}var b5={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function tY(e,t){var r=t||{},n=KP(e),a=[],s,o,l={name:""},c="",u=0,d,f,h={},m=[],g=r.dense?[]:{},p,v,y={value:""},b="",_=0,j=[],w=-1,N=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,C={},T=[],O={},A=0,V=0,H=[],M=1,F=1,L=[],B={Names:[]},D={},q=["",""],Y=[],P={},G="",K=0,Z=!1,se=!1,oe=0;for(yv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=yv.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?g["!ref"]=Zt(S):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(g["!fullref"]=g["!ref"],S.e.r=r.sheetRows-1,g["!ref"]=Zt(S)),T.length&&(g["!merges"]=T),H.length&&(g["!rows"]=H),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=g,se=!1):p[0].charAt(p[0].length-2)!=="/"&&(d=kt(p[0],!1),w=N=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,g=r.dense?[]:{},T=[],H=[],se=!0);break;case"table-row-group":p[1]==="/"?--k:++k;break;case"table-row":case"":if(p[1]==="/"){w+=M,M=1;break}if(f=kt(p[0],!1),f.?w=f.-1:w==-1&&(w=0),M=+f["number-rows-repeated"]||1,M<10)for(oe=0;oe<M;++oe)k>0&&(H[w+oe]={level:k});N=-1;break;case"covered-table-cell":p[1]!=="/"&&++N,r.sheetStubs&&(r.dense?(g[w]||(g[w]=[]),g[w][N]={t:"z"}):g[At({r:w,c:N})]={t:"z"}),b="",j=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++N,y=kt(p[0],!1),F=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=m5(rr(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=rr(y["string-value"]||""),r.dense?(g[w]||(g[w]=[]),g[w][N]=v):g[At({r:w,c:N})]=v),N+=F-1;else if(p[1]!=="/"){++N,b="",_=0,j=[],F=1;var xe=M?w+M-1:w;if(N>S.e.c&&(S.e.c=N),N<S.s.c&&(S.s.c=N),w<S.s.r&&(S.s.r=w),xe>S.e.r&&(S.e.r=xe),y=kt(p[0],!1),Y=[],P={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=rr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(A=parseInt(y["number-matrix-rows-spanned"],10)||0,V=parseInt(y["number-matrix-columns-spanned"],10)||0,O={s:{r:w,c:N},e:{r:w+A-1,c:N+V-1}},v.F=Zt(O),L.push([O,v.F])),y.formula)v.f=m5(y.formula);else for(oe=0;oe<L.length;++oe)w>=L[oe][0].s.r&&w<=L[oe][0].e.r&&N>=L[oe][0].s.c&&N<=L[oe][0].e.c&&(v.F=L[oe][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(A=parseInt(y["number-rows-spanned"],10)||0,V=parseInt(y["number-columns-spanned"],10)||0,O={s:{r:w,c:N},e:{r:w+A-1,c:N+V-1}},T.push(O)),y["number-columns-repeated"]&&(F=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Fr(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Wn(y["date-value"]),r.cellDates||(v.t="n",v.v=fs(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=l$e(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=hj(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=rr(y["string-value"]),j=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(Z=!1,v.t==="s"&&(v.v=b||"",j.length&&(v.R=j),Z=_==0),D.Target&&(v.l=D),Y.length>0&&(v.c=Y,Y=[]),b&&r.cellText!==!1&&(v.w=b),Z&&(v.t="z",delete v.v),(!Z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=w))for(var z=0;z<M;++z){if(F=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[w+z]||(g[w+z]=[]),g[w+z][N]=z==0?v:ra(v);--F>0;)g[w+z][N+F]=ra(v);else for(g[At({r:w+z,c:N})]=v;--F>0;)g[At({r:w+z,c:N+F})]=ra(v);S.e.c<=N&&(S.e.c=N)}F=parseInt(y["number-columns-repeated"]||"1",10),N+=F-1,F=0,v={},b="",j=[]}D={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s;P.t=b,j.length&&(P.R=j),P.a=G,Y.push(P)}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);G="",K=0,b="",_=0,j=[];break;case"creator":p[1]==="/"?G=n.slice(K,p.index):K=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);b="",_=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(C[l.name]=c,(s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&(c="",l=kt(p[0],!1),a.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=kt(p[0],!1),c+=b5[p[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=kt(p[0],!1),c+=b5[p[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,p.index);break}else u=p.index+p[0].length;break;case"named-range":o=kt(p[0],!1),q=_2(o["cell-range-address"]);var W={Name:o.name,Ref:q[0]+"!"+q[1]};se&&(W.Sheet=m.length),B.Names.push(W);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(p[1]==="/"&&(!y||!y["string-value"])){var ce=Yze(n.slice(_,p.index));b=(b.length>0?b+`
`:"")+ce[0]}else kt(p[0],!1),_=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{q=_2(kt(p[0])["target-range-address"]),h[q[0]]["!autofilter"]={ref:q[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(D=kt(p[0],!1),!D.href)break;D.Target=rr(D.href),delete D.href,D.Target.charAt(0)=="#"&&D.Target.indexOf(".")>-1?(q=_2(D.Target.slice(1)),D.Target="#"+q[0]+"!"+q[1]):D.Target.match(/^\.\.[\\\/]/)&&(D.Target=D.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var E={Sheets:h,SheetNames:m,Workbook:B};return r.bookSheets&&delete E.Sheets,E}function _5(e,t){t=t||{},yi(e,"META-INF/manifest.xml")&&d8e(hn(e,"META-INF/manifest.xml"),t);var r=Zs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=tY(Cr(r),t);return yi(e,"meta.xml")&&(n.Props=mK(hn(e,"meta.xml"))),n}function w5(e,t){return tY(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function oO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ZC(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Cr(Of(e))}function eE(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function j5(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Xze(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function jv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Dn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ea(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=jv(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=jv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function lO(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Qze(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=jv(e,n),s=Ea(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Dn(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Ea(l.data),u=Dn(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=Dn(s[3][0].data)>>>0>0),r.push(o)}return r}function Jze(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=jv(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[eE(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=eE(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Zze(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Jze(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return eE(t)}function eVe(e,t,r,n){var a=oO(e),s=a.getUint32(4,!0),o=(n>1?12:8)+j5(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(o,!0),o+=4),o+=j5(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(o,!0),o+=4),s&32&&(u=a.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function tVe(e,t,r){var n=oO(e),a=n.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=Xze(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(o=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function rVe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return eVe(e,t,r,e[0]);case 5:return tVe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Au(e){var t=Ea(e);return jv(t[1][0].data)}function S5(e,t){var r=Ea(t.data),n=Dn(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(o){var l=Ea(o.data),c=Dn(l[1][0].data)>>>0;switch(n){case 1:s[c]=ZC(l[3][0].data);break;case 8:{var u=e[Au(l[9][0].data)][0],d=Ea(u.data),f=e[Au(d[1][0].data)][0],h=Dn(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Ea(f.data);s[c]=m[3].map(function(g){return ZC(g.data)}).join("")}break}}),s}function nVe(e,t){var r,n,a,s,o,l,c,u,d,f,h,m,g,p,v=Ea(e),y=Dn(v[1][0].data)>>>0,b=Dn(v[2][0].data)>>>0,_=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Dn(v[8][0].data)>0||!1,j,w;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)j=(l=(o=v[7])==null?void 0:o[0])==null?void 0:l.data,w=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)j=(m=(h=v[4])==null?void 0:h[0])==null?void 0:m.data,w=(p=(g=v[3])==null?void 0:g[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var N=_?4:1,S=oO(j),k=[],C=0;C<j.length/2;++C){var T=S.getUint16(C*2,!0);T<65535&&k.push([C,T])}if(k.length!=b)throw"Expected ".concat(b," cells, found ").concat(k.length);var O=[];for(C=0;C<k.length-1;++C)O[k[C][0]]=w.subarray(k[C][1]*N,k[C+1][1]*N);return k.length>=1&&(O[k[k.length-1][0]]=w.subarray(k[k.length-1][1]*N)),{R:y,cells:O}}function aVe(e,t){var r,n=Ea(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Dn(n[7][0].data)>>>0>0?1:0:-1,s=lO(n[5],function(o){return nVe(o,a)});return{nrows:Dn(n[4][0].data)>>>0,data:s.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function sVe(e,t,r){var n,a=Ea(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Dn(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Dn(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Zt(s);var o=Ea(a[4][0].data),l=S5(e,e[Au(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?S5(e,e[Au(o[17][0].data)][0]):[],u=Ea(o[3][0].data),d=0;u[1].forEach(function(f){var h=Ea(f.data),m=e[Au(h[2][0].data)][0],g=Dn(m.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var p=aVe(e,m);p.data.forEach(function(v,y){v.forEach(function(b,_){var j=At({r:d+y,c:_}),w=rVe(b,l,c);w&&(r[j]=w)})}),d+=p.nrows})}function iVe(e,t){var r=Ea(t.data),n={"!ref":"A1"},a=e[Au(r[2][0].data)],s=Dn(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return sVe(e,a[0],n),n}function oVe(e,t){var r,n=Ea(t.data),a={name:(r=n[1])!=null&&r[0]?ZC(n[1][0].data):"",sheets:[]},s=lO(n[2],Au);return s.forEach(function(o){e[o].forEach(function(l){var c=Dn(l.meta[1][0].data);c==6e3&&a.sheets.push(iVe(e,l))})}),a}function lVe(e,t){var r=dO(),n=Ea(t.data),a=lO(n[1],Au);if(a.forEach(function(s){e[s].forEach(function(o){var l=Dn(o.meta[1][0].data);if(l==2){var c=oVe(e,o);c.sheets.forEach(function(u,d){fO(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function j2(e){var t,r,n,a,s={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Zze(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Qze(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Dn(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||o.forEach(function(c){s[c].forEach(function(u){var d=Dn(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return lVe(s,l)}function cVe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function cO(e){cVe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function uVe(e){return Th.WS.indexOf(e)>-1?"sheet":e==Th.CS?"chart":e==Th.DS?"dialog":e==Th.MS?"macro":e&&e.length?e:"sheet"}function dVe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,uVe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function fVe(e,t,r,n,a,s,o,l,c,u,d,f){try{s[n]=eg(Zs(e,r,!0),t);var h=hn(e,t),m;switch(l){case"sheet":m=xze(h,t,a,c,s[n],u,d,f);break;case"chart":if(m=yze(h,t,a,c,s[n],u,d,f),!m||!m["!drawel"])break;var g=C0(m["!drawel"].Target,t),p=KC(g),v=v9e(Zs(e,g,!0),eg(Zs(e,p,!0),g)),y=C0(v,g),b=KC(y);m=tze(Zs(e,y,!0),y,c,eg(Zs(e,b,!0),y),u,m);break;case"macro":m=bze(h,t,a,c,s[n],u,d,f);break;case"dialog":m=_ze(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=m;var _=[];s&&s[n]&&_l(s[n]).forEach(function(j){var w="";if(s[n][j].Type==Th.CMNT){w=C0(s[n][j].Target,t);var N=Nze(hn(e,w,!0),w,c);if(!N||!N.length)return;c5(m,N,!1)}s[n][j].Type==Th.TCMNT&&(w=C0(s[n][j].Target,t),_=_.concat(y9e(hn(e,w,!0),c)))}),_&&_.length&&c5(m,_,!0,c.people||[])}catch(j){if(c.WTF)throw j}}function gi(e){return e.charAt(0)=="/"?e.slice(1):e}function hVe(e,t){if($G(),t=t||{},cO(t),yi(e,"META-INF/manifest.xml")||yi(e,"objectdata.xml"))return _5(e,t);if(yi(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof j2<"u"){if(e.FileIndex)return j2(e);var r=Qt.utils.cfb_new();return FL(e).forEach(function(H){m$e(r,H,h$e(e,H))}),j2(r)}throw new Error("Unsupported NUMBERS file")}if(!yi(e,"[Content_Types].xml"))throw yi(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):yi(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=FL(e),a=c8e(Zs(e,"[Content_Types].xml")),s=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",hn(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!hn(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(ng=[],a.sst)try{ng=Sze(hn(e,gi(a.sst)),a.sst,t)}catch(H){if(t.WTF)throw H}t.cellStyles&&a.themes.length&&(c=jze(Zs(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=wze(hn(e,gi(a.style)),a.style,c,t))}a.links.map(function(H){try{var M=eg(Zs(e,KC(gi(H))),H);return Cze(hn(e,gi(H)),M,H,t)}catch{}});var d=vze(hn(e,gi(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=hn(e,gi(a.coreprops[0]),!0),h&&(f=mK(h)),a.extprops.length!==0&&(h=hn(e,gi(a.extprops[0]),!0),h&&m8e(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Zs(e,gi(a.custprops[0]),!0),h&&(m=g8e(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(M){return M.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=m),t.bookSheets&&typeof o<"u"&&(g.SheetNames=o),t.bookSheets?g.SheetNames:t.bookProps))return g;o={};var p={};t.bookDeps&&a.calcchain&&(p=kze(hn(e,gi(a.calcchain)),a.calcchain));var v=0,y={},b,_;{var j=d.Sheets;f.Worksheets=j.length,f.SheetNames=[];for(var w=0;w!=j.length;++w)f.SheetNames[w]=j[w].name}var N=s?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),k=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");yi(e,k)||(k="xl/_rels/workbook."+N+".rels");var C=eg(Zs(e,k,!0),k.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Eze(hn(e,gi(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=b9e(hn(e,gi(a.people[0])),t)),C&&(C=dVe(C,d.Sheets));var T=hn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var O="sheet";if(C&&C[v]?(b="xl/"+C[v][1].replace(/[\/]?xl\//,""),yi(e,b)||(b=C[v][1]),yi(e,b)||(b=k.replace(/_rels\/.*$/,"")+C[v][1]),O=C[v][2]):(b="xl/worksheets/sheet"+(v+1-T)+"."+N,b=b.replace(/sheet0\./,"sheet.")),_=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var A=!1,V=0;V!=t.sheets.length;++V)typeof t.sheets[V]=="number"&&t.sheets[V]==v&&(A=1),typeof t.sheets[V]=="string"&&t.sheets[V].toLowerCase()==f.SheetNames[v].toLowerCase()&&(A=1);if(!A)continue e}}fVe(e,b,_,f.SheetNames[v],v,y,o,O,t,d,c,u)}return g={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:p,Sheets:o,SheetNames:f.SheetNames,Strings:ng,Styles:u,Themes:c,SSF:ra(Ft)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(H,M){H=H.replace(/^Root Entry[\/]/,""),g.keys.push(H),g.files[H]=e.FileIndex[M]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=hn(e,gi(a.vba[0]),!0):a.defaults&&a.defaults.bin===S9e&&(g.vbaraw=hn(e,"xl/vbaProject.bin",!0))),g}function mVe(e,t){var r=t||{},n="Workbook",a=Qt.find(e,n);try{if(n="/!DataSpaces/Version",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(iBe(a.content),n="/!DataSpaces/DataSpaceMap",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=lBe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=cBe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);dBe(a.content)}catch{}if(n="/EncryptionInfo",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=fBe(a.content);if(n="/EncryptedPackage",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function uO(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=li(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function pVe(e,t){return Qt.find(e,"EncryptedPackage")?mVe(e,t):JK(e,t)}function gVe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Xt&&Buffer.isBuffer(e)?"buffer":"base64"),r=HG(n,a),hVe(r,a)}function rY(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return QC(e.slice(r),t);default:break e}return bv.to_workbook(e,t)}function vVe(e,t){var r="",n=uO(e,t);switch(t.type){case"base64":r=li(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=vf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Cr(r)),t.type="binary",rY(r,t)}function xVe(e,t){var r=e;return t.type=="base64"&&(r=li(r)),r=Xc.utils.decode(1200,r.slice(2),"str"),t.type="binary",rY(r,t)}function yVe(e){return e.match(/[^\x00-\x7F]/)?E0(e):e}function S2(e,t,r,n){return n?(r.type="string",bv.to_workbook(e,r)):bv.to_workbook(t,r)}function tE(e,t){CG();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return tE(new Uint8Array(e),(r=ra(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Kh={},r.dateNF&&(Kh.dateNF=r.dateNF),r.type||(r.type=Xt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Xt?"buffer":"binary",n=i$e(e),typeof Uint8Array<"u"&&!Xt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=yVe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=ra(r),r.type="array",tE(zP(n),r)}switch((a=uO(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return pVe(Qt.read(n,r),r);break;case 9:if(a[1]<=8)return JK(n,r);break;case 60:return QC(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return G6e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return H6e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?gVe(n,r):S2(e,n,r,s);case 239:return a[3]===60?QC(n,r):S2(e,n,r,s);case 255:if(a[1]===254)return xVe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return rg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return rg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return l5.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return SBe.to_workbook(n,r);break;case 10:case 13:case 32:return vVe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return V6e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?l5.to_workbook(n,r):S2(e,n,r,s)}function bVe(e,t,r,n,a,s,o,l){var c=na(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var g=o?e[r][m]:e[n[m]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[m]!=null){if(p==null)if(g.t=="e"&&p===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&p===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?p:yc(g,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function rE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Jr(d);break;case"number":c=Jr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=na(c.s.r),h=[],m=[],g=0,p=0,v=Array.isArray(e),y=c.s.r,b=0,_={};v&&!e[y]&&(e[y]=[]);var j=u.skipHidden&&e["!cols"]||[],w=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(j[b]||{}).hidden)switch(h[b]=An(b),r=v?e[y][b]:e[h[b]+f],n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=yc(r,null,u),p=_[o]||0,!p)_[o]=1;else{do l=o+"_"+p++;while(_[l]);_[o]=p,_[l]=1}s[b]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(w[y]||{}).hidden){var N=bVe(e,c,y,h,n,s,v,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[g++]=N.row)}return m.length=g,m}var N5=/"/g;function _Ve(e,t,r,n,a,s,o,l){for(var c=!0,u=[],d="",f=na(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:yc(m,null,l));for(var g=0,p=0;g!==d.length;++g)if((p=d.charCodeAt(g))===a||p===s||p===34||l.forceQuotes){d='"'+d.replace(N5,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(N5,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function nY(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Jr(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=An(g));for(var p=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(d=_Ve(e,a,v,f,o,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?l:"")+d)));return delete n.dense,r.join("")}function wVe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=nY(e,t);return r}function jVe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Jr(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=An(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=na(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function aY(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?ts(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var f=Jr(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,v){_l(p).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var b=p[y],_="z",j="",w=At({c:l+m,r:o+v+a});u=Sv(s,w),b&&typeof b=="object"&&!(b instanceof Date)?s[w]=b:(typeof b=="number"?_="n":typeof b=="boolean"?_="b":typeof b=="string"?_="s":b instanceof Date?(_="d",n.cellDates||(_="n",b=fs(b)),j=n.dateNF||Ft[14]):b===null&&n.nullError&&(_="e",b=0),u?(u.t=_,u.v=b,delete u.w,delete u.R,j&&(u.z=j)):s[w]=u={t:_,v:b},j&&(u.z=j))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=na(o);if(a)for(m=0;m<h.length;++m)s[An(m+l)+g]={t:"s",v:h[m]};return s["!ref"]=Zt(d),s}function SVe(e,t){return aY(null,e,t)}function Sv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ts(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Sv(e,At(t)):Sv(e,At({r:t,c:r||0}))}function NVe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function dO(){return{SheetNames:[],Sheets:{}}}function fO(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(cze(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function kVe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=NVe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function CVe(e,t){return e.z=t,e}function sY(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function EVe(e,t,r){return sY(e,"#"+t,r)}function TVe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function AVe(e,t,r,n){for(var a=typeof t!="string"?t:Jr(t),s=typeof t=="string"?t:Zt(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Sv(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var PVe={encode_col:An,encode_row:na,encode_cell:At,encode_range:Zt,decode_col:QP,decode_row:XP,split_cell:z$e,decode_cell:ts,decode_range:Lp,format_cell:yc,sheet_add_aoa:cK,sheet_add_json:aY,sheet_add_dom:ZK,aoa_to_sheet:$p,json_to_sheet:SVe,table_to_sheet:eY,table_to_book:Gze,sheet_to_csv:nY,sheet_to_txt:wVe,sheet_to_json:rE,sheet_to_html:qze,sheet_to_formulae:jVe,sheet_to_row_object_array:rE,sheet_get_cell:Sv,book_new:dO,book_append_sheet:fO,book_set_sheet_visibility:kVe,cell_set_number_format:CVe,cell_set_hyperlink:sY,cell_set_internal_link:EVe,cell_add_comment:TVe,sheet_set_array_formula:AVe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const OVe=({permission:e,permissions:t=[],requireAll:r=!1,children:n,fallback:a=null})=>{const{hasPermission:s}=F1();let o=!1;return e?o=s(e):t.length>0&&(r?o=t.every(l=>s(l)):o=t.some(l=>s(l))),o?i.jsx(i.Fragment,{children:n}):i.jsx(i.Fragment,{children:a})};function DVe({templates:e,templateFields:t,onImportComplete:r,onClose:n}){var T,O;const{t:a}=Rt(),{user:s}=hr(),{toast:o}=Po(),[l,c]=x.useState("template"),[u,d]=x.useState(null),[f,h]=x.useState([]),[m,g]=x.useState({}),[p,v]=x.useState([]),[y,b]=x.useState(!1),[_,j]=x.useState(0),w=async A=>{var H;const V=(H=A.target.files)==null?void 0:H[0];if(V)try{const M=await V.arrayBuffer(),F=tE(M,{type:"array"}),L=F.Sheets[F.SheetNames[0]],B=PVe.sheet_to_json(L);if(B.length===0){o({title:a("common.error"),description:a("surveys.fileEmpty"),variant:"destructive"});return}h(B),N(B),c("preview")}catch(M){console.error("Error parsing file:",M),o({title:a("common.error"),description:a("surveys.fileParseError"),variant:"destructive"})}},N=A=>{if(!u)return;const V=t[u.template_id]||[],H=Object.keys(A[0]||{}),M=[],F={};for(const L of V){const B=L.field_label||"",D=H.find(q=>q.toLowerCase().trim()===B.toLowerCase().trim());D?F[B]=D:L.is_required&&M.push(a("surveys.requiredFieldNotFound",{field:`"${B}"`}))}g(F),v(M)},S=()=>f.slice(0,5),k=async()=>{if(!u||!s)return;const A=t[u.template_id]||[],V=[];for(const H of A)H.is_required&&!m[H.field_label||""]&&V.push(a("surveys.requiredFieldNotMapped",{field:`"${H.field_label}"`}));if(V.length>0){v(V);return}c("importing"),b(!0);try{const H=f.length,M=[];for(let L=0;L<f.length;L++){const B=f[L],D={};for(const Y of A){const P=Y.field_label||"",G=m[P];G&&B[G]!==void 0&&B[G]!==null&&B[G]!==""&&(D[P]=B[G])}const q={template_id:u.template_id,survey_name:B.survey_name||B["Survey Name"]||`Bulk Import ${L+1}`,survey_description:B.survey_description||B["Survey Description"]||null,client_name:B.client_name||B["Client Name"]||`Client ${L+1}`,client_name_ar:B.client_name_ar||B["Client Name AR"]||null,client_contact:B.client_contact||B["Client Contact"]||null,client_email:B.client_email||B["Client Email"]||null,client_address:B.client_address||B["Client Address"]||null,client_company:B.client_company||B["Client Company"]||null,client_company_ar:B.client_company_ar||B["Client Company AR"]||null,survey_responses:D,location_latitude:parseFloat(B.location_latitude||B.Latitude||"0"),location_longitude:parseFloat(B.location_longitude||B.Longitude||"0"),location_accuracy:B.location_accuracy?parseFloat(B.location_accuracy):null,location_address:B.location_address||B["Location Address"]||null,created_by:s.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:B.notes||null,notes_ar:B.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};M.push(q),j(Math.round((L+1)/H*50))}j(50);const F=await rh.createBatch(M);j(100),o({title:a("common.success"),description:a("surveys.importSuccess",{count:F.length})}),r(F),C()}catch(H){console.error("Error importing surveys:",H),o({title:a("common.error"),description:H.message||a("surveys.importFailed"),variant:"destructive"}),c("preview")}finally{b(!1)}},C=()=>{c("template"),d(null),h([]),g({}),v([]),j(0),n()};return i.jsxs(i.Fragment,{children:[i.jsxs(nn,{children:[i.jsx(an,{children:a("surveys.bulkImport")}),i.jsxs(Da,{children:[l==="template"&&a("surveys.selectTemplateForImport"),l==="upload"&&a("surveys.uploadFile"),l==="preview"&&a("surveys.reviewData"),l==="importing"&&a("surveys.importingData")]})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[l==="template"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx(ze,{className:"text-base font-medium",children:a("surveys.selectTemplate")}),i.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(A=>A.is_active).map(A=>i.jsx(et,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(u==null?void 0:u.template_id)===A.template_id?"ring-2 ring-primary":""}`,onClick:()=>d(A),children:i.jsxs(ct,{className:"p-4",children:[i.jsx("h4",{className:"font-medium text-sm",children:A.template_name}),A.template_description&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:A.template_description}),A.category&&i.jsx(ht,{variant:"outline",className:"mt-2 text-xs",children:A.category})]})},A.template_id||`template-${Math.random()}`))})]}),l==="upload"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx($_,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[i.jsx("p",{className:"font-medium mb-1",children:a("surveys.importInstructions")}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[i.jsx("li",{children:a("surveys.importInstruction1")}),i.jsx("li",{children:a("surveys.importInstruction2")}),i.jsx("li",{children:a("surveys.importInstruction3")})]})]})]})}),i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[i.jsx(Ag,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),i.jsx(ze,{className:"block text-sm font-medium mb-2",children:a("surveys.dragDropFile")}),i.jsx(Be,{type:"file",accept:".xlsx,.xls,.csv",onChange:w,className:"hidden",id:"file-upload"}),i.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:i.jsx(le,{variant:"outline",asChild:!0,children:i.jsx("span",{children:a("surveys.selectFile")})})})]})]}),l==="preview"&&i.jsxs("div",{className:"space-y-4",children:[p.length>0&&i.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(YN,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[i.jsx("p",{className:"font-medium mb-2",children:a("surveys.validationErrors")}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:p.map((A,V)=>i.jsx("li",{children:A},V))})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-sm",children:a("surveys.columnMapping")}),i.jsxs(ht,{variant:"secondary",children:[Object.keys(m).length," / ",u&&((T=t[u.template_id])==null?void 0:T.length)||0]})]}),i.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:u?(O=t[u.template_id])==null?void 0:O.map(A=>i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:A.field_label}),A.is_required&&i.jsx(ht,{variant:"destructive",className:"text-xs mt-1",children:a("surveys.required")})]}),m[A.field_label||""]?i.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[i.jsx(Jl,{className:"h-4 w-4"}),i.jsx("span",{className:"text-xs font-medium",children:m[A.field_label||""]})]}):i.jsx("div",{className:"text-xs text-muted-foreground",children:A.is_required?i.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:a("surveys.notMapped")}):i.jsx("span",{children:a("surveys.optional")})})]},A.field_id)):i.jsx("div",{className:"text-center text-muted-foreground py-4",children:a("surveys.noTemplateSelected")})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-sm",children:a("surveys.previewFirstRows",{count:5})}),i.jsx("div",{className:"border rounded-lg",children:i.jsxs("table",{className:"w-full text-sm table-auto",children:[i.jsx("thead",{className:"bg-muted border-b",children:i.jsx("tr",{children:Object.keys(S()[0]||{}).map(A=>i.jsx("th",{className:"px-3 py-2 text-start font-medium text-xs",children:A},A))})}),i.jsx("tbody",{children:S().map((A,V)=>i.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.entries(A).map(([H,M],F)=>i.jsx("td",{className:"px-3 py-2 text-xs break-words max-w-xs",children:typeof M=="boolean"?H.toLowerCase().includes("is_default")?M?i.jsx(Jl,{className:"h-4 w-4 text-green-600"}):i.jsx("span",{className:"text-transparent",children:"-"}):M?i.jsx(Jl,{className:"h-4 w-4 text-green-600"}):i.jsx(lae,{className:"h-4 w-4 text-gray-400"}):String(M||"")},F))},V))})]})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:a("surveys.showingRows",{shown:Math.min(5,f.length),total:f.length})})]})]}),l==="importing"&&i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx(U_,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),i.jsx("p",{className:"font-medium mb-2",children:a("surveys.importingData")}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[a("surveys.processingRows",{progress:_}),"%"]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${_}%`}})})]})})})]}),i.jsxs(Oa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(le,{variant:"outline",onClick:C,disabled:y,className:"w-full sm:w-auto",children:a("buttons.cancel")}),l==="template"&&i.jsx(le,{onClick:()=>c("upload"),disabled:!u,className:"w-full sm:w-auto",children:a("common.next")}),l==="upload"&&i.jsx(le,{onClick:()=>c("template"),variant:"outline",className:"w-full sm:w-auto",children:a("common.back")}),l==="preview"&&i.jsxs(i.Fragment,{children:[i.jsx(le,{onClick:()=>c("upload"),variant:"outline",className:"w-full sm:w-auto",children:a("common.back")}),i.jsx(le,{onClick:k,disabled:p.length>0||y,className:"w-full sm:w-auto",children:a("surveys.startImport")})]})]})]})}function RVe(){var ke,Te,Ue,Ke;const{user:e}=hr(),{currentLanguage:t,isRTL:r}=Ma();Br();const{t:n}=Rt(),{toast:a}=Po(),{canView:s,canEdit:o,canDelete:l,canViewAllData:c,canViewOwnData:u,canViewTeamData:d,hasPermission:f}=F1(),[h,m]=x.useState([]),[g,p]=x.useState([]),[v,y]=x.useState({}),[b,_]=x.useState(!0),[j,w]=x.useState(""),[N,S]=x.useState(null),[k,C]=x.useState(null),[T,O]=x.useState([]);x.useState(!1);const[A,V]=x.useState(!1),[H,M]=x.useState(null),[F,L]=x.useState({}),[B,D]=x.useState({}),[q,Y]=x.useState([]),[P,G]=x.useState(!1),[K,Z]=x.useState(null),[se,oe]=x.useState(null),[xe,z]=x.useState(null),[W,ce]=x.useState("list"),[E,Pe]=x.useState("list"),[Re,pe]=x.useState(1),[Me,be]=x.useState(1),[Ge,Ze]=x.useState(10),[ae,he]=x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});x.useEffect(()=>{pe(1),be(1)},[j]);const[U,ue]=x.useState([]);x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[we,_e]=x.useState({}),[$e,tt]=x.useState(!1),[it,Ee]=x.useState(!1),[Le,Fe]=x.useState(new Set);x.useState(!1),x.useEffect(()=>{st()},[]),x.useEffect(()=>{pe(1)},[j,W]);const st=async()=>{try{_(!0);const[ee,me,je]=await Promise.all([rh.getAll().catch(rt=>(console.error("[Surveys] Error fetching surveys:",rt),[])),Ki.getAll().catch(rt=>(console.error("[Surveys] Error fetching templates:",rt),[])),xn.getAll().catch(rt=>(console.error("[Surveys] Error fetching users:",rt),[]))]),ve=me.map(rt=>Ki.getFields(rt.template_id).catch(Ye=>(console.error(`[Surveys] Error fetching fields for template ${rt.template_id}:`,Ye),[]))),Xe=await Promise.all(ve),bt={};me.forEach((rt,Ye)=>{bt[rt.template_id]=Xe[Ye]||[]}),y(bt),console.log(`[Surveys] Loaded template fields for ${Object.keys(bt).length} templates`);const Vt=ee.map(rt=>{try{let Ye=rt.survey_responses;return typeof rt.survey_responses=="string"&&(Ye=JSON.parse(rt.survey_responses)),{...rt,survey_responses:Ye}}catch(Ye){return console.error(`[Surveys] Error parsing survey_responses for survey ${rt.survey_id}:`,Ye),rt}});m(Vt),p(me),Y(je),y(bt)}catch(ee){console.error("Failed to load surveys data:",ee)}finally{_(!1)}},ot=h.filter(ee=>j?ee.client_name&&ee.client_name.toLowerCase().includes(j.toLowerCase())||ee.client_company&&ee.client_company.toLowerCase().includes(j.toLowerCase())||ee.survey_name&&ee.survey_name.toLowerCase().includes(j.toLowerCase()):!0),_t=Math.ceil(ot.length/Ge),Ut=(Re-1)*Ge,ar=Ut+Ge,_r=ot.slice(Ut,ar),bn=g.filter(ee=>{if(!j)return!0;const me=Ae(ee,"template_name");return me&&me.toLowerCase().includes(j.toLowerCase())||ee.category&&ee.category.toLowerCase().includes(j.toLowerCase())}),Tr=Math.ceil(bn.length/Ge),zs=(Me-1)*Ge,sa=zs+Ge,Mn=bn.slice(zs,sa),_n=ee=>{if(!ee)return n("surveys.unknownCreator");const me=q.find(je=>{var ve,Xe;return((ve=je.userid)==null?void 0:ve.toString())===ee||((Xe=je.user_id)==null?void 0:Xe.toString())===ee});return me?Ae(me,"user_name"):n("surveys.unknownCreator")},Mo=ee=>{switch(ee.toLowerCase()){case"completed":return i.jsxs(ht,{variant:"default",className:"bg-green-500",children:[i.jsx(Jl,{className:"h-3 w-3 me-1"}),n("surveys.completed")]});case"in_progress":return i.jsxs(ht,{variant:"secondary",children:[i.jsx(ef,{className:"h-3 w-3 me-1"}),n("surveys.inProgress")]});case"pending":return i.jsxs(ht,{variant:"outline",children:[i.jsx(ef,{className:"h-3 w-3 me-1"}),n("surveys.pending")]});default:return i.jsx(ht,{variant:"outline",children:ee})}},Al=ee=>{const me=ee.filter(je=>je.survey_id);me.length!==ee.length&&console.warn("[Surveys] Some imported surveys are missing IDs and will be skipped"),m([...me,...h])},Vs=async ee=>{C(ee);const me=v[ee.template_id]||[];O(me)},xs=()=>{const ee={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};ue(me=>[...me,ee])},Wi=ee=>{ue(me=>me.filter((je,ve)=>ve!==ee))},La=(ee,me)=>{ue(je=>je.map((ve,Xe)=>Xe===ee?{...ve,...me}:ve))},fi=(ee,me)=>{ue(je=>{const ve=[...je],[Xe]=ve.splice(ee,1);return ve.splice(me,0,Xe),ve})},qn=()=>{he({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),ue([]),Z(null)},ys=async ee=>{he({template_name:ee.template_name||"",template_name_ar:ee.template_name_ar||"",template_description:ee.template_description||"",template_description_ar:ee.template_description_ar||"",category:ee.category||"",is_active:ee.is_active,is_default:ee.is_default||!1});const je=(v[ee.template_id]||[]).map(ve=>({field_type:ve.field_type,field_label:ve.field_label||"",field_label_ar:ve.field_label_ar||"",help_text:ve.help_text||"",help_text_ar:ve.help_text_ar||"",is_required:ve.is_required||!1,field_options:ve.field_options,validation_rules:ve.validation_rules,default_value:ve.default_value,conditional_logic:ve.conditional_logic,image_path:ve.image_path}));ue(je),Z(ee.template_id),G(!0)},Fo=()=>{const ee={};return ae.template_name.trim()||(ee.template_name=n("surveys.templateNameRequired")),U.length===0?ee.fields=n("surveys.atLeastOneFieldRequired"):U.forEach((me,je)=>{me.field_label.trim()||(ee[`field_${je}`]=n("surveys.fieldLabelRequired",{number:je+1}))}),_e(ee),Object.keys(ee).length===0},Ec=async()=>{if(!Fo()){a({title:n("common.error"),description:n("surveys.templateValidationFailed"),variant:"destructive"});return}tt(!0);try{if(K){await Ki.update(K,ae);const ee=v[K]||[];for(const me of ee)me.field_id&&await Ki.deleteField(me.field_id);for(let me=0;me<U.length;me++){const je=U[me];await Ki.createField({template_id:K,field_order:me+1,field_type:je.field_type,field_label:je.field_label,field_label_ar:je.field_label_ar||"",help_text:je.help_text||null,help_text_ar:je.help_text_ar||null,is_required:je.is_required,field_options:je.field_options,validation_rules:je.validation_rules,default_value:je.default_value||null,conditional_logic:je.conditional_logic,image_path:je.image_path||null})}a({title:n("common.success"),description:n("surveys.templateUpdated")})}else{const ee={...ae,created_by:e==null?void 0:e.id},me=await Ki.create(ee);for(let je=0;je<U.length;je++){const ve=U[je];await Ki.createField({template_id:me.template_id,field_order:je+1,field_type:ve.field_type,field_label:ve.field_label,field_label_ar:ve.field_label_ar||"",help_text:ve.help_text||null,help_text_ar:ve.help_text_ar||null,is_required:ve.is_required,field_options:ve.field_options,validation_rules:ve.validation_rules,default_value:ve.default_value||null,conditional_logic:ve.conditional_logic,image_path:ve.image_path||null})}a({title:n("common.success"),description:n("surveys.templateCreated")})}qn(),G(!1),st()}catch(ee){console.error("Failed to save template:",ee),a({title:n("common.error"),description:n("surveys.templateSaveError",{action:n(K?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{tt(!1)}},If=async ee=>{M(ee);const me=v[ee.template_id]||[],je={};me.forEach(ve=>{ve.default_value!==null&&ve.default_value!==void 0&&(je[ve.field_id.toString()]=ve.default_value)}),L(je),M(ee)},X=async ee=>{try{await Ki.delete(ee),p(me=>me.filter(je=>je.template_id!==ee)),oe(null),y(me=>{const je={...me};return delete je[ee],je})}catch(me){console.error("Failed to delete template:",me),alert("Failed to delete template. Please try again.")}},re=async ee=>{try{await rh.delete(ee),m(me=>me.filter(je=>je.survey_id!==ee)),z(null)}catch(me){console.error("Failed to delete survey:",me),alert("Failed to delete survey. Please try again.")}},te=async ee=>{try{const me=g.filter(je=>je.is_default&&je.template_id!==ee);for(const je of me)await Ki.update(je.template_id,{is_default:!1});await Ki.update(ee,{is_default:!0}),p(je=>je.map(ve=>({...ve,is_default:ve.template_id===ee}))),a({title:n("common.success"),description:n("surveys.templateSetAsDefault")})}catch(me){console.error("Failed to set default template:",me),a({title:n("common.error"),description:n("surveys.templateSetDefaultError"),variant:"destructive"})}},ne=()=>new Promise((ee,me)=>{if(!navigator.geolocation){me(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(je=>{ee({latitude:je.coords.latitude,longitude:je.coords.longitude,accuracy:je.coords.accuracy})},je=>{me(je)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),I=async()=>{if(!(!H||!e))try{let ee={latitude:0,longitude:0,accuracy:0};try{ee=await ne()}catch(oa){console.warn("Could not get location:",oa)}const me=v[H.template_id]||[],je=new Map(me.map(oa=>[oa.field_id.toString(),oa.field_label])),ve={};for(const[oa,Hi]of Object.entries(F)){const Pl=je.get(oa)||oa;ve[Pl]=Hi}const Xe=ve["Customer Name"]||ve["Client Name"]||ve.client_name||ve.customer_name||"Anonymous",bt=ve["Customer Company"]||ve["Client Company"]||ve.Company||ve.company||ve.client_company||null,Vt=ve["Contact Number"]||ve["Contact Email"]||ve.Contact||ve.contact||ve.phone||null,rt=ve["Contact Email"]||ve.Email||ve.email||ve.client_email||null,Ye=ve.Address||ve.address||ve.client_address||null,ln=ve["Additional Notes"]||ve.Notes||ve.notes||null,qr={},bs=Object.keys(B);for(const[oa,Hi]of Object.entries(F))bs.includes(oa)||(qr[oa]=Array.isArray(Hi)?Hi.join(", "):Hi);const ia={template_id:H.template_id,survey_name:`${Ae(H,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:Ae(H,"template_description")||null,client_name:Xe,client_name_ar:null,client_contact:Vt,client_email:rt,client_address:Ye,client_company:bt,client_company_ar:null,survey_responses:qr,location_latitude:ee.latitude,location_longitude:ee.longitude,location_accuracy:ee.accuracy,location_address:Ye,status:"collected",created_by:e.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:ln,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null},Tc=await rh.create(ia);if(Object.keys(B).length>0){const oa={...qr};for(const[Pl,Lf]of Object.entries(B)){const Ac=await new Promise((Nx,kx)=>{const td=new FileReader;td.onload=()=>{const Bp=td.result,_j=Bp.split(",")[1];Nx(Bp)},td.onerror=kx,td.readAsDataURL(Lf)});oa[Pl]=Ac}const Hi=Object.entries(oa).reduce((Pl,[Lf,Ac])=>(Pl[Lf]=Array.isArray(Ac)?Ac.join(", "):Ac,Pl),{});await rh.update(Tc.survey_id,{survey_responses:Hi}),Tc.survey_responses=Hi}m([Tc,...h]),M(null),L({}),D({}),V(!1)}catch(ee){console.error("[Survey] Failed to create survey:",ee),alert(`Failed to create survey: ${ee.message}`)}},Q=ee=>ee.is_required===1||ee.is_required===!0,fe=ee=>{const me=ee.field_id.toString(),je=F[me]||"";switch(ee.field_type.toLowerCase()){case"text":return i.jsx(Be,{id:me,value:je,onChange:rt=>L(Ye=>({...Ye,[me]:rt.target.value})),placeholder:Ae(ee,"help_text")||ee.field_label,required:ee.is_required});case"textarea":return i.jsx(On,{id:me,value:je,onChange:rt=>L(Ye=>({...Ye,[me]:rt.target.value})),placeholder:Ae(ee,"help_text")||ee.field_label,required:ee.is_required,rows:3});case"number":return i.jsx(Be,{id:me,type:"number",value:je,onChange:rt=>L(Ye=>({...Ye,[me]:rt.target.value})),placeholder:Ae(ee,"help_text")||ee.field_label,required:ee.is_required});case"email":return i.jsx(Be,{id:me,type:"email",value:je,onChange:rt=>L(Ye=>({...Ye,[me]:rt.target.value})),placeholder:Ae(ee,"help_text")||ee.field_label,required:ee.is_required});case"date":return i.jsx(Be,{id:me,type:"date",value:je,onChange:rt=>L(Ye=>({...Ye,[me]:rt.target.value})),required:ee.is_required});case"select":let ve=ee.field_options;if(typeof ve=="string")try{ve=JSON.parse(ve)}catch(rt){console.error("Failed to parse field_options:",rt),ve=null}if(ve&&typeof ve=="object"&&!Array.isArray(ve)&&"options"in ve&&Array.isArray(ve.options)){const rt=ve.options.filter(Ye=>typeof Ye=="string");return i.jsxs(vt,{value:je,onValueChange:Ye=>L(ln=>({...ln,[me]:Ye})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:Ae(ee,"help_text")||`${n("common.select")} ${Ae(ee,"field_label")}`})}),i.jsx(pt,{children:rt.map((Ye,ln)=>i.jsx(Ce,{value:Ye,children:Ye},ln))})]})}return i.jsx(Be,{id:me,value:je,onChange:rt=>L(Ye=>({...Ye,[me]:rt.target.value})),placeholder:Ae(ee,"help_text")||ee.field_label,required:ee.is_required});case"radio":let Xe=ee.field_options;if(typeof Xe=="string")try{Xe=JSON.parse(Xe)}catch(rt){console.error("Failed to parse field_options:",rt),Xe=null}if(Xe&&typeof Xe=="object"&&!Array.isArray(Xe)&&"options"in Xe&&Array.isArray(Xe.options)){const rt=Xe.options.filter(Ye=>typeof Ye=="string");return i.jsx("div",{className:"space-y-2",children:rt.map((Ye,ln)=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:me,value:Ye,checked:je===Ye,onChange:qr=>L(bs=>({...bs,[me]:qr.target.value}))}),i.jsx("span",{className:"text-sm",children:Ye})]},ln))})}return i.jsx(Be,{id:me,value:je,onChange:rt=>L(Ye=>({...Ye,[me]:rt.target.value})),placeholder:Ae(ee,"help_text")||ee.field_label,required:ee.is_required});case"multiselect":case"checkbox":let bt=ee.field_options;if(typeof bt=="string")try{bt=JSON.parse(bt)}catch(rt){console.error("Failed to parse field_options:",rt),bt=null}if(bt&&typeof bt=="object"&&!Array.isArray(bt)&&"options"in bt&&Array.isArray(bt.options)){const rt=bt.options.filter(Ye=>typeof Ye=="string");return i.jsx("div",{className:"space-y-2",children:rt.map((Ye,ln)=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:Array.isArray(je)?je.includes(Ye):!1,onChange:qr=>{const bs=Array.isArray(je)?je:[];qr.target.checked?L(ia=>({...ia,[me]:[...bs,Ye]})):L(ia=>({...ia,[me]:bs.filter(Tc=>Tc!==Ye)}))}}),i.jsx("span",{className:"text-sm",children:Ye})]},ln))})}return i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:!!je,onChange:rt=>L(Ye=>({...Ye,[me]:rt.target.checked}))}),i.jsx("span",{className:"text-sm",children:Ae(ee,"field_label")})]});case"image":const Vt=F[me];return i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{id:me,type:"file",accept:"image/*",onChange:rt=>{var ln;const Ye=(ln=rt.target.files)==null?void 0:ln[0];Ye&&(D(qr=>({...qr,[me]:Ye})),L(qr=>({...qr,[me]:{preview:URL.createObjectURL(Ye),filename:Ye.name}})))},required:ee.is_required}),(Vt==null?void 0:Vt.preview)&&i.jsxs("div",{className:"relative w-full",children:[i.jsx("img",{src:Vt.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),i.jsx(le,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 inset-inline-end-2",onClick:()=>{D(rt=>{const Ye={...rt};return delete Ye[me],Ye}),L(rt=>{const Ye={...rt};return delete Ye[me],Ye})},children:i.jsx(sr,{className:"h-4 w-4"})})]})]});default:return i.jsx(Be,{id:me,value:je,onChange:rt=>L(Ye=>({...Ye,[me]:rt.target.value})),placeholder:Ae(ee,"help_text")||ee.field_label,required:ee.is_required})}},Se=()=>{const ee=[{key:"survey",header:n("surveys.surveyName"),render:ve=>i.jsx(xc,{title:ve.survey_name||`${n("surveys.survey")} #${ve.survey_id||"Unknown"}`,subtitle:Ae(ve,"client_name")})},{key:"creator",header:n("surveys.createdBy"),render:ve=>i.jsx(Xm,{name:ve.created_by_name||_n(ve.created_by),fallback:n("surveys.unknownCreator")})}],me=[{label:n("common.view"),icon:i.jsx(ti,{className:"h-4 w-4"}),onClick:ve=>S(ve)},{label:n("buttons.delete"),icon:i.jsx(sr,{className:"h-4 w-4"}),onClick:ve=>z(ve.survey_id),variant:"destructive",show:()=>f("surveys_DELETE")}],je=[{label:n("buttons.delete"),icon:i.jsx(sr,{className:"h-4 w-4"}),onClick:async ve=>{if(ve.length===0)return;if(window.confirm(n("surveys.confirmBulkDeleteDesc",{count:ve.length})))try{const bt=ve.map(Vt=>rh.delete(Vt.survey_id));await Promise.all(bt),m(Vt=>Vt.filter(rt=>!ve.find(Ye=>Ye.survey_id===rt.survey_id))),Fe(new Set),a({title:n("common.success"),description:n("surveys.bulkDeleteSuccess",{count:ve.length})})}catch(bt){console.error("Failed to bulk delete surveys:",bt),a({title:n("common.error"),description:n("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}].filter(ve=>f("surveys_DELETE"));return i.jsx(vc,{data:_r,columns:ee,actions:me,bulkActions:je,keyExtractor:ve=>{var Xe;return((Xe=ve.survey_id)==null?void 0:Xe.toString())||`survey-${Math.random()}`},onRowClick:ve=>S(ve),enableBulkSelect:!0,rowHeight:"h-26",rtl:r,emptyState:i.jsx(bo,{icon:i.jsx(ba,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("surveys.noSurveysFound"),description:n(j?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},Ne=()=>{const ee=[{key:"template",header:n("surveys.templateName"),render:ve=>i.jsx(xc,{title:Ae(ve,"template_name"),subtitle:Ae(ve,"template_description")})},{key:"category",header:n("surveys.category"),render:ve=>ve.category||n("surveys.noCategory")},{key:"status",header:n("surveys.status"),render:ve=>i.jsxs("div",{className:"flex items-center gap-2",children:[ve.is_active?i.jsx(ht,{variant:"default",className:"bg-green-500",children:n("surveys.active")}):i.jsx(ht,{variant:"secondary",children:n("surveys.inactive")}),ve.is_default&&i.jsx(ht,{variant:"default",children:n("surveys.default")})]})},{key:"created",header:n("surveys.createdDate"),hideOnMobile:!0,render:ve=>i.jsx(Af,{date:ve.created_at,fallback:n("leads.notSet")})}],me=[{label:n("common.view"),icon:i.jsx(ti,{className:"h-4 w-4"}),onClick:ve=>Vs(ve)},{label:n("surveys.setAsDefault"),icon:i.jsx(Jl,{className:"h-4 w-4"}),onClick:ve=>te(ve.template_id),show:ve=>!ve.is_default},{label:n("buttons.edit"),icon:i.jsx(GN,{className:"h-4 w-4"}),onClick:ve=>ys(ve),show:()=>f("survey_templates_UPDATE")},{label:n("buttons.delete"),icon:i.jsx(sr,{className:"h-4 w-4"}),onClick:ve=>oe(ve.template_id),variant:"destructive",show:()=>f("survey_templates_DELETE")}],je=[{label:n("buttons.delete"),icon:i.jsx(sr,{className:"h-4 w-4"}),onClick:async ve=>{if(window.confirm(n("surveys.bulkDeleteConfirm",{count:ve.length})))try{await Promise.all(ve.map(Xe=>Ki.delete(Xe.template_id))),await st(),a({title:n("common.success"),description:n("surveys.bulkDeleteSuccess",{count:ve.length})})}catch(Xe){console.error("Failed to bulk delete templates:",Xe),a({title:n("common.error"),description:n("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}].filter(ve=>f("survey_templates_DELETE"));return i.jsx(vc,{data:Mn,columns:ee,actions:me,bulkActions:je,keyExtractor:ve=>{var Xe;return((Xe=ve.template_id)==null?void 0:Xe.toString())||`template-${Math.random()}`},onRowClick:ve=>Vs(ve),enableBulkSelect:!0,rtl:r,emptyState:i.jsx(bo,{icon:i.jsx(ba,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("surveys.noTemplatesFound"),description:n(j?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return b?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"h-full flex flex-col overflow-hidden pb-4",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:"w-full flex-1 flex flex-col min-h-0 px-6",dir:r?"rtl":"ltr",children:i.jsxs(Ao,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs(Ii,{className:"grid w-full grid-cols-2",children:[i.jsxs(kr,{value:"surveys",children:[n("surveys.surveys")," (",ot.length,")"]}),i.jsxs(kr,{value:"templates",children:[n("surveys.templates")," (",bn.length,")"]})]}),i.jsxs(Vr,{value:"surveys",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ps,{className:"absolute inset-inline-start-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Be,{placeholder:n("surveys.searchPlaceholder"),value:j,onChange:ee=>w(ee.target.value),className:"ps-10 pe-3"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(le,{variant:W==="list"?"default":"ghost",size:"sm",onClick:()=>ce("list"),className:"h-8 w-8 p-0",children:i.jsx(xm,{className:"h-4 w-4"})}),i.jsx(le,{variant:W==="card"?"default":"ghost",size:"sm",onClick:()=>ce("card"),className:"h-8 w-8 p-0",children:i.jsx(ba,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",dir:r?"rtl":"ltr",children:[i.jsxs(gn,{open:A,onOpenChange:V,children:[i.jsx(H1,{asChild:!0,children:i.jsxs(le,{size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[i.jsx(Wt,{className:"h-4 w-4 me-2"}),n("surveys.newSurvey")]})}),i.jsxs(rn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(nn,{children:i.jsx(an,{children:n("surveys.createNewSurvey")})}),i.jsx("div",{className:"space-y-6 py-4",children:H?i.jsxs("div",{className:"space-y-6",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:Ae(H,"template_name")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:n("surveys.fillSurveyDetails")})]}),i.jsx(le,{variant:"outline",size:"sm",onClick:()=>{M(null),L({})},children:n("surveys.changeTemplate")})]}),i.jsx("div",{className:"space-y-4",dir:r?"rtl":"ltr",children:(ke=v[H.template_id])==null?void 0:ke.map(ee=>i.jsxs("div",{className:"space-y-2",dir:r?"rtl":"ltr",children:[i.jsxs(ze,{className:"text-sm font-medium mb-1.5 block",children:[Ae(ee,"field_label"),Q(ee)&&i.jsx("span",{className:"text-red-500 ms-1",children:"*"})]}),fe(ee),Ae(ee,"help_text")&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Ae(ee,"help_text")})]},ee.field_id))}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",dir:r?"rtl":"ltr",children:[i.jsx(ym,{className:"h-4 w-4"}),i.jsx("span",{children:n("surveys.locationWillBeCaptured")})]})})]}):i.jsxs("div",{children:[i.jsx(ze,{className:"text-base font-medium mb-4 block",children:n("surveys.selectTemplate")}),i.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:g.filter(ee=>ee.is_active).map(ee=>i.jsx(et,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(H==null?void 0:H.template_id)===ee.template_id?"ring-2 ring-primary":""}`,onClick:()=>If(ee),children:i.jsx(ct,{className:"p-4",dir:r?"rtl":"ltr",children:i.jsx("div",{className:"flex items-start gap-3",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-medium text-sm truncate",children:Ae(ee,"template_name")}),ee.category&&i.jsx(ht,{variant:"outline",className:"mt-1 text-xs",children:ee.category}),Ae(ee,"template_description")&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:Ae(ee,"template_description")})]})})})},ee.template_id||`template-${Math.random()}`))})]})}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",dir:r?"rtl":"ltr",children:[i.jsx(le,{variant:"outline",onClick:()=>{V(!1),M(null),L({})},className:"w-full sm:w-auto",children:n("buttons.cancel")}),H&&i.jsx(le,{onClick:I,disabled:!H,className:"w-full sm:w-auto",children:n("surveys.submitSurvey")})]})]})]}),i.jsxs(gn,{open:it,onOpenChange:Ee,children:[i.jsx(H1,{asChild:!0,children:i.jsxs(le,{variant:"outline",size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all border-primary/20 hover:bg-primary/5 px-4 h-9",children:[i.jsx(Ag,{className:"h-4 w-4 me-2 text-primary"}),n("surveys.bulkImport")]})}),i.jsx(rn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:i.jsx(DVe,{templates:g,templateFields:v,onImportComplete:Al,onClose:()=>Ee(!1)})})]})]})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:_r.length===0?i.jsx(et,{children:i.jsxs(ct,{className:"text-center py-12",children:[i.jsx(ba,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("surveys.noSurveysFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(j?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):W==="card"?i.jsx(bL,{data:_r,keyExtractor:ee=>ee.survey_id||`survey-${Math.random()}`,columns:[{key:"title",render:ee=>i.jsxs("div",{children:[i.jsx(_L,{children:ee.survey_name||`${n("surveys.survey")} #${ee.survey_id||"Unknown"}`}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Ae(ee,"client_name")})]})},{key:"status",render:ee=>Mo(ee.status)},{key:"details",render:ee=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Un,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:ee.client_company||n("surveys.noCompany")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(ym,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:ee.location_address||(ee.location_latitude&&ee.location_longitude?`${ee.location_latitude.toFixed(4)}, ${ee.location_longitude.toFixed(4)}`:n("surveys.noLocation"))})]})]})},{key:"footer",render:ee=>i.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Pn,{className:"h-4 w-4"}),i.jsxs("span",{children:[n("surveys.createdBy"),": ",_n(ee.created_by)]})]}),i.jsx(wL,{date:ee.created_at})]})}],actions:[{key:"view",icon:i.jsx(ti,{className:"h-4 w-4"}),onClick:ee=>S(ee),title:n("common.view"),className:"text-muted-foreground hover:text-primary hover:bg-primary/5"},{key:"delete",icon:i.jsx(sr,{className:"h-4 w-4"}),onClick:ee=>z(ee.survey_id),title:n("buttons.delete"),className:"text-red-500 hover:text-red-700 hover:bg-red-50",condition:ee=>l("surveys")}],emptyState:{title:n(j?"surveys.noSurveysFound":"surveys.noSurveys"),description:n(j?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet"),icon:i.jsx(ba,{className:"h-12 w-12 text-muted-foreground"})},onCardClick:ee=>S(ee)}):i.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:Se()})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:_t>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(ep,{className:r?"flex-row-reverse":"",children:[i.jsx(Sa,{children:r?i.jsx(fu,{onClick:()=>pe(Math.min(_t,Re+1)),className:Re===_t?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")}):i.jsx(du,{onClick:()=>pe(Math.max(1,Re-1)),className:Re===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[n("common.page")," ",Re," ",n("common.of")," ",_t]})}),i.jsx(Sa,{children:r?i.jsx(du,{onClick:()=>pe(Math.max(1,Re-1)),className:Re===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")}):i.jsx(fu,{onClick:()=>pe(Math.min(_t,Re+1)),className:Re===_t?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")})})]})})})})]}),i.jsxs(Vr,{value:"templates",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(le,{variant:E==="list"?"default":"ghost",size:"sm",onClick:()=>Pe("list"),className:"h-8 w-8 p-0",children:i.jsx(xm,{className:"h-4 w-4"})}),i.jsx(le,{variant:E==="card"?"default":"ghost",size:"sm",onClick:()=>Pe("card"),className:"h-8 w-8 p-0",children:i.jsx(ba,{className:"h-4 w-4"})})]}),i.jsx(OVe,{permission:"survey_templates_INSERT",children:i.jsxs(le,{onClick:()=>{qn(),G(!0)},size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[i.jsx(Wt,{className:"h-4 w-4 me-2"}),n("surveys.createTemplate")]})})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:bn.length===0?i.jsx(et,{className:"border-dashed",children:i.jsxs(ct,{className:"text-center py-16",children:[i.jsx("div",{className:"bg-muted/50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(ba,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("surveys.noTemplatesFound")}),i.jsx("p",{className:"text-muted-foreground max-w-sm mx-auto",children:n(j?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):E==="card"?i.jsx(bL,{data:Mn,keyExtractor:ee=>ee.template_id||`template-${Math.random()}`,columns:[{key:"title",render:ee=>i.jsx(_L,{children:Ae(ee,"template_name")})},{key:"badges",render:ee=>i.jsxs("div",{className:"flex flex-wrap gap-2",children:[ee.category&&i.jsx(m2,{variant:"secondary",className:"bg-muted/50",children:ee.category}),ee.is_default&&i.jsx(m2,{variant:"default",className:"bg-green-500 hover:bg-green-600",children:n("surveys.default")}),i.jsx(m2,{variant:ee.is_active?"outline":"secondary",children:ee.is_active?n("surveys.active"):n("surveys.inactive")})]})},{key:"description",render:ee=>i.jsx(T5e,{children:Ae(ee,"template_description")})},{key:"date",render:ee=>i.jsx(wL,{date:ee.created_at})}],actions:[{key:"view",icon:i.jsx(ti,{className:"h-4 w-4"}),onClick:ee=>Vs(ee),title:n("common.view"),className:"text-muted-foreground hover:text-primary hover:bg-primary/5"},{key:"setDefault",icon:i.jsx(Jl,{className:"h-4 w-4"}),onClick:ee=>te(ee.template_id),title:n("surveys.setAsDefault"),className:"text-green-500 hover:bg-green-50",condition:ee=>!ee.is_default},{key:"edit",icon:i.jsx(GN,{className:"h-4 w-4"}),onClick:ee=>ys(ee),title:n("buttons.edit"),className:"text-blue-500 hover:bg-blue-50",condition:ee=>o("survey_templates")},{key:"delete",icon:i.jsx(sr,{className:"h-4 w-4"}),onClick:ee=>oe(ee.template_id),title:n("buttons.delete"),className:"text-red-500 hover:bg-red-50",condition:ee=>l("survey_templates")}],emptyState:{title:n(j?"surveys.noTemplatesFound":"surveys.noTemplates"),description:n(j?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet"),icon:i.jsx(ba,{className:"h-12 w-12 text-muted-foreground"})},onCardClick:ee=>Vs(ee)}):i.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:Ne()})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:Tr>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(ep,{className:r?"flex-row-reverse":"",children:[i.jsx(Sa,{children:r?i.jsx(fu,{onClick:()=>be(Math.min(Tr,Me+1)),className:Me===Tr?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")}):i.jsx(du,{onClick:()=>be(Math.max(1,Me-1)),className:Me===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[n("common.page")," ",Me," ",n("common.of")," ",Tr]})}),i.jsx(Sa,{children:r?i.jsx(du,{onClick:()=>be(Math.max(1,Me-1)),className:Me===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")}):i.jsx(fu,{onClick:()=>be(Math.min(Tr,Me+1)),className:Me===Tr?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")})})]})})})})]})]})}),i.jsx(gn,{open:!!N,onOpenChange:ee=>!ee&&S(null),children:i.jsxs(rn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(nn,{children:i.jsx(an,{children:(N==null?void 0:N.survey_name)||`${n("surveys.survey")} #${N==null?void 0:N.survey_id}`})}),N&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.clientName")}),i.jsx("p",{className:"text-sm",children:Ae(N,"client_name")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.clientCompany")}),i.jsx("p",{className:"text-sm",children:N.client_company||n("surveys.noCompany")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.contact")}),i.jsx("p",{className:"text-sm",children:N.client_contact||n("surveys.noContact")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.email")}),i.jsx("p",{className:"text-sm",children:N.client_email||n("surveys.noEmail")})]})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.location")}),i.jsx("p",{className:"text-sm",children:i.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${N.location_latitude},${N.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:N.location_address||`${(Te=N.location_latitude)==null?void 0:Te.toFixed(6)}, ${(Ue=N.location_longitude)==null?void 0:Ue.toFixed(6)}`})})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.responses")}),i.jsx("div",{className:"mt-2 space-y-2",children:N.survey_responses&&Object.keys(N.survey_responses).length>0?(()=>{const ee=v[N.template_id]||[],me=new Map(ee.map(je=>[je.field_id.toString(),je.field_label]));return Object.entries(N.survey_responses).map(([je,ve])=>{const Xe=me.get(je)||je,bt=typeof ve=="string"&&ve.startsWith("data:image/");return i.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[i.jsxs("div",{className:"font-medium text-sm text-primary",children:[Xe,":"]}),bt?i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:ve,alt:Xe,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):i.jsx("div",{className:"text-sm text-muted-foreground break-words",children:(()=>{if(ve==null)return"N/A";if(Array.isArray(ve))return ve.join(", ");if(typeof ve=="object"){if("bucket"in ve&&"path"in ve&&"url"in ve)return"Image";try{const Vt=JSON.stringify(ve,null,2);return i.jsx("pre",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded text-xs overflow-x-auto",children:Vt})}catch{return String(ve)}}return String(ve)})()})]},je)})})():i.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:n("surveys.noResponsesRecorded")})})]})]})]})}),i.jsx(Ls,{open:!!xe,onOpenChange:ee=>!ee&&z(null),children:i.jsxs(ss,{children:[i.jsxs(is,{children:[i.jsx(ls,{children:n("surveys.deleteSurvey")}),i.jsx(cs,{children:n("surveys.deleteSurveyConfirmation",{name:((Ke=h.find(ee=>ee.survey_id===xe))==null?void 0:Ke.survey_name)||`${n("surveys.survey")} #${xe}`})})]}),i.jsxs(os,{children:[i.jsx(ds,{children:n("buttons.cancel")}),i.jsx(us,{onClick:()=>{xe&&re(xe)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("buttons.delete")})]})]})}),i.jsx(gn,{open:!!k,onOpenChange:ee=>!ee&&C(null),children:i.jsxs(rn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(nn,{children:i.jsx(an,{children:Ae(k||{},"template_name")})}),k&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.category")}),i.jsx("p",{className:"text-sm",children:k.category||n("surveys.noCategory")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.status")}),i.jsxs("div",{className:"flex items-center gap-2",children:[k.is_active?i.jsx(ht,{variant:"default",className:"bg-green-500",children:n("surveys.active")}):i.jsx(ht,{variant:"secondary",children:n("surveys.inactive")}),k.is_default&&i.jsx(ht,{variant:"default",children:n("surveys.default")})]})]})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.description")}),i.jsx("p",{className:"text-sm mt-1",children:Ae(k,"template_description")||n("surveys.noDescription")})]}),i.jsxs("div",{children:[i.jsxs(ze,{className:"text-sm font-medium",children:[n("surveys.fields")," (",T.length,")"]}),i.jsx("div",{className:"mt-2 space-y-2",children:T.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:n("surveys.noFields")}):T.sort((ee,me)=>ee.field_order-me.field_order).map(ee=>i.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ht,{variant:"outline",className:"text-xs",children:ee.field_type}),i.jsx("span",{className:"text-sm font-medium",children:Ae(ee,"field_label")}),Q(ee)&&i.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),Ae(ee,"help_text")&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Ae(ee,"help_text")})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",ee.field_order]})]})},ee.field_id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.created")}),i.jsx("p",{children:new Date(k.created_at).toLocaleString()})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.updated")}),i.jsx("p",{children:new Date(k.updated_at).toLocaleString()})]})]})]})]})}),i.jsx(Ls,{open:!!se,onOpenChange:ee=>!ee&&oe(null),children:i.jsxs(ss,{children:[i.jsxs(is,{children:[i.jsx(ls,{children:n("surveys.deleteTemplate")}),i.jsx(cs,{children:n("surveys.deleteTemplateConfirmation",{name:g.find(ee=>ee.template_id===se)?Ae(g.find(ee=>ee.template_id===se),"template_name"):`${n("surveys.template")} #${se}`})})]}),i.jsxs(os,{children:[i.jsx(ds,{children:n("buttons.cancel")}),i.jsx(us,{onClick:()=>{se&&X(se)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("buttons.delete")})]})]})}),i.jsx(gn,{open:P,onOpenChange:G,children:i.jsxs(rn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsxs(nn,{children:[i.jsx(an,{children:n(K?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),i.jsx(Da,{children:n("surveys.createTemplateDesc")})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"template_name",children:[n("surveys.templateName")," *"]}),i.jsx(Be,{id:"template_name",value:ae.template_name,onChange:ee=>he(me=>({...me,template_name:ee.target.value})),placeholder:n("surveys.templateName"),className:we.template_name?"border-red-500":""}),we.template_name&&i.jsx("p",{className:"text-sm text-red-500",children:we.template_name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"category",children:n("surveys.category")}),i.jsxs(vt,{value:ae.category,onValueChange:ee=>he(me=>({...me,category:ee})),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:n("surveys.selectCategory")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"customer_satisfaction",children:n("surveys.customerSatisfaction")}),i.jsx(Ce,{value:"product_feedback",children:n("surveys.productFeedback")}),i.jsx(Ce,{value:"service_quality",children:n("surveys.serviceQuality")}),i.jsx(Ce,{value:"general",children:n("surveys.general")})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"template_description",children:n("surveys.description")}),i.jsx(On,{id:"template_description",value:ae.template_description,onChange:ee=>he(me=>({...me,template_description:ee.target.value})),placeholder:n("surveys.description"),rows:3})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"is_active",checked:ae.is_active,onChange:ee=>he(me=>({...me,is_active:ee.target.checked})),className:"rounded"}),i.jsx(ze,{htmlFor:"is_active",children:n("surveys.isActive")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h3",{className:"text-lg font-semibold",children:n("surveys.fields")})}),we.fields&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600",children:we.fields})}),i.jsx("div",{className:"space-y-3",children:U.map((ee,me)=>{var je,ve,Xe;return i.jsx(et,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>fi(me,Math.max(0,me-1)),disabled:me===0,children:i.jsx(nae,{className:"h-4 w-4"})}),i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>fi(me,Math.min(U.length-1,me+1)),disabled:me===U.length-1,children:i.jsx(tae,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{children:[n("surveys.fieldLabel")," *"]}),i.jsx(Be,{value:ee.field_label,onChange:bt=>La(me,{field_label:bt.target.value}),placeholder:n("surveys.fieldLabel"),className:we[`field_${me}`]?"border-red-500":""}),we[`field_${me}`]&&i.jsx("p",{className:"text-sm text-red-500",children:we[`field_${me}`]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{children:[n("surveys.fieldType")," *"]}),i.jsxs(vt,{value:ee.field_type,onValueChange:bt=>La(me,{field_type:bt}),children:[i.jsx(mt,{children:i.jsx(xt,{})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"text",children:n("surveys.text")}),i.jsx(Ce,{value:"textarea",children:n("surveys.textarea")}),i.jsx(Ce,{value:"email",children:n("surveys.email")}),i.jsx(Ce,{value:"date",children:n("surveys.date")}),i.jsx(Ce,{value:"select",children:n("surveys.select")}),i.jsx(Ce,{value:"multiselect",children:n("surveys.multiselect")}),i.jsx(Ce,{value:"radio",children:n("surveys.radio")}),i.jsx(Ce,{value:"checkbox",children:n("surveys.checkbox")}),i.jsx(Ce,{value:"image",children:n("surveys.image")})]})]})]})]}),(ee.field_type==="select"||ee.field_type==="multiselect"||ee.field_type==="radio")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:n("surveys.options")}),i.jsx(On,{defaultValue:((ve=(je=ee.field_options)==null?void 0:je.options)==null?void 0:ve.join(`
`))||"",onBlur:bt=>{const Vt=bt.target.value.split(/[\n\s]+/).filter(rt=>rt.trim()).map(rt=>rt.trim());La(me,{field_options:{options:Vt,allow_multiple:ee.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((Xe=ee.field_options)==null?void 0:Xe.options)&&ee.field_options.options.length>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[ee.field_options.options.length," option(s): ",ee.field_options.options.join(", ")]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`required-${me}`,checked:ee.is_required,onChange:bt=>La(me,{is_required:bt.target.checked}),className:"rounded"}),i.jsx(ze,{htmlFor:`required-${me}`,children:n("surveys.isRequired")})]})]}),i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>Wi(me),className:"text-red-500 hover:text-red-700",children:i.jsx(sr,{className:"h-4 w-4"})})]})},me)})}),i.jsx("div",{className:"flex justify-center pt-4",children:i.jsxs(le,{onClick:xs,size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:[i.jsx(Wt,{className:"h-4 w-4 me-2"}),n("surveys.addField")]})})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>G(!1),disabled:$e,children:n("buttons.cancel")}),i.jsx(le,{onClick:Ec,disabled:!ae.template_name.trim()||$e,children:n($e?"buttons.saving":K?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function MVe(){const{t:e}=Rt();hr();const{isRTL:t}=Ma(),r=Br(),[n,a]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(""),[f,h]=x.useState(null),[m,g]=x.useState(!1),[p,v]=x.useState("leads"),[y,b]=x.useState(""),[_,j]=x.useState("");x.useEffect(()=>{w()},[]);const w=async()=>{try{o(!0);const O=await Ca.getAll();a(O)}catch(O){console.error("Failed to load stages:",O)}finally{o(!1)}},N=O=>n.filter(A=>A.stage_type===O).sort((A,V)=>(A.stager_order_index??0)-(V.stager_order_index??0)),S=async()=>{if(y.trim())try{const O=N(p),A=O.length>0?Math.max(...O.map(H=>H.stager_order_index||0)):-1,V={stage_name:y.trim(),stage_name_ar:_.trim()||null,stage_type:p,stager_order_index:A+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await Ca.create(V),await w(),b(""),j(""),g(!1)}catch(O){console.error("Failed to create stage:",O)}},k=async(O,A)=>{try{await Ca.update(O.stage_id,A),await w(),c(null),d("")}catch(V){console.error("Failed to update stage:",V)}},C=async O=>{try{await Ca.delete(O),await w(),h(null)}catch(A){console.error("Failed to delete stage:",A)}},T=O=>{const A=N(O);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 rtl:flex-row-reverse",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${O}`)}),i.jsxs(le,{size:r?"default":"sm",onClick:()=>{v(O),g(!0)},className:"w-full sm:w-auto",children:[i.jsx(Wt,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),A.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):i.jsx("div",{className:"space-y-2",children:A.map((V,H)=>i.jsx(et,{className:"p-3 md:p-4",children:i.jsxs("div",{className:ge("flex gap-2 md:gap-3 rtl:flex-row-reverse",r?"flex-col":"items-center"),children:[!r&&i.jsx(Go,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(l==null?void 0:l.stage_id)===V.stage_id?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(Be,{value:l.stage_name,onChange:M=>c({...l,stage_name:M.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),i.jsx(Be,{value:u,onChange:M=>d(M.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),i.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>k(V,{stage_name:l.stage_name,stage_name_ar:u||null}),className:"flex-1 sm:flex-initial",children:i.jsx(So,{className:"h-4 w-4"})}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>{c(null),d("")},className:"flex-1 sm:flex-initial",children:i.jsx(Mi,{className:"h-4 w-4"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:Ae(V,"stage_name")}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",V.stager_order_index]})]}),i.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>{c(V),d(V.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:i.jsx(Ri,{className:"h-4 w-4"})}),i.jsx(le,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>h(V.stage_id),children:i.jsx(sr,{className:"h-4 w-4"})})]})]})]})},V.stage_id))})]})};return s?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:e("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),i.jsxs(Ao,{defaultValue:"stages",className:"space-y-6",children:[i.jsx(Ii,{className:"bg-muted/50 p-1 w-full sm:w-auto overflow-x-auto overflow-y-hidden",dir:t?"rtl":"ltr",children:i.jsx(kr,{value:"stages",className:"px-6",children:e("settings.stageManagement")})}),i.jsx(Vr,{value:"stages",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",dir:t?"rtl":"ltr",children:[i.jsxs(et,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx($t,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(Jt,{className:"text-lg flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5 text-muted-foreground"}),e("settings.leads")]})}),i.jsx(ct,{className:"p-4 md:p-6",children:T("leads")})]}),i.jsxs(et,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx($t,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(Jt,{className:"text-lg flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5 text-muted-foreground"}),e("settings.projects")]})}),i.jsx(ct,{className:"p-4 md:p-6",children:T("projects")})]}),i.jsxs(et,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx($t,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(Jt,{className:"text-lg flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tasks")]})}),i.jsx(ct,{className:"p-4 md:p-6",children:T("tasks")})]}),i.jsxs(et,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx($t,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(Jt,{className:"text-lg flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tickets")]})}),i.jsx(ct,{className:"p-4 md:p-6",children:T("tickets")})]}),i.jsxs(et,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx($t,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(Jt,{className:"text-lg flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mleads")]})}),i.jsx(ct,{className:"p-4 md:p-6",children:T("mleads")})]}),i.jsxs(et,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx($t,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(Jt,{className:"text-lg flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mprojects")]})}),i.jsx(ct,{className:"p-4 md:p-6",children:T("mprojects")})]})]})})]}),i.jsx(gn,{open:m,onOpenChange:g,children:i.jsxs(rn,{className:"w-[95vw] sm:max-w-[425px]",children:[i.jsxs(nn,{children:[i.jsx(an,{children:e("settings.addStage")}),i.jsx(Da,{children:e("settings.addStageDesc",{type:e(`settings.${p}`)})})]}),i.jsxs("div",{className:"space-y-4 py-4",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),i.jsx(Be,{id:"stage-name",value:y,onChange:O=>b(O.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),i.jsx(Be,{id:"stage-name-ar",value:_,onChange:O=>j(O.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),i.jsxs(Oa,{className:"flex-col sm:flex-row gap-2",dir:t?"rtl":"ltr",children:[i.jsx(le,{variant:"outline",onClick:()=>g(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),i.jsx(le,{onClick:S,disabled:!y.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),i.jsx(Ls,{open:!!f,onOpenChange:O=>!O&&h(null),children:i.jsxs(ss,{children:[i.jsxs(is,{children:[i.jsx(ls,{children:e("settings.deleteStage")}),i.jsx(cs,{children:e("settings.deleteStageConfirmation")})]}),i.jsxs(os,{dir:t?"rtl":"ltr",children:[i.jsx(ds,{children:e("buttons.cancel")}),i.jsx(us,{onClick:()=>f&&C(f),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}var k5=1,FVe=.9,IVe=.8,LVe=.17,N2=.1,k2=.999,$Ve=.9999,BVe=.99,UVe=/[\\\/_+.#"@\[\(\{&]/,zVe=/[\\\/_+.#"@\[\(\{&]/g,VVe=/[\s-]/,iY=/[\s-]/g;function nE(e,t,r,n,a,s,o){if(s===t.length)return a===e.length?k5:BVe;var l=`${a},${s}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,m,g;u>=0;)f=nE(e,t,r,n,u+1,s+1,o),f>d&&(u===a?f*=k5:UVe.test(e.charAt(u-1))?(f*=IVe,m=e.slice(a,u-1).match(zVe),m&&a>0&&(f*=Math.pow(k2,m.length))):VVe.test(e.charAt(u-1))?(f*=FVe,g=e.slice(a,u-1).match(iY),g&&a>0&&(f*=Math.pow(k2,g.length))):(f*=LVe,a>0&&(f*=Math.pow(k2,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=$Ve)),(f<N2&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=nE(e,t,r,n,u+1,s+2,o),h*N2>f&&(f=h*N2)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function C5(e){return e.toLowerCase().replace(iY," ")}function WVe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,nE(e,t,C5(e),C5(t),0,0,{})}var f0='[cmdk-group=""]',C2='[cmdk-group-items=""]',HVe='[cmdk-group-heading=""]',oY='[cmdk-item=""]',E5=`${oY}:not([aria-disabled="true"])`,aE="cmdk-item-select",ah="data-value",qVe=(e,t,r)=>WVe(e,t,r),lY=x.createContext(void 0),jx=()=>x.useContext(lY),cY=x.createContext(void 0),hO=()=>x.useContext(cY),uY=x.createContext(void 0),dY=x.forwardRef((e,t)=>{let r=sh(()=>{var P,G;return{search:"",value:(G=(P=e.value)!=null?P:e.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=sh(()=>new Set),a=sh(()=>new Map),s=sh(()=>new Map),o=sh(()=>new Set),l=fY(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:g,disablePointerSelection:p=!1,vimBindings:v=!0,...y}=e,b=ta(),_=ta(),j=ta(),w=x.useRef(null),N=nWe();yf(()=>{if(d!==void 0){let P=d.trim();r.current.value=P,S.emit()}},[d]),yf(()=>{N(6,V)},[]);let S=x.useMemo(()=>({subscribe:P=>(o.current.add(P),()=>o.current.delete(P)),snapshot:()=>r.current,setState:(P,G,K)=>{var Z,se,oe,xe;if(!Object.is(r.current[P],G)){if(r.current[P]=G,P==="search")A(),T(),N(1,O);else if(P==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let z=document.getElementById(j);z?z.focus():(Z=document.getElementById(b))==null||Z.focus()}if(N(7,()=>{var z;r.current.selectedItemId=(z=H())==null?void 0:z.id,S.emit()}),K||N(5,V),((se=l.current)==null?void 0:se.value)!==void 0){let z=G??"";(xe=(oe=l.current).onValueChange)==null||xe.call(oe,z);return}}S.emit()}},emit:()=>{o.current.forEach(P=>P())}}),[]),k=x.useMemo(()=>({value:(P,G,K)=>{var Z;G!==((Z=s.current.get(P))==null?void 0:Z.value)&&(s.current.set(P,{value:G,keywords:K}),r.current.filtered.items.set(P,C(G,K)),N(2,()=>{T(),S.emit()}))},item:(P,G)=>(n.current.add(P),G&&(a.current.has(G)?a.current.get(G).add(P):a.current.set(G,new Set([P]))),N(3,()=>{A(),T(),r.current.value||O(),S.emit()}),()=>{s.current.delete(P),n.current.delete(P),r.current.filtered.items.delete(P);let K=H();N(4,()=>{A(),(K==null?void 0:K.getAttribute("id"))===P&&O(),S.emit()})}),group:P=>(a.current.has(P)||a.current.set(P,new Set),()=>{s.current.delete(P),a.current.delete(P)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:b,inputId:j,labelId:_,listInnerRef:w}),[]);function C(P,G){var K,Z;let se=(Z=(K=l.current)==null?void 0:K.filter)!=null?Z:qVe;return P?se(P,r.current.search,G):0}function T(){if(!r.current.search||l.current.shouldFilter===!1)return;let P=r.current.filtered.items,G=[];r.current.filtered.groups.forEach(Z=>{let se=a.current.get(Z),oe=0;se.forEach(xe=>{let z=P.get(xe);oe=Math.max(z,oe)}),G.push([Z,oe])});let K=w.current;M().sort((Z,se)=>{var oe,xe;let z=Z.getAttribute("id"),W=se.getAttribute("id");return((oe=P.get(W))!=null?oe:0)-((xe=P.get(z))!=null?xe:0)}).forEach(Z=>{let se=Z.closest(C2);se?se.appendChild(Z.parentElement===se?Z:Z.closest(`${C2} > *`)):K.appendChild(Z.parentElement===K?Z:Z.closest(`${C2} > *`))}),G.sort((Z,se)=>se[1]-Z[1]).forEach(Z=>{var se;let oe=(se=w.current)==null?void 0:se.querySelector(`${f0}[${ah}="${encodeURIComponent(Z[0])}"]`);oe==null||oe.parentElement.appendChild(oe)})}function O(){let P=M().find(K=>K.getAttribute("aria-disabled")!=="true"),G=P==null?void 0:P.getAttribute(ah);S.setState("value",G||void 0)}function A(){var P,G,K,Z;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let se=0;for(let oe of n.current){let xe=(G=(P=s.current.get(oe))==null?void 0:P.value)!=null?G:"",z=(Z=(K=s.current.get(oe))==null?void 0:K.keywords)!=null?Z:[],W=C(xe,z);r.current.filtered.items.set(oe,W),W>0&&se++}for(let[oe,xe]of a.current)for(let z of xe)if(r.current.filtered.items.get(z)>0){r.current.filtered.groups.add(oe);break}r.current.filtered.count=se}function V(){var P,G,K;let Z=H();Z&&(((P=Z.parentElement)==null?void 0:P.firstChild)===Z&&((K=(G=Z.closest(f0))==null?void 0:G.querySelector(HVe))==null||K.scrollIntoView({block:"nearest"})),Z.scrollIntoView({block:"nearest"}))}function H(){var P;return(P=w.current)==null?void 0:P.querySelector(`${oY}[aria-selected="true"]`)}function M(){var P;return Array.from(((P=w.current)==null?void 0:P.querySelectorAll(E5))||[])}function F(P){let G=M()[P];G&&S.setState("value",G.getAttribute(ah))}function L(P){var G;let K=H(),Z=M(),se=Z.findIndex(xe=>xe===K),oe=Z[se+P];(G=l.current)!=null&&G.loop&&(oe=se+P<0?Z[Z.length-1]:se+P===Z.length?Z[0]:Z[se+P]),oe&&S.setState("value",oe.getAttribute(ah))}function B(P){let G=H(),K=G==null?void 0:G.closest(f0),Z;for(;K&&!Z;)K=P>0?tWe(K,f0):rWe(K,f0),Z=K==null?void 0:K.querySelector(E5);Z?S.setState("value",Z.getAttribute(ah)):L(P)}let D=()=>F(M().length-1),q=P=>{P.preventDefault(),P.metaKey?D():P.altKey?B(1):L(1)},Y=P=>{P.preventDefault(),P.metaKey?F(0):P.altKey?B(-1):L(-1)};return x.createElement(ft.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:P=>{var G;(G=y.onKeyDown)==null||G.call(y,P);let K=P.nativeEvent.isComposing||P.keyCode===229;if(!(P.defaultPrevented||K))switch(P.key){case"n":case"j":{v&&P.ctrlKey&&q(P);break}case"ArrowDown":{q(P);break}case"p":case"k":{v&&P.ctrlKey&&Y(P);break}case"ArrowUp":{Y(P);break}case"Home":{P.preventDefault(),F(0);break}case"End":{P.preventDefault(),D();break}case"Enter":{P.preventDefault();let Z=H();if(Z){let se=new Event(aE);Z.dispatchEvent(se)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:sWe},c),vj(e,P=>x.createElement(cY.Provider,{value:S},x.createElement(lY.Provider,{value:k},P))))}),GVe=x.forwardRef((e,t)=>{var r,n;let a=ta(),s=x.useRef(null),o=x.useContext(uY),l=jx(),c=fY(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;yf(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=hY(a,s,[e.value,e.children,s],e.keywords),f=hO(),h=Bu(N=>N.value&&N.value===d.current),m=Bu(N=>u||l.filter()===!1?!0:N.search?N.filtered.items.get(a)>0:!0);x.useEffect(()=>{let N=s.current;if(!(!N||e.disabled))return N.addEventListener(aE,g),()=>N.removeEventListener(aE,g)},[m,e.onSelect,e.disabled]);function g(){var N,S;p(),(S=(N=c.current).onSelect)==null||S.call(N,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:y,onSelect:b,forceMount:_,keywords:j,...w}=e;return x.createElement(ft.div,{ref:cc(s,t),...w,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:p,onClick:v?void 0:g},e.children)}),KVe=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,o=ta(),l=x.useRef(null),c=x.useRef(null),u=ta(),d=jx(),f=Bu(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);yf(()=>d.group(o),[]),hY(o,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:o,forceMount:a}),[a]);return x.createElement(ft.div,{ref:cc(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),vj(e,m=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(uY.Provider,{value:h},m))))}),YVe=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),s=Bu(o=>!o.search);return!r&&!s?null:x.createElement(ft.div,{ref:cc(a,t),...n,"cmdk-separator":"",role:"separator"})}),XVe=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=hO(),o=Bu(u=>u.search),l=Bu(u=>u.selectedItemId),c=jx();return x.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),x.createElement(ft.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),QVe=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=x.useRef(null),o=x.useRef(null),l=Bu(u=>u.selectedItemId),c=jx();return x.useEffect(()=>{if(o.current&&s.current){let u=o.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(ft.div,{ref:cc(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},vj(e,u=>x.createElement("div",{ref:cc(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),JVe=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:o,...l}=e;return x.createElement(sw,{open:r,onOpenChange:n},x.createElement(iw,{container:o},x.createElement(yp,{"cmdk-overlay":"",className:a}),x.createElement(bp,{"aria-label":e.label,"cmdk-dialog":"",className:s},x.createElement(dY,{ref:t,...l}))))}),ZVe=x.forwardRef((e,t)=>Bu(r=>r.filtered.count===0)?x.createElement(ft.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),eWe=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return x.createElement(ft.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},vj(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),Us=Object.assign(dY,{List:QVe,Item:GVe,Input:XVe,Group:KVe,Separator:YVe,Dialog:JVe,Empty:ZVe,Loading:eWe});function tWe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function rWe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function fY(e){let t=x.useRef(e);return yf(()=>{t.current=e}),t}var yf=typeof window>"u"?x.useEffect:x.useLayoutEffect;function sh(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Bu(e){let t=hO(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function hY(e,t,r,n=[]){let a=x.useRef(),s=jx();return yf(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(o=t.current)==null||o.setAttribute(ah,l),a.current=l}),a}var nWe=()=>{let[e,t]=x.useState(),r=sh(()=>new Map);return yf(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function aWe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function vj({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(aWe(t),{ref:t.ref},r(t.props.children)):r(t)}var sWe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ha=x.forwardRef(({className:e,...t},r)=>i.jsx(Us,{ref:r,className:ge("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ha.displayName=Us.displayName;const ma=x.forwardRef(({className:e,...t},r)=>i.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[i.jsx(ps,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),i.jsx(Us.Input,{ref:r,className:ge("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));ma.displayName=Us.Input.displayName;const pa=x.forwardRef(({className:e,...t},r)=>i.jsx(Us.List,{ref:r,className:ge("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));pa.displayName=Us.List.displayName;const ga=x.forwardRef((e,t)=>i.jsx(Us.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));ga.displayName=Us.Empty.displayName;const va=x.forwardRef(({className:e,...t},r)=>i.jsx(Us.Group,{ref:r,className:ge("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));va.displayName=Us.Group.displayName;const iWe=x.forwardRef(({className:e,...t},r)=>i.jsx(Us.Separator,{ref:r,className:ge("-mx-1 h-px bg-border",e),...t}));iWe.displayName=Us.Separator.displayName;const ur=x.forwardRef(({className:e,...t},r)=>i.jsx(Us.Item,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));ur.displayName=Us.Item.displayName;const oWe={light:"",dark:".dark"},mY=x.createContext(null);function pY(){const e=x.useContext(mY);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Ko=x.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const o=x.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return i.jsx(mY.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:s,className:ge("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[i.jsx(lWe,{id:l,config:n}),i.jsx(ku,{children:r})]})})});Ko.displayName="Chart";const lWe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(oWe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},gd=Qn,Jc=x.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},m)=>{const{config:g}=pY(),p=x.useMemo(()=>{var w;if(a||!(t!=null&&t.length))return null;const[y]=t,b=`${h||y.dataKey||y.name||"value"}`,_=sE(g,y,b),j=!h&&typeof o=="string"?((w=g[o])==null?void 0:w.label)||o:_==null?void 0:_.label;return l?i.jsx("div",{className:ge("font-medium",c),children:l(j,t)}):j?i.jsx("div",{className:ge("font-medium",c),children:j}):null},[o,l,t,a,c,g,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return i.jsxs("div",{ref:m,className:ge("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:p,i.jsx("div",{className:"grid gap-1.5",children:t.map((y,b)=>{const _=`${f||y.name||y.dataKey||"value"}`,j=sE(g,y,_),w=d||y.payload.fill||y.color;return i.jsx("div",{className:ge("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,b,y.payload):i.jsxs(i.Fragment,{children:[j!=null&&j.icon?i.jsx(j.icon,{}):!s&&i.jsx("div",{className:ge("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":w,"--color-border":w}}),i.jsxs("div",{className:ge("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[v?p:null,i.jsx("span",{className:"text-muted-foreground",children:(j==null?void 0:j.label)||y.name})]}),y.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});Jc.displayName="ChartTooltip";const cWe=x.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:o}=pY();return r!=null&&r.length?i.jsx("div",{ref:s,className:ge("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=sE(o,l,c);return i.jsxs("div",{className:ge("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});cWe.displayName="ChartLegend";function sE(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function uWe({lead:e,onDelete:t,onClick:r,onDragStart:n,onStageChange:a,isDragging:s=!1,stages:o}){var g;const{t:l}=Rt(),c=Br(),u=p=>{const v=cities.find(y=>y.city_id===p.city_id);return v?Ae(v,"city_name"):l("mleads.notSet")},d=p=>{const v=activities.find(y=>y.activity_id===p.activity_id);return v?Ae(v,"activity_name"):l("mleads.notSet")},f=p=>{const v=systems.find(y=>y.system_id===p.system_id);return v?Ae(v,"system_name"):l("mleads.notSet")},h=p=>{const v=statuses.find(y=>y.status_id===p.status_id);return v?Ae(v,"status_name"):l("mleads.notSet")},m=p=>{switch(p){case 1:return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case 2:return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case 3:return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case 4:return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}};return i.jsxs(et,{className:ge("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-s-4 border-s-blue-500",c?"w-full":"w-[300px]","min-h-[160px]",s&&"opacity-50 rotate-2 scale-105"),onClick:r,draggable:!0,onDragStart:p=>{p.dataTransfer.effectAllowed="move",p.dataTransfer.setData("text/plain",e.leads_id.toString()),n&&n(e.leads_id)},children:[i.jsx($t,{className:"pb-2 px-4 pt-3",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:e.company_name||"No Company"}),e.address&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:e.address})]})})}),i.jsxs(ct,{className:"px-4 pb-3 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(ym,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:u(e)})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(yB,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("p",{className:"text-xs truncate",children:d(e)})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Un,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("p",{className:"text-xs truncate text-muted-foreground",children:f(e)})]})]}),i.jsx("div",{children:i.jsx(ht,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${m(e.status_id)}`,children:h(e)})})]}),(()=>{const p=dbContacts.filter(v=>Number(v.leads_id)===Number(e.leads_id));return p.length===0?null:i.jsxs("div",{className:"pt-2 border-t mt-2 flex flex-col gap-1",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wider",children:l("mleads.contacts")}),p.slice(0,1).map((v,y)=>i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Pn,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("p",{className:"text-[11px] truncate",children:v.contact_name})]},y)),p.length>1&&i.jsxs("p",{className:"text-[10px] text-muted-foreground ps-4",children:["+",p.length-1," more"]})]})})(),i.jsxs("div",{className:"pt-2 border-t flex flex-col gap-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[i.jsx(Pn,{className:"h-2.5 w-2.5 flex-shrink-0"}),i.jsxs("span",{className:"truncate",children:["Assign: ",e.Users_name||"-"]})]}),i.jsx("div",{className:"flex items-center gap-1 min-w-0",children:i.jsxs("span",{className:"truncate opacity-70",children:["By: ",e.created_by_name||"-"]})})]}),i.jsx("div",{className:"text-[10px] text-muted-foreground italic opacity-60",children:new Date(e.created_at).toLocaleDateString()})]}),c&&a&&i.jsx("div",{className:"pt-1",children:i.jsxs(vt,{value:((g=e.stage_id)==null?void 0:g.toString())||"",onValueChange:p=>a(e.leads_id,parseInt(p)),children:[i.jsx(mt,{className:"h-7 text-xs",children:i.jsx(xt,{placeholder:l("mleads.selectStage","Select stage")})}),i.jsx(pt,{children:o.map(p=>i.jsx(Ce,{value:p.id.toString(),children:Ae(p,"name")},p.id))})]})})]})]})}function dWe(){var i4,o4,l4,c4,u4;const{t:e}=Rt(),{user:t}=hr(),{currentLanguage:r}=Ma(),{toast:n}=Po();Br();const{setBreadcrumbs:a}=Iv();$s();const[s,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]),[m,g]=x.useState([]),[p,v]=x.useState([]),[y,b]=x.useState([]),[_,j]=x.useState([]),[w,N]=x.useState([]),[S,k]=x.useState([]),[C,T]=x.useState([]),[O,A]=x.useState([]),[V,H]=x.useState(!0),[M,F]=x.useState(null),[L,B]=x.useState(""),[D,q]=x.useState(""),[Y,P]=x.useState(!1),[G,K]=x.useState(!1),Z=x.useRef(!1),se=x.useRef(1),oe=x.useRef(""),[xe,z]=x.useState(1),[W]=x.useState(10),[ce,E]=x.useState(0),[Pe,Re]=x.useState(0),[pe,Me]=x.useState(""),[be,Ge]=x.useState(""),[Ze,ae]=x.useState(""),[he,U]=x.useState(""),[ue,we]=x.useState(""),[_e,$e]=x.useState(""),[tt,it]=x.useState(null),[Ee,Le]=x.useState(null),[Fe,st]=x.useState(!1),[ot,_t]=x.useState(!1),[Ut,ar]=x.useState({city_name_en:"",city_name_ar:"",country_id:null}),[_r,bn]=x.useState(!1),[Tr,zs]=x.useState({system_name_en:"",system_name_ar:""}),[sa,Mn]=x.useState(!1),[_n,Mo]=x.useState({activity_name_en:"",activity_name_ar:""}),[Al,Vs]=x.useState(!1),[xs,Wi]=x.useState({status_name_en:"",status_name_ar:""}),[La,fi]=x.useState([]),[qn,ys]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Fo,Ec]=x.useState(!1),[If,X]=x.useState(null),[re,te]=x.useState(null),[ne,I]=x.useState(!1),[Q,fe]=x.useState([]),[Se,Ne]=x.useState(!1),[ke,Te]=x.useState(window.innerWidth>=768),[Ue,Ke]=x.useState("list"),[ee,me]=x.useState(!1),[je,ve]=x.useState(null),[Xe,bt]=x.useState("leads_summary"),[Vt,rt]=x.useState(!1),[Ye,ln]=x.useState({}),[qr,bs]=x.useState(null),[ia,Tc]=x.useState(!1),[oa,Hi]=x.useState(!1),[Pl,Lf]=x.useState(!1),[Ac,Nx]=x.useState(!1),[kx,td]=x.useState(!1),[Bp,_j]=x.useState(!1),[wO,jO]=x.useState(!1),[SO,NO]=x.useState(!1),[kO,CO]=x.useState(!1);x.useState(null);const[RY,MY]=x.useState(null),[EO,wj]=x.useState(!1),[TO,jj]=x.useState(!1),[AO,Sj]=x.useState(!1),[PO,Nj]=x.useState(!1),[OO,kj]=x.useState(!1),[DO,Cj]=x.useState(!1),[FY,RO]=x.useState(1),[IY,MO]=x.useState(1),[LY,FO]=x.useState(1),[$Y,IO]=x.useState(1),[BY,LO]=x.useState(1),[UY,$O]=x.useState(1),[THe,zY]=x.useState(1),[AHe,VY]=x.useState(1),[PHe,WY]=x.useState(1),[Ej,BO]=x.useState(!1),[Tj,UO]=x.useState(!1),[Aj,zO]=x.useState(!1),[Pj,VO]=x.useState(!1),[Oj,WO]=x.useState(!1),[Dj,HO]=x.useState(!1);x.useState(!1),x.useState(!1),x.useState(!1);const[er,$a]=x.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});x.useEffect(()=>{a([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[a,e]),x.useEffect(()=>{Rj()},[]),x.useEffect(()=>{const R=setTimeout(()=>{q(L)},500);return()=>clearTimeout(R)},[L]);const qO=x.useMemo(()=>!!(pe||be||Ze||he||ue||_e),[pe,be,Ze,he,ue,_e]),Pc=x.useMemo(()=>qO||!!D,[qO,D]);x.useEffect(()=>{const R=JSON.stringify({debouncedSearchTerm:D,cityFilter:pe,countryFilter:be,systemFilter:Ze,statusFilter:he,activityFilter:ue,assignedToFilter:_e,currentLanguage:r}),de=R!==oe.current,De=Z.current&&!de&&xe!==se.current;Cx(D!=="",De),se.current=xe,oe.current=R,Z.current=!0},[xe,D,pe,be,Ze,he,ue,_e,r]),x.useEffect(()=>{Se?QY():c([])},[Se,D,pe,be,Ze,he,ue,_e,r]);const Rj=async()=>{try{H(!0),F(null),RO(1),MO(1),FO(1),IO(1),LO(1),$O(1),zY(1),VY(1),WY(1);const[R,de,De,at,Ar,cn,Ol,Dc,Fn]=await Promise.all([J.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"city_id,city_name_en,city_name_ar"}),J.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"activity_id,activity_name_en,activity_name_ar"}),J.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"status_id,status_name_en,status_name_ar"}),J.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"system_id,system_name_en,system_name_ar"}),J.stages.list({exact_filters:{stage_type:"mleads"},sort_by:"stager_order_index",sort_order:"asc",pageSize:10,page:0,select_fields:"stage_id,stage_name,stage_name_ar,stage_type,stager_order_index"}),J.mContacts.list({select_fields:"contact_id,contact_name,leads_id",sort_by:"contact_name",sort_order:"asc",pageSize:10,page:0}),J.Users.list({sort_by:"name",sort_order:"asc",pageSize:10,page:0,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),J.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"country_id,country_name_en,country_name_ar"}),J.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"jobtitle_id,jobtitle_name_en,jobtitle_name_ar"})]),Gn=Io=>Array.isArray(Io)?Io:Io!=null&&Io.data&&Array.isArray(Io.data)?Io.data:[];d(Gn(R)),h(Gn(de)),g(Gn(De)),v(Gn(at)),b(Gn(Ar)),j(Gn(cn)),k(Gn(Ol)),T(Gn(Dc)),A(Gn(Fn))}catch(R){const de=R instanceof Error?R.message:"Failed to load data";F(de),n({title:"Error",description:de,variant:"destructive"})}finally{H(!1)}},HY=async()=>{if(!Ej)try{BO(!0);const R=FY+1,de=await J.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:R,select_fields:"city_id,city_name_en,city_name_ar"}),De=(de==null?void 0:de.data)||[];De.length>0&&(d(at=>[...at,...De]),RO(R))}catch(R){console.error("Failed to load more cities:",R)}finally{BO(!1)}},qY=async()=>{if(!Tj)try{UO(!0);const R=IY+1,de=await J.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:10,page:R,select_fields:"activity_id,activity_name_en,activity_name_ar"}),De=(de==null?void 0:de.data)||[];De.length>0&&(h(at=>[...at,...De]),MO(R))}catch(R){console.error("Failed to load more activities:",R)}finally{UO(!1)}},GY=async()=>{if(!Aj)try{zO(!0);const R=LY+1,de=await J.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:10,page:R,select_fields:"status_id,status_name_en,status_name_ar"}),De=(de==null?void 0:de.data)||[];De.length>0&&(g(at=>[...at,...De]),FO(R))}catch(R){console.error("Failed to load more statuses:",R)}finally{zO(!1)}},KY=async()=>{if(!Pj)try{VO(!0);const R=$Y+1,de=await J.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:10,page:R,select_fields:"system_id,system_name_en,system_name_ar"}),De=(de==null?void 0:de.data)||[];De.length>0&&(v(at=>[...at,...De]),IO(R))}catch(R){console.error("Failed to load more systems:",R)}finally{VO(!1)}},YY=async()=>{if(!Oj)try{WO(!0);const R=BY+1,de=await J.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:10,page:R,select_fields:"country_id,country_name_en,country_name_ar"}),De=(de==null?void 0:de.data)||[];De.length>0&&(T(at=>[...at,...De]),LO(R))}catch(R){console.error("Failed to load more countries:",R)}finally{WO(!1)}},XY=async()=>{if(!Dj)try{HO(!0);const R=UY+1,de=await J.Users.list({sort_by:"name",sort_order:"asc",pageSize:10,page:R,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),De=(de==null?void 0:de.data)||[];De.length>0&&(k(at=>[...at,...De]),$O(R))}catch(R){console.error("Failed to load more users:",R)}finally{HO(!1)}},$f=(R,de,De)=>{const{scrollTop:at,scrollHeight:Ar,clientHeight:cn}=R.currentTarget;at+cn>=Ar-50&&!De&&de()},Cx=async(R=!1,de=!1)=>{try{de?K(!0):R?P(!0):H(!0),F(null);const De={};pe&&(De.city_id=parseInt(pe)),Ze&&(De.system_id=parseInt(Ze)),he&&(De.status_id=parseInt(he)),ue&&(De.activity_id=parseInt(ue)),_e&&(De.assigned_to=parseInt(_e)),be&&(De.m_city_country_id=parseInt(be));const Fn=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation","decision_maker",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),Gn={page:Pc?0:xe-1,pageSize:Pc?100:W,sort_by:"created_at",sort_order:"desc",exact_filters:De,select_fields:Fn};D&&(Gn.search_fields="company_name",Gn.search=D);const Io=await J.mLeads.list(Gn);o(Io.data||[]),Re(Io.total||0)}catch(De){const at=De instanceof Error?De.message:"Failed to load data";F(at),n({title:"Error",description:at,variant:"destructive"})}finally{H(!1),P(!1),K(!1)}},QY=async()=>{try{const R={};pe&&(R.city_id=parseInt(pe)),Ze&&(R.system_id=parseInt(Ze)),he&&(R.status_id=parseInt(he)),ue&&(R.activity_id=parseInt(ue)),_e&&(R.assigned_to=parseInt(_e)),be&&(R.m_city_country_id=parseInt(be));const Ol=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),Dc={pageSize:200,exact_filters:R,select_fields:Ol};D&&(Dc.search=D);const Fn=await J.mLeads.list(Dc);c(Fn.data||[])}catch(R){console.error("Failed to load all filtered leads:",R)}},GO=x.useMemo(()=>{if(!Pc)return s;const R=Fn=>Fn?parseInt(Fn,10):void 0,de=R(he),De=R(ue),at=R(Ze),Ar=R(pe),cn=R(be),Ol=R(_e),Dc=D.trim().toLowerCase();return s.filter(Fn=>{if(de!==void 0&&Fn.status_id!==de||De!==void 0&&Fn.activity_id!==De||at!==void 0&&Fn.system_id!==at||Ar!==void 0&&Fn.city_id!==Ar)return!1;if(cn!==void 0){const Gn=Fn.m_city_country_id??null;if(Gn===null||Gn!==cn)return!1}return!(Ol!==void 0&&(Fn.assigned_to===null||Fn.assigned_to===void 0||Fn.assigned_to!==Ol)||Dc&&!(Fn.company_name||"").toLowerCase().includes(Dc))})},[Pc,s,he,ue,Ze,pe,be,_e,D]),Ba=x.useMemo(()=>Se?l:GO,[Se,l,GO]),JY=x.useMemo(()=>{if(Se){const R=(xe-1)*W,de=R+W;return Ba.slice(R,de)}if(Pc){const R=(xe-1)*W,de=R+W;return Ba.slice(R,de)}return s},[Se,Pc,Ba,s,xe,W]),rd=x.useMemo(()=>Math.max(1,Math.ceil(ce/W)),[ce,W]);x.useEffect(()=>{E(Pc?Ba.length:Pe)},[Ba,Pc,Pe]),x.useEffect(()=>{xe>rd&&z(rd)},[xe,rd]);const Gt=(R,de,De)=>{if(!R)return"-";let at=r==="ar"&&(R==null?void 0:R[De])||(R==null?void 0:R[de]);if(!at){const Ar=de.replace(/_en$/,""),cn=De.replace(/_ar$/,"");at=r==="ar"&&(R==null?void 0:R[cn])||(R==null?void 0:R[Ar])}return at||(R==null?void 0:R.name)||(R==null?void 0:R.label)||(R==null?void 0:R.title)||"-"},KO=R=>R&&(r==="ar"?R.m_city_city_name_ar||R.m_city_city_name_en:R.m_city_city_name_en||R.m_city_city_name_ar)||"-",YO=R=>R&&(r==="ar"?R.m_activity_activity_name_ar||R.m_activity_activity_name_en:R.m_activity_activity_name_en||R.m_activity_activity_name_ar)||"-",XO=R=>R&&(r==="ar"?R.m_status_status_name_ar||R.m_status_status_name_en:R.m_status_status_name_en||R.m_status_status_name_ar)||"-",QO=R=>R&&(r==="ar"?R.m_system_system_name_ar||R.m_system_system_name_en:R.m_system_system_name_en||R.m_system_system_name_ar)||"-",JO=R=>R&&(r==="ar"?R.stages_stage_name_ar||R.stages_stage_name:R.stages_stage_name||R.stages_stage_name_ar)||"-",ZO=R=>{if(!R)return"-";const de=S.find(De=>{var at,Ar;return((at=De.userid)==null?void 0:at.toString())===R||((Ar=De.user_id)==null?void 0:Ar.toString())===R});return(de==null?void 0:de.name)||(de==null?void 0:de.user_name)||(de==null?void 0:de.display_name)||"-"},ZY=R=>{if(R==null||R==="")return"";const de=Number(R),De=u.find(at=>Number(at.city_id)===de);return Gt(De,"city_name_en","city_name_ar")},eX=R=>{if(R==null||R==="")return"";const de=Number(R),De=f.find(at=>Number(at.activity_id)===de);return Gt(De,"activity_name_en","activity_name_ar")},tX=R=>{if(R==null||R==="")return"";const de=Number(R),De=m.find(at=>Number(at.status_id)===de);return Gt(De,"status_name_en","status_name_ar")},rX=R=>{if(R==null||R==="")return"";const de=Number(R),De=p.find(at=>Number(at.system_id)===de);return Gt(De,"system_name_en","system_name_ar")},nX=R=>{if(!R)return"";const de=y.find(De=>Number(De.stage_id)===Number(R));return Gt(de,"stage_name","stage_name_ar")},e4=R=>{const De={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[R]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${De.bg} ${De.text} ${De.border}`},aX=async(R,de)=>await new Promise((at,Ar)=>{const cn=new FileReader;cn.onload=()=>{const Ol=cn.result;at(Ol)},cn.onerror=Ar,cn.readAsDataURL(R)}),t4=R=>R&&R!=="{}"&&R!==""&&typeof R=="string"&&R.startsWith("data:"),sX=async()=>{try{let R;if(Ee)await J.mLeads.update(Ee,er),R=Ee,n({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")});else{const de={...er,created_by:t==null?void 0:t.id},De=await J.mLeads.create(de);if(De&&De.leads_id)R=De.leads_id;else if(R=De.id||De.leads_id,!R)throw new Error("Failed to create lead");n({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}if(La.length>0&&await vX(R),qr&&er.status_id===7){Tc(!0);try{const de=await aX(qr,R);await J.mLeads.update(R,{lead_quotation:de})}catch(de){console.error("File upload failed:",de),n({title:"Warning",description:"Lead saved but file upload failed",variant:"destructive"})}finally{Tc(!1),bs(null)}}st(!1),Le(null),$a({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),fi([]),await Cx()}catch(R){const de=R instanceof Error?R.message:"Failed to save";n({title:"Error",description:de,variant:"destructive"})}},iX=async R=>{try{await J.mLeads.delete(R),n({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),it(null),await Cx()}catch(de){const De=de instanceof Error?de.message:"Failed to delete";n({title:"Error",description:De,variant:"destructive"})}},r4=R=>{te(R),n4(R.leads_id),a4(R.leads_id),I(!0)},n4=async R=>{try{const de=await Wh.getByRelated("mlead",R);fe(de)}catch(de){console.error("Failed to load notes:",de),fe([])}},a4=async R=>{try{const de=await J.mContacts.list({exact_filters:{leads_id:R},select_fields:"contact_id,contact_name,contact_mobile,contact_email,jobtitle_id,leads_id",sort_by:"contact_name",sort_order:"asc"});N(de.data||[])}catch(de){console.error("Failed to load contacts:",de),N([])}},s4=async R=>{Le(R.leads_id),$a(R),await a4(R.leads_id);const de=w.filter(De=>De.leads_id===R.leads_id);fi(de.map(De=>{var at;return{contact_name:De.contact_name||"",contact_email:De.contact_email||"",contact_mobile:((at=De.contact_mobile)==null?void 0:at.toString())||"",jobtitle_id:De.jobtitle_id}})),st(!0)},oX=async R=>{try{await Promise.all(R.map(de=>J.mLeads.delete(de))),n({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await Cx()}catch(de){const De=de instanceof Error?de.message:"Failed to delete";n({title:"Error",description:De,variant:"destructive"})}},lX=async(R,de={})=>{try{rt(!0),ve(null);const De=await fetchAPI(`/api/v1/search?type=${R}&Filters=${encodeURIComponent(JSON.stringify(de))}&lang=${r}`);De?ve(De):n({title:"Error",description:"No data returned from report",variant:"destructive"})}catch(De){console.error("Failed to load report:",De),n({title:"Error",description:De instanceof Error?De.message:"Failed to load report",variant:"destructive"})}finally{rt(!1)}},Oc=(R,de)=>{ln(De=>({...De,[R]:de}))},cX=()=>{lX(Xe,Ye)},uX=()=>{if(!je||!je.data)return;const R=[je.columns.join(","),...je.data.map(Ar=>je.columns.map(cn=>typeof Ar[cn]=="string"&&Ar[cn].includes(",")?`"${Ar[cn]}"`:Ar[cn]).join(","))].join(`
`),de=new Blob([R],{type:"text/csv"}),De=window.URL.createObjectURL(de),at=document.createElement("a");at.href=De,at.download=`${Xe}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(at),at.click(),document.body.removeChild(at),window.URL.revokeObjectURL(De),n({title:e("common.success"),description:"Report exported successfully"})},dX=async()=>{try{if(!Ut.city_name_en&&!Ut.city_name_ar){n({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const R=await J.mCity.create(Ut);R&&(d([...u,R]),$a({...er,city_id:R.city_id}),_t(!1),ar({city_name_en:"",city_name_ar:"",country_id:null}),n({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")}))}catch(R){const de=R instanceof Error?R.message:"Failed to create city";n({title:"Error",description:de,variant:"destructive"})}},fX=async()=>{try{if(!Tr.system_name_en&&!Tr.system_name_ar){n({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const R=await J.mSystem.create(Tr);R&&(v([...p,R]),$a({...er,system_id:R.system_id}),bn(!1),zs({system_name_en:"",system_name_ar:""}),n({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")}))}catch(R){const de=R instanceof Error?R.message:"Failed to create system";n({title:"Error",description:de,variant:"destructive"})}},hX=async()=>{try{if(!_n.activity_name_en&&!_n.activity_name_ar){n({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const R=await J.mActivity.create(_n);R&&(h([...f,R]),$a({...er,activity_id:R.activity_id}),Mn(!1),Mo({activity_name_en:"",activity_name_ar:""}),n({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")}))}catch(R){const de=R instanceof Error?R.message:"Failed to create activity";n({title:"Error",description:de,variant:"destructive"})}},mX=async()=>{try{if(!xs.status_name_en&&!xs.status_name_ar){n({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const R=await J.mStatus.create(xs);R&&(g([...m,R]),$a({...er,status_id:R.status_id}),Vs(!1),Wi({status_name_en:"",status_name_ar:""}),n({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")}))}catch(R){const de=R instanceof Error?R.message:"Failed to create status";n({title:"Error",description:de,variant:"destructive"})}},pX=()=>{if(!qn.contact_name.trim()){n({title:"Error",description:"Please enter contact name",variant:"destructive"});return}fi([...La,{...qn}]),ys({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Ec(!1)},gX=R=>{fi(La.filter((de,De)=>De!==R))},vX=async R=>{try{const de=La.map(De=>({...De,leads_id:R,contact_mobile:De.contact_mobile?parseInt(De.contact_mobile):null}));if(de.length>0)for(const De of de)await J.mContacts.create(De)}catch(de){const De=de instanceof Error?de.message:"Failed to save contacts";n({title:"Error",description:De}),n({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")})}};if(M)return i.jsx(Rp,{message:M,onRetry:Rj});const xX=[{label:e("common.delete"),icon:i.jsx(sr,{}),onClick:R=>{window.confirm(`Delete ${R.length} leads?`)&&oX(R.map(de=>de.leads_id))},variant:"destructive"}],yX=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:R=>i.jsx(xc,{title:R.company_name||"-",subtitle:R.address||"",icon:i.jsx(Un,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:R=>i.jsx("span",{className:"text-sm text-foreground",children:KO(R)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:R=>i.jsx(ht,{variant:"outline",className:"text-xs truncate",children:YO(R)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:R=>{const de=XO(R);return i.jsx(ht,{variant:"outline",className:`text-xs truncate ${e4(R.status_id)}`,children:de})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:R=>i.jsx(ht,{variant:"outline",className:"text-xs truncate bg-blue-50 text-blue-700 border-blue-200",children:JO(R)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:R=>i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:QO(R)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:R=>i.jsx("div",{className:"truncate",children:i.jsx(Xm,{name:R.created_by_name||"-"})})},{key:"decision_maker",header:e("mleads.decisionMaker"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:R=>i.jsx("div",{className:"truncate",children:i.jsx("span",{className:"text-sm",children:R.decision_maker||"-"})})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:R=>i.jsx(Af,{date:R.created_at})}],bX=[{icon:i.jsx(Ri,{}),label:e("common.edit"),onClick:R=>s4(R)},{icon:i.jsx(sr,{}),label:e("common.delete"),onClick:R=>it(R.leads_id),variant:"destructive"}];return i.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:qt()?"rtl":"ltr",children:[i.jsx("div",{className:"flex-shrink-0 pb-3",children:i.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[i.jsxs(le,{variant:"outline",size:"default",onClick:()=>Ke(Ue==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[Ue==="list"?i.jsx(ti,{className:"h-4 w-4"}):i.jsx(Un,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e(Ue==="list"?"mleads.kanbanView":"mleads.listView")})]}),i.jsxs(le,{variant:Se?"default":"outline",size:"default",onClick:()=>Ne(!Se),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(ti,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mleads.showChart")}),i.jsx(Ih,{className:`h-4 w-4 transition-transform ${Se?"rotate-180":""}`})]}),i.jsxs(le,{variant:ee?"default":"outline",size:"default",onClick:()=>me(!ee),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(ba,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mleads.reports")}),i.jsx(Ih,{className:`h-4 w-4 transition-transform ${ee?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[i.jsx(ps,{className:"absolute inset-inline-start-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(Be,{placeholder:e("mleads.searchPlaceholder"),value:L,onChange:R=>{B(R.target.value),z(1)},className:"ps-10 pe-3 h-10 bg-background border-input"})]})]}),i.jsxs(le,{size:"default",onClick:()=>{Le(null),$a({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),fi([]),X(null),_t(!1),bn(!1),Mn(!1),Vs(!1),ar({city_name_en:"",city_name_ar:"",country_id:null}),zs({system_name_en:"",system_name_ar:""}),Mo({activity_name_en:"",activity_name_ar:""}),Wi({status_name_en:"",status_name_ar:""}),bs(null),st(!0)},variant:"outline",className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:qt()?"rtl":"ltr",children:[i.jsx(Wt,{className:`w-4 h-4 ${qt()?"order-2":"order-1"}`}),i.jsx("span",{className:`${qt()?"order-1":"order-2"}`,children:e("common.add")})]})]})})}),i.jsx("div",{className:"flex-shrink-0 pb-4",children:i.jsxs("div",{className:"bg-card rounded-lg border shadow-sm",children:[i.jsx(le,{variant:"ghost",onClick:()=>Te(!ke),className:"w-full justify-between h-auto p-4 rounded-lg hover:bg-accent transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")}),i.jsxs("div",{className:"flex items-center gap-2",children:[(pe||be||Ze||he||ue||_e)&&i.jsxs(le,{variant:"outline",size:"sm",onClick:R=>{R.stopPropagation(),Me(""),Ge(""),ae(""),U(""),we(""),$e(""),z(1)},title:e("mleads.clearFilters"),className:"h-8 px-3 hover:bg-destructive/10 hover:border-destructive/30 hover:text-destructive transition-colors",children:[i.jsx(Mi,{className:`h-3 w-3 ${qt()?"ms-2":"me-2"}`}),e("mleads.clearFilters")]}),i.jsx(Ih,{className:`h-4 w-4 transition-transform ${ke?"rotate-180":""}`})]})]})}),ke&&i.jsx("div",{className:"px-4 pb-4 animate-in fade-in slide-in-from-top-2",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3",children:[i.jsxs(da,{open:EO,onOpenChange:wj,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":EO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:he?Gt(m.find(R=>R.status_id.toString()===he),"status_name_en","status_name_ar"):e("mleads.allStatuses")}),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchStatus")}),i.jsxs(pa,{onScroll:R=>$f(R,GY,Aj),children:[i.jsx(ga,{children:e("common.noResults")}),i.jsxs(va,{children:[i.jsx(ur,{value:e("mleads.allStatuses"),onSelect:()=>{U(""),z(1),wj(!1)},children:e("mleads.allStatuses")},"all-statuses"),m.map(R=>i.jsx(ur,{value:R.status_id.toString(),onSelect:()=>{U(R.status_id.toString()),z(1),wj(!1)},children:Gt(R,"status_name_en","status_name_ar")},R.status_id)),Aj&&i.jsx(ur,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(da,{open:TO,onOpenChange:jj,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":TO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:ue?Gt(f.find(R=>R.activity_id.toString()===ue),"activity_name_en","activity_name_ar"):e("mleads.allActivities")}),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchActivity")}),i.jsxs(pa,{onScroll:R=>$f(R,qY,Tj),children:[i.jsx(ga,{children:e("common.noResults")}),i.jsxs(va,{children:[i.jsx(ur,{value:e("mleads.allActivities"),onSelect:()=>{we(""),z(1),jj(!1)},children:e("mleads.allActivities")},"all-activities"),f.map(R=>i.jsx(ur,{value:R.activity_id.toString(),onSelect:()=>{we(R.activity_id.toString()),z(1),jj(!1)},children:Gt(R,"activity_name_en","activity_name_ar")},R.activity_id)),Tj&&i.jsx(ur,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(da,{open:AO,onOpenChange:Sj,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":AO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Ze?Gt(p.find(R=>R.system_id.toString()===Ze),"system_name_en","system_name_ar"):e("mleads.allSystems")}),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchSystem")}),i.jsxs(pa,{onScroll:R=>$f(R,KY,Pj),children:[i.jsx(ga,{children:e("common.noResults")}),i.jsxs(va,{children:[i.jsx(ur,{value:e("mleads.allSystems"),onSelect:()=>{ae(""),z(1),Sj(!1)},children:e("mleads.allSystems")},"all-systems"),p.map(R=>i.jsx(ur,{value:R.system_id.toString(),onSelect:()=>{ae(R.system_id.toString()),z(1),Sj(!1)},children:Gt(R,"system_name_en","system_name_ar")},R.system_id)),Pj&&i.jsx(ur,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(da,{open:PO,onOpenChange:Nj,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":PO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:be?Gt(C.find(R=>R.country_id.toString()===be),"country_name_en","country_name_ar"):e("mleads.allCountries")}),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchCountry")}),i.jsxs(pa,{onScroll:R=>$f(R,YY,Oj),children:[i.jsx(ga,{children:e("common.noResults")}),i.jsxs(va,{children:[i.jsx(ur,{value:e("mleads.allCountries"),onSelect:()=>{Ge(""),z(1),Nj(!1)},children:e("mleads.allCountries")},"all-countries"),C.map(R=>i.jsx(ur,{value:R.country_id.toString(),onSelect:()=>{Ge(R.country_id.toString()),z(1),Nj(!1)},children:Gt(R,"country_name_en","country_name_ar")},R.country_id)),Oj&&i.jsx(ur,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(da,{open:OO,onOpenChange:kj,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":OO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:pe?Gt(u.find(R=>R.city_id.toString()===pe),"city_name_en","city_name_ar"):e("mleads.allCities")}),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchCity")}),i.jsxs(pa,{onScroll:R=>$f(R,HY,Ej),children:[i.jsx(ga,{children:e("common.noResults")}),i.jsxs(va,{children:[i.jsx(ur,{value:e("mleads.allCities"),onSelect:()=>{Me(""),z(1),kj(!1)},children:e("mleads.allCities")},"all-cities"),u.map(R=>i.jsx(ur,{value:R.city_id.toString(),onSelect:()=>{Me(R.city_id.toString()),z(1),kj(!1)},children:Gt(R,"city_name_en","city_name_ar")},R.city_id)),Ej&&i.jsx(ur,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(da,{open:DO,onOpenChange:Cj,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":DO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:_e?ZO(_e):e("mleads.allUsers")}),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchUser")}),i.jsxs(pa,{onScroll:R=>$f(R,XY,Dj),children:[i.jsx(ga,{children:e("common.noResults")}),i.jsxs(va,{children:[i.jsx(ur,{value:e("mleads.allUsers"),onSelect:()=>{$e(""),z(1),Cj(!1)},children:e("mleads.allUsers")},"all-users"),S.map(R=>{var at;const de=(at=R.userid||R.user_id||R.id)==null?void 0:at.toString(),De=R.name||R.user_name||R.display_name||"-";return i.jsx(ur,{value:de,onSelect:()=>{$e(de),z(1),Cj(!1)},children:De},de)}),Dj&&i.jsx(ur,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]})]})})]})}),i.jsx(vl,{open:Fe,onOpenChange:st,children:i.jsxs(Eo,{className:`w-full sm:max-w-[540px] flex flex-col h-full ${r==="ar"?"rtl":"ltr"}`,children:[i.jsxs(hc,{children:[i.jsx(xl,{children:e(Ee?"mleads.editLead":"mleads.createNewLead")}),i.jsx(of,{children:e(Ee?"mleads.editLeadDescription":"mleads.createLeadDescription")})]}),i.jsxs("div",{className:"mt-6 space-y-4 px-4 flex-1 overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),i.jsx(Be,{value:er.company_name||"",onChange:R=>$a({...er,company_name:R.target.value}),placeholder:e("mleads.companyName")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),i.jsx(On,{value:er.address||"",onChange:R=>$a({...er,address:R.target.value}),placeholder:e("mleads.address")})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ec(!Fo),className:"h-6 px-2 text-xs",children:e(Fo?"mleads.cancel":"mleads.addContact")})]}),La.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:La.map((R,de)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:R.contact_name}),i.jsxs("div",{className:"text-muted-foreground",children:[R.contact_email&&`${R.contact_email}  `,R.contact_mobile&&`${R.contact_mobile}`]})]}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>gX(de),className:"h-6 w-6 p-0",children:i.jsx(Mi,{className:"h-3 w-3"})})]},de))}),Fo&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Be,{placeholder:e("mleads.contactName"),value:qn.contact_name,onChange:R=>ys({...qn,contact_name:R.target.value})}),i.jsx(Be,{placeholder:e("mleads.email"),type:"email",value:qn.contact_email,onChange:R=>ys({...qn,contact_email:R.target.value})}),i.jsx(Be,{placeholder:e("mleads.mobile"),value:qn.contact_mobile,onChange:R=>ys({...qn,contact_mobile:R.target.value})}),i.jsxs(da,{open:SO,onOpenChange:NO,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":SO,className:"w-full justify-between",children:[qn.jobtitle_id?(i4=O.find(R=>R.jobtitle_id===qn.jobtitle_id))==null?void 0:i4.jobtitle_name_en:e("mleads.selectJobTitle"),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchJobTitle")}),i.jsxs(pa,{children:[i.jsx(ga,{children:e("common.noResults")}),i.jsx(va,{children:O&&O.length>0?O.map(R=>i.jsx(ur,{value:Gt(R,"jobtitle_name_en","jobtitle_name_ar")||R.jobtitle_name_en||"Unknown",onSelect:()=>{ys(de=>({...de,jobtitle_id:R.jobtitle_id})),NO(!1)},children:Gt(R,"jobtitle_name_en","jobtitle_name_ar")||R.jobtitle_name_en||"Unknown"},R.jobtitle_id)):i.jsx(ur,{disabled:!0,children:"No job titles available"},"no-job-titles")})]})]})})]}),i.jsx(le,{type:"button",onClick:pX,className:"w-full",children:e("mleads.addContactTitle")})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>_t(!ot),className:"h-6 px-2 text-xs",children:e(ot?"mleads.cancel":"mleads.addNew")})]}),ot?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Be,{placeholder:e("mleads.cityNameEn"),value:Ut.city_name_en,onChange:R=>ar({...Ut,city_name_en:R.target.value})}),i.jsx(Be,{placeholder:e("mleads.cityNameAr"),value:Ut.city_name_ar,onChange:R=>ar({...Ut,city_name_ar:R.target.value})}),i.jsxs(da,{open:kO,onOpenChange:CO,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":kO,className:"w-full justify-between",children:[Ut.country_id?(o4=C.find(R=>R.country_id===Ut.country_id))==null?void 0:o4.country_name_en:e("mleads.selectCountry"),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchCountry")}),i.jsxs(pa,{children:[i.jsx(ga,{children:e("common.noResults")}),i.jsx(va,{children:C.map(R=>i.jsx(ur,{value:Gt(R,"country_name_en","country_name_ar"),onSelect:()=>{ar({...Ut,country_id:R.country_id}),CO(!1)},children:Gt(R,"country_name_en","country_name_ar")},R.country_id))})]})]})})]}),i.jsx(le,{type:"button",onClick:dX,className:"w-full",children:e("mleads.createCity")})]}):i.jsxs(da,{open:oa,onOpenChange:Hi,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":oa,className:"w-full justify-between",children:[er.city_id?ZY(er.city_id):e("mleads.city"),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchCity")}),i.jsxs(pa,{children:[i.jsx(ga,{children:e("common.noResults")}),i.jsx(va,{children:u.map(R=>i.jsx(ur,{value:Gt(R,"city_name_en","city_name_ar"),onSelect:()=>{$a({...er,city_id:R.city_id}),Hi(!1)},children:Gt(R,"city_name_en","city_name_ar")},R.city_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>Mn(!sa),className:"h-6 px-2 text-xs",children:e(sa?"mleads.cancel":"mleads.addNew")})]}),sa?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Be,{placeholder:e("mleads.activityNameEn"),value:_n.activity_name_en,onChange:R=>Mo({..._n,activity_name_en:R.target.value})}),i.jsx(Be,{placeholder:e("mleads.activityNameAr"),value:_n.activity_name_ar,onChange:R=>Mo({..._n,activity_name_ar:R.target.value})}),i.jsx(le,{type:"button",onClick:hX,className:"w-full",children:e("mleads.createActivity")})]}):i.jsxs(da,{open:Pl,onOpenChange:Lf,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Pl,className:"w-full justify-between",children:[er.activity_id?eX(er.activity_id):e("mleads.selectActivity"),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchActivity")}),i.jsxs(pa,{children:[i.jsx(ga,{children:e("common.noResults")}),i.jsx(va,{children:f.map(R=>i.jsx(ur,{value:Gt(R,"activity_name_en","activity_name_ar"),onSelect:()=>{$a({...er,activity_id:R.activity_id}),Lf(!1)},children:Gt(R,"activity_name_en","activity_name_ar")},R.activity_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>bn(!_r),className:"h-6 px-2 text-xs",children:e(_r?"mleads.cancel":"mleads.addNew")})]}),_r?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Be,{placeholder:e("mleads.systemNameEn"),value:Tr.system_name_en,onChange:R=>zs({...Tr,system_name_en:R.target.value})}),i.jsx(Be,{placeholder:e("mleads.systemNameAr"),value:Tr.system_name_ar,onChange:R=>zs({...Tr,system_name_ar:R.target.value})}),i.jsx(le,{type:"button",onClick:fX,className:"w-full",children:e("mleads.createSystem")})]}):i.jsxs(da,{open:Ac,onOpenChange:Nx,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Ac,className:"w-full justify-between",children:[er.system_id?rX(er.system_id):e("mleads.selectSystem"),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchSystem")}),i.jsxs(pa,{children:[i.jsx(ga,{children:e("common.noResults")}),i.jsx(va,{children:p.map(R=>i.jsx(ur,{value:Gt(R,"system_name_en","system_name_ar"),onSelect:()=>{$a({...er,system_id:R.system_id}),Nx(!1)},children:Gt(R,"system_name_en","system_name_ar")},R.system_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>Vs(!Al),className:"h-6 px-2 text-xs",children:e(Al?"mleads.cancel":"mleads.addNew")})]}),Al?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Be,{placeholder:e("mleads.statusNameEn"),value:xs.status_name_en,onChange:R=>Wi({...xs,status_name_en:R.target.value})}),i.jsx(Be,{placeholder:e("mleads.statusNameAr"),value:xs.status_name_ar,onChange:R=>Wi({...xs,status_name_ar:R.target.value})}),i.jsx(le,{type:"button",onClick:mX,className:"w-full",children:e("mleads.createStatus")})]}):i.jsxs(da,{open:kx,onOpenChange:td,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":kx,className:"w-full justify-between",children:[er.status_id?tX(er.status_id):e("mleads.selectStatus"),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchStatus")}),i.jsxs(pa,{children:[i.jsx(ga,{children:e("common.noResults")}),i.jsx(va,{children:m.map(R=>i.jsx(ur,{value:Gt(R,"status_name_en","status_name_ar"),onSelect:()=>{$a({...er,status_id:R.status_id}),td(!1)},children:Gt(R,"status_name_en","status_name_ar")},R.status_id))})]})]})})]})]}),er.status_id===7&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[i.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Ag,{className:"h-4 w-4 text-yellow-600"}),e("mleads.uploadQuotation")]}),i.jsx(Be,{type:"file",onChange:R=>{var De;const de=(De=R.target.files)==null?void 0:De[0];de&&bs(de)},className:"cursor-pointer"}),t4(er.lead_quotation)&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:i.jsx("button",{onClick:()=>{const R=window.open();if(R)R.document.write(`
                          <html>
                            <body style="margin:0;padding:20px;">
                              <embed src="${er.lead_quotation}" width="100%" height="100%" />
                            </body>
                          </html>
                        `);else{const de=document.createElement("a");de.href=er.lead_quotation,de.download="quotation.pdf",de.click()}},className:"ms-1 text-blue-600 hover:underline font-medium bg-transparent border-none cursor-pointer",children:e("mleads.viewQuotation")})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),i.jsxs(da,{open:Bp,onOpenChange:_j,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Bp,className:"w-full justify-between",children:[er.stage_id?nX(er.stage_id):e("mleads.selectStage"),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchStage")}),i.jsxs(pa,{children:[i.jsx(ga,{children:e("common.noResults")}),i.jsx(va,{children:y.map(R=>i.jsx(ur,{value:R.stage_name,onSelect:()=>{$a({...er,stage_id:R.stage_id}),_j(!1)},children:R.stage_name},R.stage_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),i.jsxs(da,{open:wO,onOpenChange:jO,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":wO,className:"w-full justify-between",children:[er.assigned_to?ZO(er.assigned_to):e("mleads.selectUser"),i.jsx(Ua,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mleads.searchUser")}),i.jsxs(pa,{children:[i.jsx(ga,{children:e("common.noResults")}),i.jsx(va,{children:S.map(R=>i.jsx(ur,{value:R.user_name,onSelect:()=>{$a({...er,assigned_to:R.userid}),jO(!1)},children:R.user_name},R.user_id))})]})]})})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[i.jsx(le,{variant:"outline",onClick:()=>st(!1),children:e("common.cancel")}),i.jsx(le,{onClick:sX,children:e("common.save")})]})]})}),Se&&i.jsx("div",{className:"flex-shrink-0 px-4 pb-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),i.jsxs(Ao,{defaultValue:"pie",className:"w-full",children:[i.jsxs(Ii,{className:`flex w-full ${qt()?"flex-row-reverse":""}`,children:[i.jsx(kr,{value:"pie",className:"flex-1",children:e("mleads.distributionCharts")}),i.jsx(kr,{value:"timeline",className:"flex-1",children:e("mleads.timeline")})]}),i.jsx(Vr,{value:"pie",className:"mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),i.jsx(Ko,{config:{},className:"h-[350px]",children:i.jsxs(hd,{children:[i.jsx(Ya,{data:(()=>{const R=m.map(de=>({name:Gt(de,"status_name_en","status_name_ar"),value:Ba.filter(De=>De.status_id===de.status_id).length})).filter(de=>de.value>0);return R.length>0?R:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:de})=>`${R}: ${de}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,de)=>i.jsx(rl,{fill:R},`cell-${de}`))}),i.jsx(gd,{content:i.jsx(Jc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),i.jsx(Ko,{config:{},className:"h-[350px]",children:i.jsxs(hd,{children:[i.jsx(Ya,{data:(()=>{const R=p.map(de=>({name:Gt(de,"system_name_en","system_name_ar"),value:Ba.filter(De=>De.system_id===de.system_id).length})).filter(de=>de.value>0);return R.length>0?R:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:de})=>`${R}: ${de}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,de)=>i.jsx(rl,{fill:R},`cell-${de}`))}),i.jsx(gd,{content:i.jsx(Jc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),i.jsx(Ko,{config:{},className:"h-[350px]",children:i.jsxs(hd,{children:[i.jsx(Ya,{data:(()=>{const R=f.map(de=>({name:Gt(de,"activity_name_en","activity_name_ar"),value:Ba.filter(De=>De.activity_id===de.activity_id).length})).filter(de=>de.value>0);return R.length>0?R:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:de})=>`${R}: ${de}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,de)=>i.jsx(rl,{fill:R},`cell-${de}`))}),i.jsx(gd,{content:i.jsx(Jc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),i.jsx(Ko,{config:{},className:"h-[350px]",children:i.jsxs(hd,{children:[i.jsx(Ya,{data:(()=>{const R=u.map(de=>({name:Gt(de,"city_name_en","city_name_ar"),value:Ba.filter(De=>De.city_id===de.city_id).length})).filter(de=>de.value>0);return R.length>0?R:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:de})=>`${R}: ${de}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,de)=>i.jsx(rl,{fill:R},`cell-${de}`))}),i.jsx(gd,{content:i.jsx(Jc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),i.jsx(Ko,{config:{},className:"h-[350px]",children:i.jsxs(hd,{children:[i.jsx(Ya,{data:(()=>{const R=S.map(de=>({name:de.user_name,value:Ba.filter(De=>De.assigned_to===de.userid).length})).filter(de=>de.value>0);return R.length>0?R:[{name:"Unassigned",value:Ba.filter(de=>!de.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:de})=>`${R}: ${de}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,de)=>i.jsx(rl,{fill:R},`cell-${de}`))}),i.jsx(gd,{content:i.jsx(Jc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),i.jsx("div",{className:"text-5xl font-bold text-primary",children:Ba.length}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),i.jsx(Vr,{value:"timeline",className:"mt-4",children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(ku,{width:"100%",height:"100%",children:i.jsxs(ix,{data:(()=>{const R=new Map;return Ba.forEach(De=>{const at=new Date(De.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});R.set(at,(R.get(at)||0)+1)}),Array.from(R.entries()).sort((De,at)=>new Date(De[0]).getTime()-new Date(at[0]).getTime()).map(([De,at])=>({date:De,count:at}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[i.jsx(Eu,{strokeDasharray:"3 3"}),i.jsx(xo,{dataKey:"date",angle:qt()?45:-45,textAnchor:qt()?"start":"end",height:80,tick:{fontSize:12},reversed:qt()}),i.jsx(yo,{label:{value:"Number of Leads",angle:qt()?90:-90,position:"insideLeft"}}),i.jsx(Qn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:R=>[`${R} leads`,"Total"]}),i.jsx(ii,{}),i.jsx(Nc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]})]})}),ee&&i.jsx("div",{className:"flex-shrink-0 pb-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e("mleads.reports")}),i.jsxs(le,{variant:"outline",size:"sm",onClick:uX,disabled:!je||Vt,className:"flex items-center gap-2",children:[i.jsx(wB,{className:"h-4 w-4"}),e("common.export")]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.selectReport")}),i.jsxs(vt,{value:Xe,onValueChange:bt,children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:e("mleads.selectReport")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"leads_summary",children:e("mleads.leadsSummaryReport")}),i.jsx(Ce,{value:"leads_by_city",children:e("mleads.leadsByCityReport")}),i.jsx(Ce,{value:"leads_conversion",children:e("mleads.leadsConversionReport")}),i.jsx(Ce,{value:"sales_performance",children:e("mleads.salesPerformanceReport")}),i.jsx(Ce,{value:"leads_trend_simple",children:e("mleads.leadsTrendReport")})]})]})]}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.reportParameters")}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[Xe==="leads_summary"&&i.jsxs(vt,{value:Ye.status_id||"all",onValueChange:R=>Oc("status_id",R==="all"?null:R),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:e("mleads.allStatuses")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:e("mleads.allStatuses")}),m.map(R=>i.jsx(Ce,{value:R.status_id.toString(),children:Gt(R,"status_name_en","status_name_ar")},R.status_id))]})]}),Xe==="leads_by_city"&&i.jsxs(i.Fragment,{children:[i.jsxs(vt,{value:Ye.city_id||"all",onValueChange:R=>Oc("city_id",R==="all"?null:R),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:e("mleads.allCities")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:e("mleads.allCities")}),u.map(R=>i.jsx(Ce,{value:R.city_id.toString(),children:Gt(R,"city_name_en","city_name_ar")},R.city_id))]})]}),i.jsx(Be,{type:"date",placeholder:e("mleads.startDate"),value:Ye.start_date||"",onChange:R=>Oc("start_date",R.target.value)})]}),(Xe==="leads_conversion"||Xe==="sales_performance"||Xe==="leads_trend_simple")&&i.jsxs(i.Fragment,{children:[i.jsx(Be,{type:"date",placeholder:e("mleads.startDate"),value:Ye.start_date||"",onChange:R=>Oc("start_date",R.target.value)}),i.jsx(Be,{type:"date",placeholder:e("mleads.endDate"),value:Ye.end_date||"",onChange:R=>Oc("end_date",R.target.value)})]}),Xe==="leads_conversion"&&i.jsxs(vt,{value:Ye.activity_id||"all",onValueChange:R=>Oc("activity_id",R==="all"?null:R),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:e("mleads.allActivities")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:e("mleads.allActivities")}),f.map(R=>i.jsx(Ce,{value:R.activity_id.toString(),children:Gt(R,"activity_name_en","activity_name_ar")},R.activity_id))]})]}),Xe==="leads_conversion"&&i.jsxs(vt,{value:Ye.system_id||"all",onValueChange:R=>Oc("system_id",R==="all"?null:R),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:e("mleads.allSystems")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:e("mleads.allSystems")}),p.map(R=>i.jsx(Ce,{value:R.system_id.toString(),children:Gt(R,"system_name_en","system_name_ar")},R.system_id))]})]}),Xe==="sales_performance"&&i.jsxs(vt,{value:Ye.assigned_to||"all",onValueChange:R=>Oc("assigned_to",R==="all"?null:R),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:e("mleads.allUsers")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:e("mleads.allUsers")}),S.map(R=>{var at;const de=(at=R.userid||R.user_id||R.id)==null?void 0:at.toString(),De=R.name||R.user_name||R.display_name||"-";return i.jsx(Ce,{value:de,children:De},de)})]})]})]})]})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx(le,{onClick:cX,disabled:Vt,className:"flex items-center gap-2 px-6",children:Vt?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e("common.loading")]}):i.jsxs(i.Fragment,{children:[i.jsx(NB,{className:"h-4 w-4"}),e("mleads.runReport")]})})}),je&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-md font-medium",children:e("mleads.reportResults")}),i.jsxs(ht,{variant:"secondary",children:[((l4=je.data)==null?void 0:l4.length)||0," ",e("mleads.records")]})]}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-96",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted",children:i.jsx("tr",{children:(c4=je.columns)==null?void 0:c4.map((R,de)=>i.jsx("th",{className:"px-4 py-2 text-left font-medium border-b",children:R.replace(/_/g," ").replace(/\b\w/g,De=>De.toUpperCase())},de))})}),i.jsx("tbody",{children:(u4=je.data)==null?void 0:u4.map((R,de)=>{var De;return i.jsx("tr",{className:"border-b hover:bg-muted/50",children:(De=je.columns)==null?void 0:De.map((at,Ar)=>i.jsx("td",{className:"px-4 py-2 border-b",children:R[at]||"-"},Ar))},de)})})]})})}),Xe==="leads_by_city"&&je.data&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.jsxs(Ko,{config:{},children:[i.jsx("h4",{className:"text-sm font-medium mb-3 text-center",children:e("mleads.leadsByCity")}),i.jsx(ku,{width:"100%",height:300,children:i.jsxs(GI,{data:je.data,children:[i.jsx(Eu,{strokeDasharray:"3 3"}),i.jsx(xo,{dataKey:"city_name"}),i.jsx(yo,{}),i.jsx(Qn,{}),i.jsx(ii,{}),i.jsx(Si,{dataKey:"total_leads",fill:"#3b82f6",name:e("mleads.totalLeads")}),i.jsx(Si,{dataKey:"won_leads",fill:"#10b981",name:e("mleads.wonLeads")}),i.jsx(Si,{dataKey:"lost_leads",fill:"#ef4444",name:e("mleads.lostLeads")})]})})]})}),Xe==="sales_performance"&&je.data&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.jsxs(Ko,{config:{},children:[i.jsx("h4",{className:"text-sm font-medium mb-3 text-center",children:e("mleads.salesPerformance")}),i.jsx(ku,{width:"100%",height:300,children:i.jsxs(GI,{data:je.data,children:[i.jsx(Eu,{strokeDasharray:"3 3"}),i.jsx(xo,{dataKey:"sales_person"}),i.jsx(yo,{}),i.jsx(Qn,{}),i.jsx(ii,{}),i.jsx(Si,{dataKey:"won_deals",fill:"#10b981",name:e("mleads.wonDeals")}),i.jsx(Si,{dataKey:"lost_deals",fill:"#ef4444",name:e("mleads.lostDeals")}),i.jsx(Si,{dataKey:"pending_leads",fill:"#f59e0b",name:e("mleads.pendingLeads")})]})})]})})]})]})}),i.jsx(et,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:i.jsx(ct,{className:"h-full flex flex-col p-0 overflow-hidden",children:Ue==="kanban"?i.jsx(Mq,{items:Ba.map(R=>({...R,id:R.leads_id,title:R.company_name||"No Company"})),stages:y.map(R=>({...R,id:R.stage_id,name:R.stage_name})),stageType:"mleads",renderItem:(R,de)=>i.jsx(uWe,{lead:R,stages:de.stages,onDelete:de.onDelete,onClick:()=>r4(R),onDragStart:de.onDragStart,onStageChange:de.onStageChange,isDragging:de.isDragging}),onItemUpdate:async(R,de)=>{de.stage!==void 0&&(await J.mLeads.update(R,{stage_id:de.stage}),o(s.map(De=>De.leads_id===R?{...De,stage_id:de.stage}:De)))},onItemDelete:async R=>{await J.mLeads.delete(R),o(s.filter(de=>de.leads_id!==R))},onItemCreate:async(R,de)=>{const De={company_name:de.title,address:de.description,city_id:null,activity_id:null,system_id:null,stage_id:R,status_id:1,assigned_to:null},at=await J.mLeads.create(De);o([...s,at])},onStageCreate:async R=>{const de=await J.stages.create({stage_name:R.name,stage_name_ar:R.name_ar,stager_order_index:R.order_index,project_id:null,color:R.color,color_var:R.color_var,stage_type:"mleads"});b([...y,de])},onStageUpdate:async(R,de)=>{await J.stages.update(R,{stage_name:de.name}),b(y.map(De=>De.stage_id===R?{...De,stage_name:de.name}:De))},onStageDelete:async R=>{await J.stages.delete(R),b(y.filter(de=>de.stage_id!==R)),Rj()},canManageStages:!0,canManageItems:!0,showAddButton:!0,addButtonText:e("mleads.addNewLead"),addButtonDescription:e("mleads.addNewLeadDesc"),mobileSelectedStageId:RY,onMobileStageChange:MY}):i.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:Ba.length===0?i.jsx(bo,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:i.jsx(Un,{className:"h-12 w-12"})}):i.jsx(vc,{data:JY,columns:["kanban","timeline"].includes(Ue)?[]:yX,actions:bX,bulkActions:xX,enableBulkSelect:!0,keyExtractor:R=>R.leads_id.toString(),onRowClick:R=>r4(R),rowHeight:"h-26"},`leads-${he}-${ue}-${Ze}-${pe}-${be}-${_e}-${L}-${xe}`)}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:rd>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(ep,{children:[i.jsx(Sa,{children:i.jsx(du,{onClick:()=>z(Math.max(1,xe-1)),className:xe===1||G?"pointer-events-none opacity-50":"cursor-pointer",disabled:G,children:e("common.previous")})}),i.jsx(Sa,{children:i.jsx("span",{className:"px-3 py-2 text-sm flex items-center gap-2",children:G?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e("common.loading")]}):i.jsxs(i.Fragment,{children:[e("common.page")," ",xe," ",e("common.of")," ",rd]})})}),i.jsx(Sa,{children:i.jsx(fu,{onClick:()=>z(Math.min(rd,xe+1)),className:xe===rd||G?"pointer-events-none opacity-50":"cursor-pointer",disabled:G,children:e("common.next")})})]})})})})]})})}),i.jsx(Ls,{open:tt!==null,onOpenChange:()=>it(null),children:i.jsxs(ss,{children:[i.jsxs(is,{children:[i.jsx(ls,{children:e("mleads.deleteLead")}),i.jsx(cs,{children:e("mleads.deleteLeadConfirm")})]}),i.jsxs(os,{children:[i.jsx(ds,{children:e("common.cancel")}),i.jsx(us,{onClick:()=>tt&&iX(tt),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),i.jsx(vl,{open:ne,onOpenChange:I,children:i.jsxs(Eo,{side:qt()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[i.jsxs(hc,{children:[i.jsxs(xl,{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Un,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:re==null?void 0:re.company_name})]}),i.jsx(of,{children:e("mleads.leadDetailsDescription")})]}),re&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),i.jsxs(le,{onClick:()=>{s4(re),I(!1)},variant:"outline",size:"sm",children:[i.jsx(Ri,{className:"h-4 w-4 me-2"}),e("common.edit")]})]}),i.jsxs(Ao,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Ii,{className:`flex w-full ${qt()?"flex-row-reverse":""}`,children:[i.jsx(kr,{value:"overview",className:"flex-1",children:e("common.overview")}),i.jsx(kr,{value:"notes",className:"flex-1",children:e("notes.title")})]}),i.jsxs(Vr,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:re.company_name||"-"}),re.address&&i.jsx("p",{className:"text-muted-foreground mt-1",children:re.address})]}),t4(re.lead_quotation)&&i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(Ag,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.quotation")}),i.jsx("button",{onClick:()=>{const R=window.open();if(R)R.document.write(`
                                <html>
                                  <body style="margin:0;padding:20px;">
                                    <embed src="${re.lead_quotation}" width="100%" height="100%" />
                                  </body>
                                </html>
                              `);else{const de=document.createElement("a");de.href=re.lead_quotation,de.download="quotation.pdf",de.click()}},className:"font-medium text-blue-600 hover:underline truncate block bg-transparent border-none cursor-pointer text-left",children:e("mleads.viewQuotation")})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(ym,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),i.jsx("p",{className:"font-medium",children:KO(re)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(yB,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),i.jsx("p",{className:"font-medium",children:YO(re)})]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),i.jsx(ht,{variant:"outline",className:`text-xs ${e4(re.status_id)}`,children:XO(re)})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),i.jsx(ht,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:JO(re)})]})}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Un,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),i.jsx("p",{className:"font-medium",children:QO(re)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Pn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),i.jsx("p",{className:"font-medium",children:re.created_by_name||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Pn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),i.jsx("p",{className:"text-sm font-medium",children:re.Users_name||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Pn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.decisionMaker")}),i.jsx("p",{className:"text-sm font-medium",children:re.decision_maker||"-"})]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),i.jsx("p",{className:"text-sm font-medium",children:new Date(re.created_at).toLocaleDateString()})]})}),i.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),i.jsx("p",{className:"text-sm mt-1",children:re.notes||"-"})]})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const R=w.length>0?w:[];return R.length>0?i.jsx("div",{className:"space-y-2",children:R.map((de,De)=>{var at;return i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:de.contact_name||"-"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[de.contact_email&&`${de.contact_email}  `,de.contact_mobile&&`${de.contact_mobile}`]})]}),i.jsx(ht,{variant:"outline",className:"text-xs",children:((at=O.find(Ar=>Ar.jobtitle_id===de.jobtitle_id))==null?void 0:at.jobtitle_name_en)||"-"})]},de.contact_id||De)})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),i.jsx(Vr,{value:"notes",className:"mt-4",children:i.jsx(_P,{relatedType:"mlead",relatedId:re.leads_id,notes:Q,onNotesChange:()=>n4(re.leads_id)})})]})]})]})})]})}async function E2(e,t,r={}){return new Promise((n,a)=>{const s=new FileReader;s.onload=()=>{try{const l=s.result.split(",")[1],c={bucket:"database",path:`projects/${t}/contract_${Date.now()}_${e.name}`,url:null,name:e.name,filename:e.name,mime:e.type,size:e.size,uploaded_by:"current_user",uploaded_at:new Date().toISOString()};console.log("File converted to base64, length:",l.length),n(c)}catch(o){a(o)}},s.onerror=()=>{a(new Error("Failed to read file"))},s.readAsDataURL(e)})}async function fWe(e){return new Promise(t=>{console.log(`Delete contract for project ${e} - setting contract_document to NULL`),t()})}function hWe(){var re,te,ne;const{t:e}=Rt(),{user:t}=hr(),{currentLanguage:r,isRTL:n}=Ma(),{toast:a}=Po();Br();const{setBreadcrumbs:s}=Iv();$s();const[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[g,p]=x.useState([]),[v,y]=x.useState([]),[b,_]=x.useState([]),[j,w]=x.useState(!0),[N,S]=x.useState(null),[k,C]=x.useState(""),[T,O]=x.useState(0),[A]=x.useState(9),[V,H]=x.useState(0),[M,F]=x.useState(""),[L,B]=x.useState(""),[D,q]=x.useState(null),[Y,P]=x.useState(null),[G,K]=x.useState(!1),[Z,se]=x.useState(!1),[oe,xe]=x.useState({city_name_en:"",city_name_ar:"",country_id:null});x.useState(null);const[z,W]=x.useState(null),[ce,E]=x.useState(!1),[Pe,Re]=x.useState([]),[pe,Me]=x.useState(!1),[be,Ge]=x.useState("list"),[Ze,ae]=x.useState(null),[he,U]=x.useState(""),[ue,we]=x.useState([]),[_e,$e]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[tt,it]=x.useState(!1),[Ee,Le]=x.useState(!1);x.useState(!1),x.useState(!1),x.useState(!1);const[Fe,st]=x.useState(!1),[ot,_t]=x.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[s,e]),x.useEffect(()=>{Ut()},[]),x.useEffect(()=>{ar()},[T,k,M,L,d]),x.useEffect(()=>{pe&&_r()},[pe,k,M,L,d]);const Ut=async()=>{try{w(!0),S(null);const[I,Q,fe,Se,Ne]=await Promise.all([J.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"city_id,city_name_en,city_name_ar"}),J.mContacts.list({sort_by:"contact_name",sort_order:"asc"}),J.Users.list({sort_by:"user_name",sort_order:"asc"}),J.mCountry.list({sort_by:"country_name_en",sort_order:"asc"}),J.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc"})]),ke=Te=>Array.isArray(Te)?Te:Te!=null&&Te.data&&Array.isArray(Te.data)?Te.data:[];f(ke(I)),m(ke(Q)),p(ke(fe)),y(ke(Se)),_(ke(Ne))}catch(I){const Q=I instanceof Error?I.message:"Failed to load data";S(Q),a({title:"Error",description:Q,variant:"destructive"})}finally{w(!1)}},ar=async()=>{try{w(!0),S(null);const I={};if(M&&(I.city_id=M),L){const Se=d.filter(Ne=>{var ke;return((ke=Ne.country_id)==null?void 0:ke.toString())===L}).map(Ne=>Ne.city_id);Se.length>0?I.city_id=Se:I.city_id=-1}const Q={page:T,limit:A,sort_by:"created_at",sort_order:"desc",exact_filters:I};k&&(Q.search=k);const fe=await J.mProjects.list(Q);l(fe.data||[]),H(fe.total||0)}catch(I){const Q=I instanceof Error?I.message:"Failed to load data";S(Q),a({title:"Error",description:Q,variant:"destructive"})}finally{w(!1)}},_r=async()=>{try{const I={};if(M&&(I.city_id=M),L){const Se=d.filter(Ne=>{var ke;return((ke=Ne.country_id)==null?void 0:ke.toString())===L}).map(Ne=>Ne.city_id);Se.length>0?I.city_id=Se:I.city_id=-1}const Q={limit:1e3,exact_filters:I};k&&(Q.search=k);const fe=await J.mProjects.list(Q);u(fe.data||[])}catch(I){console.error("Failed to load all filtered projects:",I)}},bn=async()=>{try{const I=await J.mContacts.list({sort_by:"contact_name",sort_order:"asc"});m(I.data||[])}catch(I){console.error("Failed to load contacts:",I)}},Tr=x.useMemo(()=>pe?c:o,[pe,c,o]),zs=x.useMemo(()=>{if(pe){const I=T*A,Q=I+A;return Tr.slice(I,Q)}else return o},[pe,Tr,o,T,A]),sa=Math.ceil(V/A);x.useEffect(()=>{T>=sa&&sa>0&&O(sa-1)},[T,sa]);const Mn=(I,Q,fe)=>{if(!I)return"-";let Se=r==="ar"&&(I==null?void 0:I[fe])||(I==null?void 0:I[Q]);if(!Se){const Ne=Q.replace(/_en$/,""),ke=fe.replace(/_ar$/,"");Se=r==="ar"&&(I==null?void 0:I[ke])||(I==null?void 0:I[Ne])}return Se||(I==null?void 0:I.name)||(I==null?void 0:I.label)||(I==null?void 0:I.title)||"-"},_n=I=>{if(I==null||I==="")return"-";const Q=Number(I),fe=d.find(Se=>Number(Se.city_id)===Q||Number(Se.id)===Q);return Mn(fe,"city_name_en","city_name_ar")},Mo=async()=>{if(!Ee){Le(!0);try{let I;if(Y){if(await J.mProjects.update(Y,ot),I=Y,Ze)try{const Q=await E2(Ze,I);await J.mProjects.update(I,{contract_document:Q.path}),a({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")})}catch(Q){console.error("Contract upload failed:",Q),a({title:e("common.error"),description:Q.message||"Failed to upload contract document"})}a({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")})}else{const Q={...ot,created_by:t==null?void 0:t.id};let fe=null;if(Ze)try{fe=(await E2(Ze,"new")).path,a({title:e("common.success"),description:e("mprojects.contractUploaded")})}catch(Ne){console.error("Contract upload failed:",Ne),a({title:e("common.error"),description:Ne.message||"Failed to upload contract document"})}const Se=await J.mProjects.create({...Q,contract_document:fe});if(I=Se.id||Se.project_id,!I)throw new Error("Failed to create project");a({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(Y){const Q=h.filter(fe=>fe.project_id===Y);for(const fe of Q)await J.mContacts.delete(fe.contact_id);ue.length>0&&await Fo(I)}else ue.length>0&&await Fo(I);if(Ze){U("Uploading contract document...");try{await E2(Ze,I,{bucket:"projects",publicBucket:!1}),U("Document uploaded successfully"),a({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(Q){console.error("File upload failed:",Q),U("Document upload failed"),a({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}K(!1),P(null),_t({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),we([]),ae(null),U(""),await ar(),await bn()}catch(I){const Q=I instanceof Error?I.message:"Failed to save";a({title:"Error",description:Q,variant:"destructive"})}finally{Le(!1)}}},Al=async I=>{try{await J.mProjects.delete(I),a({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),q(null),await ar()}catch(Q){const fe=Q instanceof Error?Q.message:"Failed to delete";a({title:"Error",description:fe,variant:"destructive"})}},Vs=I=>{W(I),xs(I.project_id),bn(),E(!0)},xs=async I=>{try{const Q=await Wh.getByRelated("mlead",I);Re(Q)}catch(Q){console.error("Failed to load notes:",Q),Re([])}},Wi=I=>{P(I.project_id),_t(I);const Q=h.filter(fe=>fe.project_id===I.project_id);we(Q.map(fe=>{var Se;return{contact_name:fe.contact_name||"",contact_email:fe.contact_email||"",contact_mobile:((Se=fe.contact_mobile)==null?void 0:Se.toString())||"",jobtitle_id:fe.jobtitle_id}})),K(!0)},La=async I=>{try{await Promise.all(I.map(Q=>J.mProjects.delete(Q))),a({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),await ar()}catch(Q){const fe=Q instanceof Error?Q.message:"Failed to delete";a({title:"Error",description:fe,variant:"destructive"})}},fi=async()=>{try{if(!oe.city_name_en&&!oe.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const I=await J.mCity.create(oe);I&&(f([...d,I]),_t({...ot,city_id:I.city_id}),se(!1),xe({city_name_en:"",city_name_ar:"",country_id:null}),a({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")}))}catch(I){const Q=I instanceof Error?I.message:"Failed to create city";a({title:"Error",description:Q,variant:"destructive"})}},qn=()=>{if(!_e.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(ue.some(Q=>Q.contact_name===_e.contact_name&&Q.contact_email===_e.contact_email&&Q.contact_mobile===_e.contact_mobile)){a({title:"Warning",description:"This contact already exists",variant:"destructive"});return}we([...ue,{..._e}]),$e({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),it(!1)},ys=I=>{we(ue.filter((Q,fe)=>fe!==I))},Fo=async I=>{try{const Q=ue.map(fe=>({contact_name:fe.contact_name,contact_email:fe.contact_email,contact_mobile:fe.contact_mobile?parseInt(fe.contact_mobile):null,jobtitle_id:fe.jobtitle_id,project_id:I}));if(Q.length>0)for(const fe of Q)await J.mContacts.create(fe)}catch(Q){const fe=Q instanceof Error?Q.message:"Failed to save contacts";a({title:"Error",description:fe,variant:"destructive"})}};if(j)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:e("common.loading"),size:"2xl"})});if(N)return i.jsx(Rp,{message:N,onRetry:Ut});const Ec=[{label:e("common.delete"),icon:i.jsx(sr,{}),onClick:I=>{window.confirm(`Delete ${I.length} projects?`)&&La(I.map(Q=>Q.project_id))},variant:"destructive"}],If=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:I=>i.jsx(xc,{title:I.company_name||"-",subtitle:I.contract_code||"",icon:i.jsx(Un,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:I=>i.jsx("span",{className:"text-sm text-foreground",children:_n(I.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:I=>i.jsx(ht,{variant:"outline",className:"text-xs",children:I.contract_amount?`$${I.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:I=>i.jsx("span",{className:"text-sm text-muted-foreground",children:I.cont_start_date?new Date(I.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:I=>i.jsx("span",{className:"text-sm text-muted-foreground",children:I.cont_end_date?new Date(I.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:I=>i.jsx(Af,{date:I.created_at})}],X=[{icon:i.jsx(Ri,{}),label:e("common.edit"),onClick:I=>Wi(I)},{icon:i.jsx(sr,{}),label:e("common.delete"),onClick:I=>q(I.project_id),variant:"destructive"}];return i.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:n?"rtl":"ltr",children:[i.jsxs("div",{className:"flex-shrink-0 pb-3",children:[i.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4 mb-3",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[i.jsxs(le,{variant:"outline",size:"default",onClick:()=>Ge(be==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[be==="list"?i.jsx(ti,{className:"h-4 w-4"}):i.jsx(Un,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e(be==="list"?"mprojects.kanbanView":"mprojects.listView")})]}),i.jsxs(le,{variant:pe?"default":"outline",size:"default",onClick:()=>Me(!pe),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(ti,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mprojects.showChart")}),i.jsx(Ih,{className:`h-4 w-4 transition-transform ${pe?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:n?"rtl":"ltr",children:[i.jsx(ps,{className:`absolute ${n?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),i.jsx(Be,{placeholder:e("mprojects.searchPlaceholder"),value:k,onChange:I=>{C(I.target.value),O(1)},className:`${n?"pr-10 pl-3":"pl-10 pr-3"} h-10 bg-background border-input`})]})]}),i.jsxs(vl,{open:G,onOpenChange:K,children:[i.jsx(P7,{asChild:!0,children:i.jsxs(le,{size:"default",onClick:()=>{P(null),_t({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),we([]),ae(null),U(""),se(!1),it(!1),xe({city_name_en:"",city_name_ar:"",country_id:null}),$e({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),K(!0)},className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:n?"rtl":"ltr",children:[i.jsx(Wt,{className:`w-4 h-4 ${n?"order-2":"order-1"}`}),i.jsx("span",{className:`${n?"order-1":"order-2"}`,children:e("common.add")})]})}),i.jsxs(Eo,{side:n?"left":"right",className:"w-full sm:max-w-[540px] flex flex-col h-full p-0",children:[i.jsx(hc,{className:"p-6 pb-0",children:i.jsx(xl,{children:e(Y?"mprojects.editProject":"mprojects.createNewProject")})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),i.jsx(Be,{value:ot.company_name||"",onChange:I=>_t({...ot,company_name:I.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),i.jsx(Be,{value:ot.contract_code||"",onChange:I=>_t({...ot,contract_code:I.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),i.jsx(Be,{type:"number",value:ot.contract_amount||"",onChange:I=>_t({...ot,contract_amount:parseFloat(I.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),i.jsx(Be,{type:"date",value:ot.cont_start_date||"",onChange:I=>_t({...ot,cont_start_date:I.target.value}),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),i.jsx(Be,{type:"date",value:ot.cont_end_date||"",onChange:I=>_t({...ot,cont_end_date:I.target.value}),className:"h-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),i.jsxs(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>se(!Z),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[i.jsx(Wt,{className:"h-3 w-3 mr-1"}),e(Z?"mprojects.cancel":"mprojects.addCity")]})]}),Z?i.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[i.jsx(Be,{placeholder:"City Name (English)",value:oe.city_name_en,onChange:I=>xe({...oe,city_name_en:I.target.value}),className:"h-9"}),i.jsx(Be,{placeholder:"City Name (Arabic)",value:oe.city_name_ar,onChange:I=>xe({...oe,city_name_ar:I.target.value}),className:"h-9"}),i.jsxs(vt,{value:((re=oe.country_id)==null?void 0:re.toString())||"",onValueChange:I=>xe({...oe,country_id:parseInt(I)}),children:[i.jsx(mt,{className:"h-9",children:i.jsx(xt,{placeholder:"Select Country"})}),i.jsx(pt,{children:v.map(I=>i.jsx(Ce,{value:I.country_id.toString(),children:Mn(I,"country_name_en","country_name_ar")},I.country_id))})]}),i.jsxs(le,{onClick:fi,size:"sm",className:"w-full h-9",children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):i.jsxs(vt,{value:((te=ot.city_id)==null?void 0:te.toString())||"",onValueChange:I=>_t({...ot,city_id:parseInt(I)||null}),children:[i.jsx(mt,{className:"h-10",children:i.jsx(xt,{placeholder:e("mprojects.selectCity")})}),i.jsx(pt,{children:d.map(I=>i.jsx(Ce,{value:I.city_id.toString(),children:Mn(I,"city_name_en","city_name_ar")},I.city_id))})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),i.jsxs(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>it(!tt),className:"h-6 px-2 text-xs",children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),e(tt?"mprojects.cancel":"mprojects.addContact")]})]}),ue.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:ue.map((I,Q)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:I.contact_name}),i.jsxs("div",{className:"text-muted-foreground",children:[I.contact_email&&`${I.contact_email}  `,I.contact_mobile&&`${I.contact_mobile}`]})]}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>ys(Q),className:"h-6 w-6 p-0",children:i.jsx(Mi,{className:"h-3 w-3"})})]},Q))}),tt&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Be,{placeholder:e("mprojects.contactName"),value:_e.contact_name,onChange:I=>$e({..._e,contact_name:I.target.value})}),i.jsx(Be,{placeholder:e("mprojects.email"),type:"email",value:_e.contact_email,onChange:I=>$e({..._e,contact_email:I.target.value})}),i.jsx(Be,{placeholder:e("mprojects.mobile"),value:_e.contact_mobile,onChange:I=>$e({..._e,contact_mobile:I.target.value})}),i.jsxs(da,{open:Fe,onOpenChange:st,children:[i.jsx(fa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Fe,className:"w-full justify-between",children:[_e.jobtitle_id?(ne=b.find(I=>I.jobtitle_id===_e.jobtitle_id))==null?void 0:ne.jobtitle_name_en:e("mprojects.selectJobTitle"),i.jsx(Ua,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ha,{children:[i.jsx(ma,{placeholder:e("mprojects.searchJobTitle")}),i.jsxs(pa,{children:[i.jsx(ga,{children:e("common.noResults")}),i.jsx(va,{children:b&&b.length>0?b.map(I=>i.jsx(ur,{value:Mn(I,"jobtitle_name_en","jobtitle_name_ar")||I.jobtitle_name_en||"Unknown",onSelect:()=>{$e(Q=>({...Q,jobtitle_id:I.jobtitle_id})),st(!1)},children:Mn(I,"jobtitle_name_en","jobtitle_name_ar")||I.jobtitle_name_en||"Unknown"},I.jobtitle_id)):i.jsx(ur,{disabled:!0,children:"No job titles available"})})]})]})})]}),i.jsx(le,{type:"button",onClick:qn,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),i.jsx(Be,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:I=>{var fe;const Q=(fe=I.target.files)==null?void 0:fe[0];ae(Q||null)},className:"file:hidden cursor-pointer"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),Ze&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[i.jsx(ba,{className:"h-5 w-5 text-primary flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:Ze.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(Ze.size/1024/1024).toFixed(2)," MB"]})]}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>ae(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:i.jsx(Mi,{className:"h-4 w-4"})})]}),he&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx(Pa,{size:"sm"}),i.jsx("span",{className:"text-sm text-blue-700",children:he})]})]})]})]}),i.jsx("div",{className:"p-6 border-t bg-muted/20",children:i.jsx(le,{onClick:Mo,className:"w-full",disabled:Ee||!ot.company_name,children:e(Ee?"common.saving":Y?"common.save":"common.create")})})]})]})]})}),i.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")||"Filters"}),(M||L||k)&&i.jsx(le,{variant:"outline",size:"sm",onClick:()=>{F(""),B(""),C(""),O(1)},children:e("mprojects.clearFilters")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(vt,{value:L||"all",onValueChange:I=>{B(I==="all"?"":I),O(1)},children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:e("mprojects.country")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:e("mprojects.allCountries")}),v.map(I=>i.jsx(Ce,{value:I.country_id.toString(),children:Mn(I,"country_name_en","country_name_ar")},I.country_id))]})]}),i.jsxs(vt,{value:M||"all",onValueChange:I=>{F(I==="all"?"":I),O(1)},children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:e("mprojects.city")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:e("mprojects.allCities")}),d.map(I=>i.jsx(Ce,{value:I.city_id.toString(),children:Mn(I,"city_name_en","city_name_ar")},I.city_id))]})]})]})]})]}),pe&&i.jsxs(et,{children:[i.jsx($t,{children:i.jsx(Jt,{children:e("mprojects.analytics")})}),i.jsx(ct,{children:i.jsxs(Ao,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Ii,{className:"grid w-full grid-cols-2",children:[i.jsx(kr,{value:"overview",children:"Overview"}),i.jsx(kr,{value:"timeline",children:"Timeline"})]}),i.jsx(Vr,{value:"overview",className:"mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),i.jsx(Ko,{config:{},className:"h-[350px]",children:i.jsxs(hd,{children:[i.jsx(Ya,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(fe=>({name:fe.name,value:Tr.filter(Se=>Se.contract_amount&&Se.contract_amount>=fe.min&&Se.contract_amount<fe.max).length})).filter(fe=>fe.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:I,value:Q})=>`${I}: ${Q}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((I,Q)=>i.jsx(rl,{fill:I},`cell-${Q}`))}),i.jsx(gd,{content:i.jsx(Jc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),i.jsx(Ko,{config:{},className:"h-[350px]",children:i.jsxs(hd,{children:[i.jsx(Ya,{data:(()=>{const I=d.map(Q=>({name:Mn(Q,"city_name_en","city_name_ar"),value:Tr.filter(fe=>fe.city_id===Q.city_id).length})).filter(Q=>Q.value>0);return I.length>0?I:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:I,value:Q})=>`${I}: ${Q}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((I,Q)=>i.jsx(rl,{fill:I},`cell-${Q}`))}),i.jsx(gd,{content:i.jsx(Jc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),i.jsx("div",{className:"text-5xl font-bold text-primary",children:Tr.length}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),i.jsx(Vr,{value:"timeline",className:"mt-4",children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(ku,{width:"100%",height:"100%",children:i.jsxs(ix,{data:(()=>{const I=new Map;return Tr.forEach(fe=>{const Se=new Date(fe.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});I.set(Se,(I.get(Se)||0)+1)}),Array.from(I.entries()).sort((fe,Se)=>new Date(fe[0]).getTime()-new Date(Se[0]).getTime()).map(([fe,Se])=>({date:fe,count:Se}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[i.jsx(Eu,{strokeDasharray:"3 3"}),i.jsx(xo,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),i.jsx(yo,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),i.jsx(Qn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:I=>[`${I} projects`,"Total"]}),i.jsx(ii,{}),i.jsx(Nc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),i.jsx(et,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:i.jsx(ct,{className:"h-full flex flex-col p-0",children:i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-4",children:be==="kanban"?i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:zs.map(I=>{var Q;return i.jsxs(et,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>Vs(I),children:[i.jsx($t,{className:"pb-2 px-4 pt-3",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:I.company_name||"No Company"}),I.contract_code&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:I.contract_code})]})})}),i.jsxs(ct,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(ym,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:_n(I.city_id)})]})}),i.jsx("div",{children:i.jsxs(ht,{variant:"outline",className:"text-xs",children:["$",((Q=I.contract_amount)==null?void 0:Q.toLocaleString())||"0"]})})]}),i.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("span",{children:["Created: ",new Date(I.created_at).toLocaleDateString()]})})})]})]},I.project_id)})})}):i.jsx(i.Fragment,{children:Tr.length===0?i.jsx(bo,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:i.jsx(Un,{className:"h-12 w-12"})}):i.jsx(vc,{data:zs,columns:If,actions:X,bulkActions:Ec,enableBulkSelect:!0,keyExtractor:I=>I.project_id.toString(),onRowClick:I=>Vs(I),rowHeight:"h-26"})})})})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:sa>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(ep,{children:[i.jsx(Sa,{children:i.jsx(du,{onClick:()=>O(Math.max(0,T-1)),className:T===0?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",T+1," ",e("common.of")," ",sa]})}),i.jsx(Sa,{children:i.jsx(fu,{onClick:()=>O(Math.min(sa-1,T+1)),className:T===sa-1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})}),i.jsx(Ls,{open:D!==null,onOpenChange:()=>q(null),children:i.jsxs(ss,{children:[i.jsxs(is,{children:[i.jsx(ls,{children:e("mprojects.deleteProject")}),i.jsx(cs,{children:e("mprojects.deleteProjectConfirmation")})]}),i.jsxs(os,{children:[i.jsx(ds,{children:e("common.cancel")}),i.jsx(us,{onClick:()=>D&&Al(D),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),i.jsx(vl,{open:ce,onOpenChange:E,children:i.jsxs(Eo,{side:n?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[i.jsx(hc,{children:i.jsxs(xl,{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Un,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:z==null?void 0:z.company_name})]})}),z&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),i.jsxs(le,{onClick:()=>{Wi(z),E(!1)},variant:"outline",size:"sm",children:[i.jsx(Ri,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),i.jsxs(Ao,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Ii,{className:"grid w-full grid-cols-2",children:[i.jsx(kr,{value:"overview",children:e("common.overview")}),i.jsx(kr,{value:"notes",children:e("notes.title")})]}),i.jsxs(Vr,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:z.company_name||"-"}),z.contract_code&&i.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",z.contract_code]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),i.jsx("p",{className:"font-medium",children:z.contract_amount?`$${z.contract_amount.toLocaleString()}`:"-"})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),i.jsx("p",{className:"font-medium",children:z.cont_start_date?new Date(z.cont_start_date).toLocaleDateString():"-"})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),i.jsx("p",{className:"font-medium",children:z.cont_end_date?new Date(z.cont_end_date).toLocaleDateString():"-"})]})})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(ym,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),i.jsx("p",{className:"font-medium",children:_n(z.city_id)})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const I=h.filter(Q=>Q.project_id===z.project_id);return I.length>0?i.jsx("div",{className:"space-y-2",children:I.map((Q,fe)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:Q.contact_name||"-"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[Q.contact_email&&`${Q.contact_email}  `,Q.contact_mobile&&`${Q.contact_mobile}`]})]}),i.jsx(ht,{variant:"outline",className:"text-xs",children:b.find(Se=>Se.jobtitle_id===Q.jobtitle_id)?Mn(b.find(Se=>Se.jobtitle_id===Q.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},Q.contact_id||fe))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),i.jsx("p",{className:"text-sm font-medium",children:new Date(z.created_at).toLocaleDateString()})]})}),z.contract_document&&(()=>{const I=z.contract_document;return i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(ba,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),i.jsx("button",{onClick:()=>{const Q=`data:${I.mime||"application/pdf"};base64,${I.path}`,fe=window.open();if(fe)fe.document.write(`
                                  <html>
                                    <body style="margin:0;padding:20px;">
                                      <embed src="${Q}" width="100%" height="100%" />
                                    </body>
                                  </html>
                                `);else{const Se=document.createElement("a");Se.href=Q,Se.download=I.name||"contract.pdf",Se.click()}},className:"font-medium text-blue-600 hover:underline truncate block bg-transparent border-none cursor-pointer text-left",children:e("mprojects.viewContract")})]}),i.jsxs("div",{className:"flex gap-1",children:[I.url&&i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>window.open(I.url,"_blank"),className:"h-8 w-8 p-0",children:i.jsx(dae,{className:"h-4 w-4"})}),i.jsx(le,{variant:"ghost",size:"sm",onClick:async()=>{try{await fWe(z.project_id),a({title:e("common.success"),description:"Contract document deleted successfully"}),await ar(),E(!1)}catch{a({title:"Error",description:"Failed to delete contract document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:i.jsx(sr,{className:"h-4 w-4"})})]})]})})()]}),i.jsx(Vr,{value:"notes",className:"mt-4",children:i.jsx(_P,{relatedType:"mlead",relatedId:z.project_id,notes:Pe,onNotesChange:()=>xs(z.project_id)})})]})]})]})})]})}function mWe(){var A,V,H;const{t:e}=Rt(),{toast:t}=Po(),[r,n]=x.useState("list"),[a,s]=x.useState([]),[o,l]=x.useState(null),[c,u]=x.useState([]),[d,f]=x.useState(null),[h,m]=x.useState(!1);x.useState([]);const[g,p]=x.useState("");x.useEffect(()=>{v()},[]);const v=async()=>{try{const M=["leads_summary_report","leads_by_city_report","leads_conversion_report","sales_performance_report","leads_trend_report"],F=[];for(let L=0;L<M.length;L++)try{const B=await qo(`/api/v1/report/${M[L]}`);B&&B.data&&(F.push({report_id:L+1,report_name:M[L],report_title_en:M[L].replace(/_/g," ").replace(/\b\w/g,D=>D.toUpperCase())+" Report",report_title_ar:y(M[L]),report_description_en:b(M[L]),report_description_ar:_(M[L]),report_type:j(M[L]),is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1}),console.log(` Report ${M[L]} loaded successfully`))}catch(B){console.warn(` Report ${M[L]} not available:`,B)}if(F.length>0)console.log(` Loaded ${F.length} reports:`,F.map(L=>L.report_name)),s(F);else{console.warn(" No reports loaded from API, using fallback");const L=[{report_id:1,report_name:"leads_summary_report",report_title_en:"Leads Summary Report",report_title_ar:"   ",report_description_en:"Comprehensive overview of all leads with status breakdown",report_description_ar:"        ",report_type:"summary",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:2,report_name:"leads_by_city_report",report_title_en:"Leads by City Report",report_title_ar:"   ",report_description_en:"Geographic distribution of leads across different cities",report_description_ar:"      ",report_type:"analytics",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:3,report_name:"leads_conversion_report",report_title_en:"Leads Conversion Report",report_title_ar:"  ",report_description_en:"Analysis of lead conversion rates by activity and system sources",report_description_ar:"       ",report_type:"conversion",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:4,report_name:"sales_performance_report",report_title_en:"Sales Performance Report",report_title_ar:"  ",report_description_en:"Sales team performance metrics and achievements",report_description_ar:"    ",report_type:"performance",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:5,report_name:"leads_trend_report",report_title_en:"Leads Trend Report",report_title_ar:"  ",report_description_en:"Monthly trends in lead creation and conversion",report_description_ar:"     ",report_type:"trend",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1}];s(L)}}catch(M){console.error("Failed to load reports:",M),t({title:e("reports.errorLoading"),description:e("reports.errorLoading"),variant:"destructive"})}},y=M=>({leads_summary_report:"   ",leads_by_city_report:"   ",leads_conversion_report:"  ",sales_performance_report:"  ",leads_trend_report:"  "})[M]||"",b=M=>({leads_summary_report:"Comprehensive overview of all leads with status breakdown",leads_by_city_report:"Geographic distribution of leads across different cities",leads_conversion_report:"Analysis of lead conversion rates by activity and system sources",sales_performance_report:"Sales team performance metrics and achievements",leads_trend_report:"Monthly trends in lead creation and conversion"})[M]||"Report description",_=M=>({leads_summary_report:"        ",leads_by_city_report:"      ",leads_conversion_report:"       ",sales_performance_report:"    ",leads_trend_report:"     "})[M]||" ",j=M=>({leads_summary_report:"summary",leads_by_city_report:"analytics",leads_conversion_report:"conversion",sales_performance_report:"performance",leads_trend_report:"trend"})[M]||"summary",w=async M=>{try{const F=a.find(B=>B.report_id===M);if(!F)return;const L=N(F.report_name);u(L)}catch(F){console.error("Failed to load report parameters:",F),t({title:"Error",description:"Failed to load report parameters",variant:"destructive"})}},N=M=>({leads_summary:[{param_id:1,report_id:1,param_name:"status_id",param_label_en:"Status",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:2,report_id:1,param_name:"activity_id",param_label_en:"Activity",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0},{param_id:3,report_id:1,param_name:"system_id",param_label_en:"System",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:3,is_active:!0},{param_id:4,report_id:1,param_name:"assigned_to",param_label_en:"Assigned To",param_label_ar:" ",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:4,is_active:!0}],leads_by_city:[{param_id:5,report_id:2,param_name:"city_id",param_label_en:"City",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:6,report_id:2,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0}],leads_conversion:[{param_id:7,report_id:3,param_name:"activity_id",param_label_en:"Activity",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:8,report_id:3,param_name:"system_id",param_label_en:"System",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0},{param_id:9,report_id:3,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:3,is_active:!0},{param_id:10,report_id:3,param_name:"end_date",param_label_en:"End Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:4,is_active:!0}],sales_performance:[{param_id:11,report_id:4,param_name:"assigned_to",param_label_en:"Sales Person",param_label_ar:" ",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:12,report_id:4,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0},{param_id:13,report_id:4,param_name:"end_date",param_label_en:"End Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:3,is_active:!0}],leads_trend_simple:[{param_id:14,report_id:5,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:15,report_id:5,param_name:"end_date",param_label_en:"End Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0}]})[M]||[],S=async()=>{if(o)try{m(!0),f(null);const M={};c.forEach(L=>{const B=document.getElementById(`param_${L.param_name}`);B&&(M[L.param_name]=B.value)});const F=await qo(`/api/v1/report/${o.report_name}`);f({data:F.data||[],columns:F.columns||(F.data&&F.data.length>0?Object.keys(F.data[0]):[]),report_type:o.report_name,execution_time:new Date().toISOString()})}catch(M){console.error("Failed to execute report:",M),t({title:e("reports.errorLoading"),description:e("reports.errorLoading"),variant:"destructive"})}finally{m(!1)}},k=async M=>{if(!(!d||!d.data))try{const F=[d.columns.join(","),...d.data.map(q=>d.columns.map(Y=>`"${q[Y]||""}"`).join(","))].join(`
`),L=new Blob([F],{type:"text/csv"}),B=window.URL.createObjectURL(L),D=document.createElement("a");D.href=B,D.download=`${o.report_name}.csv`,document.body.appendChild(D),D.click(),document.body.removeChild(D),window.URL.revokeObjectURL(B),t({title:e("reports.downloadSuccess"),description:e("reports.downloadSuccess")})}catch(F){console.error("Failed to export report:",F),t({title:e("reports.exportError"),description:e("reports.exportError"),variant:"destructive"})}},C=async()=>{t({title:"Info",description:"Reports are predefined. Contact admin to add new reports.",variant:"default"})},T=async M=>{try{s(F=>F.filter(L=>L.report_id!==M)),t({title:"Success",description:"Report removed from list"})}catch(F){console.error("Failed to delete report:",F),t({title:"Error",description:"Failed to delete report",variant:"destructive"})}},O=a.filter(M=>M.report_name.toLowerCase().includes(g.toLowerCase())||M.report_title_en.toLowerCase().includes(g.toLowerCase())||M.report_title_ar.toLowerCase().includes(g.toLowerCase()));return i.jsxs("div",{className:"container mx-auto py-6 px-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:e("navigation.reports")}),i.jsx("p",{className:"text-muted-foreground mb-6",children:e("reports.description")})]}),i.jsxs(Ao,{value:r,onValueChange:n,children:[i.jsxs(Ii,{className:"grid w-full grid-cols-3",children:[i.jsx(kr,{value:"list",children:e("reports.list")}),i.jsx(kr,{value:"create",children:e("reports.create")}),i.jsx(kr,{value:"schedule",children:e("reports.schedule")})]}),i.jsxs(Vr,{value:"list",className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(ps,{className:"h-4 w-4"}),i.jsx(Be,{placeholder:e("reports.searchReports"),value:g,onChange:M=>p(M.target.value),className:"max-w-sm"})]}),i.jsxs(le,{onClick:C,children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),e("reports.createNew")]})]}),O.length===0?i.jsx(bo,{icon:i.jsx(Di,{className:"h-12 w-12"}),title:e("reports.noReports"),description:e("reports.noReportsDesc")}):i.jsx("div",{className:"grid gap-4",children:O.map(M=>i.jsxs(et,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[i.jsx($t,{children:i.jsxs(Jt,{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold",children:[e("reports.title"),": ",M.report_title_en]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("reports.description"),": ",M.report_description_en]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(le,{variant:"outline",size:"sm",onClick:()=>w(M.report_id),children:i.jsx(z_,{className:"h-4 w-4"})}),i.jsx(le,{variant:"outline",size:"sm",onClick:()=>l(M),children:i.jsx(KN,{className:"h-4 w-4"})}),i.jsx(le,{variant:"destructive",size:"sm",onClick:()=>T(M.report_id),children:i.jsx(sr,{className:"h-4 w-4"})})]})]})}),i.jsx(ct,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ht,{variant:M.is_active?"default":"secondary",children:M.report_type}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("reports.lastModified"),": ",new Date(M.updated_at).toLocaleDateString()]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("reports.createdBy"),": ",M.created_by]})})]})})]},M.report_id))})]}),i.jsx(Vr,{value:"create",className:"space-y-6",children:i.jsxs(et,{children:[i.jsx($t,{children:i.jsx(Jt,{children:e("reports.createNew")})}),i.jsxs(ct,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_name",children:e("reports.reportName")}),i.jsx(Be,{id:"report_name",placeholder:e("reports.reportNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_title_en",children:e("reports.titleEn")}),i.jsx(Be,{id:"report_title_en",placeholder:e("reports.titleEnPlaceholder")})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_title_ar",children:e("reports.titleAr")}),i.jsx(Be,{id:"report_title_ar",placeholder:e("reports.titleArPlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_type",children:e("reports.reportType")}),i.jsxs(vt,{onValueChange:M=>console.log("Report type:",M),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:e("reports.selectType")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"summary",children:e("reports.types.summary")}),i.jsx(Ce,{value:"analytics",children:e("reports.types.analytics")}),i.jsx(Ce,{value:"trend",children:e("reports.types.trend")}),i.jsx(Ce,{value:"conversion",children:e("reports.types.conversion")}),i.jsx(Ce,{value:"performance",children:e("reports.types.performance")})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_description_en",children:e("reports.descriptionEn")}),i.jsx(On,{id:"report_description_en",placeholder:e("reports.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_description_ar",children:e("reports.descriptionAr")}),i.jsx(On,{id:"report_description_ar",placeholder:e("reports.descriptionPlaceholder"),rows:3})]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsxs(le,{onClick:C,children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),e("reports.createReport")]})})]})]})}),i.jsx(Vr,{value:"schedule",className:"space-y-6",children:i.jsxs(et,{children:[i.jsx($t,{children:i.jsx(Jt,{children:e("reports.scheduling")})}),i.jsx(ct,{children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(xP,{className:"h-12 w-12 mx-auto text-muted-foreground"}),i.jsx("h3",{className:"mt-4 text-lg font-semibold",children:e("reports.comingSoon")}),i.jsx("p",{className:"text-muted-foreground",children:e("reports.schedulingDesc")})]})})]})})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:o.report_title_en}),i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>l(null),children:""})]}),c.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("reports.parameters")}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(M=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:`param_${M.param_name}`,children:[M.param_label_en,M.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),M.param_type==="text"&&i.jsx(Be,{id:`param_${M.param_name}`,placeholder:M.param_default||"",defaultValue:M.param_default||""}),M.param_type==="number"&&i.jsx(Be,{id:`param_${M.param_name}`,type:"number",placeholder:M.param_default||"",defaultValue:M.param_default||""}),M.param_type==="date"&&i.jsx(Be,{id:`param_${M.param_name}`,type:"date",placeholder:M.param_default||"",defaultValue:M.param_default||""}),M.param_type==="select"&&M.param_options&&i.jsxs(vt,{onValueChange:F=>console.log("Selected:",F),children:[i.jsx(mt,{children:i.jsx(xt,{placeholder:M.param_default||""})}),i.jsx(pt,{children:JSON.parse(M.param_options||"[]").map(F=>i.jsx(Ce,{value:F.value,children:F.label},F.value))})]})]},M.param_id))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(le,{onClick:S,disabled:h,className:"flex-1",children:h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),e("reports.executing")]}):i.jsxs(i.Fragment,{children:[i.jsx(KN,{className:"h-4 w-4 mr-2"}),e("reports.executeReport")]})}),d&&i.jsxs(le,{variant:"outline",onClick:()=>k(),children:[i.jsx(wB,{className:"h-4 w-4 mr-2"}),e("reports.exportCSV")]})]}),d&&i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e("reports.results")}),i.jsxs(ht,{variant:"secondary",children:[d.totalCount||((A=d.data)==null?void 0:A.length)," ",e("reports.records")]})]}),d.message&&i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:i.jsx("p",{className:"text-blue-700",children:d.message})}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-96",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted",children:i.jsx("tr",{children:(V=d.columns)==null?void 0:V.map(M=>i.jsx("th",{className:"px-4 py-2 text-left font-medium border-b",children:M.replace(/_/g," ").replace(/\b\w/g,F=>F.toUpperCase())},M))})}),i.jsx("tbody",{children:(H=d.data)==null?void 0:H.map((M,F)=>{var L;return i.jsx("tr",{className:"border-b hover:bg-muted/50",children:(L=d.columns)==null?void 0:L.map(B=>i.jsx("td",{className:"px-4 py-2 border-b",children:M[B]||"-"},B))},F)})})]})})})]})]})})]})}const h0={async getRequests(){return(await J.requests.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async getRequestById(e){return await J.requests.get(e)},async createRequest(e){return await J.requests.create(e)},async updateRequest(e,t){return await J.requests.update(e,t)},async deleteRequest(e){await J.requests.delete(e)}};var Sx=e=>e.type==="checkbox",Cd=e=>e instanceof Date,Ga=e=>e==null;const gY=e=>typeof e=="object";var on=e=>!Ga(e)&&!Array.isArray(e)&&gY(e)&&!Cd(e),vY=e=>on(e)&&e.target?Sx(e.target)?e.target.checked:e.target.value:e,pWe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,xY=(e,t)=>e.has(pWe(t)),gWe=e=>{const t=e.constructor&&e.constructor.prototype;return on(t)&&t.hasOwnProperty("isPrototypeOf")},mO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Sn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(mO&&(e instanceof Blob||n))&&(r||on(e)))if(t=r?[]:{},!r&&!gWe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Sn(e[a]));else return e;return t}var xj=e=>/^\w*$/.test(e),en=e=>e===void 0,pO=e=>Array.isArray(e)?e.filter(Boolean):[],gO=e=>pO(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Qe=(e,t,r)=>{if(!t||!on(e))return r;const n=(xj(t)?[t]:gO(t)).reduce((a,s)=>Ga(a)?a:a[s],e);return en(n)||n===e?en(e[t])?r:e[t]:n},Ks=e=>typeof e=="boolean",mr=(e,t,r)=>{let n=-1;const a=xj(t)?[t]:gO(t),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=on(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const u_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},uo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vO=ie.createContext(null);vO.displayName="HookFormContext";const yj=()=>ie.useContext(vO),vWe=e=>{const{children:t,...r}=e;return ie.createElement(vO.Provider,{value:r},t)};var yY=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const o=s;return t._proxyFormState[o]!==uo.all&&(t._proxyFormState[o]=!n||uo.all),r&&(r[o]=!0),e[o]}});return a};const xO=typeof window<"u"?ie.useLayoutEffect:ie.useEffect;function xWe(e){const t=yj(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[o,l]=ie.useState(r._formState),c=ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return xO(()=>r._subscribe({name:a,formState:c.current,exact:s,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,s]),ie.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ie.useMemo(()=>yY(o,r,c.current,!1),[o,r])}var ol=e=>typeof e=="string",bY=(e,t,r,n,a)=>ol(e)?(n&&t.watch.add(e),Qe(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Qe(r,s))):(n&&(t.watchAll=!0),r),iE=e=>Ga(e)||!gY(e);function Vl(e,t,r=new WeakSet){if(iE(e)||iE(t))return e===t;if(Cd(e)&&Cd(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const o=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(Cd(o)&&Cd(l)||on(o)&&on(l)||Array.isArray(o)&&Array.isArray(l)?!Vl(o,l,r):o!==l)return!1}}return!0}function yWe(e){const t=yj(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:o,compute:l}=e||{},c=ie.useRef(a),u=ie.useRef(l),d=ie.useRef(void 0);u.current=l;const f=ie.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=ie.useState(u.current?u.current(f):f);return xO(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:g=>{if(!s){const p=bY(n,r._names,g.values||r._formValues,!1,c.current);if(u.current){const v=u.current(p);Vl(v,d.current)||(m(v),d.current=v)}else m(p)}}}),[r,s,n,o]),ie.useEffect(()=>r._removeUnmounted()),h}function bWe(e){const t=yj(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s,defaultValue:o}=e,l=xY(a._names.array,r),c=ie.useMemo(()=>Qe(a._formValues,r,Qe(a._defaultValues,r,o)),[a,r,o]),u=yWe({control:a,name:r,defaultValue:c,exact:!0}),d=xWe({control:a,name:r,exact:!0}),f=ie.useRef(e),h=ie.useRef(a.register(r,{...e.rules,value:u,...Ks(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=ie.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Qe(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Qe(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Qe(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Qe(d.validatingFields,r)},error:{enumerable:!0,get:()=>Qe(d.errors,r)}}),[d,r]),g=ie.useCallback(b=>h.current.onChange({target:{value:vY(b),name:r},type:u_.CHANGE}),[r]),p=ie.useCallback(()=>h.current.onBlur({target:{value:Qe(a._formValues,r),name:r},type:u_.BLUR}),[r,a._formValues]),v=ie.useCallback(b=>{const _=Qe(a._fields,r);_&&b&&(_._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:j=>b.setCustomValidity(j),reportValidity:()=>b.reportValidity()})},[a._fields,r]),y=ie.useMemo(()=>({name:r,value:u,...Ks(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:p,ref:v}),[r,n,d.disabled,g,p,v,u]);return ie.useEffect(()=>{const b=a._options.shouldUnregister||s;a.register(r,{...f.current.rules,...Ks(f.current.disabled)?{disabled:f.current.disabled}:{}});const _=(j,w)=>{const N=Qe(a._fields,j);N&&N._f&&(N._f.mount=w)};if(_(r,!0),b){const j=Sn(Qe(a._options.defaultValues,r));mr(a._defaultValues,r,j),en(Qe(a._formValues,r))&&mr(a._formValues,r,j)}return!l&&a.register(r),()=>{(l?b&&!a._state.action:b)?a.unregister(r):_(r,!1)}},[r,a,l,s]),ie.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ie.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const _We=e=>e.render(bWe(e));var _Y=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},ig=e=>Array.isArray(e)?e:[e],T5=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},ws=e=>on(e)&&!Object.keys(e).length,yO=e=>e.type==="file",fo=e=>typeof e=="function",d_=e=>{if(!mO)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},wY=e=>e.type==="select-multiple",bO=e=>e.type==="radio",wWe=e=>bO(e)||Sx(e),T2=e=>d_(e)&&e.isConnected;function jWe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=en(e)?n++:e[t[n++]];return e}function SWe(e){for(const t in e)if(e.hasOwnProperty(t)&&!en(e[t]))return!1;return!0}function dn(e,t){const r=Array.isArray(t)?t:xj(t)?[t]:gO(t),n=r.length===1?e:jWe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(on(n)&&ws(n)||Array.isArray(n)&&SWe(n))&&dn(e,r.slice(0,-1)),e}var jY=e=>{for(const t in e)if(fo(e[t]))return!0;return!1};function f_(e,t={}){const r=Array.isArray(e);if(on(e)||r)for(const n in e)Array.isArray(e[n])||on(e[n])&&!jY(e[n])?(t[n]=Array.isArray(e[n])?[]:{},f_(e[n],t[n])):Ga(e[n])||(t[n]=!0);return t}function SY(e,t,r){const n=Array.isArray(e);if(on(e)||n)for(const a in e)Array.isArray(e[a])||on(e[a])&&!jY(e[a])?en(t)||iE(r[a])?r[a]=Array.isArray(e[a])?f_(e[a],[]):{...f_(e[a])}:SY(e[a],Ga(t)?{}:t[a],r[a]):r[a]=!Vl(e[a],t[a]);return r}var m0=(e,t)=>SY(e,t,f_(t));const A5={value:!1,isValid:!1},P5={value:!0,isValid:!0};var NY=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!en(e[0].attributes.value)?en(e[0].value)||e[0].value===""?P5:{value:e[0].value,isValid:!0}:P5:A5}return A5},kY=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>en(e)?e:t?e===""?NaN:e&&+e:r&&ol(e)?new Date(e):n?n(e):e;const O5={isValid:!1,value:null};var CY=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,O5):O5;function D5(e){const t=e.ref;return yO(t)?t.files:bO(t)?CY(e.refs).value:wY(t)?[...t.selectedOptions].map(({value:r})=>r):Sx(t)?NY(e.refs).value:kY(en(t.value)?e.ref.value:t.value,e)}var NWe=(e,t,r,n)=>{const a={};for(const s of e){const o=Qe(t,s);o&&mr(a,s,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},h_=e=>e instanceof RegExp,p0=e=>en(e)?e:h_(e)?e.source:on(e)?h_(e.value)?e.value.source:e.value:e,R5=e=>({isOnSubmit:!e||e===uo.onSubmit,isOnBlur:e===uo.onBlur,isOnChange:e===uo.onChange,isOnAll:e===uo.all,isOnTouch:e===uo.onTouched});const M5="AsyncFunction";var kWe=e=>!!e&&!!e.validate&&!!(fo(e.validate)&&e.validate.constructor.name===M5||on(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===M5)),CWe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),F5=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const og=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=Qe(e,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(og(l,t))break}else if(on(l)&&og(l,t))break}}};function I5(e,t,r){const n=Qe(e,r);if(n||xj(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=Qe(t,s),l=Qe(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var EWe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return ws(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||uo.all))},TWe=(e,t,r)=>!e||!t||e===t||ig(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),AWe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,PWe=(e,t)=>!pO(Qe(e,t)).length&&dn(e,t),OWe=(e,t,r)=>{const n=ig(Qe(e,r));return mr(n,"root",t[r]),mr(e,r,n),e},n1=e=>ol(e);function L5(e,t,r="validate"){if(n1(e)||Array.isArray(e)&&e.every(n1)||Ks(e)&&!e)return{type:r,message:n1(e)?e:"",ref:t}}var Zf=e=>on(e)&&!h_(e)?e:{value:e,message:""},$5=async(e,t,r,n,a,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:v,mount:y}=e._f,b=Qe(r,p);if(!y||t.has(p))return{};const _=l?l[0]:o,j=A=>{a&&_.reportValidity&&(_.setCustomValidity(Ks(A)?"":A||""),_.reportValidity())},w={},N=bO(o),S=Sx(o),k=N||S,C=(v||yO(o))&&en(o.value)&&en(b)||d_(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,T=_Y.bind(null,p,n,w),O=(A,V,H,M=Fl.maxLength,F=Fl.minLength)=>{const L=A?V:H;w[p]={type:A?M:F,message:L,ref:o,...T(A?M:F,L)}};if(s?!Array.isArray(b)||!b.length:c&&(!k&&(C||Ga(b))||Ks(b)&&!b||S&&!NY(l).isValid||N&&!CY(l).isValid)){const{value:A,message:V}=n1(c)?{value:!!c,message:c}:Zf(c);if(A&&(w[p]={type:Fl.required,message:V,ref:_,...T(Fl.required,V)},!n))return j(V),w}if(!C&&(!Ga(f)||!Ga(h))){let A,V;const H=Zf(h),M=Zf(f);if(!Ga(b)&&!isNaN(b)){const F=o.valueAsNumber||b&&+b;Ga(H.value)||(A=F>H.value),Ga(M.value)||(V=F<M.value)}else{const F=o.valueAsDate||new Date(b),L=q=>new Date(new Date().toDateString()+" "+q),B=o.type=="time",D=o.type=="week";ol(H.value)&&b&&(A=B?L(b)>L(H.value):D?b>H.value:F>new Date(H.value)),ol(M.value)&&b&&(V=B?L(b)<L(M.value):D?b<M.value:F<new Date(M.value))}if((A||V)&&(O(!!A,H.message,M.message,Fl.max,Fl.min),!n))return j(w[p].message),w}if((u||d)&&!C&&(ol(b)||s&&Array.isArray(b))){const A=Zf(u),V=Zf(d),H=!Ga(A.value)&&b.length>+A.value,M=!Ga(V.value)&&b.length<+V.value;if((H||M)&&(O(H,A.message,V.message),!n))return j(w[p].message),w}if(m&&!C&&ol(b)){const{value:A,message:V}=Zf(m);if(h_(A)&&!b.match(A)&&(w[p]={type:Fl.pattern,message:V,ref:o,...T(Fl.pattern,V)},!n))return j(V),w}if(g){if(fo(g)){const A=await g(b,r),V=L5(A,_);if(V&&(w[p]={...V,...T(Fl.validate,V.message)},!n))return j(V.message),w}else if(on(g)){let A={};for(const V in g){if(!ws(A)&&!n)break;const H=L5(await g[V](b,r),_,V);H&&(A={...H,...T(V,H.message)},j(H.message),n&&(w[p]=A))}if(!ws(A)&&(w[p]={ref:_,...A},!n))return w}}return j(!0),w};const DWe={mode:uo.onSubmit,reValidateMode:uo.onChange,shouldFocusError:!0};function RWe(e={}){let t={...DWe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:fo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=on(t.defaultValues)||on(t.values)?Sn(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Sn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:T5(),state:T5()},m=t.criteriaMode===uo.all,g=ae=>he=>{clearTimeout(u),u=setTimeout(ae,he)},p=async ae=>{if(!t.disabled&&(d.isValid||f.isValid||ae)){const he=t.resolver?ws((await S()).errors):await C(n,!0);he!==r.isValid&&h.state.next({isValid:he})}},v=(ae,he)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ae||Array.from(l.mount)).forEach(U=>{U&&(he?mr(r.validatingFields,U,he):dn(r.validatingFields,U))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ws(r.validatingFields)}))},y=(ae,he=[],U,ue,we=!0,_e=!0)=>{if(ue&&U&&!t.disabled){if(o.action=!0,_e&&Array.isArray(Qe(n,ae))){const $e=U(Qe(n,ae),ue.argA,ue.argB);we&&mr(n,ae,$e)}if(_e&&Array.isArray(Qe(r.errors,ae))){const $e=U(Qe(r.errors,ae),ue.argA,ue.argB);we&&mr(r.errors,ae,$e),PWe(r.errors,ae)}if((d.touchedFields||f.touchedFields)&&_e&&Array.isArray(Qe(r.touchedFields,ae))){const $e=U(Qe(r.touchedFields,ae),ue.argA,ue.argB);we&&mr(r.touchedFields,ae,$e)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=m0(a,s)),h.state.next({name:ae,isDirty:O(ae,he),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else mr(s,ae,he)},b=(ae,he)=>{mr(r.errors,ae,he),h.state.next({errors:r.errors})},_=ae=>{r.errors=ae,h.state.next({errors:r.errors,isValid:!1})},j=(ae,he,U,ue)=>{const we=Qe(n,ae);if(we){const _e=Qe(s,ae,en(U)?Qe(a,ae):U);en(_e)||ue&&ue.defaultChecked||he?mr(s,ae,he?_e:D5(we._f)):H(ae,_e),o.mount&&p()}},w=(ae,he,U,ue,we)=>{let _e=!1,$e=!1;const tt={name:ae};if(!t.disabled){if(!U||ue){(d.isDirty||f.isDirty)&&($e=r.isDirty,r.isDirty=tt.isDirty=O(),_e=$e!==tt.isDirty);const it=Vl(Qe(a,ae),he);$e=!!Qe(r.dirtyFields,ae),it?dn(r.dirtyFields,ae):mr(r.dirtyFields,ae,!0),tt.dirtyFields=r.dirtyFields,_e=_e||(d.dirtyFields||f.dirtyFields)&&$e!==!it}if(U){const it=Qe(r.touchedFields,ae);it||(mr(r.touchedFields,ae,U),tt.touchedFields=r.touchedFields,_e=_e||(d.touchedFields||f.touchedFields)&&it!==U)}_e&&we&&h.state.next(tt)}return _e?tt:{}},N=(ae,he,U,ue)=>{const we=Qe(r.errors,ae),_e=(d.isValid||f.isValid)&&Ks(he)&&r.isValid!==he;if(t.delayError&&U?(c=g(()=>b(ae,U)),c(t.delayError)):(clearTimeout(u),c=null,U?mr(r.errors,ae,U):dn(r.errors,ae)),(U?!Vl(we,U):we)||!ws(ue)||_e){const $e={...ue,..._e&&Ks(he)?{isValid:he}:{},errors:r.errors,name:ae};r={...r,...$e},h.state.next($e)}},S=async ae=>{v(ae,!0);const he=await t.resolver(s,t.context,NWe(ae||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(ae),he},k=async ae=>{const{errors:he}=await S(ae);if(ae)for(const U of ae){const ue=Qe(he,U);ue?mr(r.errors,U,ue):dn(r.errors,U)}else r.errors=he;return he},C=async(ae,he,U={valid:!0})=>{for(const ue in ae){const we=ae[ue];if(we){const{_f:_e,...$e}=we;if(_e){const tt=l.array.has(_e.name),it=we._f&&kWe(we._f);it&&d.validatingFields&&v([ue],!0);const Ee=await $5(we,l.disabled,s,m,t.shouldUseNativeValidation&&!he,tt);if(it&&d.validatingFields&&v([ue]),Ee[_e.name]&&(U.valid=!1,he))break;!he&&(Qe(Ee,_e.name)?tt?OWe(r.errors,Ee,_e.name):mr(r.errors,_e.name,Ee[_e.name]):dn(r.errors,_e.name))}!ws($e)&&await C($e,he,U)}}return U.valid},T=()=>{for(const ae of l.unMount){const he=Qe(n,ae);he&&(he._f.refs?he._f.refs.every(U=>!T2(U)):!T2(he._f.ref))&&oe(ae)}l.unMount=new Set},O=(ae,he)=>!t.disabled&&(ae&&he&&mr(s,ae,he),!Vl(q(),a)),A=(ae,he,U)=>bY(ae,l,{...o.mount?s:en(he)?a:ol(ae)?{[ae]:he}:he},U,he),V=ae=>pO(Qe(o.mount?s:a,ae,t.shouldUnregister?Qe(a,ae,[]):[])),H=(ae,he,U={})=>{const ue=Qe(n,ae);let we=he;if(ue){const _e=ue._f;_e&&(!_e.disabled&&mr(s,ae,kY(he,_e)),we=d_(_e.ref)&&Ga(he)?"":he,wY(_e.ref)?[..._e.ref.options].forEach($e=>$e.selected=we.includes($e.value)):_e.refs?Sx(_e.ref)?_e.refs.forEach($e=>{(!$e.defaultChecked||!$e.disabled)&&(Array.isArray(we)?$e.checked=!!we.find(tt=>tt===$e.value):$e.checked=we===$e.value||!!we)}):_e.refs.forEach($e=>$e.checked=$e.value===we):yO(_e.ref)?_e.ref.value="":(_e.ref.value=we,_e.ref.type||h.state.next({name:ae,values:Sn(s)})))}(U.shouldDirty||U.shouldTouch)&&w(ae,we,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&D(ae)},M=(ae,he,U)=>{for(const ue in he){if(!he.hasOwnProperty(ue))return;const we=he[ue],_e=ae+"."+ue,$e=Qe(n,_e);(l.array.has(ae)||on(we)||$e&&!$e._f)&&!Cd(we)?M(_e,we,U):H(_e,we,U)}},F=(ae,he,U={})=>{const ue=Qe(n,ae),we=l.array.has(ae),_e=Sn(he);mr(s,ae,_e),we?(h.array.next({name:ae,values:Sn(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&U.shouldDirty&&h.state.next({name:ae,dirtyFields:m0(a,s),isDirty:O(ae,_e)})):ue&&!ue._f&&!Ga(_e)?M(ae,_e,U):H(ae,_e,U),F5(ae,l)&&h.state.next({...r,name:ae}),h.state.next({name:o.mount?ae:void 0,values:Sn(s)})},L=async ae=>{o.mount=!0;const he=ae.target;let U=he.name,ue=!0;const we=Qe(n,U),_e=it=>{ue=Number.isNaN(it)||Cd(it)&&isNaN(it.getTime())||Vl(it,Qe(s,U,it))},$e=R5(t.mode),tt=R5(t.reValidateMode);if(we){let it,Ee;const Le=he.type?D5(we._f):vY(ae),Fe=ae.type===u_.BLUR||ae.type===u_.FOCUS_OUT,st=!CWe(we._f)&&!t.resolver&&!Qe(r.errors,U)&&!we._f.deps||AWe(Fe,Qe(r.touchedFields,U),r.isSubmitted,tt,$e),ot=F5(U,l,Fe);mr(s,U,Le),Fe?(we._f.onBlur&&we._f.onBlur(ae),c&&c(0)):we._f.onChange&&we._f.onChange(ae);const _t=w(U,Le,Fe),Ut=!ws(_t)||ot;if(!Fe&&h.state.next({name:U,type:ae.type,values:Sn(s)}),st)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Fe&&p():Fe||p()),Ut&&h.state.next({name:U,...ot?{}:_t});if(!Fe&&ot&&h.state.next({...r}),t.resolver){const{errors:ar}=await S([U]);if(_e(Le),ue){const _r=I5(r.errors,n,U),bn=I5(ar,n,_r.name||U);it=bn.error,U=bn.name,Ee=ws(ar)}}else v([U],!0),it=(await $5(we,l.disabled,s,m,t.shouldUseNativeValidation))[U],v([U]),_e(Le),ue&&(it?Ee=!1:(d.isValid||f.isValid)&&(Ee=await C(n,!0)));ue&&(we._f.deps&&D(we._f.deps),N(U,Ee,it,_t))}},B=(ae,he)=>{if(Qe(r.errors,he)&&ae.focus)return ae.focus(),1},D=async(ae,he={})=>{let U,ue;const we=ig(ae);if(t.resolver){const _e=await k(en(ae)?ae:we);U=ws(_e),ue=ae?!we.some($e=>Qe(_e,$e)):U}else ae?(ue=(await Promise.all(we.map(async _e=>{const $e=Qe(n,_e);return await C($e&&$e._f?{[_e]:$e}:$e)}))).every(Boolean),!(!ue&&!r.isValid)&&p()):ue=U=await C(n);return h.state.next({...!ol(ae)||(d.isValid||f.isValid)&&U!==r.isValid?{}:{name:ae},...t.resolver||!ae?{isValid:U}:{},errors:r.errors}),he.shouldFocus&&!ue&&og(n,B,ae?we:l.mount),ue},q=ae=>{const he={...o.mount?s:a};return en(ae)?he:ol(ae)?Qe(he,ae):ae.map(U=>Qe(he,U))},Y=(ae,he)=>({invalid:!!Qe((he||r).errors,ae),isDirty:!!Qe((he||r).dirtyFields,ae),error:Qe((he||r).errors,ae),isValidating:!!Qe(r.validatingFields,ae),isTouched:!!Qe((he||r).touchedFields,ae)}),P=ae=>{ae&&ig(ae).forEach(he=>dn(r.errors,he)),h.state.next({errors:ae?r.errors:{}})},G=(ae,he,U)=>{const ue=(Qe(n,ae,{_f:{}})._f||{}).ref,we=Qe(r.errors,ae)||{},{ref:_e,message:$e,type:tt,...it}=we;mr(r.errors,ae,{...it,...he,ref:ue}),h.state.next({name:ae,errors:r.errors,isValid:!1}),U&&U.shouldFocus&&ue&&ue.focus&&ue.focus()},K=(ae,he)=>fo(ae)?h.state.subscribe({next:U=>"values"in U&&ae(A(void 0,he),U)}):A(ae,he,!0),Z=ae=>h.state.subscribe({next:he=>{TWe(ae.name,he.name,ae.exact)&&EWe(he,ae.formState||d,be,ae.reRenderRoot)&&ae.callback({values:{...s},...r,...he,defaultValues:a})}}).unsubscribe,se=ae=>(o.mount=!0,f={...f,...ae.formState},Z({...ae,formState:f})),oe=(ae,he={})=>{for(const U of ae?ig(ae):l.mount)l.mount.delete(U),l.array.delete(U),he.keepValue||(dn(n,U),dn(s,U)),!he.keepError&&dn(r.errors,U),!he.keepDirty&&dn(r.dirtyFields,U),!he.keepTouched&&dn(r.touchedFields,U),!he.keepIsValidating&&dn(r.validatingFields,U),!t.shouldUnregister&&!he.keepDefaultValue&&dn(a,U);h.state.next({values:Sn(s)}),h.state.next({...r,...he.keepDirty?{isDirty:O()}:{}}),!he.keepIsValid&&p()},xe=({disabled:ae,name:he})=>{(Ks(ae)&&o.mount||ae||l.disabled.has(he))&&(ae?l.disabled.add(he):l.disabled.delete(he))},z=(ae,he={})=>{let U=Qe(n,ae);const ue=Ks(he.disabled)||Ks(t.disabled);return mr(n,ae,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:ae}},name:ae,mount:!0,...he}}),l.mount.add(ae),U?xe({disabled:Ks(he.disabled)?he.disabled:t.disabled,name:ae}):j(ae,!0,he.value),{...ue?{disabled:he.disabled||t.disabled}:{},...t.progressive?{required:!!he.required,min:p0(he.min),max:p0(he.max),minLength:p0(he.minLength),maxLength:p0(he.maxLength),pattern:p0(he.pattern)}:{},name:ae,onChange:L,onBlur:L,ref:we=>{if(we){z(ae,he),U=Qe(n,ae);const _e=en(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,$e=wWe(_e),tt=U._f.refs||[];if($e?tt.find(it=>it===_e):_e===U._f.ref)return;mr(n,ae,{_f:{...U._f,...$e?{refs:[...tt.filter(T2),_e,...Array.isArray(Qe(a,ae))?[{}]:[]],ref:{type:_e.type,name:ae}}:{ref:_e}}}),j(ae,!1,void 0,_e)}else U=Qe(n,ae,{}),U._f&&(U._f.mount=!1),(t.shouldUnregister||he.shouldUnregister)&&!(xY(l.array,ae)&&o.action)&&l.unMount.add(ae)}}},W=()=>t.shouldFocusError&&og(n,B,l.mount),ce=ae=>{Ks(ae)&&(h.state.next({disabled:ae}),og(n,(he,U)=>{const ue=Qe(n,U);ue&&(he.disabled=ue._f.disabled||ae,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(we=>{we.disabled=ue._f.disabled||ae}))},0,!1))},E=(ae,he)=>async U=>{let ue;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let we=Sn(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:_e,values:$e}=await S();r.errors=_e,we=Sn($e)}else await C(n);if(l.disabled.size)for(const _e of l.disabled)dn(we,_e);if(dn(r.errors,"root"),ws(r.errors)){h.state.next({errors:{}});try{await ae(we,U)}catch(_e){ue=_e}}else he&&await he({...r.errors},U),W(),setTimeout(W);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ws(r.errors)&&!ue,submitCount:r.submitCount+1,errors:r.errors}),ue)throw ue},Pe=(ae,he={})=>{Qe(n,ae)&&(en(he.defaultValue)?F(ae,Sn(Qe(a,ae))):(F(ae,he.defaultValue),mr(a,ae,Sn(he.defaultValue))),he.keepTouched||dn(r.touchedFields,ae),he.keepDirty||(dn(r.dirtyFields,ae),r.isDirty=he.defaultValue?O(ae,Sn(Qe(a,ae))):O()),he.keepError||(dn(r.errors,ae),d.isValid&&p()),h.state.next({...r}))},Re=(ae,he={})=>{const U=ae?Sn(ae):a,ue=Sn(U),we=ws(ae),_e=we?a:ue;if(he.keepDefaultValues||(a=U),!he.keepValues){if(he.keepDirtyValues){const $e=new Set([...l.mount,...Object.keys(m0(a,s))]);for(const tt of Array.from($e))Qe(r.dirtyFields,tt)?mr(_e,tt,Qe(s,tt)):F(tt,Qe(_e,tt))}else{if(mO&&en(ae))for(const $e of l.mount){const tt=Qe(n,$e);if(tt&&tt._f){const it=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(d_(it)){const Ee=it.closest("form");if(Ee){Ee.reset();break}}}}if(he.keepFieldsRef)for(const $e of l.mount)F($e,Qe(_e,$e));else n={}}s=t.shouldUnregister?he.keepDefaultValues?Sn(a):{}:Sn(_e),h.array.next({values:{..._e}}),h.state.next({values:{..._e}})}l={mount:he.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!he.keepIsValid||!!he.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:we?!1:he.keepDirty?r.isDirty:!!(he.keepDefaultValues&&!Vl(ae,a)),isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:we?{}:he.keepDirtyValues?he.keepDefaultValues&&s?m0(a,s):r.dirtyFields:he.keepDefaultValues&&ae?m0(a,ae):he.keepDirty?r.dirtyFields:{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},pe=(ae,he)=>Re(fo(ae)?ae(s):ae,he),Me=(ae,he={})=>{const U=Qe(n,ae),ue=U&&U._f;if(ue){const we=ue.refs?ue.refs[0]:ue.ref;we.focus&&(we.focus(),he.shouldSelect&&fo(we.select)&&we.select())}},be=ae=>{r={...r,...ae}},Ze={control:{register:z,unregister:oe,getFieldState:Y,handleSubmit:E,setError:G,_subscribe:Z,_runSchema:S,_focusError:W,_getWatch:A,_getDirty:O,_setValid:p,_setFieldArray:y,_setDisabledField:xe,_setErrors:_,_getFieldArray:V,_reset:Re,_resetDefaultValues:()=>fo(t.defaultValues)&&t.defaultValues().then(ae=>{pe(ae,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:ce,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(ae){o=ae},get _defaultValues(){return a},get _names(){return l},set _names(ae){l=ae},get _formState(){return r},get _options(){return t},set _options(ae){t={...t,...ae}}},subscribe:se,trigger:D,register:z,handleSubmit:E,watch:K,setValue:F,getValues:q,reset:pe,resetField:Pe,clearErrors:P,unregister:oe,setError:G,setFocus:Me,getFieldState:Y};return{...Ze,formControl:Ze}}function MWe(e={}){const t=ie.useRef(void 0),r=ie.useRef(void 0),[n,a]=ie.useState({isDirty:!1,isValidating:!1,isLoading:fo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:fo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!fo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=RWe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,xO(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),ie.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ie.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),ie.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),ie.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),ie.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),ie.useEffect(()=>{e.values&&!Vl(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),ie.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=yY(n,s),t.current}const B5=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Qe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},EY=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?B5(n.ref,r,e):n.refs&&n.refs.forEach(a=>B5(a,r,e))}},FWe=(e,t)=>{t.shouldUseNativeValidation&&EY(e,t);const r={};for(const n in e){const a=Qe(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(IWe(t.names||Object.keys(e),n)){const o=Object.assign({},Qe(r,n));mr(o,"root",s),mr(r,n,o)}else mr(r,n,s)}return r},IWe=(e,t)=>e.some(r=>r.startsWith(t+"."));var LWe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=_Y(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},$We=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&EY({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:FWe(LWe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},ir;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(ir||(ir={}));var U5;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(U5||(U5={}));const gt=ir.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wc=e=>{switch(typeof e){case"undefined":return gt.undefined;case"string":return gt.string;case"number":return Number.isNaN(e)?gt.nan:gt.number;case"boolean":return gt.boolean;case"function":return gt.function;case"bigint":return gt.bigint;case"symbol":return gt.symbol;case"object":return Array.isArray(e)?gt.array:e===null?gt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?gt.promise:typeof Map<"u"&&e instanceof Map?gt.map:typeof Set<"u"&&e instanceof Set?gt.set:typeof Date<"u"&&e instanceof Date?gt.date:gt.object;default:return gt.unknown}},We=ir.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class bc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof bc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ir.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}bc.create=e=>new bc(e);const oE=(e,t)=>{let r;switch(e.code){case We.invalid_type:e.received===gt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case We.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ir.jsonStringifyReplacer)}`;break;case We.unrecognized_keys:r=`Unrecognized key(s) in object: ${ir.joinValues(e.keys,", ")}`;break;case We.invalid_union:r="Invalid input";break;case We.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ir.joinValues(e.options)}`;break;case We.invalid_enum_value:r=`Invalid enum value. Expected ${ir.joinValues(e.options)}, received '${e.received}'`;break;case We.invalid_arguments:r="Invalid function arguments";break;case We.invalid_return_type:r="Invalid function return type";break;case We.invalid_date:r="Invalid date";break;case We.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ir.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case We.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case We.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case We.custom:r="Invalid input";break;case We.invalid_intersection_types:r="Intersection results could not be merged";break;case We.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case We.not_finite:r="Number must be finite";break;default:r=t.defaultError,ir.assertNever(e)}return{message:r}};let BWe=oE;function UWe(){return BWe}const zWe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function nt(e,t){const r=UWe(),n=zWe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===oE?void 0:oE].filter(a=>!!a)});e.common.issues.push(n)}class ci{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Pt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return ci.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return Pt;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Pt=Object.freeze({status:"aborted"}),T0=e=>({status:"dirty",value:e}),Vi=e=>({status:"valid",value:e}),z5=e=>e.status==="aborted",V5=e=>e.status==="dirty",np=e=>e.status==="valid",m_=e=>typeof Promise<"u"&&e instanceof Promise;var yt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(yt||(yt={}));class Uu{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const W5=(e,t)=>{if(np(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new bc(e.common.issues);return this._error=r,this._error}}};function zt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class nr{get description(){return this._def.description}_getType(t){return Wc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Wc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ci,ctx:{common:t.parent.common,data:t.data,parsedType:Wc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(m_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wc(t)},a=this._parseSync({data:t,path:n.path,parent:n});return W5(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wc(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return np(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>np(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wc(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(m_(a)?a:Promise.resolve(a));return W5(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=t(a),l=()=>s.addIssue({code:We.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new ip({schema:this,typeName:Ot.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Pu.create(this,this._def)}nullable(){return op.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ml.create(this)}promise(){return x_.create(this,this._def)}or(t){return g_.create([this,t],this._def)}and(t){return v_.create(this,t,this._def)}transform(t){return new ip({...zt(this._def),schema:this,typeName:Ot.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new cE({...zt(this._def),innerType:this,defaultValue:r,typeName:Ot.ZodDefault})}brand(){return new dHe({typeName:Ot.ZodBranded,type:this,...zt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new uE({...zt(this._def),innerType:this,catchValue:r,typeName:Ot.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return _O.create(this,t)}readonly(){return dE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const VWe=/^c[^\s-]{8,}$/i,WWe=/^[0-9a-z]+$/,HWe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qWe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,GWe=/^[a-z0-9_-]{21}$/i,KWe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,YWe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,XWe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,QWe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let A2;const JWe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ZWe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eHe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tHe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rHe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nHe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,TY="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aHe=new RegExp(`^${TY}$`);function AY(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function sHe(e){return new RegExp(`^${AY(e)}$`)}function iHe(e){let t=`${TY}T${AY(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function oHe(e,t){return!!((t==="v4"||!t)&&JWe.test(e)||(t==="v6"||!t)&&eHe.test(e))}function lHe(e,t){if(!KWe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function cHe(e,t){return!!((t==="v4"||!t)&&ZWe.test(e)||(t==="v6"||!t)&&tHe.test(e))}class pu extends nr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==gt.string){const s=this._getOrReturnCtx(t);return nt(s,{code:We.invalid_type,expected:gt.string,received:s.parsedType}),Pt}const n=new ci;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),nt(a,{code:We.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),nt(a,{code:We.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?nt(a,{code:We.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&nt(a,{code:We.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")XWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"email",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")A2||(A2=new RegExp(QWe,"u")),A2.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"emoji",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")qWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"uuid",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")GWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"nanoid",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")VWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"cuid",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")WWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"cuid2",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")HWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"ulid",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),nt(a,{validation:"url",code:We.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"regex",code:We.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),nt(a,{code:We.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),nt(a,{code:We.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),nt(a,{code:We.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?iHe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{code:We.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?aHe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{code:We.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?sHe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{code:We.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?YWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"duration",code:We.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?oHe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"ip",code:We.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?lHe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"jwt",code:We.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?cHe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"cidr",code:We.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?rHe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"base64",code:We.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?nHe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"base64url",code:We.invalid_string,message:s.message}),n.dirty()):ir.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:We.invalid_string,...yt.errToObj(n)})}_addCheck(t){return new pu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...yt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...yt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...yt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...yt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...yt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...yt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...yt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...yt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...yt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...yt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...yt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...yt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...yt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...yt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...yt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...yt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...yt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...yt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...yt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...yt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...yt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...yt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...yt.errToObj(r)})}nonempty(t){return this.min(1,yt.errToObj(t))}trim(){return new pu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}pu.create=e=>new pu({checks:[],typeName:Ot.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...zt(e)});function uHe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}class ap extends nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==gt.number){const s=this._getOrReturnCtx(t);return nt(s,{code:We.invalid_type,expected:gt.number,received:s.parsedType}),Pt}let n;const a=new ci;for(const s of this._def.checks)s.kind==="int"?ir.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),nt(n,{code:We.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:We.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:We.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?uHe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),nt(n,{code:We.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),nt(n,{code:We.not_finite,message:s.message}),a.dirty()):ir.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,yt.toString(r))}setLimit(t,r,n,a){return new ap({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:yt.toString(a)}]})}_addCheck(t){return new ap({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:yt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:yt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:yt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:yt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:yt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ir.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ap.create=e=>new ap({checks:[],typeName:Ot.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class Nv extends nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==gt.bigint)return this._getInvalidInput(t);let n;const a=new ci;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:We.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:We.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:We.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):ir.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return nt(r,{code:We.invalid_type,expected:gt.bigint,received:r.parsedType}),Pt}gte(t,r){return this.setLimit("min",t,!0,yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,yt.toString(r))}setLimit(t,r,n,a){return new Nv({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:yt.toString(a)}]})}_addCheck(t){return new Nv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:yt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Nv.create=e=>new Nv({checks:[],typeName:Ot.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...zt(e)});class H5 extends nr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==gt.boolean){const n=this._getOrReturnCtx(t);return nt(n,{code:We.invalid_type,expected:gt.boolean,received:n.parsedType}),Pt}return Vi(t.data)}}H5.create=e=>new H5({typeName:Ot.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class p_ extends nr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==gt.date){const s=this._getOrReturnCtx(t);return nt(s,{code:We.invalid_type,expected:gt.date,received:s.parsedType}),Pt}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return nt(s,{code:We.invalid_date}),Pt}const n=new ci;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),nt(a,{code:We.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),nt(a,{code:We.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):ir.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new p_({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:yt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:yt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}p_.create=e=>new p_({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ot.ZodDate,...zt(e)});class q5 extends nr{_parse(t){if(this._getType(t)!==gt.symbol){const n=this._getOrReturnCtx(t);return nt(n,{code:We.invalid_type,expected:gt.symbol,received:n.parsedType}),Pt}return Vi(t.data)}}q5.create=e=>new q5({typeName:Ot.ZodSymbol,...zt(e)});class G5 extends nr{_parse(t){if(this._getType(t)!==gt.undefined){const n=this._getOrReturnCtx(t);return nt(n,{code:We.invalid_type,expected:gt.undefined,received:n.parsedType}),Pt}return Vi(t.data)}}G5.create=e=>new G5({typeName:Ot.ZodUndefined,...zt(e)});class K5 extends nr{_parse(t){if(this._getType(t)!==gt.null){const n=this._getOrReturnCtx(t);return nt(n,{code:We.invalid_type,expected:gt.null,received:n.parsedType}),Pt}return Vi(t.data)}}K5.create=e=>new K5({typeName:Ot.ZodNull,...zt(e)});class Y5 extends nr{constructor(){super(...arguments),this._any=!0}_parse(t){return Vi(t.data)}}Y5.create=e=>new Y5({typeName:Ot.ZodAny,...zt(e)});class X5 extends nr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Vi(t.data)}}X5.create=e=>new X5({typeName:Ot.ZodUnknown,...zt(e)});class zu extends nr{_parse(t){const r=this._getOrReturnCtx(t);return nt(r,{code:We.invalid_type,expected:gt.never,received:r.parsedType}),Pt}}zu.create=e=>new zu({typeName:Ot.ZodNever,...zt(e)});class Q5 extends nr{_parse(t){if(this._getType(t)!==gt.undefined){const n=this._getOrReturnCtx(t);return nt(n,{code:We.invalid_type,expected:gt.void,received:n.parsedType}),Pt}return Vi(t.data)}}Q5.create=e=>new Q5({typeName:Ot.ZodVoid,...zt(e)});class ml extends nr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==gt.array)return nt(r,{code:We.invalid_type,expected:gt.array,received:r.parsedType}),Pt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(nt(r,{code:o?We.too_big:We.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(nt(r,{code:We.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(nt(r,{code:We.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Uu(r,o,r.path,l)))).then(o=>ci.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new Uu(r,o,r.path,l)));return ci.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new ml({...this._def,minLength:{value:t,message:yt.toString(r)}})}max(t,r){return new ml({...this._def,maxLength:{value:t,message:yt.toString(r)}})}length(t,r){return new ml({...this._def,exactLength:{value:t,message:yt.toString(r)}})}nonempty(t){return this.min(1,t)}}ml.create=(e,t)=>new ml({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ot.ZodArray,...zt(t)});function ih(e){if(e instanceof Kr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Pu.create(ih(n))}return new Kr({...e._def,shape:()=>t})}else return e instanceof ml?new ml({...e._def,type:ih(e.element)}):e instanceof Pu?Pu.create(ih(e.unwrap())):e instanceof op?op.create(ih(e.unwrap())):e instanceof bf?bf.create(e.items.map(t=>ih(t))):e}class Kr extends nr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ir.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==gt.object){const u=this._getOrReturnCtx(t);return nt(u,{code:We.invalid_type,expected:gt.object,received:u.parsedType}),Pt}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof zu&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Uu(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof zu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(nt(a,{code:We.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Uu(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ci.mergeObjectSync(n,u)):ci.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return yt.errToObj,new Kr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o;const a=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:yt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Kr({...this._def,unknownKeys:"strip"})}passthrough(){return new Kr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Kr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Kr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ot.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Kr({...this._def,catchall:t})}pick(t){const r={};for(const n of ir.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of ir.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}deepPartial(){return ih(this)}partial(t){const r={};for(const n of ir.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Kr({...this._def,shape:()=>r})}required(t){const r={};for(const n of ir.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Pu;)s=s._def.innerType;r[n]=s}return new Kr({...this._def,shape:()=>r})}keyof(){return PY(ir.objectKeys(this.shape))}}Kr.create=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strip",catchall:zu.create(),typeName:Ot.ZodObject,...zt(t)});Kr.strictCreate=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strict",catchall:zu.create(),typeName:Ot.ZodObject,...zt(t)});Kr.lazycreate=(e,t)=>new Kr({shape:e,unknownKeys:"strip",catchall:zu.create(),typeName:Ot.ZodObject,...zt(t)});class g_ extends nr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new bc(l.ctx.common.issues));return nt(r,{code:We.invalid_union,unionErrors:o}),Pt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new bc(c));return nt(r,{code:We.invalid_union,unionErrors:l}),Pt}}get options(){return this._def.options}}g_.create=(e,t)=>new g_({options:e,typeName:Ot.ZodUnion,...zt(t)});function lE(e,t){const r=Wc(e),n=Wc(t);if(e===t)return{valid:!0,data:e};if(r===gt.object&&n===gt.object){const a=ir.objectKeys(t),s=ir.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=lE(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===gt.array&&n===gt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=lE(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===gt.date&&n===gt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class v_ extends nr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,o)=>{if(z5(s)||z5(o))return Pt;const l=lE(s.value,o.value);return l.valid?((V5(s)||V5(o))&&r.dirty(),{status:r.value,value:l.data}):(nt(n,{code:We.invalid_intersection_types}),Pt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}v_.create=(e,t,r)=>new v_({left:e,right:t,typeName:Ot.ZodIntersection,...zt(r)});class bf extends nr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.array)return nt(n,{code:We.invalid_type,expected:gt.array,received:n.parsedType}),Pt;if(n.data.length<this._def.items.length)return nt(n,{code:We.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pt;!this._def.rest&&n.data.length>this._def.items.length&&(nt(n,{code:We.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Uu(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>ci.mergeArray(r,o)):ci.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new bf({...this._def,rest:t})}}bf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bf({items:e,typeName:Ot.ZodTuple,rest:null,...zt(t)})};class J5 extends nr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.map)return nt(n,{code:We.invalid_type,expected:gt.map,received:n.parsedType}),Pt;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Uu(n,l,n.path,[u,"key"])),value:s._parse(new Uu(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Pt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Pt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}J5.create=(e,t,r)=>new J5({valueType:t,keyType:e,typeName:Ot.ZodMap,...zt(r)});class kv extends nr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.set)return nt(n,{code:We.invalid_type,expected:gt.set,received:n.parsedType}),Pt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(nt(n,{code:We.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(nt(n,{code:We.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Pt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Uu(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new kv({...this._def,minSize:{value:t,message:yt.toString(r)}})}max(t,r){return new kv({...this._def,maxSize:{value:t,message:yt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}kv.create=(e,t)=>new kv({valueType:e,minSize:null,maxSize:null,typeName:Ot.ZodSet,...zt(t)});class Z5 extends nr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Z5.create=(e,t)=>new Z5({getter:e,typeName:Ot.ZodLazy,...zt(t)});class e$ extends nr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return nt(r,{received:r.data,code:We.invalid_literal,expected:this._def.value}),Pt}return{status:"valid",value:t.data}}get value(){return this._def.value}}e$.create=(e,t)=>new e$({value:e,typeName:Ot.ZodLiteral,...zt(t)});function PY(e,t){return new sp({values:e,typeName:Ot.ZodEnum,...zt(t)})}class sp extends nr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return nt(r,{expected:ir.joinValues(n),received:r.parsedType,code:We.invalid_type}),Pt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return nt(r,{received:r.data,code:We.invalid_enum_value,options:n}),Pt}return Vi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return sp.create(t,{...this._def,...r})}exclude(t,r=this._def){return sp.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}sp.create=PY;class t$ extends nr{_parse(t){const r=ir.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==gt.string&&n.parsedType!==gt.number){const a=ir.objectValues(r);return nt(n,{expected:ir.joinValues(a),received:n.parsedType,code:We.invalid_type}),Pt}if(this._cache||(this._cache=new Set(ir.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=ir.objectValues(r);return nt(n,{received:n.data,code:We.invalid_enum_value,options:a}),Pt}return Vi(t.data)}get enum(){return this._def.values}}t$.create=(e,t)=>new t$({values:e,typeName:Ot.ZodNativeEnum,...zt(t)});class x_ extends nr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==gt.promise&&r.common.async===!1)return nt(r,{code:We.invalid_type,expected:gt.promise,received:r.parsedType}),Pt;const n=r.parsedType===gt.promise?r.data:Promise.resolve(r.data);return Vi(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}x_.create=(e,t)=>new x_({type:e,typeName:Ot.ZodPromise,...zt(t)});class ip extends nr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:o=>{nt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Pt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Pt:c.status==="dirty"||r.value==="dirty"?T0(c.value):c});{if(r.value==="aborted")return Pt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Pt:l.status==="dirty"||r.value==="dirty"?T0(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Pt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Pt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!np(o))return Pt;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>np(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):Pt);ir.assertNever(a)}}ip.create=(e,t,r)=>new ip({schema:e,typeName:Ot.ZodEffects,effect:t,...zt(r)});ip.createWithPreprocess=(e,t,r)=>new ip({schema:t,effect:{type:"preprocess",transform:e},typeName:Ot.ZodEffects,...zt(r)});class Pu extends nr{_parse(t){return this._getType(t)===gt.undefined?Vi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Pu.create=(e,t)=>new Pu({innerType:e,typeName:Ot.ZodOptional,...zt(t)});class op extends nr{_parse(t){return this._getType(t)===gt.null?Vi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}op.create=(e,t)=>new op({innerType:e,typeName:Ot.ZodNullable,...zt(t)});class cE extends nr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===gt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}cE.create=(e,t)=>new cE({innerType:e,typeName:Ot.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...zt(t)});class uE extends nr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return m_(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new bc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}uE.create=(e,t)=>new uE({innerType:e,typeName:Ot.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...zt(t)});class r$ extends nr{_parse(t){if(this._getType(t)!==gt.nan){const n=this._getOrReturnCtx(t);return nt(n,{code:We.invalid_type,expected:gt.nan,received:n.parsedType}),Pt}return{status:"valid",value:t.data}}}r$.create=e=>new r$({typeName:Ot.ZodNaN,...zt(e)});class dHe extends nr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class _O extends nr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Pt:s.status==="dirty"?(r.dirty(),T0(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Pt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new _O({in:t,out:r,typeName:Ot.ZodPipeline})}}class dE extends nr{_parse(t){const r=this._def.innerType._parse(t),n=a=>(np(a)&&(a.value=Object.freeze(a.value)),a);return m_(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}dE.create=(e,t)=>new dE({innerType:e,typeName:Ot.ZodReadonly,...zt(t)});Kr.lazycreate;var Ot;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ot||(Ot={}));const Ty=pu.create,fHe=ap.create;zu.create;ml.create;const hHe=Kr.create;Kr.strictCreate;g_.create;v_.create;bf.create;sp.create;x_.create;Pu.create;op.create;const mHe=vWe,OY=x.createContext({}),g0=({...e})=>i.jsx(OY.Provider,{value:{name:e.name},children:i.jsx(_We,{...e})}),bj=()=>{const e=x.useContext(OY),t=x.useContext(DY),{getFieldState:r,formState:n}=yj(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},DY=x.createContext({}),oh=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return i.jsx(DY.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:ge("space-y-2",e),...t})})});oh.displayName="FormItem";const lh=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=bj();return i.jsx(ze,{ref:r,className:ge(n&&"text-destructive",e),htmlFor:a,...t})});lh.displayName="FormLabel";const ch=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=bj();return i.jsx(DB,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});ch.displayName="FormControl";const pHe=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=bj();return i.jsx("p",{ref:r,id:n,className:ge("text-sm text-muted-foreground",e),...t})});pHe.displayName="FormDescription";const uh=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=bj(),o=a?String(a==null?void 0:a.message):t;return o?i.jsx("p",{ref:n,id:s,className:ge("text-sm font-medium text-destructive",e),...r,children:o}):null});uh.displayName="FormMessage";const gHe=hHe({request_title:Ty().min(1,"Title is required"),request_description:Ty().optional(),request_type:Ty().optional(),priority:fHe().optional(),status:Ty().optional()});function vHe({open:e,onOpenChange:t,onSubmit:r,initialData:n}){const{t:a}=Rt(),{user:s}=hr(),o=(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="manager",l=MWe({resolver:$We(gHe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});x.useEffect(()=>{n?l.reset({request_title:n.request_title,request_description:n.request_description||"",request_type:n.request_type||"internal_task",priority:n.priority||1,status:n.status||"pending"}):l.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[n,l,e]);const c=async u=>{await r(u),t(!1),l.reset()};return i.jsx(vl,{open:e,onOpenChange:t,children:i.jsxs(Eo,{side:qt()?"left":"right",className:"sm:max-w-md overflow-y-auto",children:[i.jsx(hc,{children:i.jsx(xl,{children:a(n?"requests.editRequest":"requests.createRequest")})}),i.jsx("div",{className:"py-4",children:i.jsx(mHe,{...l,children:i.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[i.jsx(g0,{control:l.control,name:"request_title",render:({field:u})=>i.jsxs(oh,{children:[i.jsx(lh,{children:a("requests.title")}),i.jsx(ch,{children:i.jsx(Be,{placeholder:a("requests.titlePlaceholder"),...u})}),i.jsx(uh,{})]})}),i.jsx(g0,{control:l.control,name:"request_description",render:({field:u})=>i.jsxs(oh,{children:[i.jsx(lh,{children:a("requests.description")}),i.jsx(ch,{children:i.jsx(On,{placeholder:a("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...u})}),i.jsx(uh,{})]})}),o&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(g0,{control:l.control,name:"request_type",render:({field:u})=>i.jsxs(oh,{children:[i.jsx(lh,{children:a("requests.type")}),i.jsxs(vt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[i.jsx(ch,{children:i.jsx(mt,{children:i.jsx(xt,{placeholder:"Select type"})})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"internal_task",children:a("requests.types.internalTask")}),i.jsx(Ce,{value:"support",children:a("requests.types.support")}),i.jsx(Ce,{value:"feature",children:a("requests.types.feature")})]})]}),i.jsx(uh,{})]})}),i.jsx(g0,{control:l.control,name:"priority",render:({field:u})=>{var d,f;return i.jsxs(oh,{children:[i.jsx(lh,{children:a("requests.priority")}),i.jsxs(vt,{onValueChange:h=>u.onChange(parseInt(h)),defaultValue:(d=u.value)==null?void 0:d.toString(),value:(f=u.value)==null?void 0:f.toString(),children:[i.jsx(ch,{children:i.jsx(mt,{children:i.jsx(xt,{placeholder:"Select priority"})})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"0",children:a("requests.priorities.low")}),i.jsx(Ce,{value:"1",children:a("requests.priorities.medium")}),i.jsx(Ce,{value:"2",children:a("requests.priorities.high")})]})]}),i.jsx(uh,{})]})}})]}),i.jsx(g0,{control:l.control,name:"status",render:({field:u})=>i.jsxs(oh,{children:[i.jsx(lh,{children:a("requests.status")}),i.jsxs(vt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[i.jsx(ch,{children:i.jsx(mt,{children:i.jsx(xt,{placeholder:"Select status"})})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"pending",children:a("status.pending")}),i.jsx(Ce,{value:"in_progress",children:a("status.in_progress")}),i.jsx(Ce,{value:"completed",children:a("status.completed")}),i.jsx(Ce,{value:"approved",children:a("status.approved")}),i.jsx(Ce,{value:"rejected",children:a("status.rejected")})]})]}),i.jsx(uh,{})]})})]}),i.jsx("div",{className:"flex justify-end pt-4 gap-2",children:i.jsx(le,{type:"submit",children:a(n?"common.save":"common.create")})})]})})})]})})}function xHe(){const{t:e}=Rt(),{toast:t}=Po(),{user:r}=hr();Br();const[n,a]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(""),[u,d]=x.useState(!1),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,v]=x.useState([]),[y,b]=x.useState("all"),[_,j]=x.useState("all"),[w,N]=x.useState(1),S=10,k=async()=>{try{o(!0);const Y=await h0.getRequests();a(Y)}catch(Y){console.error("Failed to fetch requests:",Y),t({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{o(!1)}};x.useEffect(()=>{k()},[]);const C=()=>{h(null),d(!0)},T=Y=>{h(Y),d(!0)},O=async()=>{if(m)try{await h0.deleteRequest(m),t({title:e("common.success"),description:e("requests.deleteSuccess")}),k()}catch(Y){console.error("Failed to delete request:",Y),t({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{g(null)}},A=async Y=>{try{if(!(r!=null&&r.id)){t({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}f?(await h0.updateRequest(f.request_id,Y),t({title:e("common.success"),description:e("requests.updateSuccess")})):(await h0.createRequest({...Y,requested_by_auth:r.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),t({title:e("common.success"),description:e("requests.createSuccess")})),k()}catch(P){console.error("Failed to save request:",P),t({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},V=n.filter(Y=>{var Z;const P=Y.request_title.toLowerCase().includes(l.toLowerCase()),G=y==="all"||Y.status===y,K=_==="all"||((Z=Y.priority)==null?void 0:Z.toString())===_;return P&&G&&K}),H=Math.ceil(V.length/S),M=(w-1)*S,F=M+S,L=V.slice(M,F),B=Y=>{switch(Y){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},D=Y=>{switch(Y){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},q=Y=>{switch(Y){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:qt()?"rtl":"ltr",children:[i.jsx(fx,{title:e("requests.title"),description:e("requests.subtitle"),icon:i.jsx(ba,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(le,{onClick:C,children:[i.jsx(Wt,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Be,{placeholder:e("requests.searchPlaceholder"),className:"pl-10 h-9",value:l,onChange:Y=>c(Y.target.value)})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs(vt,{value:_,onValueChange:j,children:[i.jsx(mt,{className:"w-[130px] h-9",children:i.jsx(xt,{placeholder:e("requests.priority")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:e("common.all")}),i.jsx(Ce,{value:"0",children:e("requests.priorities.low")}),i.jsx(Ce,{value:"1",children:e("requests.priorities.medium")}),i.jsx(Ce,{value:"2",children:e("requests.priorities.high")})]})]}),i.jsxs(vt,{value:y,onValueChange:b,children:[i.jsx(mt,{className:"w-[130px] h-9",children:i.jsx(xt,{placeholder:e("requests.status")})}),i.jsxs(pt,{children:[i.jsx(Ce,{value:"all",children:e("common.all")}),i.jsx(Ce,{value:"pending",children:e("status.pending")}),i.jsx(Ce,{value:"approved",children:e("status.approved")}),i.jsx(Ce,{value:"rejected",children:e("status.rejected")}),i.jsx(Ce,{value:"in_progress",children:e("status.in_progress")}),i.jsx(Ce,{value:"completed",children:e("status.completed")})]})]})]})]}),(()=>{const Y=[{key:"title",header:e("requests.requestTitle"),render:K=>{var Z;return i.jsx(xc,{title:K.request_title,subtitle:(Z=K.request_type)==null?void 0:Z.replace("_"," ")})}},{key:"priority",header:e("requests.priority"),render:K=>i.jsx(ht,{variant:"outline",className:D(K.priority),children:q(K.priority)})},{key:"status",header:e("requests.status"),render:K=>i.jsx(ht,{variant:"secondary",className:`capitalize ${B(K.status)}`,children:K.status?e(`status.${K.status}`):e("status.pending")})},{key:"created",header:e("requests.createdDate"),hideOnMobile:!0,render:K=>i.jsx(Af,{date:K.created_at})}],P=[{icon:i.jsx(GN,{}),label:e("common.edit"),onClick:T},{icon:i.jsx(sr,{}),label:e("common.delete"),onClick:K=>g(K.request_id),variant:"destructive"}],G=[{label:e("buttons.delete"),icon:i.jsx(sr,{className:"h-4 w-4"}),onClick:async K=>{try{await Promise.all(K.map(Z=>h0.deleteRequest(Z))),t({title:e("common.success"),description:e("requests.deleteSuccess")}),a(Z=>Z.filter(se=>!K.includes(se.request_id))),v([])}catch(Z){console.error("Failed to bulk delete requests:",Z),t({title:e("common.error"),description:e("requests.deleteError"),variant:"destructive"})}}}];return i.jsx(vc,{data:L,columns:Y,actions:P,bulkActions:G,keyExtractor:K=>K.request_id,onRowClick:T,enableBulkSelect:!0,selectedItems:p,onSelectionChange:v,loading:s,rtl:qt()})})(),i.jsx(vHe,{open:u,onOpenChange:d,onSubmit:A,initialData:f}),i.jsx(Ls,{open:!!m,onOpenChange:Y=>!Y&&g(null),children:i.jsxs(ss,{children:[i.jsxs(is,{children:[i.jsx(ls,{children:e("common.confirmDelete")}),i.jsx(cs,{children:e("requests.deleteConfirmation")})]}),i.jsxs(os,{children:[i.jsx(ds,{children:e("common.cancel")}),i.jsx(us,{className:"bg-red-500 hover:bg-red-600",onClick:O,children:e("common.delete")})]})]})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:H>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(ep,{children:[i.jsx(Sa,{children:i.jsx(du,{onClick:()=>N(Math.max(1,w-1)),className:w===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",w," ",e("common.of")," ",H]})}),i.jsx(Sa,{children:i.jsx(fu,{onClick:()=>N(Math.min(H,w+1)),className:w===H?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})}class yHe{constructor(){Up(this,"connections",new Map);Up(this,"reconnectAttempts",new Map);Up(this,"maxReconnectAttempts",5);Up(this,"reconnectDelay",3e3)}getToken(){return localStorage.getItem("authToken")}getCurrentUser(){try{const t=localStorage.getItem("authUser");return t?JSON.parse(t):null}catch{return null}}connect(t,r){const n=this.getToken(),a=this.getCurrentUser();if(!n)throw new Error("No authentication token found");if(!a)throw new Error("No user data found");const s=new URLSearchParams;s.append("token",n),r.filters&&s.append("filters",JSON.stringify(r.filters)),r.father&&s.append("father",r.father);const o=`wss://api.middar.com/api/v1/${t}/ws?${s.toString()}`,l=`${t}_${JSON.stringify(r.filters||{})}`;this.disconnect(l);const c=new WebSocket(o);return this.connections.set(l,c),c.onopen=()=>{var u;console.log(`WebSocket connected to ${t}`),this.reconnectAttempts.set(l,0),(u=r.onConnect)==null||u.call(r)},c.onmessage=u=>{var d,f,h;try{const m=JSON.parse(u.data);if(m.type==="connected"){console.log("WebSocket subscription confirmed:",m);return}if(m.type==="error"){console.error("WebSocket error:",m.message),(d=r.onError)==null||d.call(r,m);return}(f=r.onMessage)==null||f.call(r,m)}catch(m){console.error("Error parsing WebSocket message:",m),(h=r.onError)==null||h.call(r,m)}},c.onerror=u=>{var d;console.error("WebSocket error:",u),(d=r.onError)==null||d.call(r,u)},c.onclose=()=>{var u;console.log(`WebSocket disconnected from ${t}`),this.connections.delete(l),(u=r.onDisconnect)==null||u.call(r),this.attemptReconnect(l,t,r)},c}attemptReconnect(t,r,n){const a=this.reconnectAttempts.get(t)||0;a<this.maxReconnectAttempts?(this.reconnectAttempts.set(t,a+1),setTimeout(()=>{console.log(`Attempting to reconnect to ${r} (attempt ${a+1})`),this.connect(r,n)},this.reconnectDelay*Math.pow(2,a))):console.error(`Max reconnection attempts reached for ${r}`)}disconnect(t){if(t){const r=this.connections.get(t);r&&(r.close(),this.connections.delete(t),this.reconnectAttempts.delete(t))}else this.connections.forEach((r,n)=>{r.close()}),this.connections.clear(),this.reconnectAttempts.clear()}isConnected(t){const r=this.connections.get(t);return(r==null?void 0:r.readyState)===WebSocket.OPEN}sendMessage(t,r){const n=this.connections.get(t);n&&n.readyState===WebSocket.OPEN?n.send(JSON.stringify(r)):console.warn("WebSocket not connected, cannot send message")}getConnections(){return Array.from(this.connections.keys())}getConnectionStatuses(){const t={};return this.connections.forEach((r,n)=>{t[n]=r.readyState===WebSocket.OPEN}),t}}const Ay=new yHe;function n$(e,t){const[r,n]=x.useState(!1),[a,s]=x.useState([]),o=x.useRef(null),l=x.useRef(""),c=x.useRef(t);x.useEffect(()=>{c.current=t},[t]);const u=`${e}_${JSON.stringify(t.filters||{})}`;l.current=u;const d=x.useCallback(b=>{var _,j;s(w=>[...w,b]),(j=(_=c.current).onMessage)==null||j.call(_,b)},[]),f=x.useCallback(b=>{var _,j;console.error("WebSocket hook error:",b),(j=(_=c.current).onError)==null||j.call(_,b)},[]),h=x.useCallback(()=>{n(!0)},[]),m=x.useCallback(()=>{n(!1)},[]),g=x.useCallback(()=>{var b,_;try{o.current=Ay.connect(e,{...c.current,onConnect:h,onDisconnect:m,onMessage:d,onError:f})}catch(j){console.error("Failed to connect WebSocket:",j),(_=(b=c.current).onError)==null||_.call(b,j)}},[e,d,f,h,m]),p=x.useCallback(()=>{console.log("Manual reconnect triggered"),g()},[g]);x.useEffect(()=>(g(),()=>{Ay.disconnect(u)}),[g]);const v=x.useCallback(b=>{Ay.sendMessage(u,b)},[u]),y=x.useCallback(()=>{Ay.disconnect(u)},[u]);return{isConnected:r,messages:a,sendMessage:v,disconnect:y,connectionKey:u,reconnect:p}}const a$="9",s$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyaWQiOjEsInBlcm1pc3Npb25zIjoidXNlciIsImNvbXBhbnlfY29kZSI6ImNybWRiIiwiY29tcGFueV9pZCI6MjQsImV4cCI6MTc3MDUzNjU0OX0.uYGncrK-4KEZgy_eoJcfNWuRSHs12ju6O41BmrA59GM";function bHe(){Rt();const{toast:e}=Po();Br();const[t,r]=x.useState([]),[n,a]=x.useState(null),[s,o]=x.useState([]),[l,c]=x.useState(null),[u,d]=x.useState([]),[f,h]=x.useState(""),[m,g]=x.useState(null),[p,v]=x.useState(!0),[y,b]=x.useState(!1),[_,j]=x.useState(null),[w,N]=x.useState(!1),S=x.useRef(null),{isConnected:k,reconnect:C,connectionKey:T}=n$("whatsapp_conversations",{filters:n?{session_id:n.session_id}:void 0,onMessage:z=>{console.log("New conversation update:",z),z.type==="created"?o(W=>W.find(E=>E.id===z.data.id)?W:[z.data,...W]):z.type==="updated"?o(W=>W.map(ce=>ce.id===z.data.id?{...ce,...z.data}:ce)):z.type==="deleted"&&(o(W=>W.filter(ce=>ce.id!==z.data.id)),(l==null?void 0:l.id)===z.data.id&&(c(null),d([])))},onError:z=>{console.error("Conversations WebSocket error:",z),e({title:"Connection Error",description:"Failed to connect to real-time conversation updates",variant:"destructive"})}}),{isConnected:O,reconnect:A,connectionKey:V}=n$("whatsapp_messages",{filters:n?{session_id:n.session_id}:void 0,onMessage:z=>{console.log("New message update:",z),z.type==="created"?(z.data.conversation_id===(l==null?void 0:l.id)&&(d(W=>[...W,z.data]),setTimeout(()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},100)),o(W=>W.map(ce=>ce.id===z.data.conversation_id?{...ce,last_message_at:z.data.created_at}:ce).sort((ce,E)=>new Date(E.last_message_at||0).getTime()-new Date(ce.last_message_at||0).getTime()))):z.type==="updated"?d(W=>W.map(ce=>ce.id===z.data.id?{...ce,...z.data}:ce)):z.type==="deleted"&&d(W=>W.filter(ce=>ce.id!==z.data.id))},onError:z=>{console.error("Messages WebSocket error:",z),e({title:"Connection Error",description:"Failed to connect to real-time message updates",variant:"destructive"})}}),H=x.useCallback(async(z,W={})=>{const ce=`https://api.middar.com/api/v1/plugins/${a$}`;console.log(`Calling plugin API: ${ce}`,{action:z,data:W});try{const Pe=await(await fetch(ce,{method:"POST",headers:{Authorization:`Bearer ${s$}`,"Content-Type":"application/json"},body:JSON.stringify({action:z,...W})})).json();return console.log("Plugin API response:",Pe),Pe}catch(E){return console.error("Plugin API error:",E),{success:!1,message:E.message}}},[a$,s$]);x.useEffect(()=>{const z=localStorage.getItem("whatsapp_sessions");if(z)try{const W=JSON.parse(z);console.log("Loading sessions from localStorage:",W),r(W);const ce=W.find(E=>E.is_primary);a(ce||null),(ce==null?void 0:ce.state)==="connected"&&B()}catch(W){console.error("Failed to load sessions from localStorage:",W)}},[]),x.useEffect(()=>{setTimeout(async()=>{localStorage.getItem("whatsapp_sessions")?console.log("Using existing sessions from localStorage"):(console.log("No local sessions found, loading from API"),await L()),await M()},100)},[]),x.useEffect(()=>{(n==null?void 0:n.state)==="connected"&&B()},[n]);const M=async()=>{try{const z=await H("enable_crm");console.log("Global CRM enable result:",z);for(const W of t){const ce=await H("enable_crm",{session_id:W.session_id});console.log(`CRM enable result for session ${W.session_id}:`,ce)}z.success&&(console.log("CRM enabled successfully"),e({title:"CRM Enabled",description:"WhatsApp CRM integration is now active"}))}catch(z){console.error("Failed to enable CRM:",z),e({variant:"destructive",title:"CRM Enable Failed",description:"Could not enable CRM functionality"})}};x.useEffect(()=>{console.log("WebSocket Status:",{conversationsConnected:k,messagesConnected:O,activeSession:n==null?void 0:n.session_id,conversationsKey:T,messagesKey:V}),k&&O&&(sessionStorage.getItem("ws_notification_shown")||(e({title:"Real-time Updates Active",description:"WhatsApp conversations and messages will update in real-time"}),sessionStorage.setItem("ws_notification_shown","true")))},[k,O,n,T,V]);const F=(z,W)=>{r(E=>E.map(Pe=>Pe.session_id===z?{...Pe,state:W}:Pe));const ce=localStorage.getItem("whatsapp_sessions");if(ce)try{const Pe=JSON.parse(ce).map(Re=>Re.session_id===z?{...Re,state:W}:Re);localStorage.setItem("whatsapp_sessions",JSON.stringify(Pe))}catch(E){console.error("Failed to update localStorage session state:",E)}};x.useEffect(()=>{t.length>0&&localStorage.setItem("whatsapp_sessions",JSON.stringify(t))},[t]);const L=async()=>{console.log("Loading sessions...");const z=await H("list_sessions");if(console.log("Sessions result:",z),z.success){const W=z.data||[];console.log("Sessions array from API:",W),console.log("Sessions length from API:",W.length);const ce=localStorage.getItem("whatsapp_sessions");let E=[];if(ce)try{E=JSON.parse(ce)}catch(be){console.error("Failed to parse saved sessions:",be)}const Pe=[];E.forEach(be=>{const Ge=W.find(Ze=>Ze.session_id===be.session_id);Ge?be.state==="connected"&&Ge.state==="inactive"?(console.log(`Preserving connected state for session ${be.session_id}, ignoring API inactive state`),Pe.push({...Ge,state:"connected"})):(console.log(`Updating session ${be.session_id} state from ${be.state} to ${Ge.state}`),Pe.push(Ge)):(console.log(`Keeping existing session ${be.session_id} not found in API response`),Pe.push(be))}),W.forEach(be=>{E.find(Ge=>Ge.session_id===be.session_id)||Pe.push(be)}),console.log("Merged sessions:",Pe),r(Pe);const Re=Pe.find(be=>be.is_primary),pe=Pe[0]||null;a(Re||pe);const Me=Re||pe;(Me==null?void 0:Me.state)==="connected"&&B()}else e({variant:"destructive",title:"Error",description:z.message||"Failed to load sessions"})};x.useEffect(()=>{l&&D(l.id)},[l]);const B=async()=>{if(n)try{const z=await H("get_conversations",{limit:50,offset:0});z.success?(o(z.data||[]),p&&v(!1)):e({variant:"destructive",title:"Error",description:z.message||"Failed to load conversations"})}catch(z){console.error(z),p&&v(!1)}},D=async z=>{if(n)try{const W=await H("get_conversation_messages",{conversation_id:z,limit:50,offset:0});W.success&&(d(W.data||[]),setTimeout(()=>oe(),100))}catch(W){console.error(W)}},q=async z=>{j(z);const W=await H("connect_session",{session_id:z});return console.log("Connect session result:",W),W.success?W.needs_qr&&W.qr_code?(g(W.qr_code),Y(z)):W.message==="already connected"?await L():Y(z):e({variant:"destructive",title:"Connection failed",description:W.message||"Failed to connect session"}),j(null),W},Y=async(z,W=40)=>{for(let ce=0;ce<W;ce++){const E=await H("get_status",{session_id:z});if(console.log(`Status check ${ce+1}:`,E),E.success&&E.data){const Pe=E.data.state||E.data.status;if(console.log("Session state:",Pe),Pe==="connected"){g(null),F(z,"connected"),await L();return}else if(Pe==="pending_qr"&&E.data.qr_code){g(E.data.qr_code),F(z,"pending_qr");return}else if(Pe==="pending_qr")console.log("Still waiting for QR code..."),F(z,"pending_qr");else if(Pe==="active"||Pe==="working"){g(null),F(z,"connected"),await L();return}else if(Pe==="inactive"){console.log("Session inactive, attempting to connect..."),F(z,"inactive");return}else if(Pe==="error"){console.log("Session error, stopping polling"),g(null),F(z,"error"),e({variant:"destructive",title:"Connection Error",description:E.data.error_message||"Session encountered an error"});return}}await new Promise(Pe=>setTimeout(Pe,3e3))}e({variant:"destructive",title:"Connection timeout",description:"Timeout waiting for QR scan"}),g(null)},P=async z=>{var W,ce,E,Pe,Re,pe,Me;console.log("Creating session:",z);try{const be=await H("create_session",{display_name:z,is_primary:!1});if(console.log("Create session result:",be),be.success){const Ge={session_id:((W=be.data)==null?void 0:W.session_id)||Date.now(),display_name:((ce=be.data)==null?void 0:ce.display_name)||z,state:((E=be.data)==null?void 0:E.state)||"inactive",is_primary:((Pe=be.data)==null?void 0:Pe.is_primary)||!1,created_at:((Re=be.data)==null?void 0:Re.created_at)||new Date().toISOString(),last_activity:((pe=be.data)==null?void 0:pe.last_activity)||Date.now(),jid:((Me=be.data)==null?void 0:Me.jid)||""};console.log("Adding session to state:",Ge),r(ae=>[...ae,Ge]);const Ze=localStorage.getItem("whatsapp_sessions");if(Ze)try{const he=[...JSON.parse(Ze),Ge];localStorage.setItem("whatsapp_sessions",JSON.stringify(he)),console.log("Saved to localStorage")}catch(ae){console.error("Failed to save to localStorage:",ae)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([Ge]));e({title:"Session created",description:"New session created successfully (local mode)"})}else if(confirm(`API create failed: ${be.message}. Create local session anyway?`)){const Ge={session_id:Date.now(),display_name:z,state:"inactive",is_primary:!1,created_at:new Date().toISOString(),last_activity:Date.now(),jid:""};r(ae=>[...ae,Ge]);const Ze=localStorage.getItem("whatsapp_sessions");if(Ze)try{const he=[...JSON.parse(Ze),Ge];localStorage.setItem("whatsapp_sessions",JSON.stringify(he))}catch(ae){console.error("Failed to save to localStorage:",ae)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([Ge]));e({title:"Local Session Created",description:"Session created locally (API failed)"})}else e({variant:"destructive",title:"Creation failed",description:be.message||"Failed to create session"})}catch(be){console.error("Create session error:",be),e({variant:"destructive",title:"Creation failed",description:"An error occurred while creating session"})}},G=async z=>{const W=await H("pause_session",{session_id:z});W.success?await L():e({variant:"destructive",title:"Pause failed",description:W.message||"Failed to pause session"})},K=async z=>{const W=await H("resume_session",{session_id:z});W.success?await L():e({variant:"destructive",title:"Resume failed",description:W.message||"Failed to resume session"})},Z=async z=>{const W=await H("disconnect_session",{session_id:z});W.success?(await L(),e({title:"Session Disconnected",description:"Session disconnected successfully"})):e({variant:"destructive",title:"Disconnect failed",description:W.message||"Failed to disconnect session"})},se=async z=>{if(confirm("Are you sure you want to delete this session?")){console.log("Deleting session:",z);try{const W=await H("delete_session",{session_id:z});if(console.log("Delete result:",W),W.success){const ce=localStorage.getItem("whatsapp_sessions");if(ce)try{const Pe=JSON.parse(ce).filter(Re=>Re.session_id!==z);localStorage.setItem("whatsapp_sessions",JSON.stringify(Pe)),console.log("Removed session from localStorage")}catch(E){console.error("Failed to update localStorage:",E)}r(E=>E.filter(Pe=>Pe.session_id!==z)),e({title:"Session deleted",description:"Session deleted successfully"})}else if(confirm(`API delete failed: ${W.message}. Remove from local list anyway?`)){const ce=localStorage.getItem("whatsapp_sessions");if(ce)try{const Pe=JSON.parse(ce).filter(Re=>Re.session_id!==z);localStorage.setItem("whatsapp_sessions",JSON.stringify(Pe))}catch(E){console.error("Failed to update localStorage:",E)}r(E=>E.filter(Pe=>Pe.session_id!==z)),e({title:"Session removed locally",description:"Session removed from local list (API delete failed)"})}else e({variant:"destructive",title:"Delete failed",description:W.message||"Failed to delete session"})}catch(W){console.error("Delete session error:",W),e({variant:"destructive",title:"Delete failed",description:"An error occurred while deleting session"})}}},oe=()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},xe=async z=>{if(z==null||z.preventDefault(),!(!f.trim()||!l||!n)){b(!0);try{const W=await H("send_text",{phone:l.phone,message:f,session_id:n.session_id});if(W.success)h(""),setTimeout(()=>D(l.id),500);else throw new Error(W.message||"Failed to send message")}catch(W){e({variant:"destructive",title:"Error sending message",description:(W==null?void 0:W.message)||"Unknown error"})}finally{b(!1)}}};return i.jsxs("div",{className:"h-full flex flex-1 overflow-hidden bg-background border rounded-lg",dir:qt()?"rtl":"ltr",children:[i.jsxs("div",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b bg-background/50 backdrop-blur",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"font-semibold flex items-center gap-2",children:[i.jsx(ql,{className:"h-4 w-4"}),"WhatsApp"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(le,{variant:"outline",size:"sm",onClick:()=>N(!w),className:"flex items-center gap-2",children:[i.jsx(z_,{className:"h-4 w-4"}),"Sessions"]}),i.jsx(le,{variant:"ghost",size:"icon",onClick:B,children:i.jsx(dR,{className:"h-4 w-4"})}),n&&i.jsx(i.Fragment,{children:n.state==="connected"?i.jsxs(le,{variant:"outline",size:"sm",onClick:()=>Z(n.session_id),className:"flex items-center gap-2",children:[i.jsx(ql,{className:"h-4 w-4 rotate-135"}),"Disconnect"]}):i.jsxs(le,{variant:"default",size:"sm",onClick:()=>q(n.session_id),disabled:_===n.session_id,className:"flex items-center gap-2",children:[i.jsx(ql,{className:"h-4 w-4"}),_===n.session_id?"Connecting...":"Connect"]})})]})]}),n&&i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${n.state==="connected"?"bg-green-500":n.state==="pending_qr"?"bg-yellow-500":n.state==="connecting"?"bg-blue-500":n.state==="paused"?"bg-orange-500":"bg-red-500"}`}),i.jsx("span",{className:"text-sm font-medium",children:n.display_name}),n.is_primary&&i.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:"PRIMARY"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:n.state==="connected"?" Connected":n.state==="pending_qr"?" Waiting QR":n.state==="connecting"?" Connecting":n.state==="paused"?" Paused":" Disconnected"})]}),i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg mb-3",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[k?i.jsx(pR,{className:"h-4 w-4 text-green-500"}):i.jsx(mR,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Conversations"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[O?i.jsx(pR,{className:"h-4 w-4 text-green-500"}):i.jsx(mR,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Messages"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[(!k||!O)&&i.jsx(le,{variant:"outline",size:"sm",onClick:()=>{k||C(),O||A()},className:"h-6 px-2 text-xs",children:"Reconnect"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:k&&O?" Real-time active":" Real-time disconnected"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ps,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Be,{placeholder:"Search...",className:"pl-9"})]})]}),i.jsx(Xa,{className:"flex-1",children:w?i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-medium",children:"Session Manager"}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs(le,{variant:"outline",size:"sm",onClick:L,className:"flex items-center gap-2",children:[i.jsx(dR,{className:"h-4 w-4"}),"Refresh"]}),i.jsx(le,{variant:"outline",size:"sm",onClick:async()=>{console.log("Check Status clicked"),console.log("Current sessions:",t),console.log("Active session:",n);const z=n||t[0];if(z){console.log("Checking status for session:",z.session_id);const W=await H("get_status",{session_id:z.session_id});if(console.log("Manual status check:",W),W.success&&W.data){const ce=W.data.state||W.data.status;console.log("Current session status:",ce),F(z.session_id,ce),e({title:"Status Updated",description:`Session status: ${ce}`})}else e({variant:"destructive",title:"Status Check Failed",description:W.message||"Failed to check status"})}else e({variant:"destructive",title:"No Session",description:"No session available to check"})},children:"Check Status"}),i.jsx(le,{variant:"outline",size:"sm",onClick:M,children:"Enable CRM"}),i.jsx(le,{variant:"outline",size:"sm",onClick:()=>{confirm("Clear all local sessions? This will remove all sessions from the UI.")&&(localStorage.removeItem("whatsapp_sessions"),r([]),a(null),e({title:"Sessions Cleared",description:"All local sessions have been removed"}))},children:"Clear Local"}),i.jsxs(le,{variant:"outline",size:"sm",onClick:()=>P("New Session"),className:"flex items-center gap-2",children:[i.jsx(Wt,{className:"h-4 w-4"}),"Create Session"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[t.map(z=>i.jsxs("div",{className:`p-3 border rounded-lg ${z.is_primary?"border-primary/20 bg-primary/5":"border-border"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${z.state==="connected"?"bg-green-500":z.state==="pending_qr"?"bg-yellow-500":z.state==="connecting"?"bg-blue-500":z.state==="paused"?"bg-orange-500":"bg-red-500"}`}),i.jsx("span",{className:"font-medium text-sm",children:z.display_name}),z.is_primary&&i.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"PRIMARY"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:z.state==="connected"?"":z.state==="pending_qr"?"":z.state==="connecting"?"":z.state==="paused"?"":z.state==="disconnected"?"":""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(le,{size:"sm",variant:"outline",onClick:()=>q(z.session_id),disabled:z.state!=="inactive"&&z.state!=="disconnected"||_===z.session_id,children:_===z.session_id?"Connecting...":"Connect"}),z.state==="connected"&&i.jsx(le,{size:"sm",variant:"outline",onClick:()=>G(z.session_id),children:i.jsx(jae,{className:"h-3 w-3"})}),z.state==="paused"&&i.jsx(le,{size:"sm",variant:"outline",onClick:()=>K(z.session_id),children:i.jsx(KN,{className:"h-3 w-3"})}),i.jsx(le,{size:"sm",variant:"outline",onClick:()=>se(z.session_id),className:"text-destructive hover:text-destructive",children:i.jsx(sr,{className:"h-3 w-3"})})]})]},`session-${z.session_id}-${z.state}`)),t.length===0&&i.jsx("div",{className:"text-center p-4 text-muted-foreground text-sm",children:"No sessions configured. Create your first session to get started."})]})]}):i.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[s.map(z=>i.jsxs("button",{onClick:()=>c(z),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${(l==null?void 0:l.id)===z.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted"}`,children:[i.jsx(Fs,{children:i.jsx(Is,{className:"bg-green-100 text-green-700",children:i.jsx(Pn,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium truncate",children:z.phone}),i.jsx("span",{className:"text-xs text-muted-foreground",children:z.last_message_at&&ns(new Date(z.last_message_at),"MMM d")})]}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Tap to view messages"})]})]},z.id)),s.length===0&&!p&&i.jsx("div",{className:"text-center p-8 text-muted-foreground text-sm",children:n?"No conversations yet.":"Connect a session to start messaging."})]})})]}),i.jsx("div",{className:"flex-1 flex flex-col bg-background relative",children:l?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-background z-10",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Fs,{className:"h-10 w-10",children:i.jsx(Is,{className:"bg-green-600 text-white",children:"WA"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:l.phone}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"WhatsApp Business"]})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50 ltr",ref:S,dir:"ltr",children:u.map(z=>{const W=z.direction==="outbound"||z.direction==="outgoing";return i.jsx("div",{className:`flex ${W?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${W?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 border rounded-bl-none"}`,children:[z.message&&i.jsx("p",{className:"text-sm",children:z.message}),i.jsx("p",{className:`text-[10px] mt-1 text-right ${W?"text-green-100":"text-muted-foreground"}`,children:z.created_at?ns(new Date(z.created_at),"HH:mm"):""})]})},z.id)})}),i.jsx("div",{className:"p-4 border-t bg-background",children:i.jsxs("form",{onSubmit:xe,className:"flex gap-2",children:[i.jsx(Be,{value:f,onChange:z=>h(z.target.value),placeholder:"Type a message...",className:"flex-1",disabled:y}),i.jsx(le,{type:"submit",size:"icon",disabled:y||!f.trim(),children:i.jsx(Lv,{className:"h-4 w-4"})})]})})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-8",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:i.jsx(ql,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n?"Select a conversation":"No active session"}),i.jsx("p",{className:"max-w-xs text-center text-sm",children:n?"Choose a conversation from the sidebar to start messaging.":"Connect a WhatsApp session to start messaging."})]})}),m&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-background rounded-lg p-6 max-w-sm w-full mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(Sae,{className:"h-5 w-5"}),"Scan QR Code"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(le,{variant:"ghost",size:"icon",onClick:()=>g(null),children:""}),i.jsx(le,{variant:"outline",size:"sm",onClick:async()=>{var W;const z=await H("get_status",{session_id:sessionId});z.success&&((W=z.data)!=null&&W.qr_code)&&g(z.data.qr_code)},children:"Refresh QR"})]})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("img",{src:m.startsWith("data:image/png;base64,")?m:`data:image/png;base64,${m}`,alt:"WhatsApp QR Code",className:"w-64 h-64 border-2 border-border rounded-lg mb-4"}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"font-medium",children:"Scan with WhatsApp"}),i.jsxs("ol",{className:"text-sm text-left space-y-1 text-muted-foreground",children:[i.jsx("li",{children:"1. Open WhatsApp on your phone"}),i.jsx("li",{children:"2. Tap Settings  Linked Devices"}),i.jsx("li",{children:"3. Tap Link a Device"}),i.jsx("li",{children:"4. Point camera at this QR code"})]})]})]})]})})]})}function _He(){const{t:e}=Rt(),{isRTL:t}=Ma(),r=Br(),{setBreadcrumbs:n}=Iv(),{toast:a}=Po(),[s,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,g]=x.useState(!1),[p,v]=x.useState(!1),[y,b]=x.useState({});x.useEffect(()=>{n([{label:e("navigation.dashboard"),href:"/"},{label:"Permissions",href:"/permissions"}]),_()},[]);const _=async()=>{try{c(!0);const T=await J.permissions.list({sort:"ASC"});o(T.data||[]),d(null)}catch(T){d(T.message||"Failed to load permissions")}finally{c(!1)}},j=T=>{h(T),b({...T}),v(!0),g(!0)},w=()=>{h(null),b({permissions_Name:"",is_offline_mode:0,can_edit:0,can_update:0,can_delete:0,can_view_system_settings:0,can_view_delete_button:0}),v(!1),g(!0)},N=async()=>{try{if(!y.permissions_Name){a({title:"Error",description:"Permission name is required",variant:"destructive"});return}f?(await J.permissions.update(f.permissions_ID,y),a({title:"Success",description:"Permission updated"})):(await J.permissions.create(y),a({title:"Success",description:"Permission created"})),g(!1),_()}catch(T){a({title:"Error",description:T.message,variant:"destructive"})}},S=[{key:"permissions_Name",header:"Role Name",render:T=>i.jsx(xc,{title:T.permissions_Name||"Unnamed Role",icon:i.jsx(M1,{className:"h-4 w-4 text-primary"})}),align:"left"},{key:"permissions_ID",header:"ID",render:T=>i.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["#",T.permissions_ID]}),align:"left"}],k=[{icon:i.jsx(Ri,{}),label:"Edit",onClick:T=>j(T)}],C=()=>{const T=Object.keys(y).filter(O=>O!=="permissions_ID"&&O!=="permissions_Name"&&O!=="created_at"&&O!=="updated_at");return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:T.map(O=>i.jsxs("div",{className:"flex items-center gap-2 border p-3 rounded-md",children:[i.jsx(Kb,{id:O,checked:!!y[O],onCheckedChange:A=>{b(V=>({...V,[O]:A?1:0}))}}),i.jsx(ze,{htmlFor:O,className:"cursor-pointer flex-1 capitalize",children:O.replace(/_/g," ")})]},O))})};return l?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:e("common.loading"),size:"2xl"})}):u?i.jsx(Rp,{message:u,onRetry:_}):i.jsxs("div",{className:"space-y-4 p-4",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Permissions"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and access rights"})]}),i.jsxs(le,{onClick:w,children:[i.jsx(Wt,{className:ge("h-4 w-4",t?"ml-2":"mr-2")})," Add Role"]})]}),i.jsx(vc,{data:s,columns:S,actions:k,keyExtractor:T=>T.permissions_ID.toString(),rtl:t,isMobile:r}),i.jsx(vl,{open:m,onOpenChange:g,children:i.jsxs(Eo,{side:t?"left":"right",className:"w-full sm:max-w-[850px] overflow-y-auto",dir:t?"rtl":"ltr",children:[i.jsxs(hc,{children:[i.jsx(xl,{children:f?"Edit Role":"New Role"}),i.jsx(of,{children:"Configure access permissions for this role."})]}),i.jsxs("div",{className:"py-4 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"roleName",children:"Role Name"}),i.jsx(Be,{id:"roleName",value:y.permissions_Name||"",onChange:T=>b(O=>({...O,permissions_Name:T.target.value}))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Access Rights"}),C(),Object.keys(y).filter(T=>T!=="permissions_ID"&&T!=="permissions_Name").length===0&&i.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["No permission flags detected.",s.length===0&&" Add your first permission to define the schema or ensure backend migration."]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[i.jsx(le,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),i.jsx(le,{onClick:N,children:"Save Changes"})]})]})})]})}const vi={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},Vo={primary:"text-primary",secondary:"text-muted-foreground",success:"text-green-600",warning:"text-yellow-600",destructive:"text-red-600"},Py={primary:"bg-primary",secondary:"bg-muted-foreground",success:"bg-green-600",warning:"bg-yellow-600",destructive:"bg-red-600"};function Hc({size:e="md",variant:t="default",className:r,color:n="primary"}){const a=ge(vi[e],Vo[n],r);switch(t){case"dots":return i.jsxs("div",{className:ge("flex space-x-1",r),children:[i.jsx("div",{className:ge("animate-bounce",vi[e],Vo[n]),children:i.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),i.jsx("div",{className:ge("animate-bounce",vi[e],Vo[n],"animation-delay-100"),children:i.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),i.jsx("div",{className:ge("animate-bounce",vi[e],Vo[n],"animation-delay-200"),children:i.jsx("div",{className:"h-full w-full rounded-full bg-current"})})]});case"pulse":return i.jsxs("div",{className:ge("relative",vi[e],r),children:[i.jsx("div",{className:ge("h-full w-full rounded-full border-2 border-current opacity-20")}),i.jsx("div",{className:ge("absolute inset-0 h-full w-full rounded-full border-2 border-t-current animate-spin")})]});case"bounce":return i.jsxs("div",{className:ge("flex space-x-1",r),children:[i.jsx("div",{className:ge("animate-bounce",vi[e],Vo[n]),children:i.jsx(kae,{className:"h-full w-full"})}),i.jsx("div",{className:ge("animate-bounce",vi[e],Vo[n],"animation-delay-100"),children:i.jsx(kB,{className:"h-full w-full"})}),i.jsx("div",{className:ge("animate-bounce",vi[e],Vo[n],"animation-delay-200"),children:i.jsx(tf,{className:"h-full w-full animate-spin"})})]});case"rotate":return i.jsx("div",{className:ge("relative",vi[e],r),children:i.jsx(tf,{className:ge("h-full w-full animate-spin",Vo[n])})});case"rings":return i.jsxs("div",{className:ge("relative",vi[e],r),children:[i.jsx("div",{className:ge("absolute inset-0 h-full w-full rounded-full border-2 border-current opacity-20 animate-ping")}),i.jsx("div",{className:ge("absolute inset-2 h-full w-full rounded-full border-2 border-current opacity-40 animate-ping","animation-delay-100")}),i.jsx("div",{className:ge("absolute inset-4 h-full w-full rounded-full border-2 border-current animate-spin")})]});case"bars":return i.jsx("div",{className:ge("flex items-end space-x-1",r),children:[0,1,2,3,4].map(s=>i.jsx("div",{className:ge("w-1 bg-current rounded-full animate-pulse",e==="sm"?"h-4":e==="md"?"h-6":e==="lg"?"h-8":"h-12",Vo[n],s===0&&"animation-delay-0",s===1&&"animation-delay-100",s===2&&"animation-delay-200",s===3&&"animation-delay-300",s===4&&"animation-delay-400"),style:{animationDelay:`${s*100}ms`,animation:"pulse 1.4s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},s))});case"wave":return i.jsx("div",{className:ge("flex space-x-1",r),children:[0,1,2,3,4].map(s=>i.jsx("div",{className:ge("rounded-full bg-current animate-bounce",e==="sm"?"h-2 w-2":e==="md"?"h-3 w-3":e==="lg"?"h-4 w-4":"h-6 w-6",Vo[n]),style:{animationDelay:`${s*100}ms`}},s))});case"orbit":return i.jsxs("div",{className:ge("relative",vi[e],r),children:[i.jsxs("div",{className:ge("absolute inset-0 h-full w-full animate-spin"),children:[i.jsx("div",{className:ge("absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full",Py[n])}),i.jsx("div",{className:ge("absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 w-2 h-2 rounded-full opacity-60",Py[n])}),i.jsx("div",{className:ge("absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1/2 w-2 h-2 rounded-full opacity-40",Py[n])}),i.jsx("div",{className:ge("absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-1/2 w-2 h-2 rounded-full opacity-80",Py[n])})]}),i.jsx("div",{className:ge("absolute inset-2 h-full w-full rounded-full border border-current opacity-20")})]});case"morph":return i.jsx("div",{className:ge("relative",vi[e],r),children:i.jsx("div",{className:ge("h-full w-full bg-current rounded-full animate-morph")})});default:return i.jsx(U_,{className:ge("animate-spin",a)})}}function i$({message:e="Loading...",size:t="lg",variant:r="default",showProgress:n=!1,progress:a=0,className:s}){return i.jsxs("div",{className:ge("flex flex-col items-center justify-center py-8 space-y-4",s),children:[i.jsxs("div",{className:"relative",children:[i.jsx(Hc,{size:t,variant:r}),n&&i.jsx("div",{className:"absolute -bottom-6 left-0 right-0",children:i.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${a}%`}})})})]}),e&&i.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium text-center max-w-xs",children:e})]})}function wHe({message:e="Loading...",fullScreen:t=!1,variant:r="bounce",className:n}){const a=i.jsxs("div",{className:ge("flex flex-col items-center justify-center space-y-6",t?"min-h-screen":"py-16",n),children:[i.jsxs("div",{className:"relative",children:[i.jsx(Hc,{size:"xl",variant:r}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-muted/20 animate-ping"})})]}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"text-lg font-medium text-foreground animate-pulse",children:e}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we prepare your content..."})]})]});return t?i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:a}):a}function jHe(){const[e,t]=x.useState(!1),[r,n]=x.useState(0),a=()=>{n(0),t(!0);const c=setInterval(()=>{n(u=>u>=100?(clearInterval(c),setTimeout(()=>t(!1),500),100):u+10)},200)},s=["default","dots","pulse","bounce","rotate","rings","bars","wave","orbit","morph"],o=["sm","md","lg","xl"],l=["primary","secondary","success","warning","destructive"];return i.jsxs("div",{className:"min-h-screen bg-background p-8 space-y-8",children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"text-center space-y-4 mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold",children:"Custom Loading Spinners"}),i.jsx("p",{className:"text-muted-foreground text-lg",children:"Showcase of different spinner variants and configurations"}),i.jsx(le,{onClick:a,className:"mt-4",children:"Show Page Loader with Progress"})]}),i.jsxs(et,{children:[i.jsx($t,{children:i.jsx(Jt,{children:"Spinner Variants"})}),i.jsx(ct,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:s.map(c=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"h-20 flex items-center justify-center",children:i.jsx(Hc,{variant:c,size:"lg"})}),i.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),i.jsxs(et,{children:[i.jsx($t,{children:i.jsx(Jt,{children:"Spinner Sizes"})}),i.jsx(ct,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:o.map(c=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"h-20 flex items-center justify-center",children:i.jsx(Hc,{variant:"bounce",size:c})}),i.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),i.jsxs(et,{children:[i.jsx($t,{children:i.jsx(Jt,{children:"Spinner Colors"})}),i.jsx(ct,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:l.map(c=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"h-20 flex items-center justify-center",children:i.jsx(Hc,{variant:"default",size:"lg",color:c})}),i.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),i.jsxs(et,{children:[i.jsx($t,{children:i.jsx(Jt,{children:"Loading Spinner with Messages"})}),i.jsx(ct,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Basic Loading"}),i.jsx(i$,{message:"Loading dashboard data...",variant:"dots",size:"md"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"With Progress"}),i.jsx(i$,{message:"Processing files...",variant:"pulse",size:"lg",showProgress:!0,progress:65})]})]})})]}),i.jsxs(et,{children:[i.jsx($t,{children:i.jsx(Jt,{children:"Combined Examples"})}),i.jsx(ct,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[i.jsx(Hc,{variant:"bounce",size:"xl",color:"success"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Success State"})]}),i.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[i.jsx(Hc,{variant:"rotate",size:"xl",color:"warning"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing"})]}),i.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[i.jsx(Hc,{variant:"dots",size:"xl",color:"destructive"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Error State"})]})]})})]})]}),e&&i.jsx(wHe,{message:"Loading amazing content...",variant:"bounce",fullScreen:!0})]})}const SHe=()=>i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),i.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),i.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})}),NHe=()=>{const{user:e}=hr();return(e==null?void 0:e.role)==="client"?i.jsx(N5e,{}):i.jsx(YIe,{})},o$=({children:e})=>i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-indigo-400/20 to-blue-400/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-primary/5 to-blue-400/5 rounded-full blur-3xl"})]}),i.jsx("div",{className:"relative z-10 w-full px-4 py-8",children:e})]});function kHe(){return i.jsx(yre,{children:i.jsx(vB,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(Cse,{children:i.jsx(zne,{children:i.jsx(Bne,{children:i.jsx(Vne,{children:i.jsx(CHe,{})})})})})})})}function CHe(){const{isRTL:e}=Ma(),t=jl(),{t:r}=Rt();return x.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),x.useEffect(()=>{const n=t.pathname.split("/").filter(c=>c),a="Middar CRM";if(n.length===0){document.title=a;return}const s=n[n.length-1],o={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys",reports:"navigation.reports","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee",permissions:"navigation.permissions"};let l="";if(o[s])l=r(o[s]);else if(/^\d+$/.test(s)||s.length>20)if(n.length>1){const c=n[n.length-2];o[c]?l=`${r(o[c])} - ${s}`:l=s}else l=s;else l=s.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");document.title=`${l} | ${a}`},[t,r]),i.jsxs(fre,{children:[i.jsx(xr,{path:"/login",element:i.jsx(o$,{children:i.jsx(Nse,{})})}),i.jsx(xr,{path:"/signup",element:i.jsx(o$,{children:i.jsx(kse,{})})}),i.jsx(xr,{path:"/unauthorized",element:i.jsx(SHe,{})}),i.jsx(xr,{path:"/auth/callback",element:i.jsx(E5e,{})}),i.jsx(xr,{path:"/",element:i.jsx(C5e,{})}),i.jsxs(xr,{element:i.jsx(Qx,{children:i.jsx(dk,{children:i.jsx(XD,{})})}),children:[i.jsx(xr,{path:"/dashboard",element:i.jsx(uMe,{})}),i.jsx(xr,{path:"/leads",element:i.jsx(sIe,{})}),i.jsx(xr,{path:"/projects",element:i.jsx(jIe,{})}),i.jsx(xr,{path:"/tasks",element:i.jsx(uIe,{})}),i.jsx(xr,{path:"/tickets",element:i.jsx(hIe,{})}),i.jsx(xr,{path:"/users",element:i.jsx(Qx,{denyPermissionIds:[3,4,5,6],children:i.jsx(LIe,{})})}),i.jsx(xr,{path:"/teams",element:i.jsx($Ie,{})}),i.jsx(xr,{path:"/chats",element:i.jsx(NHe,{})}),i.jsx(xr,{path:"/all-chats",element:i.jsx(S5e,{})}),i.jsx(xr,{path:"/whatsapp",element:i.jsx(bHe,{})}),i.jsx(xr,{path:"/requests",element:i.jsx(xHe,{})}),i.jsx(xr,{path:"/client-portal",element:i.jsx(k5e,{})}),i.jsx(xr,{path:"/surveys",element:i.jsx(RVe,{})}),i.jsx(xr,{path:"/reports",element:i.jsx(mWe,{})}),i.jsx(xr,{path:"/mleads",element:i.jsx(dWe,{})}),i.jsx(xr,{path:"/mprojects",element:i.jsx(hWe,{})}),i.jsx(xr,{path:"/permissions",element:i.jsx(Qx,{denyPermissionIds:[3,4,5,6],children:i.jsx(_He,{})})}),i.jsx(xr,{path:"/settings",element:i.jsx(Qx,{denyPermissionIds:[3,4,5,6],children:i.jsx(MVe,{})})}),i.jsx(xr,{path:"/spinner-demo",element:i.jsx(jHe,{})})]}),i.jsx(xr,{element:i.jsx(dk,{children:i.jsx(XD,{})})}),i.jsx(xr,{path:"*",element:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("h1",{children:"404 - Page Not Found"})})})]})}const EHe=new hZ({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});T6(document.getElementById("root")).render(i.jsx(_ee,{i18n:zr,children:i.jsx(xZ,{client:EHe,children:i.jsx(vB,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(kHe,{})})})}));
