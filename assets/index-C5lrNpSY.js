var gX=Object.defineProperty;var o4=e=>{throw TypeError(e)};var vX=(e,t,r)=>t in e?gX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Fp=(e,t,r)=>vX(e,typeof t!="symbol"?t+"":t,r),Tj=(e,t,r)=>t.has(e)||o4("Cannot "+r);var ve=(e,t,r)=>(Tj(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>t.has(e)?o4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ct=(e,t,r,n)=>(Tj(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Gt=(e,t,r)=>(Tj(e,t,"access private method"),r);var Sx=(e,t,r,n)=>({set _(a){ct(e,t,a,r)},get _(){return ve(e,t,n)}});function xX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Nx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var f$={exports:{}},mw={},h$={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev=Symbol.for("react.element"),yX=Symbol.for("react.portal"),bX=Symbol.for("react.fragment"),wX=Symbol.for("react.strict_mode"),_X=Symbol.for("react.profiler"),jX=Symbol.for("react.provider"),SX=Symbol.for("react.context"),NX=Symbol.for("react.forward_ref"),kX=Symbol.for("react.suspense"),CX=Symbol.for("react.memo"),EX=Symbol.for("react.lazy"),l4=Symbol.iterator;function TX(e){return e===null||typeof e!="object"?null:(e=l4&&e[l4]||e["@@iterator"],typeof e=="function"?e:null)}var m$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p$=Object.assign,g$={};function np(e,t,r){this.props=e,this.context=t,this.refs=g$,this.updater=r||m$}np.prototype.isReactComponent={};np.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};np.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function v$(){}v$.prototype=np.prototype;function oE(e,t,r){this.props=e,this.context=t,this.refs=g$,this.updater=r||m$}var lE=oE.prototype=new v$;lE.constructor=oE;p$(lE,np.prototype);lE.isPureReactComponent=!0;var c4=Array.isArray,x$=Object.prototype.hasOwnProperty,cE={current:null},y$={key:!0,ref:!0,__self:!0,__source:!0};function b$(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)x$.call(t,n)&&!y$.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ev,type:e,key:s,ref:o,props:a,_owner:cE.current}}function AX(e,t){return{$$typeof:Ev,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uE(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ev}function PX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var u4=/\/+/g;function Aj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PX(""+e.key):t.toString(36)}function Cy(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ev:case yX:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Aj(o,0):n,c4(a)?(r="",e!=null&&(r=e.replace(u4,"$&/")+"/"),Cy(a,t,r,"",function(u){return u})):a!=null&&(uE(a)&&(a=AX(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(u4,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",c4(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Aj(s,l);o+=Cy(s,t,r,c,a)}else if(c=TX(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Aj(s,l++),o+=Cy(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function kx(e,t,r){if(e==null)return e;var n=[],a=0;return Cy(e,n,"","",function(s){return t.call(r,s,a++)}),n}function OX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ds={current:null},Ey={transition:null},DX={ReactCurrentDispatcher:ds,ReactCurrentBatchConfig:Ey,ReactCurrentOwner:cE};function w$(){throw Error("act(...) is not supported in production builds of React.")}Vt.Children={map:kx,forEach:function(e,t,r){kx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kx(e,function(){t++}),t},toArray:function(e){return kx(e,function(t){return t})||[]},only:function(e){if(!uE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vt.Component=np;Vt.Fragment=bX;Vt.Profiler=_X;Vt.PureComponent=oE;Vt.StrictMode=wX;Vt.Suspense=kX;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DX;Vt.act=w$;Vt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=p$({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=cE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x$.call(t,c)&&!y$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ev,type:e.type,key:a,ref:s,props:n,_owner:o}};Vt.createContext=function(e){return e={$$typeof:SX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jX,_context:e},e.Consumer=e};Vt.createElement=b$;Vt.createFactory=function(e){var t=b$.bind(null,e);return t.type=e,t};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(e){return{$$typeof:NX,render:e}};Vt.isValidElement=uE;Vt.lazy=function(e){return{$$typeof:EX,_payload:{_status:-1,_result:e},_init:OX}};Vt.memo=function(e,t){return{$$typeof:CX,type:e,compare:t===void 0?null:t}};Vt.startTransition=function(e){var t=Ey.transition;Ey.transition={};try{e()}finally{Ey.transition=t}};Vt.unstable_act=w$;Vt.useCallback=function(e,t){return ds.current.useCallback(e,t)};Vt.useContext=function(e){return ds.current.useContext(e)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(e){return ds.current.useDeferredValue(e)};Vt.useEffect=function(e,t){return ds.current.useEffect(e,t)};Vt.useId=function(){return ds.current.useId()};Vt.useImperativeHandle=function(e,t,r){return ds.current.useImperativeHandle(e,t,r)};Vt.useInsertionEffect=function(e,t){return ds.current.useInsertionEffect(e,t)};Vt.useLayoutEffect=function(e,t){return ds.current.useLayoutEffect(e,t)};Vt.useMemo=function(e,t){return ds.current.useMemo(e,t)};Vt.useReducer=function(e,t,r){return ds.current.useReducer(e,t,r)};Vt.useRef=function(e){return ds.current.useRef(e)};Vt.useState=function(e){return ds.current.useState(e)};Vt.useSyncExternalStore=function(e,t,r){return ds.current.useSyncExternalStore(e,t,r)};Vt.useTransition=function(){return ds.current.useTransition()};Vt.version="18.3.1";h$.exports=Vt;var x=h$.exports;const ue=fr(x),dE=xX({__proto__:null,default:ue},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RX=x,MX=Symbol.for("react.element"),FX=Symbol.for("react.fragment"),IX=Object.prototype.hasOwnProperty,LX=RX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$X={key:!0,ref:!0,__self:!0,__source:!0};function _$(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)IX.call(t,n)&&!$X.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:MX,type:e,key:s,ref:o,props:a,_owner:LX.current}}mw.Fragment=FX;mw.jsx=_$;mw.jsxs=_$;f$.exports=mw;var i=f$.exports,j$={exports:{}},li={},S$={exports:{}},N$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,L){var q=M.length;M.push(L);e:for(;0<q;){var Z=q-1>>>1,A=M[Z];if(0<a(A,L))M[Z]=L,M[q]=A,q=Z;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var L=M[0],q=M.pop();if(q!==L){M[0]=q;e:for(var Z=0,A=M.length,B=A>>>1;Z<B;){var H=2*(Z+1)-1,V=M[H],te=H+1,le=M[te];if(0>a(V,q))te<A&&0>a(le,V)?(M[Z]=le,M[te]=q,Z=te):(M[Z]=V,M[H]=q,Z=H);else if(te<A&&0>a(le,q))M[Z]=le,M[te]=q,Z=te;else break e}}return L}function a(M,L){var q=M.sortIndex-L.sortIndex;return q!==0?q:M.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=M)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function j(M){if(p=!1,w(M),!g)if(r(c)!==null)g=!0,z(_);else{var L=r(u);L!==null&&P(j,L.startTime-M)}}function _(M,L){g=!1,p&&(p=!1,y(C),C=-1),m=!0;var q=h;try{for(w(L),f=r(c);f!==null&&(!(f.expirationTime>L)||M&&!O());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var A=Z(f.expirationTime<=L);L=e.unstable_now(),typeof A=="function"?f.callback=A:f===r(c)&&n(c),w(L)}else n(c);f=r(c)}if(f!==null)var B=!0;else{var H=r(u);H!==null&&P(j,H.startTime-L),B=!1}return B}finally{f=null,h=q,m=!1}}var S=!1,N=null,C=-1,k=5,E=-1;function O(){return!(e.unstable_now()-E<k)}function T(){if(N!==null){var M=e.unstable_now();E=M;var L=!0;try{L=N(!0,M)}finally{L?U():(S=!1,N=null)}}else S=!1}var U;if(typeof b=="function")U=function(){b(T)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,R=W.port2;W.port1.onmessage=T,U=function(){R.postMessage(null)}}else U=function(){v(T,0)};function z(M){N=M,S||(S=!0,U())}function P(M,L){C=v(function(){M(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,z(_))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var q=h;h=L;try{return M()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=h;h=M;try{return L()}finally{h=q}},e.unstable_scheduleCallback=function(M,L,q){var Z=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,M){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=q+A,M={id:d++,callback:L,priorityLevel:M,startTime:q,expirationTime:A,sortIndex:-1},q>Z?(M.sortIndex=q,t(u,M),r(c)===null&&M===r(u)&&(p?(y(C),C=-1):p=!0,P(j,q-Z))):(M.sortIndex=A,t(c,M),g||m||(g=!0,z(_))),M},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(M){var L=h;return function(){var q=h;h=L;try{return M.apply(this,arguments)}finally{h=q}}}})(N$);S$.exports=N$;var BX=S$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UX=x,si=BX;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k$=new Set,ng={};function vf(e,t){rm(e,t),rm(e+"Capture",t)}function rm(e,t){for(ng[e]=t,e=0;e<t.length;e++)k$.add(t[e])}var tc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kN=Object.prototype.hasOwnProperty,zX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d4={},f4={};function VX(e){return kN.call(f4,e)?!0:kN.call(d4,e)?!1:zX.test(e)?f4[e]=!0:(d4[e]=!0,!1)}function WX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HX(e,t,r,n){if(t===null||typeof t>"u"||WX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fs(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var aa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){aa[e]=new fs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];aa[t]=new fs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){aa[e]=new fs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){aa[e]=new fs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){aa[e]=new fs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){aa[e]=new fs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){aa[e]=new fs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){aa[e]=new fs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){aa[e]=new fs(e,5,!1,e.toLowerCase(),null,!1,!1)});var fE=/[\-:]([a-z])/g;function hE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fE,hE);aa[t]=new fs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fE,hE);aa[t]=new fs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fE,hE);aa[t]=new fs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){aa[e]=new fs(e,1,!1,e.toLowerCase(),null,!1,!1)});aa.xlinkHref=new fs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){aa[e]=new fs(e,1,!1,e.toLowerCase(),null,!0,!0)});function mE(e,t,r,n){var a=aa.hasOwnProperty(t)?aa[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HX(t,r,a,n)&&(r=null),n||a===null?VX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xc=UX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cx=Symbol.for("react.element"),oh=Symbol.for("react.portal"),lh=Symbol.for("react.fragment"),pE=Symbol.for("react.strict_mode"),CN=Symbol.for("react.profiler"),C$=Symbol.for("react.provider"),E$=Symbol.for("react.context"),gE=Symbol.for("react.forward_ref"),EN=Symbol.for("react.suspense"),TN=Symbol.for("react.suspense_list"),vE=Symbol.for("react.memo"),Ic=Symbol.for("react.lazy"),T$=Symbol.for("react.offscreen"),h4=Symbol.iterator;function Ip(e){return e===null||typeof e!="object"?null:(e=h4&&e[h4]||e["@@iterator"],typeof e=="function"?e:null)}var qr=Object.assign,Pj;function f0(e){if(Pj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pj=t&&t[1]||""}return`
`+Pj+e}var Oj=!1;function Dj(e,t){if(!e||Oj)return"";Oj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Oj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?f0(e):""}function qX(e){switch(e.tag){case 5:return f0(e.type);case 16:return f0("Lazy");case 13:return f0("Suspense");case 19:return f0("SuspenseList");case 0:case 2:case 15:return e=Dj(e.type,!1),e;case 11:return e=Dj(e.type.render,!1),e;case 1:return e=Dj(e.type,!0),e;default:return""}}function AN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lh:return"Fragment";case oh:return"Portal";case CN:return"Profiler";case pE:return"StrictMode";case EN:return"Suspense";case TN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case E$:return(e.displayName||"Context")+".Consumer";case C$:return(e._context.displayName||"Context")+".Provider";case gE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vE:return t=e.displayName||null,t!==null?t:AN(e.type)||"Memo";case Ic:t=e._payload,e=e._init;try{return AN(e(t))}catch{}}return null}function GX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AN(t);case 8:return t===pE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function A$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KX(e){var t=A$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ex(e){e._valueTracker||(e._valueTracker=KX(e))}function P$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=A$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function PN(e,t){var r=t.checked;return qr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function m4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function O$(e,t){t=t.checked,t!=null&&mE(e,"checked",t,!1)}function ON(e,t){O$(e,t);var r=Nu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?DN(e,t.type,r):t.hasOwnProperty("defaultValue")&&DN(e,t.type,Nu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function p4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function DN(e,t,r){(t!=="number"||Zy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var h0=Array.isArray;function Nh(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function RN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return qr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function g4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(We(92));if(h0(r)){if(1<r.length)throw Error(We(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nu(r)}}function D$(e,t){var r=Nu(t.value),n=Nu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function v4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function MN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tx,M$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tx=Tx||document.createElement("div"),Tx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ag(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var N0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YX=["Webkit","ms","Moz","O"];Object.keys(N0).forEach(function(e){YX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),N0[t]=N0[e]})});function F$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||N0.hasOwnProperty(e)&&N0[e]?(""+t).trim():t+"px"}function I$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=F$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var XX=qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function FN(e,t){if(t){if(XX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function IN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LN=null;function xE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $N=null,kh=null,Ch=null;function x4(e){if(e=Pv(e)){if(typeof $N!="function")throw Error(We(280));var t=e.stateNode;t&&(t=yw(t),$N(e.stateNode,e.type,t))}}function L$(e){kh?Ch?Ch.push(e):Ch=[e]:kh=e}function $$(){if(kh){var e=kh,t=Ch;if(Ch=kh=null,x4(e),t)for(e=0;e<t.length;e++)x4(t[e])}}function B$(e,t){return e(t)}function U$(){}var Rj=!1;function z$(e,t,r){if(Rj)return e(t,r);Rj=!0;try{return B$(e,t,r)}finally{Rj=!1,(kh!==null||Ch!==null)&&(U$(),$$())}}function sg(e,t){var r=e.stateNode;if(r===null)return null;var n=yw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(We(231,t,typeof r));return r}var BN=!1;if(tc)try{var Lp={};Object.defineProperty(Lp,"passive",{get:function(){BN=!0}}),window.addEventListener("test",Lp,Lp),window.removeEventListener("test",Lp,Lp)}catch{BN=!1}function QX(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var k0=!1,e1=null,t1=!1,UN=null,JX={onError:function(e){k0=!0,e1=e}};function ZX(e,t,r,n,a,s,o,l,c){k0=!1,e1=null,QX.apply(JX,arguments)}function eQ(e,t,r,n,a,s,o,l,c){if(ZX.apply(this,arguments),k0){if(k0){var u=e1;k0=!1,e1=null}else throw Error(We(198));t1||(t1=!0,UN=u)}}function xf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function V$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y4(e){if(xf(e)!==e)throw Error(We(188))}function tQ(e){var t=e.alternate;if(!t){if(t=xf(e),t===null)throw Error(We(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return y4(a),e;if(s===n)return y4(a),t;s=s.sibling}throw Error(We(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(We(189))}}if(r.alternate!==n)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?e:t}function W$(e){return e=tQ(e),e!==null?H$(e):null}function H$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=H$(e);if(t!==null)return t;e=e.sibling}return null}var q$=si.unstable_scheduleCallback,b4=si.unstable_cancelCallback,rQ=si.unstable_shouldYield,nQ=si.unstable_requestPaint,nn=si.unstable_now,aQ=si.unstable_getCurrentPriorityLevel,yE=si.unstable_ImmediatePriority,G$=si.unstable_UserBlockingPriority,r1=si.unstable_NormalPriority,sQ=si.unstable_LowPriority,K$=si.unstable_IdlePriority,pw=null,nl=null;function iQ(e){if(nl&&typeof nl.onCommitFiberRoot=="function")try{nl.onCommitFiberRoot(pw,e,void 0,(e.current.flags&128)===128)}catch{}}var mo=Math.clz32?Math.clz32:cQ,oQ=Math.log,lQ=Math.LN2;function cQ(e){return e>>>=0,e===0?32:31-(oQ(e)/lQ|0)|0}var Ax=64,Px=4194304;function m0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function n1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=m0(l):(s&=o,s!==0&&(n=m0(s)))}else o=r&~a,o!==0?n=m0(o):s!==0&&(n=m0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mo(t),a=1<<r,n|=e[r],t&=~a;return n}function uQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dQ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-mo(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=uQ(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function zN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Y$(){var e=Ax;return Ax<<=1,!(Ax&4194240)&&(Ax=64),e}function Mj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Tv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mo(t),e[t]=r}function fQ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-mo(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function bE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var xr=0;function X$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Q$,wE,J$,Z$,e8,VN=!1,Ox=[],du=null,fu=null,hu=null,ig=new Map,og=new Map,Uc=[],hQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w4(e,t){switch(e){case"focusin":case"focusout":du=null;break;case"dragenter":case"dragleave":fu=null;break;case"mouseover":case"mouseout":hu=null;break;case"pointerover":case"pointerout":ig.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":og.delete(t.pointerId)}}function $p(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Pv(t),t!==null&&wE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function mQ(e,t,r,n,a){switch(t){case"focusin":return du=$p(du,e,t,r,n,a),!0;case"dragenter":return fu=$p(fu,e,t,r,n,a),!0;case"mouseover":return hu=$p(hu,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return ig.set(s,$p(ig.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,og.set(s,$p(og.get(s)||null,e,t,r,n,a)),!0}return!1}function t8(e){var t=fd(e.target);if(t!==null){var r=xf(t);if(r!==null){if(t=r.tag,t===13){if(t=V$(r),t!==null){e.blockedOn=t,e8(e.priority,function(){J$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ty(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=WN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);LN=n,r.target.dispatchEvent(n),LN=null}else return t=Pv(r),t!==null&&wE(t),e.blockedOn=r,!1;t.shift()}return!0}function _4(e,t,r){Ty(e)&&r.delete(t)}function pQ(){VN=!1,du!==null&&Ty(du)&&(du=null),fu!==null&&Ty(fu)&&(fu=null),hu!==null&&Ty(hu)&&(hu=null),ig.forEach(_4),og.forEach(_4)}function Bp(e,t){e.blockedOn===t&&(e.blockedOn=null,VN||(VN=!0,si.unstable_scheduleCallback(si.unstable_NormalPriority,pQ)))}function lg(e){function t(a){return Bp(a,e)}if(0<Ox.length){Bp(Ox[0],e);for(var r=1;r<Ox.length;r++){var n=Ox[r];n.blockedOn===e&&(n.blockedOn=null)}}for(du!==null&&Bp(du,e),fu!==null&&Bp(fu,e),hu!==null&&Bp(hu,e),ig.forEach(t),og.forEach(t),r=0;r<Uc.length;r++)n=Uc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Uc.length&&(r=Uc[0],r.blockedOn===null);)t8(r),r.blockedOn===null&&Uc.shift()}var Eh=xc.ReactCurrentBatchConfig,a1=!0;function gQ(e,t,r,n){var a=xr,s=Eh.transition;Eh.transition=null;try{xr=1,_E(e,t,r,n)}finally{xr=a,Eh.transition=s}}function vQ(e,t,r,n){var a=xr,s=Eh.transition;Eh.transition=null;try{xr=4,_E(e,t,r,n)}finally{xr=a,Eh.transition=s}}function _E(e,t,r,n){if(a1){var a=WN(e,t,r,n);if(a===null)Hj(e,t,n,s1,r),w4(e,n);else if(mQ(a,e,t,r,n))n.stopPropagation();else if(w4(e,n),t&4&&-1<hQ.indexOf(e)){for(;a!==null;){var s=Pv(a);if(s!==null&&Q$(s),s=WN(e,t,r,n),s===null&&Hj(e,t,n,s1,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Hj(e,t,n,null,r)}}var s1=null;function WN(e,t,r,n){if(s1=null,e=xE(n),e=fd(e),e!==null)if(t=xf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=V$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return s1=e,null}function r8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aQ()){case yE:return 1;case G$:return 4;case r1:case sQ:return 16;case K$:return 536870912;default:return 16}default:return 16}}var ru=null,jE=null,Ay=null;function n8(){if(Ay)return Ay;var e,t=jE,r=t.length,n,a="value"in ru?ru.value:ru.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return Ay=a.slice(e,1<n?1-n:void 0)}function Py(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dx(){return!0}function j4(){return!1}function ci(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dx:j4,this.isPropagationStopped=j4,this}return qr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dx)},persist:function(){},isPersistent:Dx}),t}var ap={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SE=ci(ap),Av=qr({},ap,{view:0,detail:0}),xQ=ci(Av),Fj,Ij,Up,gw=qr({},Av,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Up&&(Up&&e.type==="mousemove"?(Fj=e.screenX-Up.screenX,Ij=e.screenY-Up.screenY):Ij=Fj=0,Up=e),Fj)},movementY:function(e){return"movementY"in e?e.movementY:Ij}}),S4=ci(gw),yQ=qr({},gw,{dataTransfer:0}),bQ=ci(yQ),wQ=qr({},Av,{relatedTarget:0}),Lj=ci(wQ),_Q=qr({},ap,{animationName:0,elapsedTime:0,pseudoElement:0}),jQ=ci(_Q),SQ=qr({},ap,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NQ=ci(SQ),kQ=qr({},ap,{data:0}),N4=ci(kQ),CQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TQ[e])?!!t[e]:!1}function NE(){return AQ}var PQ=qr({},Av,{key:function(e){if(e.key){var t=CQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Py(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NE,charCode:function(e){return e.type==="keypress"?Py(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Py(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OQ=ci(PQ),DQ=qr({},gw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k4=ci(DQ),RQ=qr({},Av,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NE}),MQ=ci(RQ),FQ=qr({},ap,{propertyName:0,elapsedTime:0,pseudoElement:0}),IQ=ci(FQ),LQ=qr({},gw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$Q=ci(LQ),BQ=[9,13,27,32],kE=tc&&"CompositionEvent"in window,C0=null;tc&&"documentMode"in document&&(C0=document.documentMode);var UQ=tc&&"TextEvent"in window&&!C0,a8=tc&&(!kE||C0&&8<C0&&11>=C0),C4=" ",E4=!1;function s8(e,t){switch(e){case"keyup":return BQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ch=!1;function zQ(e,t){switch(e){case"compositionend":return i8(t);case"keypress":return t.which!==32?null:(E4=!0,C4);case"textInput":return e=t.data,e===C4&&E4?null:e;default:return null}}function VQ(e,t){if(ch)return e==="compositionend"||!kE&&s8(e,t)?(e=n8(),Ay=jE=ru=null,ch=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return a8&&t.locale!=="ko"?null:t.data;default:return null}}var WQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WQ[e.type]:t==="textarea"}function o8(e,t,r,n){L$(n),t=i1(t,"onChange"),0<t.length&&(r=new SE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var E0=null,cg=null;function HQ(e){x8(e,0)}function vw(e){var t=fh(e);if(P$(t))return e}function qQ(e,t){if(e==="change")return t}var l8=!1;if(tc){var $j;if(tc){var Bj="oninput"in document;if(!Bj){var A4=document.createElement("div");A4.setAttribute("oninput","return;"),Bj=typeof A4.oninput=="function"}$j=Bj}else $j=!1;l8=$j&&(!document.documentMode||9<document.documentMode)}function P4(){E0&&(E0.detachEvent("onpropertychange",c8),cg=E0=null)}function c8(e){if(e.propertyName==="value"&&vw(cg)){var t=[];o8(t,cg,e,xE(e)),z$(HQ,t)}}function GQ(e,t,r){e==="focusin"?(P4(),E0=t,cg=r,E0.attachEvent("onpropertychange",c8)):e==="focusout"&&P4()}function KQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vw(cg)}function YQ(e,t){if(e==="click")return vw(t)}function XQ(e,t){if(e==="input"||e==="change")return vw(t)}function QQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yo=typeof Object.is=="function"?Object.is:QQ;function ug(e,t){if(yo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!kN.call(t,a)||!yo(e[a],t[a]))return!1}return!0}function O4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function D4(e,t){var r=O4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=O4(r)}}function u8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?u8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function d8(){for(var e=window,t=Zy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zy(e.document)}return t}function CE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JQ(e){var t=d8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&u8(r.ownerDocument.documentElement,r)){if(n!==null&&CE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=D4(r,s);var o=D4(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZQ=tc&&"documentMode"in document&&11>=document.documentMode,uh=null,HN=null,T0=null,qN=!1;function R4(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qN||uh==null||uh!==Zy(n)||(n=uh,"selectionStart"in n&&CE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),T0&&ug(T0,n)||(T0=n,n=i1(HN,"onSelect"),0<n.length&&(t=new SE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=uh)))}function Rx(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dh={animationend:Rx("Animation","AnimationEnd"),animationiteration:Rx("Animation","AnimationIteration"),animationstart:Rx("Animation","AnimationStart"),transitionend:Rx("Transition","TransitionEnd")},Uj={},f8={};tc&&(f8=document.createElement("div").style,"AnimationEvent"in window||(delete dh.animationend.animation,delete dh.animationiteration.animation,delete dh.animationstart.animation),"TransitionEvent"in window||delete dh.transitionend.transition);function xw(e){if(Uj[e])return Uj[e];if(!dh[e])return e;var t=dh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in f8)return Uj[e]=t[r];return e}var h8=xw("animationend"),m8=xw("animationiteration"),p8=xw("animationstart"),g8=xw("transitionend"),v8=new Map,M4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fu(e,t){v8.set(e,t),vf(t,[e])}for(var zj=0;zj<M4.length;zj++){var Vj=M4[zj],eJ=Vj.toLowerCase(),tJ=Vj[0].toUpperCase()+Vj.slice(1);Fu(eJ,"on"+tJ)}Fu(h8,"onAnimationEnd");Fu(m8,"onAnimationIteration");Fu(p8,"onAnimationStart");Fu("dblclick","onDoubleClick");Fu("focusin","onFocus");Fu("focusout","onBlur");Fu(g8,"onTransitionEnd");rm("onMouseEnter",["mouseout","mouseover"]);rm("onMouseLeave",["mouseout","mouseover"]);rm("onPointerEnter",["pointerout","pointerover"]);rm("onPointerLeave",["pointerout","pointerover"]);vf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vf("onBeforeInput",["compositionend","keypress","textInput","paste"]);vf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var p0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(p0));function F4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,eQ(n,t,void 0,e),e.currentTarget=null}function x8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;F4(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;F4(a,l,u),s=c}}}if(t1)throw e=UN,t1=!1,UN=null,e}function Dr(e,t){var r=t[QN];r===void 0&&(r=t[QN]=new Set);var n=e+"__bubble";r.has(n)||(y8(t,e,2,!1),r.add(n))}function Wj(e,t,r){var n=0;t&&(n|=4),y8(r,e,n,t)}var Mx="_reactListening"+Math.random().toString(36).slice(2);function dg(e){if(!e[Mx]){e[Mx]=!0,k$.forEach(function(r){r!=="selectionchange"&&(rJ.has(r)||Wj(r,!1,e),Wj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mx]||(t[Mx]=!0,Wj("selectionchange",!1,t))}}function y8(e,t,r,n){switch(r8(t)){case 1:var a=gQ;break;case 4:a=vQ;break;default:a=_E}r=a.bind(null,t,r,e),a=void 0,!BN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hj(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=fd(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}z$(function(){var u=s,d=xE(r),f=[];e:{var h=v8.get(e);if(h!==void 0){var m=SE,g=e;switch(e){case"keypress":if(Py(r)===0)break e;case"keydown":case"keyup":m=OQ;break;case"focusin":g="focus",m=Lj;break;case"focusout":g="blur",m=Lj;break;case"beforeblur":case"afterblur":m=Lj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=S4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=MQ;break;case h8:case m8:case p8:m=jQ;break;case g8:m=IQ;break;case"scroll":m=xQ;break;case"wheel":m=$Q;break;case"copy":case"cut":case"paste":m=NQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=k4}var p=(t&4)!==0,v=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=sg(b,y),j!=null&&p.push(fg(b,j,w)))),v)break;b=b.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==LN&&(g=r.relatedTarget||r.fromElement)&&(fd(g)||g[rc]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?fd(g):null,g!==null&&(v=xf(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=S4,j="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=k4,j="onPointerLeave",y="onPointerEnter",b="pointer"),v=m==null?h:fh(m),w=g==null?h:fh(g),h=new p(j,b+"leave",m,r,d),h.target=v,h.relatedTarget=w,j=null,fd(d)===u&&(p=new p(y,b+"enter",g,r,d),p.target=w,p.relatedTarget=v,j=p),v=j,m&&g)t:{for(p=m,y=g,b=0,w=p;w;w=Ff(w))b++;for(w=0,j=y;j;j=Ff(j))w++;for(;0<b-w;)p=Ff(p),b--;for(;0<w-b;)y=Ff(y),w--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=Ff(p),y=Ff(y)}p=null}else p=null;m!==null&&I4(f,h,m,p,!1),g!==null&&v!==null&&I4(f,v,g,p,!0)}}e:{if(h=u?fh(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=qQ;else if(T4(h))if(l8)_=XQ;else{_=KQ;var S=GQ}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=YQ);if(_&&(_=_(e,u))){o8(f,_,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&DN(h,"number",h.value)}switch(S=u?fh(u):window,e){case"focusin":(T4(S)||S.contentEditable==="true")&&(uh=S,HN=u,T0=null);break;case"focusout":T0=HN=uh=null;break;case"mousedown":qN=!0;break;case"contextmenu":case"mouseup":case"dragend":qN=!1,R4(f,r,d);break;case"selectionchange":if(ZQ)break;case"keydown":case"keyup":R4(f,r,d)}var N;if(kE)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ch?s8(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(a8&&r.locale!=="ko"&&(ch||C!=="onCompositionStart"?C==="onCompositionEnd"&&ch&&(N=n8()):(ru=d,jE="value"in ru?ru.value:ru.textContent,ch=!0)),S=i1(u,C),0<S.length&&(C=new N4(C,e,null,r,d),f.push({event:C,listeners:S}),N?C.data=N:(N=i8(r),N!==null&&(C.data=N)))),(N=UQ?zQ(e,r):VQ(e,r))&&(u=i1(u,"onBeforeInput"),0<u.length&&(d=new N4("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}x8(f,t)})}function fg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function i1(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=sg(e,r),s!=null&&n.unshift(fg(e,s,a)),s=sg(e,t),s!=null&&n.push(fg(e,s,a))),e=e.return}return n}function Ff(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function I4(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=sg(r,s),c!=null&&o.unshift(fg(r,c,l))):a||(c=sg(r,s),c!=null&&o.push(fg(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var nJ=/\r\n?/g,aJ=/\u0000|\uFFFD/g;function L4(e){return(typeof e=="string"?e:""+e).replace(nJ,`
`).replace(aJ,"")}function Fx(e,t,r){if(t=L4(t),L4(e)!==t&&r)throw Error(We(425))}function o1(){}var GN=null,KN=null;function YN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var XN=typeof setTimeout=="function"?setTimeout:void 0,sJ=typeof clearTimeout=="function"?clearTimeout:void 0,$4=typeof Promise=="function"?Promise:void 0,iJ=typeof queueMicrotask=="function"?queueMicrotask:typeof $4<"u"?function(e){return $4.resolve(null).then(e).catch(oJ)}:XN;function oJ(e){setTimeout(function(){throw e})}function qj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),lg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);lg(t)}function mu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function B4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sp=Math.random().toString(36).slice(2),qo="__reactFiber$"+sp,hg="__reactProps$"+sp,rc="__reactContainer$"+sp,QN="__reactEvents$"+sp,lJ="__reactListeners$"+sp,cJ="__reactHandles$"+sp;function fd(e){var t=e[qo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[rc]||r[qo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=B4(e);e!==null;){if(r=e[qo])return r;e=B4(e)}return t}e=r,r=e.parentNode}return null}function Pv(e){return e=e[qo]||e[rc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function yw(e){return e[hg]||null}var JN=[],hh=-1;function Iu(e){return{current:e}}function Fr(e){0>hh||(e.current=JN[hh],JN[hh]=null,hh--)}function kr(e,t){hh++,JN[hh]=e.current,e.current=t}var ku={},Aa=Iu(ku),Ns=Iu(!1),Ud=ku;function nm(e,t){var r=e.type.contextTypes;if(!r)return ku;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ks(e){return e=e.childContextTypes,e!=null}function l1(){Fr(Ns),Fr(Aa)}function U4(e,t,r){if(Aa.current!==ku)throw Error(We(168));kr(Aa,t),kr(Ns,r)}function b8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(We(108,GX(e)||"Unknown",a));return qr({},r,n)}function c1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ku,Ud=Aa.current,kr(Aa,e),kr(Ns,Ns.current),!0}function z4(e,t,r){var n=e.stateNode;if(!n)throw Error(We(169));r?(e=b8(e,t,Ud),n.__reactInternalMemoizedMergedChildContext=e,Fr(Ns),Fr(Aa),kr(Aa,e)):Fr(Ns),kr(Ns,r)}var Il=null,bw=!1,Gj=!1;function w8(e){Il===null?Il=[e]:Il.push(e)}function uJ(e){bw=!0,w8(e)}function Lu(){if(!Gj&&Il!==null){Gj=!0;var e=0,t=xr;try{var r=Il;for(xr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Il=null,bw=!1}catch(a){throw Il!==null&&(Il=Il.slice(e+1)),q$(yE,Lu),a}finally{xr=t,Gj=!1}}return null}var mh=[],ph=0,u1=null,d1=0,bi=[],wi=0,zd=null,Ul=1,zl="";function ed(e,t){mh[ph++]=d1,mh[ph++]=u1,u1=e,d1=t}function _8(e,t,r){bi[wi++]=Ul,bi[wi++]=zl,bi[wi++]=zd,zd=e;var n=Ul;e=zl;var a=32-mo(n)-1;n&=~(1<<a),r+=1;var s=32-mo(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ul=1<<32-mo(t)+a|r<<a|n,zl=s+e}else Ul=1<<s|r<<a|n,zl=e}function EE(e){e.return!==null&&(ed(e,1),_8(e,1,0))}function TE(e){for(;e===u1;)u1=mh[--ph],mh[ph]=null,d1=mh[--ph],mh[ph]=null;for(;e===zd;)zd=bi[--wi],bi[wi]=null,zl=bi[--wi],bi[wi]=null,Ul=bi[--wi],bi[wi]=null}var ti=null,Zs=null,Lr=!1,io=null;function j8(e,t){var r=Ni(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function V4(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ti=e,Zs=mu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ti=e,Zs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zd!==null?{id:Ul,overflow:zl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ni(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ti=e,Zs=null,!0):!1;default:return!1}}function ZN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function e2(e){if(Lr){var t=Zs;if(t){var r=t;if(!V4(e,t)){if(ZN(e))throw Error(We(418));t=mu(r.nextSibling);var n=ti;t&&V4(e,t)?j8(n,r):(e.flags=e.flags&-4097|2,Lr=!1,ti=e)}}else{if(ZN(e))throw Error(We(418));e.flags=e.flags&-4097|2,Lr=!1,ti=e}}}function W4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ti=e}function Ix(e){if(e!==ti)return!1;if(!Lr)return W4(e),Lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!YN(e.type,e.memoizedProps)),t&&(t=Zs)){if(ZN(e))throw S8(),Error(We(418));for(;t;)j8(e,t),t=mu(t.nextSibling)}if(W4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zs=mu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zs=null}}else Zs=ti?mu(e.stateNode.nextSibling):null;return!0}function S8(){for(var e=Zs;e;)e=mu(e.nextSibling)}function am(){Zs=ti=null,Lr=!1}function AE(e){io===null?io=[e]:io.push(e)}var dJ=xc.ReactCurrentBatchConfig;function zp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(We(309));var n=r.stateNode}if(!n)throw Error(We(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(We(284));if(!r._owner)throw Error(We(290,e))}return e}function Lx(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function H4(e){var t=e._init;return t(e._payload)}function N8(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=xu(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,j){return b===null||b.tag!==6?(b=eS(w,y.mode,j),b.return=y,b):(b=a(b,w),b.return=y,b)}function c(y,b,w,j){var _=w.type;return _===lh?d(y,b,w.props.children,j,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ic&&H4(_)===b.type)?(j=a(b,w.props),j.ref=zp(y,b,w),j.return=y,j):(j=Ly(w.type,w.key,w.props,null,y.mode,j),j.ref=zp(y,b,w),j.return=y,j)}function u(y,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=tS(w,y.mode,j),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function d(y,b,w,j,_){return b===null||b.tag!==7?(b=Dd(w,y.mode,j,_),b.return=y,b):(b=a(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=eS(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Cx:return w=Ly(b.type,b.key,b.props,null,y.mode,w),w.ref=zp(y,null,b),w.return=y,w;case oh:return b=tS(b,y.mode,w),b.return=y,b;case Ic:var j=b._init;return f(y,j(b._payload),w)}if(h0(b)||Ip(b))return b=Dd(b,y.mode,w,null),b.return=y,b;Lx(y,b)}return null}function h(y,b,w,j){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(y,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cx:return w.key===_?c(y,b,w,j):null;case oh:return w.key===_?u(y,b,w,j):null;case Ic:return _=w._init,h(y,b,_(w._payload),j)}if(h0(w)||Ip(w))return _!==null?null:d(y,b,w,j,null);Lx(y,w)}return null}function m(y,b,w,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(b,y,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Cx:return y=y.get(j.key===null?w:j.key)||null,c(b,y,j,_);case oh:return y=y.get(j.key===null?w:j.key)||null,u(b,y,j,_);case Ic:var S=j._init;return m(y,b,w,S(j._payload),_)}if(h0(j)||Ip(j))return y=y.get(w)||null,d(b,y,j,_,null);Lx(b,j)}return null}function g(y,b,w,j){for(var _=null,S=null,N=b,C=b=0,k=null;N!==null&&C<w.length;C++){N.index>C?(k=N,N=null):k=N.sibling;var E=h(y,N,w[C],j);if(E===null){N===null&&(N=k);break}e&&N&&E.alternate===null&&t(y,N),b=s(E,b,C),S===null?_=E:S.sibling=E,S=E,N=k}if(C===w.length)return r(y,N),Lr&&ed(y,C),_;if(N===null){for(;C<w.length;C++)N=f(y,w[C],j),N!==null&&(b=s(N,b,C),S===null?_=N:S.sibling=N,S=N);return Lr&&ed(y,C),_}for(N=n(y,N);C<w.length;C++)k=m(N,y,C,w[C],j),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?C:k.key),b=s(k,b,C),S===null?_=k:S.sibling=k,S=k);return e&&N.forEach(function(O){return t(y,O)}),Lr&&ed(y,C),_}function p(y,b,w,j){var _=Ip(w);if(typeof _!="function")throw Error(We(150));if(w=_.call(w),w==null)throw Error(We(151));for(var S=_=null,N=b,C=b=0,k=null,E=w.next();N!==null&&!E.done;C++,E=w.next()){N.index>C?(k=N,N=null):k=N.sibling;var O=h(y,N,E.value,j);if(O===null){N===null&&(N=k);break}e&&N&&O.alternate===null&&t(y,N),b=s(O,b,C),S===null?_=O:S.sibling=O,S=O,N=k}if(E.done)return r(y,N),Lr&&ed(y,C),_;if(N===null){for(;!E.done;C++,E=w.next())E=f(y,E.value,j),E!==null&&(b=s(E,b,C),S===null?_=E:S.sibling=E,S=E);return Lr&&ed(y,C),_}for(N=n(y,N);!E.done;C++,E=w.next())E=m(N,y,C,E.value,j),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?C:E.key),b=s(E,b,C),S===null?_=E:S.sibling=E,S=E);return e&&N.forEach(function(T){return t(y,T)}),Lr&&ed(y,C),_}function v(y,b,w,j){if(typeof w=="object"&&w!==null&&w.type===lh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Cx:e:{for(var _=w.key,S=b;S!==null;){if(S.key===_){if(_=w.type,_===lh){if(S.tag===7){r(y,S.sibling),b=a(S,w.props.children),b.return=y,y=b;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ic&&H4(_)===S.type){r(y,S.sibling),b=a(S,w.props),b.ref=zp(y,S,w),b.return=y,y=b;break e}r(y,S);break}else t(y,S);S=S.sibling}w.type===lh?(b=Dd(w.props.children,y.mode,j,w.key),b.return=y,y=b):(j=Ly(w.type,w.key,w.props,null,y.mode,j),j.ref=zp(y,b,w),j.return=y,y=j)}return o(y);case oh:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=tS(w,y.mode,j),b.return=y,y=b}return o(y);case Ic:return S=w._init,v(y,b,S(w._payload),j)}if(h0(w))return g(y,b,w,j);if(Ip(w))return p(y,b,w,j);Lx(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,w),b.return=y,y=b):(r(y,b),b=eS(w,y.mode,j),b.return=y,y=b),o(y)):r(y,b)}return v}var sm=N8(!0),k8=N8(!1),f1=Iu(null),h1=null,gh=null,PE=null;function OE(){PE=gh=h1=null}function DE(e){var t=f1.current;Fr(f1),e._currentValue=t}function t2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Th(e,t){h1=e,PE=gh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_s=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(PE!==e)if(e={context:e,memoizedValue:t,next:null},gh===null){if(h1===null)throw Error(We(308));gh=e,h1.dependencies={lanes:0,firstContext:e}}else gh=gh.next=e;return t}var hd=null;function RE(e){hd===null?hd=[e]:hd.push(e)}function C8(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,RE(t)):(r.next=a.next,a.next=r),t.interleaved=r,nc(e,n)}function nc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lc=!1;function ME(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,er&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,nc(e,r)}return a=n.interleaved,a===null?(t.next=t,RE(n)):(t.next=a.next,a.next=t),n.interleaved=t,nc(e,r)}function Oy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bE(e,r)}}function q4(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function m1(e,t,r,n){var a=e.updateQueue;Lc=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=qr({},f,h);break e;case 2:Lc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Wd|=o,e.lanes=o,e.memoizedState=f}}function G4(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(We(191,a));a.call(n)}}}var Ov={},al=Iu(Ov),mg=Iu(Ov),pg=Iu(Ov);function md(e){if(e===Ov)throw Error(We(174));return e}function FE(e,t){switch(kr(pg,t),kr(mg,e),kr(al,Ov),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:MN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=MN(t,e)}Fr(al),kr(al,t)}function im(){Fr(al),Fr(mg),Fr(pg)}function T8(e){md(pg.current);var t=md(al.current),r=MN(t,e.type);t!==r&&(kr(mg,e),kr(al,r))}function IE(e){mg.current===e&&(Fr(al),Fr(mg))}var Vr=Iu(0);function p1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kj=[];function LE(){for(var e=0;e<Kj.length;e++)Kj[e]._workInProgressVersionPrimary=null;Kj.length=0}var Dy=xc.ReactCurrentDispatcher,Yj=xc.ReactCurrentBatchConfig,Vd=0,Hr=null,Cn=null,Bn=null,g1=!1,A0=!1,gg=0,fJ=0;function oa(){throw Error(We(321))}function $E(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yo(e[r],t[r]))return!1;return!0}function BE(e,t,r,n,a,s){if(Vd=s,Hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dy.current=e===null||e.memoizedState===null?gJ:vJ,e=r(n,a),A0){s=0;do{if(A0=!1,gg=0,25<=s)throw Error(We(301));s+=1,Bn=Cn=null,t.updateQueue=null,Dy.current=xJ,e=r(n,a)}while(A0)}if(Dy.current=v1,t=Cn!==null&&Cn.next!==null,Vd=0,Bn=Cn=Hr=null,g1=!1,t)throw Error(We(300));return e}function UE(){var e=gg!==0;return gg=0,e}function Bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?Hr.memoizedState=Bn=e:Bn=Bn.next=e,Bn}function Pi(){if(Cn===null){var e=Hr.alternate;e=e!==null?e.memoizedState:null}else e=Cn.next;var t=Bn===null?Hr.memoizedState:Bn.next;if(t!==null)Bn=t,Cn=e;else{if(e===null)throw Error(We(310));Cn=e,e={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Bn===null?Hr.memoizedState=Bn=e:Bn=Bn.next=e}return Bn}function vg(e,t){return typeof t=="function"?t(e):t}function Xj(e){var t=Pi(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=Cn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Vd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Hr.lanes|=d,Wd|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,yo(n,t.memoizedState)||(_s=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Hr.lanes|=s,Wd|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qj(e){var t=Pi(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);yo(s,t.memoizedState)||(_s=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function A8(){}function P8(e,t){var r=Hr,n=Pi(),a=t(),s=!yo(n.memoizedState,a);if(s&&(n.memoizedState=a,_s=!0),n=n.queue,zE(R8.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Bn!==null&&Bn.memoizedState.tag&1){if(r.flags|=2048,xg(9,D8.bind(null,r,n,a,t),void 0,null),Wn===null)throw Error(We(349));Vd&30||O8(r,t,a)}return a}function O8(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Hr.updateQueue,t===null?(t={lastEffect:null,stores:null},Hr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function D8(e,t,r,n){t.value=r,t.getSnapshot=n,M8(t)&&F8(e)}function R8(e,t,r){return r(function(){M8(t)&&F8(e)})}function M8(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yo(e,r)}catch{return!0}}function F8(e){var t=nc(e,1);t!==null&&po(t,e,1,-1)}function K4(e){var t=Bo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:e},t.queue=e,e=e.dispatch=pJ.bind(null,Hr,e),[t.memoizedState,e]}function xg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Hr.updateQueue,t===null?(t={lastEffect:null,stores:null},Hr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function I8(){return Pi().memoizedState}function Ry(e,t,r,n){var a=Bo();Hr.flags|=e,a.memoizedState=xg(1|t,r,void 0,n===void 0?null:n)}function ww(e,t,r,n){var a=Pi();n=n===void 0?null:n;var s=void 0;if(Cn!==null){var o=Cn.memoizedState;if(s=o.destroy,n!==null&&$E(n,o.deps)){a.memoizedState=xg(t,r,s,n);return}}Hr.flags|=e,a.memoizedState=xg(1|t,r,s,n)}function Y4(e,t){return Ry(8390656,8,e,t)}function zE(e,t){return ww(2048,8,e,t)}function L8(e,t){return ww(4,2,e,t)}function $8(e,t){return ww(4,4,e,t)}function B8(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function U8(e,t,r){return r=r!=null?r.concat([e]):null,ww(4,4,B8.bind(null,t,e),r)}function VE(){}function z8(e,t){var r=Pi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$E(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function V8(e,t){var r=Pi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$E(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function W8(e,t,r){return Vd&21?(yo(r,t)||(r=Y$(),Hr.lanes|=r,Wd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=r)}function hJ(e,t){var r=xr;xr=r!==0&&4>r?r:4,e(!0);var n=Yj.transition;Yj.transition={};try{e(!1),t()}finally{xr=r,Yj.transition=n}}function H8(){return Pi().memoizedState}function mJ(e,t,r){var n=vu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},q8(e))G8(t,r);else if(r=C8(e,t,r,n),r!==null){var a=es();po(r,e,n,a),K8(r,t,n)}}function pJ(e,t,r){var n=vu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(q8(e))G8(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,yo(l,o)){var c=t.interleaved;c===null?(a.next=a,RE(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=C8(e,t,a,n),r!==null&&(a=es(),po(r,e,n,a),K8(r,t,n))}}function q8(e){var t=e.alternate;return e===Hr||t!==null&&t===Hr}function G8(e,t){A0=g1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function K8(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bE(e,r)}}var v1={readContext:Ai,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useInsertionEffect:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useSyncExternalStore:oa,useId:oa,unstable_isNewReconciler:!1},gJ={readContext:Ai,useCallback:function(e,t){return Bo().memoizedState=[e,t===void 0?null:t],e},useContext:Ai,useEffect:Y4,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ry(4194308,4,B8.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ry(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ry(4,2,e,t)},useMemo:function(e,t){var r=Bo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=mJ.bind(null,Hr,e),[n.memoizedState,e]},useRef:function(e){var t=Bo();return e={current:e},t.memoizedState=e},useState:K4,useDebugValue:VE,useDeferredValue:function(e){return Bo().memoizedState=e},useTransition:function(){var e=K4(!1),t=e[0];return e=hJ.bind(null,e[1]),Bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Hr,a=Bo();if(Lr){if(r===void 0)throw Error(We(407));r=r()}else{if(r=t(),Wn===null)throw Error(We(349));Vd&30||O8(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Y4(R8.bind(null,n,s,e),[e]),n.flags|=2048,xg(9,D8.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Bo(),t=Wn.identifierPrefix;if(Lr){var r=zl,n=Ul;r=(n&~(1<<32-mo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=gg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fJ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vJ={readContext:Ai,useCallback:z8,useContext:Ai,useEffect:zE,useImperativeHandle:U8,useInsertionEffect:L8,useLayoutEffect:$8,useMemo:V8,useReducer:Xj,useRef:I8,useState:function(){return Xj(vg)},useDebugValue:VE,useDeferredValue:function(e){var t=Pi();return W8(t,Cn.memoizedState,e)},useTransition:function(){var e=Xj(vg)[0],t=Pi().memoizedState;return[e,t]},useMutableSource:A8,useSyncExternalStore:P8,useId:H8,unstable_isNewReconciler:!1},xJ={readContext:Ai,useCallback:z8,useContext:Ai,useEffect:zE,useImperativeHandle:U8,useInsertionEffect:L8,useLayoutEffect:$8,useMemo:V8,useReducer:Qj,useRef:I8,useState:function(){return Qj(vg)},useDebugValue:VE,useDeferredValue:function(e){var t=Pi();return Cn===null?t.memoizedState=e:W8(t,Cn.memoizedState,e)},useTransition:function(){var e=Qj(vg)[0],t=Pi().memoizedState;return[e,t]},useMutableSource:A8,useSyncExternalStore:P8,useId:H8,unstable_isNewReconciler:!1};function Qi(e,t){if(e&&e.defaultProps){t=qr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function r2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:qr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _w={isMounted:function(e){return(e=e._reactInternals)?xf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=es(),a=vu(e),s=Kl(n,a);s.payload=t,r!=null&&(s.callback=r),t=pu(e,s,a),t!==null&&(po(t,e,a,n),Oy(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=es(),a=vu(e),s=Kl(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=pu(e,s,a),t!==null&&(po(t,e,a,n),Oy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=es(),n=vu(e),a=Kl(r,n);a.tag=2,t!=null&&(a.callback=t),t=pu(e,a,n),t!==null&&(po(t,e,n,r),Oy(t,e,n))}};function X4(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!ug(r,n)||!ug(a,s):!0}function Y8(e,t,r){var n=!1,a=ku,s=t.contextType;return typeof s=="object"&&s!==null?s=Ai(s):(a=ks(t)?Ud:Aa.current,n=t.contextTypes,s=(n=n!=null)?nm(e,a):ku),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_w,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Q4(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_w.enqueueReplaceState(t,t.state,null)}function n2(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ME(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Ai(s):(s=ks(t)?Ud:Aa.current,a.context=nm(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(r2(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&_w.enqueueReplaceState(a,a.state,null),m1(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function om(e,t){try{var r="",n=t;do r+=qX(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Jj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function a2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var yJ=typeof WeakMap=="function"?WeakMap:Map;function X8(e,t,r){r=Kl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){y1||(y1=!0,m2=n),a2(e,t)},r}function Q8(e,t,r){r=Kl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){a2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){a2(e,t),typeof n!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function J4(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new yJ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=DJ.bind(null,e,t,r),t.then(e,e))}function Z4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function eD(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Kl(-1,1),t.tag=2,pu(r,t,1))),r.lanes|=1),e)}var bJ=xc.ReactCurrentOwner,_s=!1;function za(e,t,r,n){t.child=e===null?k8(t,null,r,n):sm(t,e.child,r,n)}function tD(e,t,r,n,a){r=r.render;var s=t.ref;return Th(t,a),n=BE(e,t,r,n,s,a),r=UE(),e!==null&&!_s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ac(e,t,a)):(Lr&&r&&EE(t),t.flags|=1,za(e,t,n,a),t.child)}function rD(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!QE(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,J8(e,t,s,n,a)):(e=Ly(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:ug,r(o,n)&&e.ref===t.ref)return ac(e,t,a)}return t.flags|=1,e=xu(s,n),e.ref=t.ref,e.return=t,t.child=e}function J8(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(ug(s,n)&&e.ref===t.ref)if(_s=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(_s=!0);else return t.lanes=e.lanes,ac(e,t,a)}return s2(e,t,r,n,a)}function Z8(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(xh,Hs),Hs|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(xh,Hs),Hs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,kr(xh,Hs),Hs|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,kr(xh,Hs),Hs|=n;return za(e,t,a,r),t.child}function e6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function s2(e,t,r,n,a){var s=ks(r)?Ud:Aa.current;return s=nm(t,s),Th(t,a),r=BE(e,t,r,n,s,a),n=UE(),e!==null&&!_s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ac(e,t,a)):(Lr&&n&&EE(t),t.flags|=1,za(e,t,r,a),t.child)}function nD(e,t,r,n,a){if(ks(r)){var s=!0;c1(t)}else s=!1;if(Th(t,a),t.stateNode===null)My(e,t),Y8(t,r,n),n2(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ai(u):(u=ks(r)?Ud:Aa.current,u=nm(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Q4(t,o,n,u),Lc=!1;var h=t.memoizedState;o.state=h,m1(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Ns.current||Lc?(typeof d=="function"&&(r2(t,r,d,n),c=t.memoizedState),(l=Lc||X4(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,E8(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Qi(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ai(c):(c=ks(r)?Ud:Aa.current,c=nm(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Q4(t,o,n,c),Lc=!1,h=t.memoizedState,o.state=h,m1(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||Ns.current||Lc?(typeof m=="function"&&(r2(t,r,m,n),g=t.memoizedState),(u=Lc||X4(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i2(e,t,r,n,s,a)}function i2(e,t,r,n,a,s){e6(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&z4(t,r,!1),ac(e,t,s);n=t.stateNode,bJ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=sm(t,e.child,null,s),t.child=sm(t,null,l,s)):za(e,t,l,s),t.memoizedState=n.state,a&&z4(t,r,!0),t.child}function t6(e){var t=e.stateNode;t.pendingContext?U4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&U4(e,t.context,!1),FE(e,t.containerInfo)}function aD(e,t,r,n,a){return am(),AE(a),t.flags|=256,za(e,t,r,n),t.child}var o2={dehydrated:null,treeContext:null,retryLane:0};function l2(e){return{baseLanes:e,cachePool:null,transitions:null}}function r6(e,t,r){var n=t.pendingProps,a=Vr.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),kr(Vr,a&1),e===null)return e2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nw(o,n,0,null),e=Dd(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=l2(r),t.memoizedState=o2,e):WE(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return wJ(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xu(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=xu(l,s):(s=Dd(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?l2(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=o2,n}return s=e.child,e=s.sibling,n=xu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function WE(e,t){return t=Nw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $x(e,t,r,n){return n!==null&&AE(n),sm(t,e.child,null,r),e=WE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wJ(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Jj(Error(We(422))),$x(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Nw({mode:"visible",children:n.children},a,0,null),s=Dd(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&sm(t,e.child,null,o),t.child.memoizedState=l2(o),t.memoizedState=o2,s);if(!(t.mode&1))return $x(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(We(419)),n=Jj(s,n,void 0),$x(e,t,o,n)}if(l=(o&e.childLanes)!==0,_s||l){if(n=Wn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,nc(e,a),po(n,e,a,-1))}return XE(),n=Jj(Error(We(421))),$x(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=RJ.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Zs=mu(a.nextSibling),ti=t,Lr=!0,io=null,e!==null&&(bi[wi++]=Ul,bi[wi++]=zl,bi[wi++]=zd,Ul=e.id,zl=e.overflow,zd=t),t=WE(t,n.children),t.flags|=4096,t)}function sD(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),t2(e.return,t,r)}function Zj(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function n6(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(za(e,t,n.children,r),n=Vr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sD(e,r,t);else if(e.tag===19)sD(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(kr(Vr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&p1(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Zj(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&p1(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Zj(t,!0,r,null,s);break;case"together":Zj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function My(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ac(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,r=xu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _J(e,t,r){switch(t.tag){case 3:t6(t),am();break;case 5:T8(t);break;case 1:ks(t.type)&&c1(t);break;case 4:FE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;kr(f1,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(kr(Vr,Vr.current&1),t.flags|=128,null):r&t.child.childLanes?r6(e,t,r):(kr(Vr,Vr.current&1),e=ac(e,t,r),e!==null?e.sibling:null);kr(Vr,Vr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return n6(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),kr(Vr,Vr.current),n)break;return null;case 22:case 23:return t.lanes=0,Z8(e,t,r)}return ac(e,t,r)}var a6,c2,s6,i6;a6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};c2=function(){};s6=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,md(al.current);var s=null;switch(r){case"input":a=PN(e,a),n=PN(e,n),s=[];break;case"select":a=qr({},a,{value:void 0}),n=qr({},n,{value:void 0}),s=[];break;case"textarea":a=RN(e,a),n=RN(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=o1)}FN(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ng.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ng.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Dr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};i6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vp(e,t){if(!Lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function la(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function jJ(e,t,r){var n=t.pendingProps;switch(TE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return la(t),null;case 1:return ks(t.type)&&l1(),la(t),null;case 3:return n=t.stateNode,im(),Fr(Ns),Fr(Aa),LE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ix(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,io!==null&&(v2(io),io=null))),c2(e,t),la(t),null;case 5:IE(t);var a=md(pg.current);if(r=t.type,e!==null&&t.stateNode!=null)s6(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(We(166));return la(t),null}if(e=md(al.current),Ix(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[qo]=t,n[hg]=s,e=(t.mode&1)!==0,r){case"dialog":Dr("cancel",n),Dr("close",n);break;case"iframe":case"object":case"embed":Dr("load",n);break;case"video":case"audio":for(a=0;a<p0.length;a++)Dr(p0[a],n);break;case"source":Dr("error",n);break;case"img":case"image":case"link":Dr("error",n),Dr("load",n);break;case"details":Dr("toggle",n);break;case"input":m4(n,s),Dr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Dr("invalid",n);break;case"textarea":g4(n,s),Dr("invalid",n)}FN(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Fx(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Fx(n.textContent,l,e),a=["children",""+l]):ng.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Dr("scroll",n)}switch(r){case"input":Ex(n),p4(n,s,!0);break;case"textarea":Ex(n),v4(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=o1)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[qo]=t,e[hg]=n,a6(e,t,!1,!1),t.stateNode=e;e:{switch(o=IN(r,n),r){case"dialog":Dr("cancel",e),Dr("close",e),a=n;break;case"iframe":case"object":case"embed":Dr("load",e),a=n;break;case"video":case"audio":for(a=0;a<p0.length;a++)Dr(p0[a],e);a=n;break;case"source":Dr("error",e),a=n;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),a=n;break;case"details":Dr("toggle",e),a=n;break;case"input":m4(e,n),a=PN(e,n),Dr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=qr({},n,{value:void 0}),Dr("invalid",e);break;case"textarea":g4(e,n),a=RN(e,n),Dr("invalid",e);break;default:a=n}FN(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?I$(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&M$(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ag(e,c):typeof c=="number"&&ag(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ng.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Dr("scroll",e):c!=null&&mE(e,s,c,o))}switch(r){case"input":Ex(e),p4(e,n,!1);break;case"textarea":Ex(e),v4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nu(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Nh(e,!!n.multiple,s,!1):n.defaultValue!=null&&Nh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=o1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return la(t),null;case 6:if(e&&t.stateNode!=null)i6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(We(166));if(r=md(pg.current),md(al.current),Ix(t)){if(n=t.stateNode,r=t.memoizedProps,n[qo]=t,(s=n.nodeValue!==r)&&(e=ti,e!==null))switch(e.tag){case 3:Fx(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fx(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qo]=t,t.stateNode=n}return la(t),null;case 13:if(Fr(Vr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Lr&&Zs!==null&&t.mode&1&&!(t.flags&128))S8(),am(),t.flags|=98560,s=!1;else if(s=Ix(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(We(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(We(317));s[qo]=t}else am(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;la(t),s=!1}else io!==null&&(v2(io),io=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Vr.current&1?Tn===0&&(Tn=3):XE())),t.updateQueue!==null&&(t.flags|=4),la(t),null);case 4:return im(),c2(e,t),e===null&&dg(t.stateNode.containerInfo),la(t),null;case 10:return DE(t.type._context),la(t),null;case 17:return ks(t.type)&&l1(),la(t),null;case 19:if(Fr(Vr),s=t.memoizedState,s===null)return la(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Vp(s,!1);else{if(Tn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=p1(e),o!==null){for(t.flags|=128,Vp(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kr(Vr,Vr.current&1|2),t.child}e=e.sibling}s.tail!==null&&nn()>lm&&(t.flags|=128,n=!0,Vp(s,!1),t.lanes=4194304)}else{if(!n)if(e=p1(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Lr)return la(t),null}else 2*nn()-s.renderingStartTime>lm&&r!==1073741824&&(t.flags|=128,n=!0,Vp(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nn(),t.sibling=null,r=Vr.current,kr(Vr,n?r&1|2:r&1),t):(la(t),null);case 22:case 23:return YE(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hs&1073741824&&(la(t),t.subtreeFlags&6&&(t.flags|=8192)):la(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function SJ(e,t){switch(TE(t),t.tag){case 1:return ks(t.type)&&l1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return im(),Fr(Ns),Fr(Aa),LE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return IE(t),null;case 13:if(Fr(Vr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));am()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fr(Vr),null;case 4:return im(),null;case 10:return DE(t.type._context),null;case 22:case 23:return YE(),null;case 24:return null;default:return null}}var Bx=!1,_a=!1,NJ=typeof WeakSet=="function"?WeakSet:Set,it=null;function vh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yr(e,t,n)}else r.current=null}function u2(e,t,r){try{r()}catch(n){Yr(e,t,n)}}var iD=!1;function kJ(e,t){if(GN=a1,e=d8(),CE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(KN={focusedElem:e,selectionRange:r},a1=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Qi(t.type,p),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(j){Yr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return g=iD,iD=!1,g}function P0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&u2(t,r,s)}a=a.next}while(a!==n)}}function jw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function d2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function o6(e){var t=e.alternate;t!==null&&(e.alternate=null,o6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qo],delete t[hg],delete t[QN],delete t[lJ],delete t[cJ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function l6(e){return e.tag===5||e.tag===3||e.tag===4}function oD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||l6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function f2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=o1));else if(n!==4&&(e=e.child,e!==null))for(f2(e,t,r),e=e.sibling;e!==null;)f2(e,t,r),e=e.sibling}function h2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(h2(e,t,r),e=e.sibling;e!==null;)h2(e,t,r),e=e.sibling}var Qn=null,to=!1;function Ac(e,t,r){for(r=r.child;r!==null;)c6(e,t,r),r=r.sibling}function c6(e,t,r){if(nl&&typeof nl.onCommitFiberUnmount=="function")try{nl.onCommitFiberUnmount(pw,r)}catch{}switch(r.tag){case 5:_a||vh(r,t);case 6:var n=Qn,a=to;Qn=null,Ac(e,t,r),Qn=n,to=a,Qn!==null&&(to?(e=Qn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qn.removeChild(r.stateNode));break;case 18:Qn!==null&&(to?(e=Qn,r=r.stateNode,e.nodeType===8?qj(e.parentNode,r):e.nodeType===1&&qj(e,r),lg(e)):qj(Qn,r.stateNode));break;case 4:n=Qn,a=to,Qn=r.stateNode.containerInfo,to=!0,Ac(e,t,r),Qn=n,to=a;break;case 0:case 11:case 14:case 15:if(!_a&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&u2(r,t,o),a=a.next}while(a!==n)}Ac(e,t,r);break;case 1:if(!_a&&(vh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Yr(r,t,l)}Ac(e,t,r);break;case 21:Ac(e,t,r);break;case 22:r.mode&1?(_a=(n=_a)||r.memoizedState!==null,Ac(e,t,r),_a=n):Ac(e,t,r);break;default:Ac(e,t,r)}}function lD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new NJ),t.forEach(function(n){var a=MJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Hi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Qn=l.stateNode,to=!1;break e;case 3:Qn=l.stateNode.containerInfo,to=!0;break e;case 4:Qn=l.stateNode.containerInfo,to=!0;break e}l=l.return}if(Qn===null)throw Error(We(160));c6(s,o,a),Qn=null,to=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Yr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)u6(t,e),t=t.sibling}function u6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hi(t,e),Ro(e),n&4){try{P0(3,e,e.return),jw(3,e)}catch(p){Yr(e,e.return,p)}try{P0(5,e,e.return)}catch(p){Yr(e,e.return,p)}}break;case 1:Hi(t,e),Ro(e),n&512&&r!==null&&vh(r,r.return);break;case 5:if(Hi(t,e),Ro(e),n&512&&r!==null&&vh(r,r.return),e.flags&32){var a=e.stateNode;try{ag(a,"")}catch(p){Yr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&O$(a,s),IN(l,o);var u=IN(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?I$(a,f):d==="dangerouslySetInnerHTML"?M$(a,f):d==="children"?ag(a,f):mE(a,d,f,u)}switch(l){case"input":ON(a,s);break;case"textarea":D$(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Nh(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Nh(a,!!s.multiple,s.defaultValue,!0):Nh(a,!!s.multiple,s.multiple?[]:"",!1))}a[hg]=s}catch(p){Yr(e,e.return,p)}}break;case 6:if(Hi(t,e),Ro(e),n&4){if(e.stateNode===null)throw Error(We(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(p){Yr(e,e.return,p)}}break;case 3:if(Hi(t,e),Ro(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{lg(t.containerInfo)}catch(p){Yr(e,e.return,p)}break;case 4:Hi(t,e),Ro(e);break;case 13:Hi(t,e),Ro(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(GE=nn())),n&4&&lD(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(_a=(u=_a)||d,Hi(t,e),_a=u):Hi(t,e),Ro(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(it=e,d=e.child;d!==null;){for(f=it=d;it!==null;){switch(h=it,m=h.child,h.tag){case 0:case 11:case 14:case 15:P0(4,h,h.return);break;case 1:vh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Yr(n,r,p)}}break;case 5:vh(h,h.return);break;case 22:if(h.memoizedState!==null){uD(f);continue}}m!==null?(m.return=h,it=m):uD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=F$("display",o))}catch(p){Yr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Yr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hi(t,e),Ro(e),n&4&&lD(e);break;case 21:break;default:Hi(t,e),Ro(e)}}function Ro(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(l6(r)){var n=r;break e}r=r.return}throw Error(We(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ag(a,""),n.flags&=-33);var s=oD(e);h2(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=oD(e);f2(e,l,o);break;default:throw Error(We(161))}}catch(c){Yr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CJ(e,t,r){it=e,d6(e)}function d6(e,t,r){for(var n=(e.mode&1)!==0;it!==null;){var a=it,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Bx;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||_a;l=Bx;var u=_a;if(Bx=o,(_a=c)&&!u)for(it=a;it!==null;)o=it,c=o.child,o.tag===22&&o.memoizedState!==null?dD(a):c!==null?(c.return=o,it=c):dD(a);for(;s!==null;)it=s,d6(s),s=s.sibling;it=a,Bx=l,_a=u}cD(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,it=s):cD(e)}}function cD(e){for(;it!==null;){var t=it;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_a||jw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_a)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Qi(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&G4(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}G4(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&lg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}_a||t.flags&512&&d2(t)}catch(h){Yr(t,t.return,h)}}if(t===e){it=null;break}if(r=t.sibling,r!==null){r.return=t.return,it=r;break}it=t.return}}function uD(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var r=t.sibling;if(r!==null){r.return=t.return,it=r;break}it=t.return}}function dD(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{jw(4,t)}catch(c){Yr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Yr(t,a,c)}}var s=t.return;try{d2(t)}catch(c){Yr(t,s,c)}break;case 5:var o=t.return;try{d2(t)}catch(c){Yr(t,o,c)}}}catch(c){Yr(t,t.return,c)}if(t===e){it=null;break}var l=t.sibling;if(l!==null){l.return=t.return,it=l;break}it=t.return}}var EJ=Math.ceil,x1=xc.ReactCurrentDispatcher,HE=xc.ReactCurrentOwner,Ci=xc.ReactCurrentBatchConfig,er=0,Wn=null,gn=null,ea=0,Hs=0,xh=Iu(0),Tn=0,yg=null,Wd=0,Sw=0,qE=0,O0=null,ws=null,GE=0,lm=1/0,Ml=null,y1=!1,m2=null,gu=null,Ux=!1,nu=null,b1=0,D0=0,p2=null,Fy=-1,Iy=0;function es(){return er&6?nn():Fy!==-1?Fy:Fy=nn()}function vu(e){return e.mode&1?er&2&&ea!==0?ea&-ea:dJ.transition!==null?(Iy===0&&(Iy=Y$()),Iy):(e=xr,e!==0||(e=window.event,e=e===void 0?16:r8(e.type)),e):1}function po(e,t,r,n){if(50<D0)throw D0=0,p2=null,Error(We(185));Tv(e,r,n),(!(er&2)||e!==Wn)&&(e===Wn&&(!(er&2)&&(Sw|=r),Tn===4&&zc(e,ea)),Cs(e,n),r===1&&er===0&&!(t.mode&1)&&(lm=nn()+500,bw&&Lu()))}function Cs(e,t){var r=e.callbackNode;dQ(e,t);var n=n1(e,e===Wn?ea:0);if(n===0)r!==null&&b4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&b4(r),t===1)e.tag===0?uJ(fD.bind(null,e)):w8(fD.bind(null,e)),iJ(function(){!(er&6)&&Lu()}),r=null;else{switch(X$(n)){case 1:r=yE;break;case 4:r=G$;break;case 16:r=r1;break;case 536870912:r=K$;break;default:r=r1}r=y6(r,f6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function f6(e,t){if(Fy=-1,Iy=0,er&6)throw Error(We(327));var r=e.callbackNode;if(Ah()&&e.callbackNode!==r)return null;var n=n1(e,e===Wn?ea:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=w1(e,n);else{t=n;var a=er;er|=2;var s=m6();(Wn!==e||ea!==t)&&(Ml=null,lm=nn()+500,Od(e,t));do try{PJ();break}catch(l){h6(e,l)}while(!0);OE(),x1.current=s,er=a,gn!==null?t=0:(Wn=null,ea=0,t=Tn)}if(t!==0){if(t===2&&(a=zN(e),a!==0&&(n=a,t=g2(e,a))),t===1)throw r=yg,Od(e,0),zc(e,n),Cs(e,nn()),r;if(t===6)zc(e,n);else{if(a=e.current.alternate,!(n&30)&&!TJ(a)&&(t=w1(e,n),t===2&&(s=zN(e),s!==0&&(n=s,t=g2(e,s))),t===1))throw r=yg,Od(e,0),zc(e,n),Cs(e,nn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(We(345));case 2:td(e,ws,Ml);break;case 3:if(zc(e,n),(n&130023424)===n&&(t=GE+500-nn(),10<t)){if(n1(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){es(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=XN(td.bind(null,e,ws,Ml),t);break}td(e,ws,Ml);break;case 4:if(zc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-mo(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=nn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*EJ(n/1960))-n,10<n){e.timeoutHandle=XN(td.bind(null,e,ws,Ml),n);break}td(e,ws,Ml);break;case 5:td(e,ws,Ml);break;default:throw Error(We(329))}}}return Cs(e,nn()),e.callbackNode===r?f6.bind(null,e):null}function g2(e,t){var r=O0;return e.current.memoizedState.isDehydrated&&(Od(e,t).flags|=256),e=w1(e,t),e!==2&&(t=ws,ws=r,t!==null&&v2(t)),e}function v2(e){ws===null?ws=e:ws.push.apply(ws,e)}function TJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!yo(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t){for(t&=~qE,t&=~Sw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mo(t),n=1<<r;e[r]=-1,t&=~n}}function fD(e){if(er&6)throw Error(We(327));Ah();var t=n1(e,0);if(!(t&1))return Cs(e,nn()),null;var r=w1(e,t);if(e.tag!==0&&r===2){var n=zN(e);n!==0&&(t=n,r=g2(e,n))}if(r===1)throw r=yg,Od(e,0),zc(e,t),Cs(e,nn()),r;if(r===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,td(e,ws,Ml),Cs(e,nn()),null}function KE(e,t){var r=er;er|=1;try{return e(t)}finally{er=r,er===0&&(lm=nn()+500,bw&&Lu())}}function Hd(e){nu!==null&&nu.tag===0&&!(er&6)&&Ah();var t=er;er|=1;var r=Ci.transition,n=xr;try{if(Ci.transition=null,xr=1,e)return e()}finally{xr=n,Ci.transition=r,er=t,!(er&6)&&Lu()}}function YE(){Hs=xh.current,Fr(xh)}function Od(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,sJ(r)),gn!==null)for(r=gn.return;r!==null;){var n=r;switch(TE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&l1();break;case 3:im(),Fr(Ns),Fr(Aa),LE();break;case 5:IE(n);break;case 4:im();break;case 13:Fr(Vr);break;case 19:Fr(Vr);break;case 10:DE(n.type._context);break;case 22:case 23:YE()}r=r.return}if(Wn=e,gn=e=xu(e.current,null),ea=Hs=t,Tn=0,yg=null,qE=Sw=Wd=0,ws=O0=null,hd!==null){for(t=0;t<hd.length;t++)if(r=hd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}hd=null}return e}function h6(e,t){do{var r=gn;try{if(OE(),Dy.current=v1,g1){for(var n=Hr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}g1=!1}if(Vd=0,Bn=Cn=Hr=null,A0=!1,gg=0,HE.current=null,r===null||r.return===null){Tn=1,yg=t,gn=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=ea,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Z4(o);if(m!==null){m.flags&=-257,eD(m,o,l,s,t),m.mode&1&&J4(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){J4(s,u,t),XE();break e}c=Error(We(426))}}else if(Lr&&l.mode&1){var v=Z4(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),eD(v,o,l,s,t),AE(om(c,l));break e}}s=c=om(c,l),Tn!==4&&(Tn=2),O0===null?O0=[s]:O0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=X8(s,c,t);q4(s,y);break e;case 1:l=c;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gu===null||!gu.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=Q8(s,l,t);q4(s,j);break e}}s=s.return}while(s!==null)}g6(r)}catch(_){t=_,gn===r&&r!==null&&(gn=r=r.return);continue}break}while(!0)}function m6(){var e=x1.current;return x1.current=v1,e===null?v1:e}function XE(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),Wn===null||!(Wd&268435455)&&!(Sw&268435455)||zc(Wn,ea)}function w1(e,t){var r=er;er|=2;var n=m6();(Wn!==e||ea!==t)&&(Ml=null,Od(e,t));do try{AJ();break}catch(a){h6(e,a)}while(!0);if(OE(),er=r,x1.current=n,gn!==null)throw Error(We(261));return Wn=null,ea=0,Tn}function AJ(){for(;gn!==null;)p6(gn)}function PJ(){for(;gn!==null&&!rQ();)p6(gn)}function p6(e){var t=x6(e.alternate,e,Hs);e.memoizedProps=e.pendingProps,t===null?g6(e):gn=t,HE.current=null}function g6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=SJ(r,t),r!==null){r.flags&=32767,gn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tn=6,gn=null;return}}else if(r=jJ(r,t,Hs),r!==null){gn=r;return}if(t=t.sibling,t!==null){gn=t;return}gn=t=e}while(t!==null);Tn===0&&(Tn=5)}function td(e,t,r){var n=xr,a=Ci.transition;try{Ci.transition=null,xr=1,OJ(e,t,r,n)}finally{Ci.transition=a,xr=n}return null}function OJ(e,t,r,n){do Ah();while(nu!==null);if(er&6)throw Error(We(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(fQ(e,s),e===Wn&&(gn=Wn=null,ea=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ux||(Ux=!0,y6(r1,function(){return Ah(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ci.transition,Ci.transition=null;var o=xr;xr=1;var l=er;er|=4,HE.current=null,kJ(e,r),u6(r,e),JQ(KN),a1=!!GN,KN=GN=null,e.current=r,CJ(r),nQ(),er=l,xr=o,Ci.transition=s}else e.current=r;if(Ux&&(Ux=!1,nu=e,b1=a),s=e.pendingLanes,s===0&&(gu=null),iQ(r.stateNode),Cs(e,nn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(y1)throw y1=!1,e=m2,m2=null,e;return b1&1&&e.tag!==0&&Ah(),s=e.pendingLanes,s&1?e===p2?D0++:(D0=0,p2=e):D0=0,Lu(),null}function Ah(){if(nu!==null){var e=X$(b1),t=Ci.transition,r=xr;try{if(Ci.transition=null,xr=16>e?16:e,nu===null)var n=!1;else{if(e=nu,nu=null,b1=0,er&6)throw Error(We(331));var a=er;for(er|=4,it=e.current;it!==null;){var s=it,o=s.child;if(it.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(it=u;it!==null;){var d=it;switch(d.tag){case 0:case 11:case 15:P0(8,d,s)}var f=d.child;if(f!==null)f.return=d,it=f;else for(;it!==null;){d=it;var h=d.sibling,m=d.return;if(o6(d),d===u){it=null;break}if(h!==null){h.return=m,it=h;break}it=m}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}it=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,it=o;else e:for(;it!==null;){if(s=it,s.flags&2048)switch(s.tag){case 0:case 11:case 15:P0(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,it=y;break e}it=s.return}}var b=e.current;for(it=b;it!==null;){o=it;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,it=w;else e:for(o=b;it!==null;){if(l=it,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jw(9,l)}}catch(_){Yr(l,l.return,_)}if(l===o){it=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,it=j;break e}it=l.return}}if(er=a,Lu(),nl&&typeof nl.onPostCommitFiberRoot=="function")try{nl.onPostCommitFiberRoot(pw,e)}catch{}n=!0}return n}finally{xr=r,Ci.transition=t}}return!1}function hD(e,t,r){t=om(r,t),t=X8(e,t,1),e=pu(e,t,1),t=es(),e!==null&&(Tv(e,1,t),Cs(e,t))}function Yr(e,t,r){if(e.tag===3)hD(e,e,r);else for(;t!==null;){if(t.tag===3){hD(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(gu===null||!gu.has(n))){e=om(r,e),e=Q8(t,e,1),t=pu(t,e,1),e=es(),t!==null&&(Tv(t,1,e),Cs(t,e));break}}t=t.return}}function DJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=es(),e.pingedLanes|=e.suspendedLanes&r,Wn===e&&(ea&r)===r&&(Tn===4||Tn===3&&(ea&130023424)===ea&&500>nn()-GE?Od(e,0):qE|=r),Cs(e,t)}function v6(e,t){t===0&&(e.mode&1?(t=Px,Px<<=1,!(Px&130023424)&&(Px=4194304)):t=1);var r=es();e=nc(e,t),e!==null&&(Tv(e,t,r),Cs(e,r))}function RJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),v6(e,r)}function MJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(We(314))}n!==null&&n.delete(t),v6(e,r)}var x6;x6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ns.current)_s=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return _s=!1,_J(e,t,r);_s=!!(e.flags&131072)}else _s=!1,Lr&&t.flags&1048576&&_8(t,d1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;My(e,t),e=t.pendingProps;var a=nm(t,Aa.current);Th(t,r),a=BE(null,t,n,e,a,r);var s=UE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ks(n)?(s=!0,c1(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ME(t),a.updater=_w,t.stateNode=a,a._reactInternals=t,n2(t,n,e,r),t=i2(null,t,n,!0,s,r)):(t.tag=0,Lr&&s&&EE(t),za(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(My(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=IJ(n),e=Qi(n,e),a){case 0:t=s2(null,t,n,e,r);break e;case 1:t=nD(null,t,n,e,r);break e;case 11:t=tD(null,t,n,e,r);break e;case 14:t=rD(null,t,n,Qi(n.type,e),r);break e}throw Error(We(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qi(n,a),s2(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qi(n,a),nD(e,t,n,a,r);case 3:e:{if(t6(t),e===null)throw Error(We(387));n=t.pendingProps,s=t.memoizedState,a=s.element,E8(e,t),m1(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=om(Error(We(423)),t),t=aD(e,t,n,r,a);break e}else if(n!==a){a=om(Error(We(424)),t),t=aD(e,t,n,r,a);break e}else for(Zs=mu(t.stateNode.containerInfo.firstChild),ti=t,Lr=!0,io=null,r=k8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(am(),n===a){t=ac(e,t,r);break e}za(e,t,n,r)}t=t.child}return t;case 5:return T8(t),e===null&&e2(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,YN(n,a)?o=null:s!==null&&YN(n,s)&&(t.flags|=32),e6(e,t),za(e,t,o,r),t.child;case 6:return e===null&&e2(t),null;case 13:return r6(e,t,r);case 4:return FE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=sm(t,null,n,r):za(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qi(n,a),tD(e,t,n,a,r);case 7:return za(e,t,t.pendingProps,r),t.child;case 8:return za(e,t,t.pendingProps.children,r),t.child;case 12:return za(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,kr(f1,n._currentValue),n._currentValue=o,s!==null)if(yo(s.value,o)){if(s.children===a.children&&!Ns.current){t=ac(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Kl(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),t2(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(We(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),t2(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}za(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Th(t,r),a=Ai(a),n=n(a),t.flags|=1,za(e,t,n,r),t.child;case 14:return n=t.type,a=Qi(n,t.pendingProps),a=Qi(n.type,a),rD(e,t,n,a,r);case 15:return J8(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qi(n,a),My(e,t),t.tag=1,ks(n)?(e=!0,c1(t)):e=!1,Th(t,r),Y8(t,n,a),n2(t,n,a,r),i2(null,t,n,!0,e,r);case 19:return n6(e,t,r);case 22:return Z8(e,t,r)}throw Error(We(156,t.tag))};function y6(e,t){return q$(e,t)}function FJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(e,t,r,n){return new FJ(e,t,r,n)}function QE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IJ(e){if(typeof e=="function")return QE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gE)return 11;if(e===vE)return 14}return 2}function xu(e,t){var r=e.alternate;return r===null?(r=Ni(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ly(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")QE(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case lh:return Dd(r.children,a,s,t);case pE:o=8,a|=8;break;case CN:return e=Ni(12,r,t,a|2),e.elementType=CN,e.lanes=s,e;case EN:return e=Ni(13,r,t,a),e.elementType=EN,e.lanes=s,e;case TN:return e=Ni(19,r,t,a),e.elementType=TN,e.lanes=s,e;case T$:return Nw(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C$:o=10;break e;case E$:o=9;break e;case gE:o=11;break e;case vE:o=14;break e;case Ic:o=16,n=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Ni(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Dd(e,t,r,n){return e=Ni(7,e,n,t),e.lanes=r,e}function Nw(e,t,r,n){return e=Ni(22,e,n,t),e.elementType=T$,e.lanes=r,e.stateNode={isHidden:!1},e}function eS(e,t,r){return e=Ni(6,e,null,t),e.lanes=r,e}function tS(e,t,r){return t=Ni(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mj(0),this.expirationTimes=Mj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function JE(e,t,r,n,a,s,o,l,c){return e=new LJ(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ni(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ME(s),e}function $J(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function b6(e){if(!e)return ku;e=e._reactInternals;e:{if(xf(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ks(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var r=e.type;if(ks(r))return b8(e,r,t)}return t}function w6(e,t,r,n,a,s,o,l,c){return e=JE(r,n,!0,e,a,s,o,l,c),e.context=b6(null),r=e.current,n=es(),a=vu(r),s=Kl(n,a),s.callback=t??null,pu(r,s,a),e.current.lanes=a,Tv(e,a,n),Cs(e,n),e}function kw(e,t,r,n){var a=t.current,s=es(),o=vu(a);return r=b6(r),t.context===null?t.context=r:t.pendingContext=r,t=Kl(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=pu(a,t,o),e!==null&&(po(e,a,o,s),Oy(e,a,o)),o}function _1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ZE(e,t){mD(e,t),(e=e.alternate)&&mD(e,t)}function BJ(){return null}var _6=typeof reportError=="function"?reportError:function(e){console.error(e)};function eT(e){this._internalRoot=e}Cw.prototype.render=eT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));kw(e,t,null,null)};Cw.prototype.unmount=eT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hd(function(){kw(null,e,null,null)}),t[rc]=null}};function Cw(e){this._internalRoot=e}Cw.prototype.unstable_scheduleHydration=function(e){if(e){var t=Z$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Uc.length&&t!==0&&t<Uc[r].priority;r++);Uc.splice(r,0,e),r===0&&t8(e)}};function tT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ew(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pD(){}function UJ(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=_1(o);s.call(u)}}var o=w6(t,n,e,0,null,!1,!1,"",pD);return e._reactRootContainer=o,e[rc]=o.current,dg(e.nodeType===8?e.parentNode:e),Hd(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=_1(c);l.call(u)}}var c=JE(e,0,!1,null,null,!1,!1,"",pD);return e._reactRootContainer=c,e[rc]=c.current,dg(e.nodeType===8?e.parentNode:e),Hd(function(){kw(t,c,r,n)}),c}function Tw(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=_1(o);l.call(c)}}kw(t,o,e,a)}else o=UJ(r,t,e,a,n);return _1(o)}Q$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=m0(t.pendingLanes);r!==0&&(bE(t,r|1),Cs(t,nn()),!(er&6)&&(lm=nn()+500,Lu()))}break;case 13:Hd(function(){var n=nc(e,1);if(n!==null){var a=es();po(n,e,1,a)}}),ZE(e,1)}};wE=function(e){if(e.tag===13){var t=nc(e,134217728);if(t!==null){var r=es();po(t,e,134217728,r)}ZE(e,134217728)}};J$=function(e){if(e.tag===13){var t=vu(e),r=nc(e,t);if(r!==null){var n=es();po(r,e,t,n)}ZE(e,t)}};Z$=function(){return xr};e8=function(e,t){var r=xr;try{return xr=e,t()}finally{xr=r}};$N=function(e,t,r){switch(t){case"input":if(ON(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=yw(n);if(!a)throw Error(We(90));P$(n),ON(n,a)}}}break;case"textarea":D$(e,r);break;case"select":t=r.value,t!=null&&Nh(e,!!r.multiple,t,!1)}};B$=KE;U$=Hd;var zJ={usingClientEntryPoint:!1,Events:[Pv,fh,yw,L$,$$,KE]},Wp={findFiberByHostInstance:fd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VJ={bundleType:Wp.bundleType,version:Wp.version,rendererPackageName:Wp.rendererPackageName,rendererConfig:Wp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W$(e),e===null?null:e.stateNode},findFiberByHostInstance:Wp.findFiberByHostInstance||BJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zx.isDisabled&&zx.supportsFiber)try{pw=zx.inject(VJ),nl=zx}catch{}}li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zJ;li.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tT(t))throw Error(We(200));return $J(e,t,null,r)};li.createRoot=function(e,t){if(!tT(e))throw Error(We(299));var r=!1,n="",a=_6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=JE(e,1,!1,null,null,r,!1,n,a),e[rc]=t.current,dg(e.nodeType===8?e.parentNode:e),new eT(t)};li.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=W$(t),e=e===null?null:e.stateNode,e};li.flushSync=function(e){return Hd(e)};li.hydrate=function(e,t,r){if(!Ew(t))throw Error(We(200));return Tw(null,e,t,!0,r)};li.hydrateRoot=function(e,t,r){if(!tT(e))throw Error(We(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=_6;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=w6(t,null,e,1,r??null,a,!1,s,o),e[rc]=t.current,dg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Cw(t)};li.render=function(e,t,r){if(!Ew(t))throw Error(We(200));return Tw(null,e,t,!1,r)};li.unmountComponentAtNode=function(e){if(!Ew(e))throw Error(We(40));return e._reactRootContainer?(Hd(function(){Tw(null,null,e,!1,function(){e._reactRootContainer=null,e[rc]=null})}),!0):!1};li.unstable_batchedUpdates=KE;li.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ew(r))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return Tw(e,t,r,!1,n)};li.version="18.3.1-next-f1338f8080-20240426";function j6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j6)}catch(e){console.error(e)}}j6(),j$.exports=li;var ip=j$.exports;const WJ=fr(ip);var S6,gD=ip;S6=gD.createRoot,gD.hydrateRoot;var Dv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qd=typeof window>"u"||"Deno"in globalThis;function bs(){}function HJ(e,t){return typeof e=="function"?e(t):e}function x2(e){return typeof e=="number"&&e>=0&&e!==1/0}function N6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yu(e,t){return typeof e=="function"?e(t):e}function yi(e,t){return typeof e=="function"?e(t):e}function vD(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==rT(o,t.options))return!1}else if(!wg(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function xD(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(bg(t.options.mutationKey)!==bg(s))return!1}else if(!wg(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function rT(e,t){return((t==null?void 0:t.queryKeyHashFn)||bg)(e)}function bg(e){return JSON.stringify(e,(t,r)=>b2(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function wg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>wg(e[r],t[r])):!1}function k6(e,t){if(e===t)return e;const r=yD(e)&&yD(t);if(r||b2(e)&&b2(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=k6(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function y2(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function yD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function b2(e){if(!bD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!bD(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bD(e){return Object.prototype.toString.call(e)==="[object Object]"}function qJ(e){return new Promise(t=>{setTimeout(t,e)})}function w2(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?k6(e,t):t}function GJ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function KJ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var nT=Symbol();function C6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===nT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function YJ(e,t){return typeof e=="function"?e(...t):!!e}var jd,Kc,Wh,n$,XJ=(n$=class extends Dv{constructor(){super();St(this,jd);St(this,Kc);St(this,Wh);ct(this,Wh,t=>{if(!qd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ve(this,Kc)||this.setEventListener(ve(this,Wh))}onUnsubscribe(){var t;this.hasListeners()||((t=ve(this,Kc))==null||t.call(this),ct(this,Kc,void 0))}setEventListener(t){var r;ct(this,Wh,t),(r=ve(this,Kc))==null||r.call(this),ct(this,Kc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ve(this,jd)!==t&&(ct(this,jd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ve(this,jd)=="boolean"?ve(this,jd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},jd=new WeakMap,Kc=new WeakMap,Wh=new WeakMap,n$),aT=new XJ,Hh,Yc,qh,a$,QJ=(a$=class extends Dv{constructor(){super();St(this,Hh,!0);St(this,Yc);St(this,qh);ct(this,qh,t=>{if(!qd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ve(this,Yc)||this.setEventListener(ve(this,qh))}onUnsubscribe(){var t;this.hasListeners()||((t=ve(this,Yc))==null||t.call(this),ct(this,Yc,void 0))}setEventListener(t){var r;ct(this,qh,t),(r=ve(this,Yc))==null||r.call(this),ct(this,Yc,t(this.setOnline.bind(this)))}setOnline(t){ve(this,Hh)!==t&&(ct(this,Hh,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ve(this,Hh)}},Hh=new WeakMap,Yc=new WeakMap,qh=new WeakMap,a$),j1=new QJ;function _2(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function JJ(e){return Math.min(1e3*2**e,3e4)}function E6(e){return(e??"online")==="online"?j1.isOnline():!0}var T6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function rS(e){return e instanceof T6}function A6(e){let t=!1,r=0,n=!1,a;const s=_2(),o=p=>{var v;n||(h(new T6(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>aT.isFocused()&&(e.networkMode==="always"||j1.isOnline())&&e.canRun(),d=()=>E6(e.networkMode)&&e.canRun(),f=p=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,p),a==null||a(),s.resolve(p))},h=p=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,p),a==null||a(),s.reject(p))},m=()=>new Promise(p=>{var v;a=y=>{(n||u())&&p(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var S;if(n)return;const b=e.retry??(qd?0:3),w=e.retryDelay??JJ,j=typeof w=="function"?w(r,y):w,_=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!_){h(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),qJ(j).then(()=>u()?void 0:m()).then(()=>{t?h(y):g()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var ZJ=e=>setTimeout(e,0);function eZ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=ZJ;const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Zn=eZ(),Sd,s$,P6=(s$=class{constructor(){St(this,Sd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),x2(this.gcTime)&&ct(this,Sd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qd?1/0:5*60*1e3))}clearGcTimeout(){ve(this,Sd)&&(clearTimeout(ve(this,Sd)),ct(this,Sd,void 0))}},Sd=new WeakMap,s$),Gh,Nd,xi,kd,va,Sv,Cd,Zi,Rl,i$,tZ=(i$=class extends P6{constructor(t){super();St(this,Zi);St(this,Gh);St(this,Nd);St(this,xi);St(this,kd);St(this,va);St(this,Sv);St(this,Cd);ct(this,Cd,!1),ct(this,Sv,t.defaultOptions),this.setOptions(t.options),this.observers=[],ct(this,kd,t.client),ct(this,xi,ve(this,kd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ct(this,Gh,rZ(this.options)),this.state=t.state??ve(this,Gh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ve(this,va))==null?void 0:t.promise}setOptions(t){this.options={...ve(this,Sv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ve(this,xi).remove(this)}setData(t,r){const n=w2(this.state.data,t,this.options);return Gt(this,Zi,Rl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Gt(this,Zi,Rl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ve(this,va))==null?void 0:n.promise;return(a=ve(this,va))==null||a.cancel(t),r?r.then(bs).catch(bs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ve(this,Gh))}isActive(){return this.observers.some(t=>yi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>yu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!N6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ve(this,va))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ve(this,va))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ve(this,xi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ve(this,va)&&(ve(this,Cd)?ve(this,va).cancel({revert:!0}):ve(this,va).cancelRetry()),this.scheduleGc()),ve(this,xi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Gt(this,Zi,Rl).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ve(this,va))return ve(this,va).continueRetry(),ve(this,va).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ct(this,Cd,!0),n.signal)})},s=()=>{const h=C6(this.options,r),g=(()=>{const p={client:ve(this,kd),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return ct(this,Cd,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ve(this,kd),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),ct(this,Nd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Gt(this,Zi,Rl).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,g,p,v;rS(h)&&h.silent||Gt(this,Zi,Rl).call(this,{type:"error",error:h}),rS(h)||((g=(m=ve(this,xi).config).onError)==null||g.call(m,h,this),(v=(p=ve(this,xi).config).onSettled)==null||v.call(p,this.state.data,h,this)),this.scheduleGc()};return ct(this,va,A6({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,g,p,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(g=(m=ve(this,xi).config).onSuccess)==null||g.call(m,h,this),(v=(p=ve(this,xi).config).onSettled)==null||v.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Gt(this,Zi,Rl).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Gt(this,Zi,Rl).call(this,{type:"pause"})},onContinue:()=>{Gt(this,Zi,Rl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ve(this,va).start()}},Gh=new WeakMap,Nd=new WeakMap,xi=new WeakMap,kd=new WeakMap,va=new WeakMap,Sv=new WeakMap,Cd=new WeakMap,Zi=new WeakSet,Rl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...O6(n.data,this.options),fetchMeta:t.meta??null};case"success":return ct(this,Nd,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return rS(a)&&a.revert&&ve(this,Nd)?{...ve(this,Nd),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Zn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ve(this,xi).notify({query:this,type:"updated",action:t})})},i$);function O6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:E6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rZ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Vo,o$,nZ=(o$=class extends Dv{constructor(t={}){super();St(this,Vo);this.config=t,ct(this,Vo,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??rT(a,r);let o=this.get(s);return o||(o=new tZ({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ve(this,Vo).has(t.queryHash)||(ve(this,Vo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ve(this,Vo).get(t.queryHash);r&&(t.destroy(),r===t&&ve(this,Vo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ve(this,Vo).get(t)}getAll(){return[...ve(this,Vo).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>vD(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>vD(t,n)):r}notify(t){Zn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Zn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Vo=new WeakMap,o$),Wo,Ba,Ed,Ho,Mc,l$,aZ=(l$=class extends P6{constructor(t){super();St(this,Ho);St(this,Wo);St(this,Ba);St(this,Ed);this.mutationId=t.mutationId,ct(this,Ba,t.mutationCache),ct(this,Wo,[]),this.state=t.state||sZ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ve(this,Wo).includes(t)||(ve(this,Wo).push(t),this.clearGcTimeout(),ve(this,Ba).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ct(this,Wo,ve(this,Wo).filter(r=>r!==t)),this.scheduleGc(),ve(this,Ba).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ve(this,Wo).length||(this.state.status==="pending"?this.scheduleGc():ve(this,Ba).remove(this))}continue(){var t;return((t=ve(this,Ed))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,c,u,d,f,h,m,g,p,v,y,b,w,j,_,S,N,C;const r=()=>{Gt(this,Ho,Mc).call(this,{type:"continue"})};ct(this,Ed,A6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{Gt(this,Ho,Mc).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{Gt(this,Ho,Mc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ve(this,Ba).canRun(this)}));const n=this.state.status==="pending",a=!ve(this,Ed).canStart();try{if(n)r();else{Gt(this,Ho,Mc).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(s=ve(this,Ba).config).onMutate)==null?void 0:o.call(s,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&Gt(this,Ho,Mc).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const k=await ve(this,Ed).start();return await((d=(u=ve(this,Ba).config).onSuccess)==null?void 0:d.call(u,k,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,k,t,this.state.context)),await((g=(m=ve(this,Ba).config).onSettled)==null?void 0:g.call(m,k,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,k,null,t,this.state.context)),Gt(this,Ho,Mc).call(this,{type:"success",data:k}),k}catch(k){try{throw await((b=(y=ve(this,Ba).config).onError)==null?void 0:b.call(y,k,t,this.state.context,this)),await((j=(w=this.options).onError)==null?void 0:j.call(w,k,t,this.state.context)),await((S=(_=ve(this,Ba).config).onSettled)==null?void 0:S.call(_,void 0,k,this.state.variables,this.state.context,this)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,void 0,k,t,this.state.context)),k}finally{Gt(this,Ho,Mc).call(this,{type:"error",error:k})}}finally{ve(this,Ba).runNext(this)}}},Wo=new WeakMap,Ba=new WeakMap,Ed=new WeakMap,Ho=new WeakSet,Mc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zn.batch(()=>{ve(this,Wo).forEach(n=>{n.onMutationUpdate(t)}),ve(this,Ba).notify({mutation:this,type:"updated",action:t})})},l$);function sZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ll,eo,Nv,c$,iZ=(c$=class extends Dv{constructor(t={}){super();St(this,Ll);St(this,eo);St(this,Nv);this.config=t,ct(this,Ll,new Set),ct(this,eo,new Map),ct(this,Nv,0)}build(t,r,n){const a=new aZ({mutationCache:this,mutationId:++Sx(this,Nv)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ve(this,Ll).add(t);const r=Vx(t);if(typeof r=="string"){const n=ve(this,eo).get(r);n?n.push(t):ve(this,eo).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ve(this,Ll).delete(t)){const r=Vx(t);if(typeof r=="string"){const n=ve(this,eo).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ve(this,eo).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Vx(t);if(typeof r=="string"){const n=ve(this,eo).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Vx(t);if(typeof r=="string"){const a=(n=ve(this,eo).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zn.batch(()=>{ve(this,Ll).forEach(t=>{this.notify({type:"removed",mutation:t})}),ve(this,Ll).clear(),ve(this,eo).clear()})}getAll(){return Array.from(ve(this,Ll))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>xD(r,n))}findAll(t={}){return this.getAll().filter(r=>xD(t,r))}notify(t){Zn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Zn.batch(()=>Promise.all(t.map(r=>r.continue().catch(bs))))}},Ll=new WeakMap,eo=new WeakMap,Nv=new WeakMap,c$);function Vx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function wD(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=C6(t.options,t.fetchOptions),b=async(w,j,_)=>{if(p)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return v(O),O})(),C=await y(N),{maxPages:k}=t.options,E=_?KJ:GJ;return{pages:E(w.pages,C,k),pageParams:E(w.pageParams,j,k)}};if(a&&s.length){const w=a==="backward",j=w?oZ:_D,_={pages:s,pageParams:o},S=j(n,_);l=await b(_,S,w)}else{const w=e??s.length;do{const j=c===0?o[0]??n.initialPageParam:_D(n,l);if(c>0&&j==null)break;l=await b(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function _D(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function oZ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Gr,Xc,Qc,Kh,Yh,Jc,Xh,Qh,u$,lZ=(u$=class{constructor(e={}){St(this,Gr);St(this,Xc);St(this,Qc);St(this,Kh);St(this,Yh);St(this,Jc);St(this,Xh);St(this,Qh);ct(this,Gr,e.queryCache||new nZ),ct(this,Xc,e.mutationCache||new iZ),ct(this,Qc,e.defaultOptions||{}),ct(this,Kh,new Map),ct(this,Yh,new Map),ct(this,Jc,0)}mount(){Sx(this,Jc)._++,ve(this,Jc)===1&&(ct(this,Xh,aT.subscribe(async e=>{e&&(await this.resumePausedMutations(),ve(this,Gr).onFocus())})),ct(this,Qh,j1.subscribe(async e=>{e&&(await this.resumePausedMutations(),ve(this,Gr).onOnline())})))}unmount(){var e,t;Sx(this,Jc)._--,ve(this,Jc)===0&&((e=ve(this,Xh))==null||e.call(this),ct(this,Xh,void 0),(t=ve(this,Qh))==null||t.call(this),ct(this,Qh,void 0))}isFetching(e){return ve(this,Gr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ve(this,Xc).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ve(this,Gr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ve(this,Gr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(yu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ve(this,Gr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ve(this,Gr).get(n.queryHash),s=a==null?void 0:a.state.data,o=HJ(t,s);if(o!==void 0)return ve(this,Gr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Zn.batch(()=>ve(this,Gr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ve(this,Gr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ve(this,Gr);Zn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ve(this,Gr);return Zn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Zn.batch(()=>ve(this,Gr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(bs).catch(bs)}invalidateQueries(e,t={}){return Zn.batch(()=>(ve(this,Gr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Zn.batch(()=>ve(this,Gr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(bs)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(bs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ve(this,Gr).build(this,t);return r.isStaleByTime(yu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(bs).catch(bs)}fetchInfiniteQuery(e){return e.behavior=wD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(bs).catch(bs)}ensureInfiniteQueryData(e){return e.behavior=wD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return j1.isOnline()?ve(this,Xc).resumePausedMutations():Promise.resolve()}getQueryCache(){return ve(this,Gr)}getMutationCache(){return ve(this,Xc)}getDefaultOptions(){return ve(this,Qc)}setDefaultOptions(e){ct(this,Qc,e)}setQueryDefaults(e,t){ve(this,Kh).set(bg(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ve(this,Kh).values()],r={};return t.forEach(n=>{wg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ve(this,Yh).set(bg(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ve(this,Yh).values()],r={};return t.forEach(n=>{wg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ve(this,Qc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=rT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===nT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ve(this,Qc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ve(this,Gr).clear(),ve(this,Xc).clear()}},Gr=new WeakMap,Xc=new WeakMap,Qc=new WeakMap,Kh=new WeakMap,Yh=new WeakMap,Jc=new WeakMap,Xh=new WeakMap,Qh=new WeakMap,u$),vs,Kt,kv,Ua,Td,Jh,Zc,eu,Cv,Zh,em,Ad,Pd,tu,tm,dr,g0,j2,S2,N2,k2,C2,E2,T2,D6,d$,cZ=(d$=class extends Dv{constructor(t,r){super();St(this,dr);St(this,vs);St(this,Kt);St(this,kv);St(this,Ua);St(this,Td);St(this,Jh);St(this,Zc);St(this,eu);St(this,Cv);St(this,Zh);St(this,em);St(this,Ad);St(this,Pd);St(this,tu);St(this,tm,new Set);this.options=r,ct(this,vs,t),ct(this,eu,null),ct(this,Zc,_2()),this.options.experimental_prefetchInRender||ve(this,Zc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ve(this,Kt).addObserver(this),jD(ve(this,Kt),this.options)?Gt(this,dr,g0).call(this):this.updateResult(),Gt(this,dr,k2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return A2(ve(this,Kt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return A2(ve(this,Kt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Gt(this,dr,C2).call(this),Gt(this,dr,E2).call(this),ve(this,Kt).removeObserver(this)}setOptions(t){const r=this.options,n=ve(this,Kt);if(this.options=ve(this,vs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yi(this.options.enabled,ve(this,Kt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Gt(this,dr,T2).call(this),ve(this,Kt).setOptions(this.options),r._defaulted&&!y2(this.options,r)&&ve(this,vs).getQueryCache().notify({type:"observerOptionsUpdated",query:ve(this,Kt),observer:this});const a=this.hasListeners();a&&SD(ve(this,Kt),n,this.options,r)&&Gt(this,dr,g0).call(this),this.updateResult(),a&&(ve(this,Kt)!==n||yi(this.options.enabled,ve(this,Kt))!==yi(r.enabled,ve(this,Kt))||yu(this.options.staleTime,ve(this,Kt))!==yu(r.staleTime,ve(this,Kt)))&&Gt(this,dr,j2).call(this);const s=Gt(this,dr,S2).call(this);a&&(ve(this,Kt)!==n||yi(this.options.enabled,ve(this,Kt))!==yi(r.enabled,ve(this,Kt))||s!==ve(this,tu))&&Gt(this,dr,N2).call(this,s)}getOptimisticResult(t){const r=ve(this,vs).getQueryCache().build(ve(this,vs),t),n=this.createResult(r,t);return dZ(this,n)&&(ct(this,Ua,n),ct(this,Jh,this.options),ct(this,Td,ve(this,Kt).state)),n}getCurrentResult(){return ve(this,Ua)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){ve(this,tm).add(t)}getCurrentQuery(){return ve(this,Kt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ve(this,vs).defaultQueryOptions(t),n=ve(this,vs).getQueryCache().build(ve(this,vs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Gt(this,dr,g0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ve(this,Ua)))}createResult(t,r){var k;const n=ve(this,Kt),a=this.options,s=ve(this,Ua),o=ve(this,Td),l=ve(this,Jh),u=t!==n?t.state:ve(this,kv),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const E=this.hasListeners(),O=!E&&jD(t,r),T=E&&SD(t,n,r,a);(O||T)&&(f={...f,...O6(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let E;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(E=s.data,y=!0):E=typeof r.placeholderData=="function"?r.placeholderData((k=ve(this,em))==null?void 0:k.state.data,ve(this,em)):r.placeholderData,E!==void 0&&(v="success",m=w2(s==null?void 0:s.data,E,r),h=!0)}if(r.select&&m!==void 0&&!y)if(s&&m===(o==null?void 0:o.data)&&r.select===ve(this,Cv))m=ve(this,Zh);else try{ct(this,Cv,r.select),m=r.select(m),m=w2(s==null?void 0:s.data,m,r),ct(this,Zh,m),ct(this,eu,null)}catch(E){ct(this,eu,E)}ve(this,eu)&&(g=ve(this,eu),m=ve(this,Zh),p=Date.now(),v="error");const b=f.fetchStatus==="fetching",w=v==="pending",j=v==="error",_=w&&b,S=m!==void 0,C={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:j,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:j&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&S,isStale:sT(t,r),refetch:this.refetch,promise:ve(this,Zc),isEnabled:yi(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=U=>{C.status==="error"?U.reject(C.error):C.data!==void 0&&U.resolve(C.data)},O=()=>{const U=ct(this,Zc,C.promise=_2());E(U)},T=ve(this,Zc);switch(T.status){case"pending":t.queryHash===n.queryHash&&E(T);break;case"fulfilled":(C.status==="error"||C.data!==T.value)&&O();break;case"rejected":(C.status!=="error"||C.error!==T.reason)&&O();break}}return C}updateResult(){const t=ve(this,Ua),r=this.createResult(ve(this,Kt),this.options);if(ct(this,Td,ve(this,Kt).state),ct(this,Jh,this.options),ve(this,Td).data!==void 0&&ct(this,em,ve(this,Kt)),y2(r,t))return;ct(this,Ua,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!ve(this,tm).size)return!0;const o=new Set(s??ve(this,tm));return this.options.throwOnError&&o.add("error"),Object.keys(ve(this,Ua)).some(l=>{const c=l;return ve(this,Ua)[c]!==t[c]&&o.has(c)})};Gt(this,dr,D6).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Gt(this,dr,k2).call(this)}},vs=new WeakMap,Kt=new WeakMap,kv=new WeakMap,Ua=new WeakMap,Td=new WeakMap,Jh=new WeakMap,Zc=new WeakMap,eu=new WeakMap,Cv=new WeakMap,Zh=new WeakMap,em=new WeakMap,Ad=new WeakMap,Pd=new WeakMap,tu=new WeakMap,tm=new WeakMap,dr=new WeakSet,g0=function(t){Gt(this,dr,T2).call(this);let r=ve(this,Kt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(bs)),r},j2=function(){Gt(this,dr,C2).call(this);const t=yu(this.options.staleTime,ve(this,Kt));if(qd||ve(this,Ua).isStale||!x2(t))return;const n=N6(ve(this,Ua).dataUpdatedAt,t)+1;ct(this,Ad,setTimeout(()=>{ve(this,Ua).isStale||this.updateResult()},n))},S2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ve(this,Kt)):this.options.refetchInterval)??!1},N2=function(t){Gt(this,dr,E2).call(this),ct(this,tu,t),!(qd||yi(this.options.enabled,ve(this,Kt))===!1||!x2(ve(this,tu))||ve(this,tu)===0)&&ct(this,Pd,setInterval(()=>{(this.options.refetchIntervalInBackground||aT.isFocused())&&Gt(this,dr,g0).call(this)},ve(this,tu)))},k2=function(){Gt(this,dr,j2).call(this),Gt(this,dr,N2).call(this,Gt(this,dr,S2).call(this))},C2=function(){ve(this,Ad)&&(clearTimeout(ve(this,Ad)),ct(this,Ad,void 0))},E2=function(){ve(this,Pd)&&(clearInterval(ve(this,Pd)),ct(this,Pd,void 0))},T2=function(){const t=ve(this,vs).getQueryCache().build(ve(this,vs),this.options);if(t===ve(this,Kt))return;const r=ve(this,Kt);ct(this,Kt,t),ct(this,kv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},D6=function(t){Zn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ve(this,Ua))}),ve(this,vs).getQueryCache().notify({query:ve(this,Kt),type:"observerResultsUpdated"})})},d$);function uZ(e,t){return yi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function jD(e,t){return uZ(e,t)||e.state.data!==void 0&&A2(e,t,t.refetchOnMount)}function A2(e,t,r){if(yi(t.enabled,e)!==!1&&yu(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&sT(e,t)}return!1}function SD(e,t,r,n){return(e!==t||yi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&sT(e,r)}function sT(e,t){return yi(t.enabled,e)!==!1&&e.isStaleByTime(yu(t.staleTime,e))}function dZ(e,t){return!y2(e.getCurrentResult(),t)}var R6=x.createContext(void 0),fZ=e=>{const t=x.useContext(R6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},hZ=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(R6.Provider,{value:e,children:t})),M6=x.createContext(!1),mZ=()=>x.useContext(M6);M6.Provider;function pZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var gZ=x.createContext(pZ()),vZ=()=>x.useContext(gZ),xZ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},yZ=e=>{x.useEffect(()=>{e.clearReset()},[e])},bZ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||YJ(r,[e.error,n])),wZ=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},_Z=(e,t)=>e.isLoading&&e.isFetching&&!t,jZ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ND=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function SZ(e,t,r){var f,h,m,g,p;const n=mZ(),a=vZ(),s=fZ(),o=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",wZ(o),xZ(o,a),yZ(a);const l=!s.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const y=d?c.subscribe(Zn.batchCalls(v)):bs;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),jZ(o,u))throw ND(o,c,a);if(bZ({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,u),o.experimental_prefetchInRender&&!qd&&_Z(u,n)){const v=l?ND(o,c,a):(p=s.getQueryCache().get(o.queryHash))==null?void 0:p.promise;v==null||v.catch(bs).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function iT(e,t){return SZ(e,cZ)}const Et=e=>typeof e=="string",Hp=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},kD=e=>e==null?"":""+e,NZ=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},kZ=/###/g,CD=e=>e&&e.indexOf("###")>-1?e.replace(kZ,"."):e,ED=e=>!e||Et(e),R0=(e,t,r)=>{const n=Et(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(ED(e))return{};const s=CD(n[a]);!e[s]&&r&&(e[s]=new r),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return ED(e)?{}:{obj:e,k:CD(n[a])}},TD=(e,t,r)=>{const{obj:n,k:a}=R0(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let s=t[t.length-1],o=t.slice(0,t.length-1),l=R0(e,o,Object);for(;l.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),l=R0(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},CZ=(e,t,r,n)=>{const{obj:a,k:s}=R0(e,t,Object);a[s]=a[s]||[],a[s].push(r)},S1=(e,t)=>{const{obj:r,k:n}=R0(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},EZ=(e,t,r)=>{const n=S1(e,r);return n!==void 0?n:S1(t,r)},F6=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Et(e[n])||e[n]instanceof String||Et(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):F6(e[n],t[n],r):e[n]=t[n]);return e},If=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var TZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const AZ=e=>Et(e)?e.replace(/[&<>"'\/]/g,t=>TZ[t]):e;class PZ{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const OZ=[" ",",","?","!",";"],DZ=new PZ(20),RZ=(e,t,r)=>{t=t||"",r=r||"";const n=OZ.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=DZ.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!a.test(e);if(!s){const o=e.indexOf(r);o>0&&!a.test(e.substring(0,o))&&(s=!0)}return s},P2=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}a=o}return a},_g=e=>e==null?void 0:e.replace("_","-"),MZ={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class N1{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||MZ,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Et(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new N1(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new N1(this.logger,t)}}var Jo=new N1;let Aw=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a.apply(a,[t,...r])})}};class AD extends Aw{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){var u,d;const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Et(n)&&s?l.push(...n.split(s)):l.push(n)));const c=S1(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!Et(n)?c:P2((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[r],n,s)}addResource(t,r,n,a,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),TD(this.data,l,a),s.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const s in n)(Et(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,s,o={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let c=S1(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?F6(c,n,s):c={...c,...n},TD(this.data,l,c),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var I6={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(s=>{var o;t=((o=this.processors[s])==null?void 0:o.process(t,r,n,a))??t}),t}};const L6=Symbol("i18next/PATH_KEY");function FZ(){const e=[],t=Object.create(null);let r;return t.get=(n,a)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),a===L6?e:(e.push(a),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function O2(e,t){const{[L6]:r}=e(FZ());return r.join((t==null?void 0:t.keySeparator)??".")}const PD={},nS=e=>!Et(e)&&typeof e!="boolean"&&typeof e!="number";class k1 extends Aw{constructor(t,r={}){super(),NZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Jo.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if((a==null?void 0:a.res)===void 0)return!1;const s=nS(a.res);return!(n.returnObjects===!1&&s)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!RZ(t,n,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Et(s)?[s]:s};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(a)}return{key:t,namespaces:Et(s)?[s]:s}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=O2(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=a.lng||this.language,h=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const m=this.resolve(t,a);let g=m==null?void 0:m.res;const p=(m==null?void 0:m.usedKey)||l,v=(m==null?void 0:m.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],b=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,j=a.count!==void 0&&!Et(a.count),_=k1.hasDefaultValue(a),S=j?this.pluralResolver.getSuffix(f,a.count,a):"",N=a.ordinal&&j?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",C=j&&!a.ordinal&&a.count===0,k=C&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${S}`]||a[`defaultValue${N}`]||a.defaultValue;let E=g;w&&!g&&_&&(E=k);const O=nS(E),T=Object.prototype.toString.apply(E);if(w&&E&&O&&y.indexOf(T)<0&&!(Et(b)&&Array.isArray(E))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,E,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(m.res=U,m.usedParams=this.getUsedParamsDetails(a),m):U}if(o){const U=Array.isArray(E),W=U?[]:{},R=U?v:p;for(const z in E)if(Object.prototype.hasOwnProperty.call(E,z)){const P=`${R}${o}${z}`;_&&!g?W[z]=this.translate(P,{...a,defaultValue:nS(k)?k[z]:void 0,joinArrays:!1,ns:c}):W[z]=this.translate(P,{...a,joinArrays:!1,ns:c}),W[z]===P&&(W[z]=E[z])}g=W}}else if(w&&Et(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,t,a,n));else{let U=!1,W=!1;!this.isValidLookup(g)&&_&&(U=!0,g=k),this.isValidLookup(g)||(W=!0,g=l);const z=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:g,P=_&&k!==g&&this.options.updateMissing;if(W||U||P){if(this.logger.log(P?"updateKey":"missingKey",f,u,l,P?k:g),o){const Z=this.resolve(l,{...a,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&L&&L[0])for(let Z=0;Z<L.length;Z++)M.push(L[Z]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(a.lng||this.language):M.push(a.lng||this.language);const q=(Z,A,B)=>{var V;const H=_&&B!==g?B:z;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,u,A,H,P,a):(V=this.backendConnector)!=null&&V.saveMissing&&this.backendConnector.saveMissing(Z,u,A,H,P,a),this.emit("missingKey",Z,u,A,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?M.forEach(Z=>{const A=this.pluralResolver.getSuffixes(Z,a);C&&a[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(B=>{q([Z],l+B,a[`defaultValue${B}`]||k)})}):q(M,l,k))}g=this.extendTranslation(g,t,a,m,n),W&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${l}`),(W||U)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,U?g:void 0,a))}return s?(m.res=g,m.usedParams=this.getUsedParamsDetails(a),m):g}extendTranslation(t,r,n,a,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Et(t)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=n.replace&&!Et(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),d){const m=t.match(this.interpolator.nestingRegexp),g=m&&m.length;f<g&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>(s==null?void 0:s[0])===m[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${r[0]}`),null):this.translate(...m,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=Et(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=I6.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,s,o,l;return Et(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;a=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Et(r.count),m=h&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(Et(r.context)||typeof r.context=="number")&&r.context!=="",p=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(v=>{var y,b;this.isValidLookup(n)||(l=v,!PD[`${p[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(l))&&(PD[`${p[0]}-${v}`]=!0,this.logger.warn(`key "${a}" for languages "${p.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(w=>{var S;if(this.isValidLookup(n))return;o=w;const j=[d];if((S=this.i18nFormat)!=null&&S.addLookupKeys)this.i18nFormat.addLookupKeys(j,d,w,v,r);else{let N;h&&(N=this.pluralResolver.getSuffix(w,r.count,r));const C=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&N.indexOf(k)===0&&j.push(d+N.replace(k,this.options.pluralSeparator)),j.push(d+N),m&&j.push(d+C)),g){const E=`${d}${this.options.contextSeparator||"_"}${r.context}`;j.push(E),h&&(r.ordinal&&N.indexOf(k)===0&&j.push(E+N.replace(k,this.options.pluralSeparator)),j.push(E+N),m&&j.push(E+C))}}let _;for(;_=j.pop();)this.isValidLookup(n)||(s=_,n=this.getResource(w,v,_,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Et(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const s of r)delete a[s]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class OD{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Jo.create("languageUtils")}getScriptPartFromCode(t){if(t=_g(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=_g(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Et(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Et(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],s=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Et(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Et(t)&&s(this.formatLanguageCode(t)),n.forEach(o=>{a.indexOf(o)<0&&s(this.formatLanguageCode(o))}),a}}const DD={zero:0,one:1,two:2,few:3,many:4,other:5},RD={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class IZ{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=Jo.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=_g(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),RD;if(!t.match(/-|_/))return RD;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,r)}return this.pluralRulesCache[s]=o,o}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>DD[a]-DD[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const MD=(e,t,r,n=".",a=!0)=>{let s=EZ(e,t,r);return!s&&a&&Et(r)&&(s=P2(e,r,n),s===void 0&&(s=P2(t,r,n))),s},aS=e=>e.replace(/\$/g,"$$$$");class LZ{constructor(t={}){var r;this.logger=Jo.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=t.interpolation;this.escape=r!==void 0?r:AZ,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?If(s):o||"{{",this.suffix=l?If(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?If(h):m||If("$t("),this.nestingSuffix=g?If(g):p||If(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){var m;let s,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const b=MD(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...a,...r,interpolationkey:g}):b}const p=g.split(this.formatSeparator),v=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format(MD(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...a,...r,interpolationkey:v})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=a==null?void 0:a.interpolation)==null?void 0:m.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>aS(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?aS(this.escape(g)):aS(g)}].forEach(g=>{for(l=0;s=g.regex.exec(t);){const p=s[1].trim();if(o=u(p),o===void 0)if(typeof d=="function"){const y=d(t,s,a);o=Et(y)?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,p))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),o="";else!Et(o)&&!this.useRawValueToEscape&&(o=kD(o));const v=g.safeValue(o);if(t=t.replace(s[0],v),f?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,s,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);const m=h.match(/'/g),g=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o={...u,...o})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,p),`${c}${d}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...n},o=o.replace&&!Et(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),s=r(l.call(this,a[1].trim(),o),o),s&&a[0]===t&&!Et(s))return s;Et(s)||(s=kD(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:a[1].trim()}),s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}const $Z=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},FD=e=>{const t={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const o=n+JSON.stringify(s);let l=t[o];return l||(l=e(_g(n),a),t[o]=l),l(r)}},BZ=e=>(t,r,n)=>e(_g(r),n)(t);class UZ{constructor(t={}){this.logger=Jo.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?FD:BZ;this.formats={number:n((a,s)=>{const o=new Intl.NumberFormat(a,{...s});return l=>o.format(l)}),currency:n((a,s)=>{const o=new Intl.NumberFormat(a,{...s,style:"currency"});return l=>o.format(l)}),datetime:n((a,s)=>{const o=new Intl.DateTimeFormat(a,{...s});return l=>o.format(l)}),relativetime:n((a,s)=>{const o=new Intl.RelativeTimeFormat(a,{...s});return l=>o.format(l,s.range||"day")}),list:n((a,s)=>{const o=new Intl.ListFormat(a,{...s});return l=>o.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=FD(r)}format(t,r,n,a={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=$Z(c);if(this.formats[u]){let h=l;try{const m=((f=a==null?void 0:a.formatParams)==null?void 0:f[a.interpolationkey])||{},g=m.locale||m.lng||a.locale||a.lng||n;h=this.formats[u](l,g,{...d,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const zZ=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class VZ extends Aw{constructor(t,r,n,a={}){var s,o;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=Jo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,n,a.backend,a)}queueLoad(t,r,n,a){const s={},o={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,d=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),s=a[0],o=a[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{CZ(c.loaded,[s],o),zZ(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,a=0,s=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:s,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,s*2,o)},s);return}o(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Et(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Et(r)&&(r=[r]);const s=this.queueLoad(t,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,r,n,a,s,o={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const m={...o,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let p;g.length===5?p=g(t,r,n,a,m):p=g(t,r,n,a),p&&typeof p.then=="function"?p.then(v=>l(null,v)).catch(l):l(null,p)}catch(p){l(p)}else g(t,r,n,a,l,m)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const ID=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Et(e[1])&&(t.defaultValue=e[1]),Et(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),LD=e=>{var t,r;return Et(e.ns)&&(e.ns=[e.ns]),Et(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Et(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Wx=()=>{},WZ=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class M0 extends Aw{constructor(t={},r){if(super(),this.options=LD(t),this.services={},this.logger=Jo,this.modules={external:[]},WZ(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Et(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=ID();this.options={...n,...this.options,...LD(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Jo.init(a(this.modules.logger),this.options):Jo.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=UZ;const d=new OD(this.options);this.store=new AD(this.options.resources,this.options);const f=this.services;f.logger=Jo,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new IZ(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new LZ(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new VZ(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new k1(this.services,this.options),this.translator.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Wx),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=Hp(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=Wx){var s,o;let n=r;const a=Et(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,r,n){const a=Hp();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=Wx),this.services.backendConnector.reload(t,r,s=>{a.resolve(),n(s)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&I6.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=Hp();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},o=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Et(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Et(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),n}getFixedT(t,r,n){const a=(s,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([s,o].concat(l)):c={...o},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(f=>(typeof f=="function"&&(f=O2(f,{...this.options,...o})),`${c.keyPrefix}${u}${f}`)):(typeof s=="function"&&(s=O2(s,{...this.options,...o})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return Et(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!a||o(s,t)))}loadNamespaces(t,r){const n=Hp();return this.options.ns?(Et(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Hp();Et(t)&&(t=[t]);const a=this.options.preload||[],s=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=a.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){var a,s;if(t||(t=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new OD(ID());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new M0(t,r);return n.createInstance=M0.createInstance,n}cloneInstance(t={},r=Wx){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},s=new M0(a);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});s.store=new AD(l,a),s.services.resourceStore=s.store}return s.translator=new k1(s.services,a),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Wr=M0.createInstance();Wr.createInstance;Wr.dir;Wr.init;Wr.loadResources;Wr.reloadResources;Wr.use;Wr.changeLanguage;Wr.getFixedT;Wr.t;Wr.exists;Wr.setDefaultNamespace;Wr.hasLoadedNamespace;Wr.loadNamespaces;Wr.loadLanguages;const HZ=(e,t,r,n)=>{var s,o,l,c;const a=[r,{code:t,...n||{}}];if((o=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&o.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);Gd(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},$D={},$6=(e,t,r,n)=>{Gd(r)&&$D[r]||(Gd(r)&&($D[r]=new Date),HZ(e,t,r,n))},B6=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},D2=(e,t,r)=>{e.loadNamespaces(t,B6(e,r))},BD=(e,t,r,n)=>{if(Gd(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return D2(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,B6(e,n))},qZ=(e,t,r={})=>!t.languages||!t.languages.length?($6(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),Gd=e=>typeof e=="string",GZ=e=>typeof e=="object"&&e!==null,KZ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,YZ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},XZ=e=>YZ[e],QZ=e=>e.replace(KZ,XZ);let R2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:QZ};const JZ=(e={})=>{R2={...R2,...e}},ZZ=()=>R2;let U6;const eee=e=>{U6=e},tee=()=>U6,ree={type:"3rdParty",init(e){JZ(e.options.react),eee(e)}},z6=x.createContext();class nee{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var V6={exports:{}},W6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm=x;function aee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var see=typeof Object.is=="function"?Object.is:aee,iee=cm.useState,oee=cm.useEffect,lee=cm.useLayoutEffect,cee=cm.useDebugValue;function uee(e,t){var r=t(),n=iee({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return lee(function(){a.value=r,a.getSnapshot=t,sS(a)&&s({inst:a})},[e,r,t]),oee(function(){return sS(a)&&s({inst:a}),e(function(){sS(a)&&s({inst:a})})},[e]),cee(r),r}function sS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!see(e,r)}catch{return!0}}function dee(e,t){return t()}var fee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dee:uee;W6.useSyncExternalStore=cm.useSyncExternalStore!==void 0?cm.useSyncExternalStore:fee;V6.exports=W6;var H6=V6.exports;const hee=(e,t)=>Gd(t)?t:GZ(t)&&Gd(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,mee={t:hee,ready:!1},pee=()=>()=>{},At=(e,t={})=>{var N,C;const{i18n:r}=t,{i18n:n,defaultNS:a}=x.useContext(z6)||{},s=r||n||tee();s&&!s.reportNamespaces&&(s.reportNamespaces=new nee),s||$6(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=x.useMemo(()=>{var k;return{...ZZ(),...(k=s==null?void 0:s.options)==null?void 0:k.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=o,u=x.useMemo(()=>{var E;const k=a||((E=s==null?void 0:s.options)==null?void 0:E.defaultNS);return Gd(k)?[k]:k||["translation"]},[e,a,s]);(C=(N=s==null?void 0:s.reportNamespaces)==null?void 0:N.addUsedNamespaces)==null||C.call(N,u);const d=x.useRef(0),f=x.useCallback(k=>{if(!s)return pee;const{bindI18n:E,bindI18nStore:O}=o,T=()=>{d.current+=1,k()};return E&&s.on(E,T),O&&s.store.on(O,T),()=>{E&&E.split(" ").forEach(U=>s.off(U,T)),O&&O.split(" ").forEach(U=>s.store.off(U,T))}},[s,o]),h=x.useRef(),m=x.useCallback(()=>{if(!s)return mee;const k=!!(s.isInitialized||s.initializedStoreOnce)&&u.every(R=>qZ(R,s,o)),E=t.lng||s.language,O=d.current,T=h.current;if(T&&T.ready===k&&T.lng===E&&T.keyPrefix===c&&T.revision===O)return T;const W={t:s.getFixedT(E,o.nsMode==="fallback"?u:u[0],c),ready:k,lng:E,keyPrefix:c,revision:O};return h.current=W,W},[s,u,c,o,t.lng]),[g,p]=x.useState(0),{t:v,ready:y}=H6.useSyncExternalStore(f,m,m);x.useEffect(()=>{if(s&&!y&&!l){const k=()=>p(E=>E+1);t.lng?BD(s,t.lng,u,k):D2(s,u,k)}},[s,t.lng,u,y,l,g]);const b=s||{},w=x.useRef(null),j=x.useRef(),_=k=>{const E=Object.getOwnPropertyDescriptors(k);E.__original&&delete E.__original;const O=Object.create(Object.getPrototypeOf(k),E);if(!Object.prototype.hasOwnProperty.call(O,"__original"))try{Object.defineProperty(O,"__original",{value:k,writable:!1,enumerable:!1,configurable:!1})}catch{}return O},S=x.useMemo(()=>{const k=b,E=k==null?void 0:k.language;let O=k;k&&(w.current&&w.current.__original===k?j.current!==E?(O=_(k),w.current=O,j.current=E):O=w.current:(O=_(k),w.current=O,j.current=E));const T=[v,O,y];return T.t=v,T.i18n=O,T.ready=y,T},[v,b,y,b.resolvedLanguage,b.language,b.languages]);if(s&&l&&!y)throw new Promise(k=>{const E=()=>k();t.lng?BD(s,t.lng,u,E):D2(s,u,E)});return S};function gee({i18n:e,defaultNS:t,children:r}){const n=x.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return x.createElement(z6.Provider,{value:n},r)}const vee={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",whatsapp:"WhatsApp",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",reports:"Reports",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System",permissions:"Permissions"},xee={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},yee={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},bee={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to access your account",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Logging in...",signInButton:"Login",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",noAccount:"Don't have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google",welcomeBack:"Welcome Back",emailOrUsername:"Email / Username",enterEmail:"Enter your email",enterPassword:"Enter your password",companyCode:"Company Code",forgotPassword:"Forgot your password?",forgotPasswordDesc:"Please contact your administrator to reset your password.",loginSuccess:"Logged in successfully",loginFailed:"Failed to login. Please check your credentials.",loginFailedTitle:"Login Failed"},wee={welcome:"Welcome",loading:"Loading...",export:"Export",error:"Error",success:"Success",search:"Search",filter:"Filter",filters:"Filters",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of"},_ee={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},jee={title:"Dashboard",subtitle:"Welcome to your CRM dashboard",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"active projects",clients:"Clients",totalClients:"total clients",teamMembers:"Team Members",activeUsers:"active users",leads:"Leads",totalLeads:"total leads",surveys:"Surveys",totalSurveys:"total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",noClient:"No client",mleadsTrend:"MLeads Trend (Last 30 Days)",recentMLeads:"Recent MLeads",companyName:"Company",contactPerson:"Contact Person",email:"Email",phone:"Phone",status:"Status",createdAt:"Created At",noMLeads:"No MLeads found",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},See={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},Nee={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},kee={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",dueDate:"Due Date",stage:"Stage",manager:"Manager",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},Cee={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},Eee={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",loadingMembers:"Loading members...",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},Tee={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",allTypes:"All Types",allStages:"All Stages",noTicketsInPage:"No tickets in this page",stage:"Stage",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},Aee={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},Pee={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",description:"Description",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",totalTasks:"Total Tasks",status:"Status",assignedTo:"Assigned To",noTasksYet:"No tasks have been created yet."},Oee={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},Dee={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",partner_leader:"Partner Leader",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},Ree={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},Mee={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},Fee={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},Iee={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",surveyName:"Survey Name",bulkImport:"Bulk Import",selectTemplateForImport:"Select a template to import surveys into",uploadFile:"Upload your Excel file",reviewData:"Review and map your data",importingData:"Importing your data...",importInstructions:"Import Instructions:",importInstruction1:"File must be in Excel (.xlsx, .xls) or CSV format",importInstruction2:"First row should contain column headers",importInstruction3:"Column headers should match template field names",dragDropFile:"Drag and drop your file here, or",selectFile:"Select File",fileEmpty:"The uploaded file is empty",fileParseError:"Failed to parse the file. Please check the format and try again.",validationErrors:"Validation Errors Found",requiredFieldNotFound:"Required field {{field}} not found in file",requiredFieldNotMapped:"Required field {{field}} is not mapped",columnMapping:"Column Mapping",required:"Required",notMapped:"Not Mapped",optional:"Optional",noTemplateSelected:"No template selected",previewFirstRows:"Preview First {{count}} Rows",showingRows:"Showing {{shown}} of {{total}} rows",startImport:"Start Import",processingRows:"Processing",importSuccess:"Successfully imported {{count}} surveys",importFailed:"Failed to import surveys",createdDate:"Created Date",deleteSurvey:"Delete Survey",deleteSurveyConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",setAsDefault:"Set as Default",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",noResponsesRecorded:"No responses recorded",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},Lee={company:"Company",city:"City",country:"Country",activity:"Activity",distributionCharts:"Distribution Charts",timeline:"Timeline",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",addNewLead:"+ Add New Lead",filterLeads:"Filter Leads",applyFilters:"Apply Filters",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",quotation:"Quotation",viewQuotation:"View Quotation",editLeadDescription:"Edit lead information and details",createLeadDescription:"Add a new lead to the system",leadDetailsDescription:"View and manage lead details and information",reports:"Reports",selectReport:"Select Report",leadsSummaryReport:"Leads Summary Report",leadsByCityReport:"Leads by City Report",leadsConversionReport:"Leads Conversion Report",salesPerformanceReport:"Sales Performance Report",leadsTrendReport:"Leads Trend Report",reportParameters:"Report Parameters",runReport:"Run Report",reportResults:"Report Results",records:"records",allActivities:"All Activities",allSystems:"All Systems",startDate:"Start Date",endDate:"End Date",totalLeads:"Total Leads",wonLeads:"Won Leads",lostLeads:"Lost Leads",leadsByCity:"Leads by City",salesPerformance:"Sales Performance",wonDeals:"Won Deals",lostDeals:"Lost Deals",pendingLeads:"Pending Leads",uploadQuotation:"Upload Quotation",description:"Description",decisionMaker:"Decision Maker",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",searchPlaceholder:"Search by company or address",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},$ee={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",viewContract:"View Contract",editProjectDescription:"Edit project information and details",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",searchPlaceholder:"Search by company, addresses or contract code",notStarted:"Not Started",inProgress:"In Progress",completed:"Completed",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},Bee={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},Uee={title:"Reports",subtitle:"Manage and track all your reports in one place.",loading:"Loading...",description:"Description",createNew:"Create New Report",createNewTitle:"Create New Report",createNewDesc:"Create a new report and assign a team leader. You can add members after creation.",reportName:"Report Name",reportNamePlaceholder:"Enter report name",reportLeader:"Report Leader",selectReportLeader:"Select report leader (optional)",created:"Created",noReportsFound:"No reports found",noReportsYet:"No reports yet",createFirstReport:"Create your first report",deleteReport:"Delete Report",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all report members. This action cannot be undone.',moreReports:"+{{count}} more reports",list:"List",create:"Create",schedule:"Schedule",addReport:"Add Report",addReportDesc:"Add a new report to the selected stage.",reportDetails:"Report Details",createdBy:"Created By",lastModified:"Last Modified",searchReports:"Search reports...",noReports:"No reports",titleArPlaceholder:"Enter report title in Arabic",descriptionPlaceholder:"Enter report description",selectType:"Select report type",titleEnPlaceholder:"Enter report title in English",noReportsDesc:"No reports in this folder.",titleEn:"Title (English)",titleAr:"Title (Arabic)",descriptionEn:"Description (English)",descriptionAr:"Description (Arabic)",reportType:"Report Type",createReport:"Create Report",scheduling:"Scheduling",comingSoon:"Coming Soon",schedulingDesc:"Report scheduling feature is under development and will be available soon.",errorLoading:"Failed to load reports",downloadSuccess:"Report downloaded successfully",exportError:"Failed to export report",parameters:"Parameters",executing:"Executing...",executeReport:"Execute Report",results:"Results",records:"records",exportCSV:"Export CSV",types:{summary:"Summary",analytics:"Analytics",trend:"Trend",conversion:"Conversion",performance:"Performance"}},zee={navigation:vee,buttons:xee,forms:yee,auth:bee,common:wee,status:_ee,dashboard:jee,leads:See,notes:Nee,projects:kee,settings:Cee,chat:Eee,tickets:Tee,teams:Aee,tasks:Pee,landing:Oee,users:Dee,clients:Ree,employeeDashboard:Mee,chats:Fee,surveys:Iee,mleads:Lee,mprojects:$ee,requests:Bee,reports:Uee},Vee={home:"",dashboard:" ",projects:"",whatsapp:"",reports:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestGroup:"",requestsGroup:"",requests:"",systemGroup:"",permissions:""},Wee={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},Hee={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},qee={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",companyCode:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    ",emailOrUsername:"  /  ",enterEmail:"  ",enterPassword:"  ",loginSuccess:"   ",loginFailed:"  .    .",loginFailedTitle:"  "},Gee={welcome:"",retry:" ",comingSoon:"",loading:" ...",filters:"",export:"",error:"",success:"",add:"",edit:"",delete:"",create:"",update:"",save:"",cancel:"",confirm:"",close:"",submit:"",back:"",next:"",previous:"",first:"",last:"",noData:"   ",noResults:"    ",noItems:"   ",noRecords:"    ",noRecordsFound:"    ",noMatches:"    ",search:"",filter:"",notifications:"",kanban:"",list:"",select:"",view:"",status:"",assignee:" ",all:"",pickDate:" ",clearFilters:" ",created:" ",actions:"",stage:"",priority:"",veryLow:" ",low:"",medium:"",high:"",veryHigh:" ",overview:" ",unassigned:" ",page:"",of:""},Kee={fillAllFields:"   ",required:"",invalidEmail:"   ",passwordTooShort:"   ",passwordsNotMatch:"   "},Yee={title:"   ",subtitle:"     ",comingSoonMessage:"       ."},Xee={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},Qee={title:" ",noClient:"  ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},Jee={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},Zee={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},ete={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",dueDate:" ",stage:"",manager:"",total:" ",inProgress:" ",completed:"",avgProgress:" ",deleteComment:" ",deleteCommentConfirmation:"       "},tte={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",loadingMembers:"  ...",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},rte={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",allTypes:" ",allStages:" ",noTicketsInPage:"     ",stage:"",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},nte={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},ate={title:"",subtitle:"      .",loading:" ...",description:"",createNew:"  ",createNewTitle:"  ",createNewDesc:"     .     .",reportName:" ",reportNamePlaceholder:"  ",reportLeader:" ",selectReportLeader:"   ()",created:" ",noReportsFound:"  ",noReportsYet:"   ",createFirstReport:"  ",deleteReport:" ",deleteConfirmation:'      "{{name}}"        .      .',moreReports:"+{{count}}  ",list:"",create:"",schedule:"",addReport:" ",addReportDesc:"     .",reportDetails:" ",createdBy:"  ",lastModified:" ",searchReports:"  ...",noReports:"  ",titleArPlaceholder:"   ",descriptionPlaceholder:"  ",selectType:"  ",titleEnPlaceholder:"   ",noReportsDesc:"     .",titleEn:" ",titleAr:" ",descriptionEn:" ",descriptionAr:" ",reportType:" ",createReport:" ",scheduling:"",comingSoon:"",schedulingDesc:"       .",errorLoading:"   ",downloadSuccess:"   ",exportError:"   ",parameters:"",executing:" ...",executeReport:" ",results:"",records:"",exportCSV:" CSV",types:{summary:"",analytics:"",trend:"",conversion:"",performance:""}},ste={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",totalTasks:" ",status:"",assignedTo:" ",noTasksYet:"     ."},ite={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},ote={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},lte={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},cte={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},ute={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",minutesAgo:" {{count}} ",hoursAgo:" {{count}} ",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},dte={title:"",subtitle:"    ",fileEmpty:" ",fileParseError:"   ",requiredFieldNotFound:"   : {{field}}",requiredFieldNotMapped:"   : {{field}}",importSuccess:"  {{count}}  ",importFailed:" ",selectTemplateForImport:"  ",uploadFile:"  Excel  CSV  ",reviewData:"   ",importingData:"  ...",importInstructions:" ",importInstruction1:"        ",importInstruction2:"       ",importInstruction3:" : Excel (.xlsx, .xls)  CSV",dragDropFile:"   ",selectFile:" ",validationErrors:" ",columnMapping:" ",required:"",notMapped:" ",optional:"",noTemplateSelected:"   ",previewFirstRows:" ( {{count}} )",showingRows:"  {{shown}}  {{total}} ",processingRows:" ",startImport:" ",surveys:"",templates:"",totalSurveys:" ",deleteSurvey:" ",deleteSurveyConfirmation:'      "{{name}}"      .',createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",setAsDefault:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",surveyName:" ",surveyNameAr:"  ",createdDate:" ",bulkImport:" ",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",noResponsesRecorded:"    ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",editTemplateTitle:" ",updateTemplate:" ",deleteTemplate:" ",deleteTemplateConfirmation:'      "{{name}}"      .',templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},fte={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},hte={company:"",city:"",country:"",activity:"",addNewLead:"   ",leads:" ",leadManagement:"  ",leadOverview:"    ",filters:"",distributionCharts:"  ",timeline:" ",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",quotation:"",viewQuotation:" ",editLeadDescription:"   ",createLeadDescription:"    ",leadDetailsDescription:"    ",reports:"",selectReport:" ",leadsSummaryReport:"   ",leadsByCityReport:"    ",leadsConversionReport:"   ",salesPerformanceReport:"  ",leadsTrendReport:"   ",reportParameters:" ",runReport:" ",reportResults:" ",records:"",allActivities:" ",allSystems:" ",startDate:" ",endDate:" ",totalLeads:"  ",wonLeads:" ",lostLeads:" ",leadsByCity:"   ",salesPerformance:" ",wonDeals:" ",lostDeals:" ",pendingLeads:"  ",uploadQuotation:" ",noContactsFound:"     ",allCountries:" ",allUsers:" ",clearFilters:" ",decisionMaker:"  ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchPlaceholder:"   ",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",allStages:" ",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",createdBy:"  ",description:"",createLead:"  ",editlead:"  ",firstName:" ",lastName:" ",showLead:" ",hideLead:" "},mte={masterProjects:" ",manageMasterProjectsData:"   ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",viewContract:" ",contactName:"  ",email:" ",mobile:" ",projectName:" ",description:"",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",searchPlaceholder:"     ",notStarted:" ",inProgress:" ",completed:"",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},pte={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},gte={navigation:Vee,buttons:Wee,forms:Hee,auth:qee,common:Gee,validation:Kee,partnerEmployeeDashboard:Yee,status:Xee,dashboard:Qee,leads:Jee,notes:Zee,projects:ete,chat:tte,tickets:rte,teams:nte,reports:ate,tasks:ste,landing:ite,users:ote,clients:lte,employeeDashboard:cte,chats:ute,surveys:dte,settings:fte,mleads:hte,mprojects:mte,requests:pte},vte={en:{translation:zee},ar:{translation:gte}};Wr.use(ree).init({resources:vte,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const Oe=(e,t)=>{if(Wr.language==="ar"){const a=`${t}_ar`;if(e[a]&&e[a].trim())return e[a]}if(e[t]&&e[t].trim())return e[t];const n=`${t}_ar`;return e[n]&&e[n].trim()?e[n]:""},sc=(e,t)=>{const r=Wr.language,n={...e};return Object.entries(t).forEach(([a,s])=>{r==="ar"?(n[`${s}_ar`]=e[a],n[s]=e[a]):(n[s]=e[a],n[`${s}_ar`]=e[a])}),n},iS=()=>Wr.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jg.apply(this,arguments)}var au;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(au||(au={}));const UD="popstate";function xte(e){e===void 0&&(e={});function t(a,s){let{pathname:o="/",search:l="",hash:c=""}=yf(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),M2("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:C1(s))}function n(a,s){oT(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return bte(t,r,n,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oT(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yte(){return Math.random().toString(36).substr(2,8)}function zD(e,t){return{usr:e.state,key:e.key,idx:t}}function M2(e,t,r,n){return r===void 0&&(r=null),jg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yf(t):t,{state:r,key:t&&t.key||n||yte()})}function C1(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function bte(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=au.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(jg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=au.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:y})}function h(v,y){l=au.Push;let b=M2(p.location,v,y);r&&r(b,v),u=d()+1;let w=zD(b,u),j=p.createHref(b);try{o.pushState(w,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(j)}s&&c&&c({action:l,location:p.location,delta:1})}function m(v,y){l=au.Replace;let b=M2(p.location,v,y);r&&r(b,v),u=d();let w=zD(b,u),j=p.createHref(b);o.replaceState(w,"",j),s&&c&&c({action:l,location:p.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:C1(v);return b=b.replace(/ $/,"%20"),ln(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(UD,f),c=v,()=>{a.removeEventListener(UD,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var VD;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(VD||(VD={}));function wte(e,t,r){return r===void 0&&(r="/"),_te(e,t,r,!1)}function _te(e,t,r,n){let a=typeof t=="string"?yf(t):t,s=lT(a.pathname||"/",r);if(s==null)return null;let o=q6(e);jte(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Rte(s);l=Ote(o[c],u,n)}return l}function q6(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ln(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=bu([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(ln(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),q6(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Ate(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of G6(s.path))a(s,o,c)}),t}function G6(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=G6(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function jte(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Pte(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ste=/^:[\w-]+$/,Nte=3,kte=2,Cte=1,Ete=10,Tte=-2,WD=e=>e==="*";function Ate(e,t){let r=e.split("/"),n=r.length;return r.some(WD)&&(n+=Tte),t&&(n+=kte),r.filter(a=>!WD(a)).reduce((a,s)=>a+(Ste.test(s)?Nte:s===""?Cte:Ete),n)}function Pte(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Ote(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=HD({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=HD({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:bu([s,f.pathname]),pathnameBase:Lte(bu([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=bu([s,f.pathnameBase]))}return o}function HD(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Dte(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Dte(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),oT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Rte(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lT(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Mte(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?yf(e):e;return{pathname:r?r.startsWith("/")?r:Fte(r,t):t,search:$te(n),hash:Bte(a)}}function Fte(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function oS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ite(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function cT(e,t){let r=Ite(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uT(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=yf(e):(a=jg({},e),ln(!a.pathname||!a.pathname.includes("?"),oS("?","pathname","search",a)),ln(!a.pathname||!a.pathname.includes("#"),oS("#","pathname","hash",a)),ln(!a.search||!a.search.includes("#"),oS("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Mte(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const bu=e=>e.join("/").replace(/\/\/+/g,"/"),Lte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$te=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Bte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ute(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const K6=["post","put","patch","delete"];new Set(K6);const zte=["get",...K6];new Set(zte);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}const dT=x.createContext(null),Vte=x.createContext(null),$u=x.createContext(null),Pw=x.createContext(null),yl=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Y6=x.createContext(null);function Wte(e,t){let{relative:r}=t===void 0?{}:t;op()||ln(!1);let{basename:n,navigator:a}=x.useContext($u),{hash:s,pathname:o,search:l}=Q6(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:bu([n,o])),a.createHref({pathname:c,search:l,hash:s})}function op(){return x.useContext(Pw)!=null}function bl(){return op()||ln(!1),x.useContext(Pw).location}function X6(e){x.useContext($u).static||x.useLayoutEffect(e)}function Ms(){let{isDataRoute:e}=x.useContext(yl);return e?ire():Hte()}function Hte(){op()||ln(!1);let e=x.useContext(dT),{basename:t,future:r,navigator:n}=x.useContext($u),{matches:a}=x.useContext(yl),{pathname:s}=bl(),o=JSON.stringify(cT(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return X6(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=uT(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bu([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}const qte=x.createContext(null);function Gte(e){let t=x.useContext(yl).outlet;return t&&x.createElement(qte.Provider,{value:e},t)}function Kte(){let{matches:e}=x.useContext(yl),t=e[e.length-1];return t?t.params:{}}function Q6(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext($u),{matches:a}=x.useContext(yl),{pathname:s}=bl(),o=JSON.stringify(cT(a,n.v7_relativeSplatPath));return x.useMemo(()=>uT(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function Yte(e,t){return Xte(e,t)}function Xte(e,t,r,n){op()||ln(!1);let{navigator:a}=x.useContext($u),{matches:s}=x.useContext(yl),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=bl(),d;if(t){var f;let v=typeof t=="string"?yf(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||ln(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=wte(e,{pathname:m}),p=tre(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:bu([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:bu([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&p?x.createElement(Pw.Provider,{value:{location:Sg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:au.Pop}},p):p}function Qte(){let e=sre(),t=Ute(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const Jte=x.createElement(Qte,null);class Zte extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(yl.Provider,{value:this.props.routeContext},x.createElement(Y6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ere(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(dT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(yl.Provider,{value:t},n)}function tre(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ln(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Jte,c&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),b=()=>{let w;return m?w=p:g?w=v:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(ere,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(Zte,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var J6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(J6||{}),E1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(E1||{});function rre(e){let t=x.useContext(dT);return t||ln(!1),t}function nre(e){let t=x.useContext(Vte);return t||ln(!1),t}function are(e){let t=x.useContext(yl);return t||ln(!1),t}function Z6(e){let t=are(),r=t.matches[t.matches.length-1];return r.route.id||ln(!1),r.route.id}function sre(){var e;let t=x.useContext(Y6),r=nre(E1.UseRouteError),n=Z6(E1.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ire(){let{router:e}=rre(J6.UseNavigateStable),t=Z6(E1.UseNavigateStable),r=x.useRef(!1);return X6(()=>{r.current=!0}),x.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Sg({fromRouteId:t},s)))},[e,t])}function ore(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $y(e){let{to:t,replace:r,state:n,relative:a}=e;op()||ln(!1);let{future:s,static:o}=x.useContext($u),{matches:l}=x.useContext(yl),{pathname:c}=bl(),u=Ms(),d=uT(t,cT(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function qD(e){return Gte(e.context)}function _r(e){ln(!1)}function lre(e){let{basename:t="/",children:r=null,location:n,navigationType:a=au.Pop,navigator:s,static:o=!1,future:l}=e;op()&&ln(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:o,future:Sg({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=yf(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=x.useMemo(()=>{let v=lT(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return p==null?null:x.createElement($u.Provider,{value:u},x.createElement(Pw.Provider,{children:r,value:p}))}function cre(e){let{children:t,location:r}=e;return Yte(F2(t),r)}new Promise(()=>{});function F2(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,F2(n.props.children,s));return}n.type!==_r&&ln(!1),!n.props.index||!n.props.children||ln(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=F2(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I2(){return I2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I2.apply(this,arguments)}function ure(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function dre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fre(e,t){return e.button===0&&(!t||t==="_self")&&!dre(e)}const hre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mre="6";try{window.__reactRouterVersion=mre}catch{}const pre="startTransition",GD=dE[pre];function gre(e){let{basename:t,children:r,future:n,window:a}=e,s=x.useRef();s.current==null&&(s.current=xte({window:a,v5Compat:!0}));let o=s.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&GD?GD(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>ore(n),[n]),x.createElement(lre,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const vre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L2=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=ure(t,hre),{basename:m}=x.useContext($u),g,p=!1;if(typeof u=="string"&&xre.test(u)&&(g=u,vre))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=lT(j.pathname,m);j.origin===w.origin&&_!=null?u=_+j.search+j.hash:p=!0}catch{}let v=Wte(u,{relative:a}),y=yre(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return x.createElement("a",I2({},h,{href:g||v,onClick:p||s?n:b,ref:r,target:c}))});var KD;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(KD||(KD={}));var YD;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(YD||(YD={}));function yre(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ms(),u=bl(),d=Q6(e,{relative:o});return x.useCallback(f=>{if(fre(f,r)){f.preventDefault();let h=n!==void 0?n:C1(u)===C1(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}function Tt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ps(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Va(e,t){const r=Tt(e);return isNaN(t)?Ps(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function bo(e,t){const r=Tt(e);if(isNaN(t))return Ps(e,NaN);if(!t)return r;const n=r.getDate(),a=Ps(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const fT=6048e5,bre=864e5,Hx=43200,XD=1440;let wre={};function lp(){return wre}function ul(e,t){var l,c,u,d;const r=lp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Tt(e),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Kd(e){return ul(e,{weekStartsOn:1})}function eB(e){const t=Tt(e),r=t.getFullYear(),n=Ps(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Kd(n),s=Ps(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Kd(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function um(e){const t=Tt(e);return t.setHours(0,0,0,0),t}function dm(e){const t=Tt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Zo(e,t){const r=um(e),n=um(t),a=+r-dm(r),s=+n-dm(n);return Math.round((a-s)/bre)}function _re(e){const t=eB(e),r=Ps(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Kd(r)}function $2(e,t){const r=t*7;return Va(e,r)}function jre(e,t){return bo(e,t*12)}function Sre(e){let t;return e.forEach(function(r){const n=Tt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Nre(e){let t;return e.forEach(r=>{const n=Tt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function By(e,t){const r=Tt(e),n=Tt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function kre(e){return Ps(e,Date.now())}function js(e,t){const r=um(e),n=um(t);return+r==+n}function hT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Cre(e){if(!hT(e)&&typeof e!="number")return!1;const t=Tt(e);return!isNaN(Number(t))}function fm(e,t){const r=Tt(e),n=Tt(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Ere(e,t,r){const n=ul(e,r),a=ul(t,r),s=+n-dm(n),o=+a-dm(a);return Math.round((s-o)/fT)}function Tre(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Are(e,t){return+Tt(e)-+Tt(t)}function Pre(e){const t=Tt(e);return t.setHours(23,59,59,999),t}function Ow(e){const t=Tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ore(e){const t=Tt(e);return+Pre(t)==+Ow(t)}function Dre(e,t){const r=Tt(e),n=Tt(t),a=By(r,n),s=Math.abs(fm(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=By(r,n)===-a;Ore(Tt(e))&&s===1&&By(e,n)===1&&(l=!1),o=a*(s-Number(l))}return o===0?0:o}function Rre(e,t,r){const n=Are(e,t)/1e3;return Tre(r==null?void 0:r.roundingMethod)(n)}function Es(e){const t=Tt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function tB(e){const t=Tt(e),r=Ps(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function mT(e,t){var l,c,u,d;const r=lp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Tt(e),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function rB(e){return mT(e,{weekStartsOn:1})}const Mre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fre=(e,t,r)=>{let n;const a=Mre[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ph(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ire={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$re={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bre={date:Ph({formats:Ire,defaultWidth:"full"}),time:Ph({formats:Lre,defaultWidth:"full"}),dateTime:Ph({formats:$re,defaultWidth:"full"})},Ure={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zre=(e,t,r,n)=>Ure[e];function Go(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Vre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Xre={ordinalNumber:Yre,era:Go({values:Vre,defaultWidth:"wide"}),quarter:Go({values:Wre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Go({values:Hre,defaultWidth:"wide"}),day:Go({values:qre,defaultWidth:"wide"}),dayPeriod:Go({values:Gre,defaultWidth:"wide",formattingValues:Kre,defaultFormattingWidth:"wide"})};function Ko(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Jre(l,f=>f.test(o)):Qre(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Qre(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Jre(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function nB(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Zre=/^(\d+)(th|st|nd|rd)?/i,ene=/\d+/i,tne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rne={any:[/^b/i,/^(a|c)/i]},nne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ane={any:[/1/i,/2/i,/3/i,/4/i]},sne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ine={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},one={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},une={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dne={ordinalNumber:nB({matchPattern:Zre,parsePattern:ene,valueCallback:e=>parseInt(e,10)}),era:Ko({matchPatterns:tne,defaultMatchWidth:"wide",parsePatterns:rne,defaultParseWidth:"any"}),quarter:Ko({matchPatterns:nne,defaultMatchWidth:"wide",parsePatterns:ane,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ko({matchPatterns:sne,defaultMatchWidth:"wide",parsePatterns:ine,defaultParseWidth:"any"}),day:Ko({matchPatterns:one,defaultMatchWidth:"wide",parsePatterns:lne,defaultParseWidth:"any"}),dayPeriod:Ko({matchPatterns:cne,defaultMatchWidth:"any",parsePatterns:une,defaultParseWidth:"any"})},pT={code:"en-US",formatDistance:Fre,formatLong:Bre,formatRelative:zre,localize:Xre,match:dne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fne(e){const t=Tt(e);return Zo(t,tB(t))+1}function aB(e){const t=Tt(e),r=+Kd(t)-+_re(t);return Math.round(r/fT)+1}function sB(e,t){var d,f,h,m;const r=Tt(e),n=r.getFullYear(),a=lp(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ps(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=ul(o,t),c=Ps(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=ul(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function hne(e,t){var l,c,u,d;const r=lp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=sB(e,t),s=Ps(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),ul(s,t)}function iB(e,t){const r=Tt(e),n=+ul(r,t)-+hne(r,t);return Math.round(n/fT)+1}function gr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Pc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return gr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):gr(r+1,2)},d(e,t){return gr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return gr(e.getHours()%12||12,t.length)},H(e,t){return gr(e.getHours(),t.length)},m(e,t){return gr(e.getMinutes(),t.length)},s(e,t){return gr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return gr(a,t.length)}},Lf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QD={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Pc.y(e,t)},Y:function(e,t,r,n){const a=sB(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return gr(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):gr(s,t.length)},R:function(e,t){const r=eB(e);return gr(r,t.length)},u:function(e,t){const r=e.getFullYear();return gr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return gr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return gr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Pc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return gr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=iB(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):gr(a,t.length)},I:function(e,t,r){const n=aB(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):gr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Pc.d(e,t)},D:function(e,t,r){const n=fne(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):gr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return gr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return gr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return gr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Lf.noon:n===0?a=Lf.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Lf.evening:n>=12?a=Lf.afternoon:n>=4?a=Lf.morning:a=Lf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Pc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Pc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):gr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):gr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Pc.s(e,t)},S:function(e,t){return Pc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ZD(n);case"XXXX":case"XX":return rd(n);case"XXXXX":case"XXX":default:return rd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return ZD(n);case"xxxx":case"xx":return rd(n);case"xxxxx":case"xxx":default:return rd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+JD(n,":");case"OOOO":default:return"GMT"+rd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+JD(n,":");case"zzzz":default:return"GMT"+rd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return gr(n,t.length)},T:function(e,t,r){const n=e.getTime();return gr(n,t.length)}};function JD(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+gr(s,2)}function ZD(e,t){return e%60===0?(e>0?"-":"+")+gr(Math.abs(e)/60,2):rd(e,t)}function rd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=gr(Math.trunc(n/60),2),s=gr(n%60,2);return r+a+t+s}const eR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},oB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},mne=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return eR(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",eR(n,t)).replace("{{time}}",oB(a,t))},pne={p:oB,P:mne},gne=/^D+$/,vne=/^Y+$/,xne=["D","DD","YY","YYYY"];function yne(e){return gne.test(e)}function bne(e){return vne.test(e)}function wne(e,t,r){const n=_ne(e,t,r);if(console.warn(n),xne.includes(e))throw new RangeError(n)}function _ne(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nne=/^'([^]*?)'?$/,kne=/''/g,Cne=/[a-zA-Z]/;function ts(e,t,r){var d,f,h,m,g,p,v,y;const n=lp(),a=(r==null?void 0:r.locale)??n.locale??pT,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=Tt(e);if(!Cre(l))throw new RangeError("Invalid time value");let c=t.match(Sne).map(b=>{const w=b[0];if(w==="p"||w==="P"){const j=pne[w];return j(b,a.formatLong)}return b}).join("").match(jne).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:Ene(b)};if(QD[w])return{isToken:!0,value:b};if(w.match(Cne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&bne(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&yne(w))&&wne(w,t,String(e));const j=QD[w[0]];return j(l,w,a.localize,u)}).join("")}function Ene(e){const t=e.match(Nne);return t?t[1].replace(kne,"'"):e}function Tne(e,t,r){const n=lp(),a=(r==null?void 0:r.locale)??n.locale??pT,s=2520,o=By(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Tt(t),u=Tt(e)):(c=Tt(e),u=Tt(t));const d=Rre(u,c),f=(dm(u)-dm(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<XD){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<Hx){const g=Math.round(h/XD);return a.formatDistance("xDays",g,l)}else if(h<Hx*2)return m=Math.round(h/Hx),a.formatDistance("aboutXMonths",m,l)}if(m=Dre(u,c),m<12){const g=Math.round(h/Hx);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function Ane(e,t){return Tne(e,kre(e),t)}function Pne(e){const t=Tt(e),r=t.getFullYear(),n=t.getMonth(),a=Ps(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function One(e){return Math.trunc(+Tt(e)/1e3)}function Dne(e){const t=Tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Rne(e,t){return Ere(Dne(e),Es(e),t)+1}function B2(e,t){const r=Tt(e),n=Tt(t);return r.getTime()>n.getTime()}function lB(e,t){const r=Tt(e),n=Tt(t);return+r<+n}function gT(e,t){const r=Tt(e),n=Tt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Mne(e,t){const r=Tt(e),n=Tt(t);return r.getFullYear()===n.getFullYear()}function lS(e,t){return Va(e,-t)}function cS(e,t){const r=Tt(e),n=r.getFullYear(),a=r.getDate(),s=Ps(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const o=Pne(s);return r.setMonth(t,Math.min(a,o)),r}function tR(e,t){const r=Tt(e);return isNaN(+r)?Ps(e,NaN):(r.setFullYear(t),r)}function rR(e){if(!e)return e;if(typeof e=="string")try{const t=new Date(e);return isNaN(t.getTime())?e:ts(t,"yyyy-MM-dd HH:mm:ss")}catch{return e}return e instanceof Date?ts(e,"yyyy-MM-dd HH:mm:ss"):e}function U2(e){if(e==null)return e;if(e instanceof Date)return rR(e);if(Array.isArray(e))return e.map(t=>U2(t));if(typeof e=="object"){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r.toLowerCase().includes("date")||r.toLowerCase().includes("time")?t[r]=rR(e[r]):t[r]=U2(e[r]));return t}return e}const Fne="https://api.middar.com";async function Uo(e,t={}){const r={"Content-Type":"application/json",...t.headers},n=localStorage.getItem("authToken");n&&(r.Authorization=`Bearer ${n}`);try{let a=t.body;if(a&&typeof a=="string")try{const l=JSON.parse(a),c=U2(l);a=JSON.stringify(c)}catch(l){console.warn("Failed to parse request body for date formatting",l)}console.log(`API Request: ${t.method||"GET"} ${e}`,a?JSON.parse(a):null);const s=await fetch(`${Fne}${e}`,{...t,headers:r,body:a});let o;try{const l=await s.text();o=l?JSON.parse(l):{}}catch(l){console.error("Failed to parse API response:",l),o={}}if(!s.ok){const l={status:s.status,statusText:s.statusText,url:e,headers:Object.fromEntries(s.headers.entries()),response:o,requestBody:t.body?JSON.parse(t.body):null};console.error("API Error Details:",JSON.stringify(l,null,2));let c="Something went wrong";o&&typeof o=="object"?c=o.message||o.error||JSON.stringify(o):o&&(c=String(o));const u=new Error(c);throw u.status=s.status,u.response=o,u.details=l,u}return o}catch(a){throw console.error("API Request Failed:",{endpoint:e,error:a.message,stack:a.stack}),a}}const X={get:(e,t,r)=>{const n=new URLSearchParams(r).toString();return Uo(`/api/v1/get/${e}/${t}${n?`?${n}`:""}`)},list:async(e,t={})=>{const r={...t},n=["m_leads","m_projects","tasks","tickets"];r.sort_by||(r.sort_by="created_at",r.sort_order=n.includes(e)?"DESC":"ASC");let a="";if(r.exact_filters&&(a=typeof r.exact_filters=="string"?r.exact_filters:JSON.stringify(r.exact_filters),delete r.exact_filters),r.advanced_filters&&typeof r.advanced_filters=="string")try{JSON.parse(r.advanced_filters)}catch{delete r.advanced_filters}else r.advanced_filters&&(r.advanced_filters=JSON.stringify(r.advanced_filters));const s=new URLSearchParams;Object.entries(r).forEach(([c,u])=>{u!=null&&s.append(c,u.toString())});const o=a?`/api/v1/${e}/list?exact_filters=${encodeURIComponent(a)}&${s.toString()}`:s.toString()?`/api/v1/${e}/list?${s.toString()}`:`/api/v1/${e}/list`;console.log("Sending request to:",o);const l=await Uo(o);return{data:l.data||[],total:l.totalRows||0,page:(l.page||1)-1,pageSize:l.totalRows||0}},count:async(e,t={})=>{try{return(await X.list(e,{...t,pageSize:1})).total||0}catch{return console.warn(`Count failed for ${e}, returning 0`),0}},create:(e,t)=>e==="messages"?Uo(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}):Uo(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}),update:(e,t,r)=>Uo(`/api/v1/update/${e}/${t}`,{method:"PUT",body:JSON.stringify(r)}),delete:(e,t)=>Uo(`/api/v1/delete/${e}/${t}`,{method:"DELETE"}),getAggregates:async(e,t={})=>{try{console.log("[API] Getting aggregates for tables:",e);const r=e.map(async s=>{try{const l={m_projects:"m_projects",m_leads:"m_leads",clients:"Users",users:"Users",surveys:"surveys",tasks:"tasks"}[s]||s,u=(await X.list(l,{pageSize:1})).total||0;return console.log(`[API] Got count for ${s} (${l}):`,u),{[s]:{Count:u}}}catch(o){return console.warn(`[API] Count failed for ${s}, using fallback:`,o),{[s]:{Count:0}}}}),a=(await Promise.all(r)).reduce((s,o)=>({...s,...o}),{});return console.log("[API] Combined aggregates result:",a),a}catch(r){return console.error("[API] Failed to get aggregates:",r),{}}},auth:{login:async e=>Uo("/api/v1/account/login",{method:"POST",body:JSON.stringify(e)})},permissions:{list:(e={})=>X.list("permissions",e),get:e=>X.get("permissions",e),create:e=>X.create("permissions",e),update:(e,t)=>X.update("permissions",e,t),delete:e=>X.delete("permissions",e)},comments:{list:(e={})=>X.list("comments",e),get:e=>X.get("comments",e),create:e=>X.create("comments",e),update:(e,t)=>X.update("comments",e,t),delete:e=>X.delete("comments",e)},leads:{list:(e={})=>X.list("leads",e),get:e=>X.get("leads",e),create:e=>X.create("leads",e),update:(e,t)=>X.update("leads",e,t),delete:e=>X.delete("leads",e)},mAction:{list:(e={})=>X.list("m_action",e),get:e=>X.get("m_action",e),create:e=>X.create("m_action",e),update:(e,t)=>X.update("m_action",e,t),delete:e=>X.delete("m_action",e)},mActivity:{list:(e={})=>X.list("m_activity",e),get:e=>X.get("m_activity",e),create:e=>X.create("m_activity",e),update:(e,t)=>X.update("m_activity",e,t),delete:e=>X.delete("m_activity",e)},messages:{list:(e={})=>X.list("messages",e),get:e=>X.get("messages",e),create:e=>X.create("messages",e),update:(e,t)=>X.update("messages",e,t),delete:e=>X.delete("messages",e)},mContacts:{list:(e={})=>X.list("m_contacts",e),get:e=>X.get("m_contacts",e),create:e=>X.create("m_contacts",e),update:(e,t)=>X.update("m_contacts",e,t),delete:e=>X.delete("m_contacts",e)},mCountry:{list:(e={})=>X.list("m_country",e),get:e=>X.get("m_country",e),create:e=>X.create("m_country",e),update:(e,t)=>X.update("m_country",e,t),delete:e=>X.delete("m_country",e)},mCity:{list:(e={})=>X.list("m_city",e),get:e=>X.get("m_city",e),create:e=>X.create("m_city",e),update:(e,t)=>X.update("m_city",e,t),delete:e=>X.delete("m_city",e),getByCountry:(e,t={})=>X.list("m_city",{...t,exact_filters:{country_id:e}})},mJobtitle:{list:(e={})=>X.list("m_jobtitle",e),get:e=>X.get("m_jobtitle",e),create:e=>X.create("m_jobtitle",e),update:(e,t)=>X.update("m_jobtitle",e,t),delete:e=>X.delete("m_jobtitle",e)},mLeads:{list:(e={})=>X.list("m_leads",e),get:e=>X.get("m_leads",e),create:e=>X.create("m_leads",e),update:(e,t)=>X.update("m_leads",e,t),delete:e=>X.delete("m_leads",e),getByStage:(e,t={})=>X.list("m_leads",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>X.list("m_leads",{...t,exact_filters:{assigned_to:e}}),getByStatus:(e,t={})=>X.list("m_leads",{...t,exact_filters:{status_id:e}})},mSystem:{list:(e={})=>X.list("m_system",e),get:e=>X.get("m_system",e),create:e=>X.create("m_system",e),update:(e,t)=>X.update("m_system",e,t),delete:e=>X.delete("m_system",e)},mLeadsTrans:{list:(e={})=>X.list("m_leads_trans",e),get:e=>X.get("m_leads_trans",e),create:e=>X.create("m_leads_trans",e),update:(e,t)=>X.update("m_leads_trans",e,t),delete:e=>X.delete("m_leads_trans",e),getByLead:(e,t={})=>X.list("m_leads_trans",{...t,exact_filters:{leads_id:e}}),getByUser:(e,t={})=>X.list("m_leads_trans",{...t,exact_filters:{user_id:e}})},mProjects:{list:(e={})=>X.list("m_projects",e),get:e=>X.get("m_projects",e),create:e=>X.create("m_projects",e),update:(e,t)=>X.update("m_projects",e,t),delete:e=>X.delete("m_projects",e)},mStatus:{list:(e={})=>X.list("m_status",e),get:e=>X.get("m_status",e),create:e=>X.create("m_status",e),update:(e,t)=>X.update("m_status",e,t),delete:e=>X.delete("m_status",e)},notes:{list:(e={})=>X.list("notes",e),get:e=>X.get("notes",e),create:e=>X.create("notes",e),update:(e,t)=>X.update("notes",e,t),delete:e=>X.delete("notes",e),getByRelated:(e,t,r={})=>X.list("notes",{...r,exact_filters:{related_to_type:e,related_to_id:t}})},partnerApply:{list:(e={})=>X.list("partner_apply",e),get:e=>X.get("partner_apply",e),create:e=>X.create("partner_apply",e),update:(e,t)=>X.update("partner_apply",e,t),delete:e=>X.delete("partner_apply",e),getPending:(e={})=>X.list("partner_apply",{...e,exact_filters:{status:"Pending"}}),getByStatus:(e,t={})=>X.list("partner_apply",{...t,exact_filters:{status:e}})},projectUsers:{list:(e={})=>X.list("project_users",e),get:e=>X.get("project_users",e),create:e=>X.create("project_users",e),update:(e,t)=>X.update("project_users",e,t),delete:e=>X.delete("project_users",e),getByProject:(e,t={})=>X.list("project_users",{...t,exact_filters:{project_id:e}})},projectImages:{list:(e={})=>X.list("project_images",e),get:e=>X.get("project_images",e),create:e=>X.create("project_images",e),update:(e,t)=>X.update("project_images",e,t),delete:e=>X.delete("project_images",e),getByProject:(e,t={})=>X.list("project_images",{...t,exact_filters:{project_id:e}})},projects:{list:(e={})=>X.list("projects",e),get:e=>X.get("projects",e),create:e=>X.create("projects",e),update:(e,t)=>X.update("projects",e,t),delete:e=>X.delete("projects",e),getByStage:(e,t={})=>X.list("projects",{...t,exact_filters:{stage:e}}),getByLead:(e,t={})=>X.list("projects",{...t,exact_filters:{lead_id:e}})},requests:{list:(e={})=>X.list("requests_crm",e),get:e=>X.get("requests_crm",e),create:e=>X.create("requests_crm",e),update:(e,t)=>X.update("requests_crm",e,t),delete:e=>X.delete("requests_crm",e)},rooms:{list:(e={})=>X.list("rooms",e),get:e=>X.get("rooms",e),create:e=>X.create("rooms",e),update:(e,t)=>X.update("rooms",e,t),delete:e=>X.delete("rooms",e),getByProject:(e,t={})=>X.list("rooms",{...t,exact_filters:{project_id:e}}),getByTeam:(e,t={})=>X.list("rooms",{...t,exact_filters:{team_id:e}})},roomMembers:{list:(e={})=>X.list("room_members",e),get:e=>X.get("room_members",e),create:e=>X.create("room_members",e),update:(e,t)=>X.update("room_members",e,t),delete:e=>X.delete("room_members",e),getByRoom:(e,t={})=>X.list("room_members",{...t,exact_filters:{room_id:e}})},stages:{list:(e={})=>X.list("stages",e),get:e=>X.get("stages",e),create:e=>X.create("stages",e),update:(e,t)=>X.update("stages",e,t),delete:e=>X.delete("stages",e)},tasks:{list:(e={})=>X.list("tasks",e),get:e=>X.get("tasks",e),create:e=>X.create("tasks",e),update:(e,t)=>X.update("tasks",e,t),delete:e=>X.delete("tasks",e),getByStage:(e,t={})=>X.list("tasks",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>X.list("tasks",{...t,exact_filters:{assigned_to:e}})},surveyTemplates:{list:(e={})=>X.list("survey_templates",e),get:e=>X.get("survey_templates",e),create:e=>X.create("survey_templates",e),update:(e,t)=>X.update("survey_templates",e,t),delete:e=>X.delete("survey_templates",e)},surveyTemplateFields:{list:(e={})=>X.list("survey_template_fields",e),get:e=>X.get("survey_template_fields",e),create:e=>X.create("survey_template_fields",e),update:(e,t)=>X.update("survey_template_fields",e,t),delete:e=>X.delete("survey_template_fields",e),getByTemplate:(e,t={})=>X.list("survey_template_fields",{...t,exact_filters:{template_id:e}})},surveys:{list:(e={})=>X.list("surveys",e),get:e=>X.get("surveys",e),create:e=>X.create("surveys",e),update:(e,t)=>X.update("surveys",e,t),delete:e=>X.delete("surveys",e)},teams:{list:(e={})=>X.list("teams",e),get:e=>X.get("teams",e),create:e=>X.create("teams",e),update:(e,t)=>X.update("teams",e,t),delete:e=>X.delete("teams",e)},teamMembers:{list:(e={})=>X.list("team_members",e),get:e=>X.get("team_members",e),create:e=>{const{team_id:t,user_id:r,userid:n,...a}=e??{},s={...a};t!==void 0&&(s.team_id=t);const o=r??(n!==void 0?Number(n):void 0);return o!==void 0&&!Number.isNaN(o)&&(s.user_id=o),X.create("team_members",s)},update:(e,t)=>X.update("team_members",e,t),delete:e=>X.delete("team_members",e),getByTeam:(e,t={})=>X.list("team_members",{...t,exact_filters:{team_id:e}})},tickets:{list:(e={})=>X.list("tickets",e),get:e=>X.get("tickets",e),create:e=>X.create("tickets",e),update:(e,t)=>X.update("tickets",e,t),delete:e=>X.delete("tickets",e),getByStatus:(e,t={})=>X.list("tickets",{...t,exact_filters:{status:e}}),getByStage:(e,t={})=>X.list("tickets",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>X.list("tickets",{...t,exact_filters:{assigned_to:e}})},Users:{list:(e={})=>X.list("Users",e),get:e=>X.get("Users",e),create:e=>X.create("Users",e),update:(e,t)=>X.update("Users",e,t),delete:e=>X.delete("Users",e)},whatsappConversations:{list:(e={})=>X.list("whatsapp_conversations",e),get:e=>X.get("whatsapp_conversations",e),create:e=>X.create("whatsapp_conversations",e),update:(e,t)=>X.update("whatsapp_conversations",e,t),delete:e=>X.delete("whatsapp_conversations",e),getByLead:(e,t={})=>X.list("whatsapp_conversations",{...t,exact_filters:{lead_id:e}}),getByUser:(e,t={})=>X.list("whatsapp_conversations",{...t,exact_filters:{user_id:e}})},whatsappMessages:{list:(e={})=>X.list("whatsapp_messages",e),get:e=>X.get("whatsapp_messages",e),create:e=>X.create("whatsapp_messages",e),update:(e,t)=>X.update("whatsapp_messages",e,t),delete:e=>X.delete("whatsapp_messages",e),getByConversation:(e,t={})=>X.list("whatsapp_messages",{...t,exact_filters:{conversation_id:e}})}};let uS=null,$f=null;async function vT(){return uS||$f||($f=X.permissions.list().then(e=>{const t=e.data||[];return uS=t,$f=null,t}).catch(e=>($f=null,console.error("Failed to fetch permissions:",e),[])),$f)}const cB=x.createContext(void 0),Ine=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[s,o]=x.useState(!0);x.useEffect(()=>{(()=>{try{const h=localStorage.getItem("authToken"),m=localStorage.getItem("authUser");if(h&&m){const g=JSON.parse(m);if(g&&g.role&&(g.role=g.role.toLowerCase()),!g.permissions_permissions_Name)if(g.profile&&g.profile.permissions_permissions_Name)g.permissions_permissions_Name=g.profile.permissions_permissions_Name;else if(g.profile&&g.profile.permissions){const p=g.profile.permissions,v={1:"admin",2:"manager",3:"employee",4:"team_leader",5:"partner_employee",6:"partner_leader"};v[p]&&(g.permissions_permissions_Name=v[p],g.role=v[p])}else g.isAdmin===1&&(g.permissions_permissions_Name="admin",g.role="admin");a(h),r(g)}}catch(h){console.error("Failed to parse stored auth data:",h),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}finally{o(!1)}})()},[]);const l=x.useCallback(async(f,h)=>{a(f),localStorage.setItem("authToken",f);try{await new Promise(v=>setTimeout(v,100)),await vT()}catch(v){console.warn("Failed to preload permissions:",v)}let m=h;try{let v=null;try{v=await X.list("Users",{exact_filters:{userid:h.id},pageSize:1})}catch{const b=await fetch(`https://api.middar.com/api/v1/Users/list?exact_filters=${encodeURIComponent(JSON.stringify({userid:h.id}))}&pageSize=1`,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});b.ok&&(v=await b.json())}v&&v.data&&v.data.length>0&&(m=v.data[0])}catch(v){console.warn("Failed to fetch full user profile, using basic login data:",v)}let g="employee";if(m.permissions_permissions_Name){const v=m.permissions_permissions_Name.toLowerCase();v==="admin"?g="admin":v==="manager"?g="manager":v==="employee"?g="employee":v==="team_leader"?g="team_leader":v==="partner_employee"?g="partner_employee":v==="partner_leader"?g="partner_leader":g="employee"}else m.isAdmin===1&&(g="admin");const p={id:m.userid||m.id||"unknown",email:m.Email||m.email||h.email||"",role:g,profile:m,userid:m.userid||0,permissions:m.permissions||0,permissions_permissions_Name:m.permissions_permissions_Name||"",Employee:m.Employee||0,AccountNumber:m.AccountNumber||null,mobile:m.mobile||null,Owner:m.Owner||0,Email_v:m.Email_v||0,IsActive:m.IsActive||0,user_pasword:m.user_pasword||"",name:m.name||h.name||"",Email:m.Email||m.email||h.email||"",pin:m.pin||null,isAllBranches:m.isAllBranches||0,Safe:m.Safe||0,reset_code:m.reset_code||null,reset_expires:m.reset_expires||"",reset_used:m.reset_used||0,isAdmin:m.isAdmin||0};r(p),localStorage.setItem("authUser",JSON.stringify(p)),await new Promise(v=>setTimeout(v,50))},[]),c=x.useCallback(()=>{a(null),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")},[]),u=x.useCallback(f=>!t||!t.role?!1:f.includes(t.role),[t]),d=x.useMemo(()=>({user:t,token:n,isAuthenticated:!!t&&!!n,loading:s,login:l,logout:c,hasRole:u}),[t,n,s,l,c,u]);return i.jsx(cB.Provider,{value:d,children:e})},hr=()=>{const e=x.useContext(cB);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},uB=x.createContext(void 0),Lne=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],$ne=({children:e})=>{const[t,r]=x.useState(Wr.language||"ar"),[n,a]=x.useState(iS());x.useEffect(()=>{const l=c=>{r(c),a(iS())};return Wr.on("languageChanged",l),()=>{Wr.off("languageChanged",l)}},[]);const o={currentLanguage:t,changeLanguage:async l=>{try{await Wr.changeLanguage(l),r(l),a(iS())}catch(c){console.error("Failed to change language:",c)}},isRTL:n,languages:Lne};return i.jsx(uB.Provider,{value:o,children:e})},ir=()=>{const e=x.useContext(uB);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},dB=x.createContext(void 0);function Bne({children:e}){const[t,r]=x.useState([]);return i.jsx(dB.Provider,{value:{breadcrumbs:t,setBreadcrumbs:r},children:e})}function Rv(){const e=x.useContext(dB);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var T1=["light","dark"],xT="(prefers-color-scheme: dark)",Une=typeof window>"u",yT=x.createContext(void 0),zne={setTheme:e=>{},themes:[]},Vne=()=>{var e;return(e=x.useContext(yT))!=null?e:zne},fB=e=>x.useContext(yT)?e.children:x.createElement(Hne,{...e}),Wne=["light","dark"],Hne=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=Wne,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=x.useState(()=>nR(a,o)),[m,g]=x.useState(()=>nR(a)),p=c?Object.values(c):s,v=x.useCallback(j=>{let _=j;if(!_)return;j==="system"&&r&&(_=aR());let S=c?c[_]:_,N=t?Gne():null,C=document.documentElement;if(l==="class"?(C.classList.remove(...p),S&&C.classList.add(S)):S?C.setAttribute(l,S):C.removeAttribute(l),n){let k=T1.includes(o)?o:null,E=T1.includes(_)?_:k;C.style.colorScheme=E}N==null||N()},[]),y=x.useCallback(j=>{let _=typeof j=="function"?j(j):j;h(_);try{localStorage.setItem(a,_)}catch{}},[e]),b=x.useCallback(j=>{let _=aR(j);g(_),f==="system"&&r&&!e&&v("system")},[f,e]);x.useEffect(()=>{let j=window.matchMedia(xT);return j.addListener(b),b(j),()=>j.removeListener(b)},[b]),x.useEffect(()=>{let j=_=>{if(_.key!==a)return;let S=_.newValue||o;y(S)};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[y]),x.useEffect(()=>{v(e??f)},[e,f]);let w=x.useMemo(()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...s,"system"]:s,systemTheme:r?m:void 0}),[f,y,e,m,r,s]);return x.createElement(yT.Provider,{value:w},x.createElement(qne,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:o,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},qne=x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?T1.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let y=o?o[g]:g,b=p?g+"|| ''":`'${y}'`,w="";return a&&v&&!p&&T1.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?p||y?w+=`c.add(${b})`:w+="null":y&&(w+=`d[s](n,${b})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${xT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),nR=(e,t)=>{if(Une)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Gne=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},aR=e=>(e||(e=window.matchMedia(xT)),e.matches?"dark":"light");/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hB=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...Yne,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:hB("lucide",a),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(Xne,{ref:s,iconNode:t,className:hB(`lucide-${Kne(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=Ye("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=Ye("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=Ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=Ye("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Ye("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=Ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=Ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=Ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ye("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=Ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=Ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=Ye("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=Ye("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=Ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=Ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Ye("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=Ye("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=Ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Ye("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=Ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=Ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=Ye("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=Ye("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=Ye("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Ye("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=Ye("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=Ye("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=Ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=Ye("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Ye("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=Ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=Ye("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Ye("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=Ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=Ye("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=Ye("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=Ye("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=Ye("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=Ye("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=Ye("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=Ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function wB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=wB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Mt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=wB(e))&&(n&&(n+=" "),n+=t);return n}const _T="-",Tae=e=>{const t=Pae(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(_T);return l[0]===""&&l.length!==1&&l.shift(),_B(l,t)||Aae(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},_B=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?_B(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(_T);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},fR=/^\[(.+)\]$/,Aae=e=>{if(fR.test(e)){const t=fR.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Pae=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Dae(Object.entries(e.classGroups),r).forEach(([s,o])=>{H2(o,n,s,t)}),n},H2=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:hR(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Oae(a)){H2(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{H2(o,hR(t,s),r,n)})})},hR=(e,t)=>{let r=e;return t.split(_T).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Oae=e=>e.isThemeGetter,Dae=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,Rae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},jB="!",Mae=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(jB),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Fae=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Iae=e=>({cache:Rae(e.cacheSize),parseClassName:Mae(e),...Tae(e)}),Lae=/\s+/,$ae=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(Lae);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=Fae(d).join(":"),y=f?v+jB:v,b=y+p;if(s.includes(b))continue;s.push(b);const w=a(p,g);for(let j=0;j<w.length;++j){const _=w[j];s.push(y+_)}l=u+(l.length>0?" "+l:l)}return l};function Bae(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=SB(t))&&(n&&(n+=" "),n+=r);return n}const SB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=SB(e[n]))&&(r&&(r+=" "),r+=t);return r};function Uae(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Iae(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=$ae(c,r);return a(c,d),d}return function(){return s(Bae.apply(null,arguments))}}const Or=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},NB=/^\[(?:([a-z-]+):)?(.+)\]$/i,zae=/^\d+\/\d+$/,Vae=new Set(["px","full","screen"]),Wae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Hae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Gae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Kae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Al=e=>Dh(e)||Vae.has(e)||zae.test(e),Oc=e=>cp(e,"length",rse),Dh=e=>!!e&&!Number.isNaN(Number(e)),dS=e=>cp(e,"number",Dh),qp=e=>!!e&&Number.isInteger(Number(e)),Yae=e=>e.endsWith("%")&&Dh(e.slice(0,-1)),Lt=e=>NB.test(e),Dc=e=>Wae.test(e),Xae=new Set(["length","size","percentage"]),Qae=e=>cp(e,Xae,kB),Jae=e=>cp(e,"position",kB),Zae=new Set(["image","url"]),ese=e=>cp(e,Zae,ase),tse=e=>cp(e,"",nse),Gp=()=>!0,cp=(e,t,r)=>{const n=NB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},rse=e=>Hae.test(e)&&!qae.test(e),kB=()=>!1,nse=e=>Gae.test(e),ase=e=>Kae.test(e),sse=()=>{const e=Or("colors"),t=Or("spacing"),r=Or("blur"),n=Or("brightness"),a=Or("borderColor"),s=Or("borderRadius"),o=Or("borderSpacing"),l=Or("borderWidth"),c=Or("contrast"),u=Or("grayscale"),d=Or("hueRotate"),f=Or("invert"),h=Or("gap"),m=Or("gradientColorStops"),g=Or("gradientColorStopPositions"),p=Or("inset"),v=Or("margin"),y=Or("opacity"),b=Or("padding"),w=Or("saturate"),j=Or("scale"),_=Or("sepia"),S=Or("skew"),N=Or("space"),C=Or("translate"),k=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Lt,t],T=()=>[Lt,t],U=()=>["",Al,Oc],W=()=>["auto",Dh,Lt],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Lt],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Dh,Lt];return{cacheSize:500,separator:":",theme:{colors:[Gp],spacing:[Al,Oc],blur:["none","",Dc,Lt],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Dc,Lt],borderSpacing:T(),borderWidth:U(),contrast:Z(),grayscale:L(),hueRotate:Z(),invert:L(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[Yae,Oc],inset:O(),margin:O(),opacity:Z(),padding:T(),saturate:Z(),scale:Z(),sepia:L(),skew:Z(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[Dc]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),Lt]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qp,Lt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",qp,Lt]}],"grid-cols":[{"grid-cols":[Gp]}],"col-start-end":[{col:["auto",{span:["full",qp,Lt]},Lt]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Gp]}],"row-start-end":[{row:["auto",{span:[qp,Lt]},Lt]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,t]}],"min-w":[{"min-w":[Lt,t,"min","max","fit"]}],"max-w":[{"max-w":[Lt,t,"none","full","min","max","fit","prose",{screen:[Dc]},Dc]}],h:[{h:[Lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Dc,Oc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dS]}],"font-family":[{font:[Gp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",Dh,dS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Al,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Al,Oc]}],"underline-offset":[{"underline-offset":["auto",Al,Lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),Jae]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ese]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:z()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Al,Lt]}],"outline-w":[{outline:[Al,Oc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Al,Oc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dc,tse]}],"shadow-color":[{shadow:[Gp]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Dc,Lt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[qp,Lt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Al,Oc,dS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ise=Uae(sse);function Ce(...e){return ise(Mt(e))}const ose={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12","2xl":"h-16 w-16"};function Pa({message:e="Loading...",className:t="",size:r="xl",fullScreen:n=!1,showProgress:a=!1,progress:s=0}){const o=i.jsxs("div",{className:Ce("flex flex-col items-center justify-center space-y-4",n?"min-h-screen":"",t),children:[i.jsx(wT,{className:Ce("animate-spin text-primary",ose[r])}),a&&i.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${s}%`}})}),e&&!a&&i.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium",children:e}),e&&a&&i.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]});return n?i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:o}):o}const Gx=({children:e,allowedRoles:t,requireAuth:r=!0,denyPermissionIds:n=[]})=>{var f,h;const a=bl(),{user:s,loading:o,hasRole:l}=hr(),c=x.useMemo(()=>t?l(t):!0,[t,l]);if(x.useMemo(()=>({loading:o,user:s?{id:s.id,email:s.email,role:s.role}:null,hasRequiredRole:c}),[o,s,c]),console.log("[ProtectedRoute]",{path:a.pathname,loading:o,hasUser:!!s,requireAuth:r,hasRequiredRole:c,userRole:s==null?void 0:s.role}),o)return console.log("[ProtectedRoute] Showing loading spinner"),i.jsx(Pa,{size:"xl",fullScreen:!0});if(r&&!s)return console.log("[ProtectedRoute] No user, redirecting to login"),i.jsx($y,{to:"/login",state:{from:a},replace:!0});const u=(s==null?void 0:s.permissions)||((f=s==null?void 0:s.profile)==null?void 0:f.permissions)||((h=s==null?void 0:s.profile)==null?void 0:h.permissions_ID),d=u!=null?Number(u):NaN;return n.length>0&&!Number.isNaN(d)&&n.includes(d)?(console.log("[ProtectedRoute] User permission denied:",d),i.jsx($y,{to:"/unauthorized",replace:!0})):t&&!c?(console.log("[ProtectedRoute] User does not have required role"),i.jsx($y,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),i.jsx(i.Fragment,{children:e}))};function mR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ic(...e){return t=>{let r=!1;const n=e.map(a=>{const s=mR(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():mR(e[a],null)}}}}function $t(...e){return x.useCallback(ic(...e),e)}function Eu(e){const t=lse(e),r=x.forwardRef((n,a)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(use);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var CB=Eu("Slot");function lse(e){const t=x.forwardRef((r,n)=>{const{children:a,...s}=r;if(x.isValidElement(a)){const o=fse(a),l=dse(s,a.props);return a.type!==x.Fragment&&(l.ref=n?ic(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EB=Symbol("radix.slottable");function cse(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=EB,t}function use(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EB}function dse(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function fse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const pR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gR=Mt,Fv=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return gR(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=pR(d)||pR(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...s,...l}[p]):{...s,...l}[p]===v})?[...u,f,h]:u},[]);return gR(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},pm=Fv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?CB:"button";return i.jsx(o,{className:Ce(pm({variant:t,size:r,className:e})),ref:s,...a})});de.displayName="Button";const Ue=x.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:Ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ue.displayName="Input";var hse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mt=hse.reduce((e,t)=>{const r=Eu(`Primitive.${t}`),n=x.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function TB(e,t){e&&ip.flushSync(()=>e.dispatchEvent(t))}var mse="Label",AB=x.forwardRef((e,t)=>i.jsx(mt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));AB.displayName=mse;var PB=AB;const pse=Fv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=x.forwardRef(({className:e,...t},r)=>i.jsx(PB,{ref:r,className:Ce(pse(),e),...t}));ze.displayName=PB.displayName;const st=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));st.displayName="Card";const Ht=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ce("flex flex-col space-y-1.5 p-6",e),...t}));Ht.displayName="CardHeader";const vr=x.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:Ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));vr.displayName="CardTitle";const gse=x.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:Ce("text-sm text-muted-foreground",e),...t}));gse.displayName="CardDescription";const xt=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ce("p-6 pt-0",e),...t}));xt.displayName="CardContent";const OB=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ce("flex items-center p-6 pt-0",e),...t}));OB.displayName="CardFooter";const vse=1,xse=5e3;let fS=0;function yse(){return fS=(fS+1)%Number.MAX_SAFE_INTEGER,fS.toString()}const hS=new Map,vR=e=>{if(hS.has(e))return;const t=setTimeout(()=>{hS.delete(e),L0({type:"REMOVE_TOAST",toastId:e})},xse);hS.set(e,t)},bse=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,vse)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?vR(r):e.toasts.forEach(n=>{vR(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Uy=[];let zy={toasts:[]};function L0(e){zy=bse(zy,e),Uy.forEach(t=>{t(zy)})}function wse({...e}){const t=yse(),r=a=>L0({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>L0({type:"DISMISS_TOAST",toastId:t});return L0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Li(){const[e,t]=x.useState(zy);return x.useEffect(()=>(Uy.push(t),()=>{const r=Uy.indexOf(t);r>-1&&Uy.splice(r,1)}),[e]),{...e,toast:wse,dismiss:r=>L0({type:"DISMISS_TOAST",toastId:r})}}const _se=()=>{var b,w;const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,s]=x.useState("crmdb"),[o,l]=x.useState(!1),[c,u]=x.useState(!1),{login:d}=hr(),f=Ms(),h=bl(),{t:m}=At(),{isRTL:g}=ir(),{toast:p}=Li(),v=((w=(b=h.state)==null?void 0:b.from)==null?void 0:w.pathname)||"/dashboard",y=async j=>{if(j.preventDefault(),!e||!r){p({title:m("common.error","Error"),description:m("validation.fillAllFields","Please fill in all fields"),variant:"destructive"});return}l(!0);try{const _=await X.auth.login({email:e,password:r,company_code:a});if(_.serviceToken&&_.user)await d(_.serviceToken,_.user),p({title:m("common.success","Success"),description:m("auth.loginSuccess","Logged in successfully")}),f(v,{replace:!0});else throw new Error("Invalid response from server")}catch(_){console.error("Login error:",_);let S=m("auth.loginFailed","Failed to login. Please check your credentials.");_.message&&!_.message.includes("Unexpected token")&&(S=_.message),p({title:m("auth.loginFailedTitle","Login Failed"),description:S,variant:"destructive"})}finally{l(!1)}};return i.jsxs("div",{className:"w-full max-w-md mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg mb-4",children:i.jsx(zn,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:m("auth.welcomeBack","Welcome Back")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:m("auth.enterCredentials","Enter your credentials to access your account")})]}),i.jsx(st,{className:"border-0 shadow-xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm",children:i.jsxs("form",{onSubmit:y,children:[i.jsxs(xt,{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.emailOrUsername","Email / Username")}),i.jsx("div",{className:"relative",children:i.jsx(Ue,{id:"email",type:"text",placeholder:m("auth.enterEmail","Enter your email"),value:e,onChange:j=>t(j.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${g?"text-right pr-10 pl-3":"text-left"}`,autoComplete:"email"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("forms.password","Password")}),i.jsxs("div",{className:"relative",children:[i.jsx(Ue,{id:"password",type:c?"text":"password",placeholder:m("auth.enterPassword","Enter your password"),value:r,onChange:j=>n(j.target.value),disabled:o,className:`pl-10 pr-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${g?"text-right pr-16 pl-3":"text-left"}`,autoComplete:"current-password"}),i.jsx("button",{type:"button",onClick:()=>u(!c),className:`absolute ${g?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors`,disabled:o,children:c?i.jsx(cae,{className:"h-4 w-4"}):i.jsx(ei,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"companyCode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.companyCode","Company Code")}),i.jsx("div",{className:"relative",children:i.jsx(Ue,{id:"companyCode",type:"text",value:a,onChange:j=>s(j.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${g?"text-right pr-3 pl-10":"text-left"}`,placeholder:"crmdb"})})]})]}),i.jsx(OB,{className:"px-8 pb-8",children:i.jsx(de,{type:"submit",className:"w-full h-12 text-base font-medium shadow-lg hover:shadow-xl transition-all duration-200 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx(wT,{className:"mr-2 h-4 w-4 animate-spin"}),m("auth.signingIn","Logging in...")]}):i.jsx(i.Fragment,{children:m("auth.signInButton","Login")})})})]})}),i.jsxs("div",{className:"mt-6 text-center space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m("auth.noAccount","Don't have an account?")," ",i.jsx("button",{onClick:()=>f("/signup"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.signUp","Sign up")})]}),i.jsx("button",{onClick:()=>{p({title:m("auth.forgotPassword","Forgot Password"),description:m("auth.forgotPasswordDesc","Please contact your administrator to reset your password.")})},className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.forgotPassword","Forgot your password?")})]})]})},jse=()=>{const[e,t]=x.useState(!1);hr();const r=Ms(),{t:n}=At();return i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:n("auth.createAccount")}),i.jsx("p",{className:"text-muted-foreground mt-2",children:n("auth.signUpToGetStarted")})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.chooseAccountTypeSignUp")}),e&&i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.redirectingToGoogle")})]}),i.jsxs("div",{className:"text-center text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[n("auth.alreadyHaveAccount")," "]}),i.jsx(de,{variant:"link",className:"p-0",onClick:()=>r("/login"),children:n("auth.signIn")})]})]})},P1=()=>{const{user:e}=hr(),t=e==null?void 0:e.permissions,r=m=>{var p;return t===1?!0:((p={1:[],2:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_templates_INSERT","survey_templates_UPDATE","survey_templates_DELETE","survey_template_fields_SELECT","survey_template_fields_INSERT","survey_template_fields_UPDATE","survey_template_fields_DELETE","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE","teams_SELECT","teams_INSERT","teams_UPDATE","teams_DELETE","fr_can_view_app_settings","system_update","update_permissions"],3:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],4:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],5:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],6:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"]}[t||0])==null?void 0:p.includes(m))||!1};return{user:e,userPermissionId:t,hasPermission:r,canView:m=>r(`${m}_SELECT`),canEdit:m=>r(`${m}_UPDATE`),canDelete:m=>r(`${m}_DELETE`),canCreate:m=>r(`${m}_INSERT`),canViewAllData:()=>t===1||t===2,canViewOwnData:()=>t===3||t===4||t===5||t===6,canViewTeamData:()=>t===4,canUpdateSystem:()=>r("system_update"),canManageUsers:()=>r("update_permissions"),canAccessSystem:()=>{const m=r("fr_can_view_app_settings");return console.log("canAccessSystem check:",{userPermissionId:t,result:m}),m}}},DB=x.createContext(void 0),Sse=({children:e})=>{const[t,r]=x.useState(()=>localStorage.getItem("crm_company_name")||"Middar CRM"),[n,a]=x.useState(()=>localStorage.getItem("crm_primary_color")||"#2563eb"),[s,o]=x.useState(()=>localStorage.getItem("crm_logo_url")||""),l=h=>{r(h),localStorage.setItem("crm_company_name",h)},c=h=>{a(h),localStorage.setItem("crm_primary_color",h),d(h)},u=h=>{o(h),localStorage.setItem("crm_logo_url",h)},d=h=>{const m=f(h);m&&(document.documentElement.style.setProperty("--primary",`${m.h} ${m.s}% ${m.l}%`),document.documentElement.style.setProperty("--ring",`${m.h} ${m.s}% ${m.l}%`))};function f(h){let m=0,g=0,p=0;h.length===4?(m=parseInt(h[1]+h[1],16),g=parseInt(h[2]+h[2],16),p=parseInt(h[3]+h[3],16)):h.length===7&&(m=parseInt(h.substring(1,3),16),g=parseInt(h.substring(3,5),16),p=parseInt(h.substring(5,7),16)),m/=255,g/=255,p/=255;const v=Math.max(m,g,p),y=Math.min(m,g,p);let b=0,w,j=(v+y)/2;if(v===y)b=w=0;else{const _=v-y;switch(w=j>.5?_/(2-v-y):_/(v+y),v){case m:b=(g-p)/_+(g<p?6:0);break;case g:b=(p-m)/_+2;break;case p:b=(m-g)/_+4;break}b/=6}return{h:Math.round(b*360),s:Math.round(w*100),l:Math.round(j*100)}}return x.useEffect(()=>{d(n)},[]),i.jsx(DB.Provider,{value:{companyName:t,setCompanyName:l,primaryColor:n,setPrimaryColor:c,logoUrl:s,setLogoUrl:u},children:e})},RB=()=>{const e=x.useContext(DB);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e},Nse={admin:1,manager:2,employee:3,team_leader:4,partner_employee:5,partner_leader:6};function kse(e,t){return Nse[e]===t}function Cse(e,t){const r=x.createContext(t),n=s=>{const{children:o,...l}=s,c=x.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function ms(e,t=[]){let r=[];function n(s,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:m,...g}=f,p=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Ese(a,...t)]}function Ese(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Vn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var bn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function Tse(){return H6.useSyncExternalStore(Ase,()=>!0,()=>!1)}function Ase(){return()=>{}}var jT="Avatar",[Pse,OHe]=ms(jT),[Ose,MB]=Pse(jT),FB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=x.useState("idle");return i.jsx(Ose,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(mt.span,{...n,ref:t})})});FB.displayName=jT;var IB="AvatarImage",LB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=MB(IB,r),l=Dse(n,s),c=Vn(u=>{a(u),o.onImageLoadingStatusChange(u)});return bn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(mt.img,{...s,ref:t,src:n}):null});LB.displayName=IB;var $B="AvatarFallback",BB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=MB($B,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(mt.span,{...a,ref:t}):null});BB.displayName=$B;function xR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Dse(e,{referrerPolicy:t,crossOrigin:r}){const n=Tse(),a=x.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=x.useState(()=>xR(s,e));return bn(()=>{l(xR(s,e))},[s,e]),bn(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),o}var UB=FB,zB=LB,VB=BB;const Os=x.forwardRef(({className:e,...t},r)=>i.jsx(UB,{ref:r,className:Ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Os.displayName=UB.displayName;const _o=x.forwardRef(({className:e,...t},r)=>i.jsx(zB,{ref:r,className:Ce("aspect-square h-full w-full",e),...t}));_o.displayName=zB.displayName;const Ds=x.forwardRef(({className:e,...t},r)=>i.jsx(VB,{ref:r,className:Ce("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ds.displayName=VB.displayName;const Rse=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:hae},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ya},{labelKey:"navigation.reports",path:"/reports",roles:["admin","manager","team_leader"],icon:gB}]},{label:"sales",items:[{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:zn},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Rd},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:zn}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:I0},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:Qf},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ya}]},{label:"communication",items:[{labelKey:"navigation.whatsapp",path:"/whatsapp",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Cu},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:Cu},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:A1}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:Sae},{labelKey:"navigation.settings",path:"/settings",roles:["admin","manager"],icon:kg},{labelKey:"navigation.permissions",path:"/permissions",roles:["admin"],icon:A1}]}];function mS({onNavigate:e}={}){var l,c,u;const t=bl(),{user:r}=hr(),{userPermissionId:n}=P1(),{canAccessSystem:a}=P1(),{t:s}=At(),{companyName:o}=RB();return i.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[i.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"text-2xl font-bold text-primary-foreground",children:o})})}),i.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:i.jsx("nav",{className:"space-y-6",children:Rse.map(d=>{if(d.label==="system"&&!a)return null;const f=d.items.filter(h=>r&&h.roles&&h.roles.some(m=>kse(m,n)));return f.length===0?null:i.jsxs("div",{children:[i.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:s(`navigation.${d.label} Group`,d.label)}),i.jsx("div",{className:"space-y-1",children:f.map(h=>{const m=t.pathname===h.path,g=h.icon;return i.jsxs(L2,{to:h.path,onClick:p=>{m&&p.preventDefault(),e==null||e()},className:Ce("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",m?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[m&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),i.jsx(g,{className:Ce("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",m?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),i.jsx("span",{className:"flex-1 relative z-10",children:s(h.labelKey)})]},h.path)})})]},d.label)})})}),i.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[i.jsx(Os,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:i.jsx(Ds,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(l=r==null?void 0:r.email)==null?void 0:l.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((c=r==null?void 0:r.profile)==null?void 0:c.name)||(r==null?void 0:r.email)}),i.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(u=r==null?void 0:r.role)==null?void 0:u.replace("_"," ")]})]}),i.jsx(Dw,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function Mse(){const e=bl(),{t}=At(),r=e.pathname.split("/").filter(s=>s);if(r.length===0)return null;const n={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},a=s=>n[s]?t(n[s]):/^\d+$/.test(s)||s.length>20?s:s.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return i.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(L2,{to:"/",className:"hover:text-foreground transition-colors",children:t("navigation.home")}),r.map((s,o)=>{const l=`/${r.slice(0,o+1).join("/")}`,c=o===r.length-1,u=a(s);return i.jsxs("div",{className:"flex items-center",children:[i.jsx(Dw,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),c?i.jsx("span",{className:"text-foreground font-medium",children:u}):i.jsx(L2,{to:l,className:"hover:text-foreground transition-colors",children:u})]},s)})]})}function q2(e,[t,r]){return Math.min(r,Math.max(t,e))}function Ze(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function ST(e){const t=e+"CollectionProvider",[r,n]=ms(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:y}=p,b=ue.useRef(null),w=ue.useRef(new Map).current;return i.jsx(a,{scope:v,itemMap:w,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Eu(l),u=ue.forwardRef((p,v)=>{const{scope:y,children:b}=p,w=s(l,y),j=$t(v,w.collectionRef);return i.jsx(c,{ref:j,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Eu(d),m=ue.forwardRef((p,v)=>{const{scope:y,children:b,...w}=p,j=ue.useRef(null),_=$t(v,j),S=s(d,y);return ue.useEffect(()=>(S.itemMap.set(j,{ref:j,...w}),()=>void S.itemMap.delete(j))),i.jsx(h,{[f]:"",ref:_,children:b})});m.displayName=d;function g(p){const v=s(e+"CollectionConsumer",p);return ue.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((S,N)=>w.indexOf(S.ref.current)-w.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}var Fse=x.createContext(void 0);function Iv(e){const t=x.useContext(Fse);return e||t||"ltr"}function Ise(e,t=globalThis==null?void 0:globalThis.document){const r=Vn(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Lse="DismissableLayer",G2="dismissableLayer.update",$se="dismissableLayer.pointerDownOutside",Bse="dismissableLayer.focusOutside",yR,WB=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lv=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(WB),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),g=$t(t,N=>f(N)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=y,_=Vse(N=>{const C=N.target,k=[...u.branches].some(E=>E.contains(C));!j||k||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=Wse(N=>{const C=N.target;[...u.branches].some(E=>E.contains(C))||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return Ise(N=>{b===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(yR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),bR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=yR)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),bR())},[d,u]),x.useEffect(()=>{const N=()=>m({});return document.addEventListener(G2,N),()=>document.removeEventListener(G2,N)},[]),i.jsx(mt.div,{...c,ref:g,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:Ze(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ze(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ze(e.onPointerDownCapture,_.onPointerDownCapture)})});Lv.displayName=Lse;var Use="DismissableLayerBranch",zse=x.forwardRef((e,t)=>{const r=x.useContext(WB),n=x.useRef(null),a=$t(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(mt.div,{...e,ref:a})});zse.displayName=Use;function Vse(e,t=globalThis==null?void 0:globalThis.document){const r=Vn(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){HB($se,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Wse(e,t=globalThis==null?void 0:globalThis.document){const r=Vn(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&HB(Bse,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function bR(){const e=new CustomEvent(G2);document.dispatchEvent(e)}function HB(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?TB(a,s):a.dispatchEvent(s)}var pS=0;function Fw(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wR()),document.body.insertAdjacentElement("beforeend",e[1]??wR()),pS++,()=>{pS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),pS--}},[])}function wR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gS="focusScope.autoFocusOnMount",vS="focusScope.autoFocusOnUnmount",_R={bubbles:!1,cancelable:!0},Hse="FocusScope",$v=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=Vn(a),d=Vn(s),f=x.useRef(null),h=$t(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Fc(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Fc(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&Fc(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){SR.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(gS,_R);l.addEventListener(gS,u),l.dispatchEvent(y),y.defaultPrevented||(qse(Qse(qB(l)),{select:!0}),document.activeElement===p&&Fc(l))}return()=>{l.removeEventListener(gS,u),setTimeout(()=>{const y=new CustomEvent(vS,_R);l.addEventListener(vS,d),l.dispatchEvent(y),y.defaultPrevented||Fc(p??document.body,{select:!0}),l.removeEventListener(vS,d),SR.remove(m)},0)}}},[l,u,d,m]);const g=x.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const b=p.currentTarget,[w,j]=Gse(b);w&&j?!p.shiftKey&&y===j?(p.preventDefault(),r&&Fc(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),r&&Fc(j,{select:!0})):y===b&&p.preventDefault()}},[r,n,m.paused]);return i.jsx(mt.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});$v.displayName=Hse;function qse(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Fc(n,{select:t}),document.activeElement!==r)return}function Gse(e){const t=qB(e),r=jR(t,e),n=jR(t.reverse(),e);return[r,n]}function qB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jR(e,t){for(const r of e)if(!Kse(r,{upTo:t}))return r}function Kse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Yse(e){return e instanceof HTMLInputElement&&"select"in e}function Fc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Yse(e)&&t&&e.select()}}var SR=Xse();function Xse(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=NR(e,t),e.unshift(t)},remove(t){var r;e=NR(e,t),(r=e[0])==null||r.resume()}}}function NR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Qse(e){return e.filter(t=>t.tagName!=="A")}var Jse=dE[" useId ".trim().toString()]||(()=>{}),Zse=0;function ta(e){const[t,r]=x.useState(Jse());return bn(()=>{r(n=>n??String(Zse++))},[e]),t?`radix-${t}`:""}const eie=["top","right","bottom","left"],Tu=Math.min,Ks=Math.max,O1=Math.round,Kx=Math.floor,sl=e=>({x:e,y:e}),tie={left:"right",right:"left",bottom:"top",top:"bottom"},rie={start:"end",end:"start"};function K2(e,t,r){return Ks(e,Tu(t,r))}function oc(e,t){return typeof e=="function"?e(t):e}function lc(e){return e.split("-")[0]}function up(e){return e.split("-")[1]}function NT(e){return e==="x"?"y":"x"}function kT(e){return e==="y"?"height":"width"}const nie=new Set(["top","bottom"]);function el(e){return nie.has(lc(e))?"y":"x"}function CT(e){return NT(el(e))}function aie(e,t,r){r===void 0&&(r=!1);const n=up(e),a=CT(e),s=kT(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=D1(o)),[o,D1(o)]}function sie(e){const t=D1(e);return[Y2(e),t,Y2(t)]}function Y2(e){return e.replace(/start|end/g,t=>rie[t])}const kR=["left","right"],CR=["right","left"],iie=["top","bottom"],oie=["bottom","top"];function lie(e,t,r){switch(e){case"top":case"bottom":return r?t?CR:kR:t?kR:CR;case"left":case"right":return t?iie:oie;default:return[]}}function cie(e,t,r,n){const a=up(e);let s=lie(lc(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(Y2)))),s}function D1(e){return e.replace(/left|right|bottom|top/g,t=>tie[t])}function uie(e){return{top:0,right:0,bottom:0,left:0,...e}}function GB(e){return typeof e!="number"?uie(e):{top:e,right:e,bottom:e,left:e}}function R1(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function ER(e,t,r){let{reference:n,floating:a}=e;const s=el(t),o=CT(t),l=kT(o),c=lc(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(up(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const die=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=ER(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:y}=l[p],{x:b,y:w,data:j,reset:_}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=w??f,m={...m,[v]:{...m[v],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=ER(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Eg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=oc(t,e),g=GB(m),v=l[h?f==="floating"?"reference":"floating":f],y=R1(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},_=R1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-_.top+g.top)/j.y,bottom:(_.bottom-y.bottom+g.bottom)/j.y,left:(y.left-_.left+g.left)/j.x,right:(_.right-y.right+g.right)/j.x}}const fie=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=oc(e,t)||{};if(u==null)return{};const f=GB(d),h={x:r,y:n},m=CT(a),g=kT(m),p=await o.getDimensions(u),v=m==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=s.reference[g]+s.reference[m]-h[m]-s.floating[g],_=h[m]-s.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[w]||s.floating[g]);const C=j/2-_/2,k=N/2-p[g]/2-1,E=Tu(f[y],k),O=Tu(f[b],k),T=E,U=N-p[g]-O,W=N/2-p[g]/2+C,R=K2(T,W,U),z=!c.arrow&&up(a)!=null&&W!==R&&s.reference[g]/2-(W<T?E:O)-p[g]/2<0,P=z?W<T?W-T:W-U:0;return{[m]:h[m]+P,data:{[m]:R,centerOffset:W-R-P,...z&&{alignmentOffset:P}},reset:z}}}),hie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=oc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=lc(a),b=el(l),w=lc(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(w||!p?[D1(l)]:sie(l)),S=g!=="none";!h&&S&&_.push(...cie(l,p,g,j));const N=[l,..._],C=await Eg(t,v),k=[];let E=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&k.push(C[y]),f){const W=aie(a,o,j);k.push(C[W[0]],C[W[1]])}if(E=[...E,{placement:a,overflows:k}],!k.every(W=>W<=0)){var O,T;const W=(((O=s.flip)==null?void 0:O.index)||0)+1,R=N[W];if(R&&(!(f==="alignment"?b!==el(R):!1)||E.every(M=>M.overflows[0]>0&&el(M.placement)===b)))return{data:{index:W,overflows:E},reset:{placement:R}};let z=(T=E.filter(P=>P.overflows[0]<=0).sort((P,M)=>P.overflows[1]-M.overflows[1])[0])==null?void 0:T.placement;if(!z)switch(m){case"bestFit":{var U;const P=(U=E.filter(M=>{if(S){const L=el(M.placement);return L===b||L==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(L=>L>0).reduce((L,q)=>L+q,0)]).sort((M,L)=>M[1]-L[1])[0])==null?void 0:U[0];P&&(z=P);break}case"initialPlacement":z=l;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function TR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function AR(e){return eie.some(t=>e[t]>=0)}const mie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=oc(e,t);switch(n){case"referenceHidden":{const s=await Eg(t,{...a,elementContext:"reference"}),o=TR(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:AR(o)}}}case"escaped":{const s=await Eg(t,{...a,altBoundary:!0}),o=TR(s,r.floating);return{data:{escapedOffsets:o,escaped:AR(o)}}}default:return{}}}}},KB=new Set(["left","top"]);async function pie(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=lc(r),l=up(r),c=el(r)==="y",u=KB.has(o)?-1:1,d=s&&c?-1:1,f=oc(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const gie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await pie(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},vie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=oc(e,t),u={x:r,y:n},d=await Eg(t,c),f=el(lc(a)),h=NT(f);let m=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=m+d[v],w=m-d[y];m=K2(b,m,w)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=g+d[v],w=g-d[y];g=K2(b,g,w)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[f]:o}}}}}},xie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=oc(e,t),d={x:r,y:n},f=el(a),h=NT(f);let m=d[h],g=d[f];const p=oc(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",j=s.reference[h]-s.floating[w]+v.mainAxis,_=s.reference[h]+s.reference[w]-v.mainAxis;m<j?m=j:m>_&&(m=_)}if(u){var y,b;const w=h==="y"?"width":"height",j=KB.has(lc(a)),_=s.reference[f]-s.floating[w]+(j&&((y=o.offset)==null?void 0:y[f])||0)+(j?0:v.crossAxis),S=s.reference[f]+s.reference[w]+(j?0:((b=o.offset)==null?void 0:b[f])||0)-(j?v.crossAxis:0);g<_?g=_:g>S&&(g=S)}return{[h]:m,[f]:g}}}},yie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=oc(e,t),d=await Eg(t,u),f=lc(a),h=up(a),m=el(a)==="y",{width:g,height:p}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const b=p-d.top-d.bottom,w=g-d.left-d.right,j=Tu(p-d[v],b),_=Tu(g-d[y],w),S=!t.middlewareData.shift;let N=j,C=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=b),S&&!h){const E=Ks(d.left,0),O=Ks(d.right,0),T=Ks(d.top,0),U=Ks(d.bottom,0);m?C=g-2*(E!==0||O!==0?E+O:Ks(d.left,d.right)):N=p-2*(T!==0||U!==0?T+U:Ks(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:N});const k=await o.getDimensions(l.floating);return g!==k.width||p!==k.height?{reset:{rects:!0}}:{}}}};function Iw(){return typeof window<"u"}function dp(e){return YB(e)?(e.nodeName||"").toLowerCase():"#document"}function ri(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wl(e){var t;return(t=(YB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YB(e){return Iw()?e instanceof Node||e instanceof ri(e).Node:!1}function jo(e){return Iw()?e instanceof Element||e instanceof ri(e).Element:!1}function dl(e){return Iw()?e instanceof HTMLElement||e instanceof ri(e).HTMLElement:!1}function PR(e){return!Iw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ri(e).ShadowRoot}const bie=new Set(["inline","contents"]);function Bv(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=So(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!bie.has(a)}const wie=new Set(["table","td","th"]);function _ie(e){return wie.has(dp(e))}const jie=[":popover-open",":modal"];function Lw(e){return jie.some(t=>{try{return e.matches(t)}catch{return!1}})}const Sie=["transform","translate","scale","rotate","perspective"],Nie=["transform","translate","scale","rotate","perspective","filter"],kie=["paint","layout","strict","content"];function ET(e){const t=TT(),r=jo(e)?So(e):e;return Sie.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Nie.some(n=>(r.willChange||"").includes(n))||kie.some(n=>(r.contain||"").includes(n))}function Cie(e){let t=Au(e);for(;dl(t)&&!gm(t);){if(ET(t))return t;if(Lw(t))return null;t=Au(t)}return null}function TT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Eie=new Set(["html","body","#document"]);function gm(e){return Eie.has(dp(e))}function So(e){return ri(e).getComputedStyle(e)}function $w(e){return jo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Au(e){if(dp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PR(e)&&e.host||wl(e);return PR(t)?t.host:t}function XB(e){const t=Au(e);return gm(t)?e.ownerDocument?e.ownerDocument.body:e.body:dl(t)&&Bv(t)?t:XB(t)}function Tg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=XB(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=ri(a);if(s){const l=X2(o);return t.concat(o,o.visualViewport||[],Bv(a)?a:[],l&&r?Tg(l):[])}return t.concat(a,Tg(a,[],r))}function X2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function QB(e){const t=So(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=dl(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=O1(r)!==s||O1(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function AT(e){return jo(e)?e:e.contextElement}function Rh(e){const t=AT(e);if(!dl(t))return sl(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=QB(t);let o=(s?O1(r.width):r.width)/n,l=(s?O1(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Tie=sl(0);function JB(e){const t=ri(e);return!TT()||!t.visualViewport?Tie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Aie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ri(e)?!1:t}function Xd(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=AT(e);let o=sl(1);t&&(n?jo(n)&&(o=Rh(n)):o=Rh(e));const l=Aie(s,r,n)?JB(s):sl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=ri(s),m=n&&jo(n)?ri(n):n;let g=h,p=X2(g);for(;p&&n&&m!==g;){const v=Rh(p),y=p.getBoundingClientRect(),b=So(p),w=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,j=y.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=j,g=ri(p),p=X2(g)}}return R1({width:d,height:f,x:c,y:u})}function PT(e,t){const r=$w(e).scrollLeft;return t?t.left+r:Xd(wl(e)).left+r}function ZB(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:PT(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function Pie(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=wl(n),l=t?Lw(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=sl(1);const d=sl(0),f=dl(n);if((f||!f&&!s)&&((dp(n)!=="body"||Bv(o))&&(c=$w(n)),dl(n))){const m=Xd(n);u=Rh(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!s?ZB(o,c,!0):sl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Oie(e){return Array.from(e.getClientRects())}function Die(e){const t=wl(e),r=$w(e),n=e.ownerDocument.body,a=Ks(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ks(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+PT(e);const l=-r.scrollTop;return So(n).direction==="rtl"&&(o+=Ks(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function Rie(e,t){const r=ri(e),n=wl(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=TT();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}const Mie=new Set(["absolute","fixed"]);function Fie(e,t){const r=Xd(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=dl(e)?Rh(e):sl(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function OR(e,t,r){let n;if(t==="viewport")n=Rie(e,r);else if(t==="document")n=Die(wl(e));else if(jo(t))n=Fie(t,r);else{const a=JB(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return R1(n)}function e9(e,t){const r=Au(e);return r===t||!jo(r)||gm(r)?!1:So(r).position==="fixed"||e9(r,t)}function Iie(e,t){const r=t.get(e);if(r)return r;let n=Tg(e,[],!1).filter(l=>jo(l)&&dp(l)!=="body"),a=null;const s=So(e).position==="fixed";let o=s?Au(e):e;for(;jo(o)&&!gm(o);){const l=So(o),c=ET(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&Mie.has(a.position)||Bv(o)&&!c&&e9(e,o))?n=n.filter(d=>d!==o):a=l,o=Au(o)}return t.set(e,n),n}function Lie(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Lw(t)?[]:Iie(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=OR(t,d,a);return u.top=Ks(f.top,u.top),u.right=Tu(f.right,u.right),u.bottom=Tu(f.bottom,u.bottom),u.left=Ks(f.left,u.left),u},OR(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function $ie(e){const{width:t,height:r}=QB(e);return{width:t,height:r}}function Bie(e,t,r){const n=dl(t),a=wl(t),s=r==="fixed",o=Xd(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=sl(0);function u(){c.x=PT(a)}if(n||!n&&!s)if((dp(t)!=="body"||Bv(a))&&(l=$w(t)),n){const m=Xd(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?ZB(a,l):sl(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function xS(e){return So(e).position==="static"}function DR(e,t){if(!dl(e)||So(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return wl(e)===r&&(r=r.ownerDocument.body),r}function t9(e,t){const r=ri(e);if(Lw(e))return r;if(!dl(e)){let a=Au(e);for(;a&&!gm(a);){if(jo(a)&&!xS(a))return a;a=Au(a)}return r}let n=DR(e,t);for(;n&&_ie(n)&&xS(n);)n=DR(n,t);return n&&gm(n)&&xS(n)&&!ET(n)?r:n||Cie(e)||r}const Uie=async function(e){const t=this.getOffsetParent||t9,r=this.getDimensions,n=await r(e.floating);return{reference:Bie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function zie(e){return So(e).direction==="rtl"}const Vie={convertOffsetParentRelativeRectToViewportRelativeRect:Pie,getDocumentElement:wl,getClippingRect:Lie,getOffsetParent:t9,getElementRects:Uie,getClientRects:Oie,getDimensions:$ie,getScale:Rh,isElement:jo,isRTL:zie};function r9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wie(e,t){let r=null,n;const a=wl(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=Kx(f),p=Kx(a.clientWidth-(d+h)),v=Kx(a.clientHeight-(f+m)),y=Kx(d),w={rootMargin:-g+"px "+-p+"px "+-v+"px "+-y+"px",threshold:Ks(0,Tu(1,c))||1};let j=!0;function _(S){const N=S[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!r9(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,w)}r.observe(e)}return o(!0),s}function Hie(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=AT(e),d=a||s?[...u?Tg(u):[],...Tg(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&l?Wie(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?Xd(e):null;c&&v();function v(){const y=Xd(e);p&&!r9(p,y)&&r(),p=y,g=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const qie=gie,Gie=vie,Kie=hie,Yie=yie,Xie=mie,RR=fie,Qie=xie,Jie=(e,t,r)=>{const n=new Map,a={platform:Vie,...r},s={...a.platform,_c:n};return die(e,t,{...a,platform:s})};var Zie=typeof document<"u",eoe=function(){},Vy=Zie?x.useLayoutEffect:eoe;function M1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!M1(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!M1(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function n9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function MR(e,t){const r=n9(e);return Math.round(t*r)/r}function yS(e){const t=x.useRef(e);return Vy(()=>{t.current=e}),t}function toe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);M1(h,n)||m(n);const[g,p]=x.useState(null),[v,y]=x.useState(null),b=x.useCallback(M=>{M!==S.current&&(S.current=M,p(M))},[]),w=x.useCallback(M=>{M!==N.current&&(N.current=M,y(M))},[]),j=s||g,_=o||v,S=x.useRef(null),N=x.useRef(null),C=x.useRef(d),k=c!=null,E=yS(c),O=yS(a),T=yS(u),U=x.useCallback(()=>{if(!S.current||!N.current)return;const M={placement:t,strategy:r,middleware:h};O.current&&(M.platform=O.current),Jie(S.current,N.current,M).then(L=>{const q={...L,isPositioned:T.current!==!1};W.current&&!M1(C.current,q)&&(C.current=q,ip.flushSync(()=>{f(q)}))})},[h,t,r,O,T]);Vy(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const W=x.useRef(!1);Vy(()=>(W.current=!0,()=>{W.current=!1}),[]),Vy(()=>{if(j&&(S.current=j),_&&(N.current=_),j&&_){if(E.current)return E.current(j,_,U);U()}},[j,_,U,E,k]);const R=x.useMemo(()=>({reference:S,floating:N,setReference:b,setFloating:w}),[b,w]),z=x.useMemo(()=>({reference:j,floating:_}),[j,_]),P=x.useMemo(()=>{const M={position:r,left:0,top:0};if(!z.floating)return M;const L=MR(z.floating,d.x),q=MR(z.floating,d.y);return l?{...M,transform:"translate("+L+"px, "+q+"px)",...n9(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:q}},[r,l,z.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:U,refs:R,elements:z,floatingStyles:P}),[d,U,R,z,P])}const roe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?RR({element:n.current,padding:a}).fn(r):{}:n?RR({element:n,padding:a}).fn(r):{}}}},noe=(e,t)=>({...qie(e),options:[e,t]}),aoe=(e,t)=>({...Gie(e),options:[e,t]}),soe=(e,t)=>({...Qie(e),options:[e,t]}),ioe=(e,t)=>({...Kie(e),options:[e,t]}),ooe=(e,t)=>({...Yie(e),options:[e,t]}),loe=(e,t)=>({...Xie(e),options:[e,t]}),coe=(e,t)=>({...roe(e),options:[e,t]});var uoe="Arrow",a9=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(mt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});a9.displayName=uoe;var doe=a9;function OT(e){const[t,r]=x.useState(void 0);return bn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var DT="Popper",[s9,fp]=ms(DT),[foe,i9]=s9(DT),o9=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return i.jsx(foe,{scope:t,anchor:n,onAnchorChange:a,children:r})};o9.displayName=DT;var l9="PopperAnchor",c9=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=i9(l9,r),o=x.useRef(null),l=$t(t,o);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(mt.div,{...a,ref:l})});c9.displayName=l9;var RT="PopperContent",[hoe,moe]=s9(RT),u9=x.forwardRef((e,t)=>{var le,xe,ie,G,Q,D;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=i9(RT,r),[y,b]=x.useState(null),w=$t(t,ce=>b(ce)),[j,_]=x.useState(null),S=OT(j),N=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,k=n+(s!=="center"?"-"+s:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],T=O.length>0,U={padding:E,boundary:O.filter(goe),altBoundary:T},{refs:W,floatingStyles:R,placement:z,isPositioned:P,middlewareData:M}=toe({strategy:"fixed",placement:k,whileElementsMounted:(...ce)=>Hie(...ce,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[noe({mainAxis:a+C,alignmentAxis:o}),c&&aoe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?soe():void 0,...U}),c&&ioe({...U}),ooe({...U,apply:({elements:ce,rects:je,availableWidth:be,availableHeight:Pe})=>{const{width:De,height:Le}=je.reference,et=ce.floating.style;et.setProperty("--radix-popper-available-width",`${be}px`),et.setProperty("--radix-popper-available-height",`${Pe}px`),et.setProperty("--radix-popper-anchor-width",`${De}px`),et.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),j&&coe({element:j,padding:l}),voe({arrowWidth:N,arrowHeight:C}),h&&loe({strategy:"referenceHidden",...U})]}),[L,q]=h9(z),Z=Vn(g);bn(()=>{P&&(Z==null||Z())},[P,Z]);const A=(le=M.arrow)==null?void 0:le.x,B=(xe=M.arrow)==null?void 0:xe.y,H=((ie=M.arrow)==null?void 0:ie.centerOffset)!==0,[V,te]=x.useState();return bn(()=>{y&&te(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:P?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(G=M.transformOrigin)==null?void 0:G.x,(Q=M.transformOrigin)==null?void 0:Q.y].join(" "),...((D=M.hide)==null?void 0:D.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(hoe,{scope:r,placedSide:L,onArrowChange:_,arrowX:A,arrowY:B,shouldHideArrow:H,children:i.jsx(mt.div,{"data-side":L,"data-align":q,...p,ref:w,style:{...p.style,animation:P?void 0:"none"}})})})});u9.displayName=RT;var d9="PopperArrow",poe={top:"bottom",right:"left",bottom:"top",left:"right"},f9=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=moe(d9,n),o=poe[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(doe,{...a,ref:r,style:{...a.style,display:"block"}})})});f9.displayName=d9;function goe(e){return e!==null}var voe=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=h9(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function h9(e){const[t,r="center"]=e.split("-");return[t,r]}var MT=o9,Bw=c9,FT=u9,IT=f9,xoe="Portal",Uv=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=x.useState(!1);bn(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?WJ.createPortal(i.jsx(mt.div,{...n,ref:t}),o):null});Uv.displayName=xoe;var yoe=dE[" useInsertionEffect ".trim().toString()]||bn;function cc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=boe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=woe(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function boe({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),s=x.useRef(t);return yoe(()=>{s.current=t},[t]),x.useEffect(()=>{var o;a.current!==r&&((o=s.current)==null||o.call(s,r),a.current=r)},[r,a]),[r,n,s]}function woe(e){return typeof e=="function"}function LT(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var m9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_oe="VisuallyHidden",joe=x.forwardRef((e,t)=>i.jsx(mt.span,{...e,ref:t,style:{...m9,...e.style}}));joe.displayName=_oe;var Soe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bf=new WeakMap,Yx=new WeakMap,Xx={},bS=0,p9=function(e){return e&&(e.host||p9(e.parentNode))},Noe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=p9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},koe=function(e,t,r,n){var a=Noe(t,Array.isArray(e)?e:[e]);Xx[r]||(Xx[r]=new WeakMap);var s=Xx[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Bf.get(h)||0)+1,v=(s.get(h)||0)+1;Bf.set(h,p),s.set(h,v),o.push(h),p===1&&g&&Yx.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),bS++,function(){o.forEach(function(f){var h=Bf.get(f)-1,m=s.get(f)-1;Bf.set(f,h),s.set(f,m),h||(Yx.has(f)||f.removeAttribute(n),Yx.delete(f)),m||f.removeAttribute(r)}),bS--,bS||(Bf=new WeakMap,Bf=new WeakMap,Yx=new WeakMap,Xx={})}},Uw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Soe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),koe(n,a,r,"aria-hidden")):function(){return null}},Yo=function(){return Yo=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Yo.apply(this,arguments)};function g9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Coe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Wy="right-scroll-bar-position",Hy="width-before-scroll-bar",Eoe="with-scroll-bars-hidden",Toe="--removed-body-scroll-bar-size";function wS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Aoe(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Poe=typeof window<"u"?x.useLayoutEffect:x.useEffect,FR=new WeakMap;function Ooe(e,t){var r=Aoe(null,function(n){return e.forEach(function(a){return wS(a,n)})});return Poe(function(){var n=FR.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||wS(l,null)}),s.forEach(function(l){a.has(l)||wS(l,o)})}FR.set(r,e)},[e]),r}function Doe(e){return e}function Roe(e,t){t===void 0&&(t=Doe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Moe(e){e===void 0&&(e={});var t=Roe(null);return t.options=Yo({async:!0,ssr:!1},e),t}var v9=function(e){var t=e.sideCar,r=g9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Yo({},r))};v9.isSideCarExport=!0;function Foe(e,t){return e.useMedium(t),v9}var x9=Moe(),_S=function(){},zw=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:_S,onWheelCapture:_S,onTouchMoveCapture:_S}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,j=g9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=Ooe([r,t]),N=Yo(Yo({},j),a);return x.createElement(x.Fragment,null,d&&x.createElement(_,{sideCar:x9,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?x.cloneElement(x.Children.only(l),Yo(Yo({},N),{ref:S})):x.createElement(b,Yo({},N,{className:c,ref:S}),l))});zw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zw.classNames={fullWidth:Hy,zeroRight:Wy};var Ioe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Loe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ioe();return t&&e.setAttribute("nonce",t),e}function $oe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Boe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Uoe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Loe())&&($oe(t,r),Boe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},zoe=function(){var e=Uoe();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},y9=function(){var e=zoe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Voe={left:0,top:0,right:0,gap:0},jS=function(e){return parseInt(e||"",10)||0},Woe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[jS(r),jS(n),jS(a)]},Hoe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Voe;var t=Woe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},qoe=y9(),Mh="data-scroll-locked",Goe=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Eoe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Mh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Hy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Wy," .").concat(Wy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hy," .").concat(Hy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Mh,`] {
    `).concat(Toe,": ").concat(l,`px;
  }
`)},IR=function(){var e=parseInt(document.body.getAttribute(Mh)||"0",10);return isFinite(e)?e:0},Koe=function(){x.useEffect(function(){return document.body.setAttribute(Mh,(IR()+1).toString()),function(){var e=IR()-1;e<=0?document.body.removeAttribute(Mh):document.body.setAttribute(Mh,e.toString())}},[])},Yoe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Koe();var s=x.useMemo(function(){return Hoe(a)},[a]);return x.createElement(qoe,{styles:Goe(s,!t,a,r?"":"!important")})},Q2=!1;if(typeof window<"u")try{var Qx=Object.defineProperty({},"passive",{get:function(){return Q2=!0,!0}});window.addEventListener("test",Qx,Qx),window.removeEventListener("test",Qx,Qx)}catch{Q2=!1}var Uf=Q2?{passive:!1}:!1,Xoe=function(e){return e.tagName==="TEXTAREA"},b9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Xoe(e)&&r[t]==="visible")},Qoe=function(e){return b9(e,"overflowY")},Joe=function(e){return b9(e,"overflowX")},LR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=w9(e,n);if(a){var s=_9(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Zoe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ele=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},w9=function(e,t){return e==="v"?Qoe(t):Joe(t)},_9=function(e,t){return e==="v"?Zoe(t):ele(t)},tle=function(e,t){return e==="h"&&t==="rtl"?-1:1},rle=function(e,t,r,n,a){var s=tle(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=_9(e,l),g=m[0],p=m[1],v=m[2],y=p-v-s*g;(g||y)&&w9(e,l)&&(f+=y,h+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Jx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$R=function(e){return[e.deltaX,e.deltaY]},BR=function(e){return e&&"current"in e?e.current:e},nle=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ale=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sle=0,zf=[];function ile(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(sle++)[0],s=x.useState(y9)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Coe([e.lockRef.current],(e.shards||[]).map(BR),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=Jx(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-y[0],j="deltaY"in p?p.deltaY:b[1]-y[1],_,S=p.target,N=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&N==="h"&&S.type==="range")return!1;var C=LR(N,S);if(!C)return!0;if(C?_=N:(_=N==="v"?"h":"v",C=LR(N,S)),!C)return!1;if(!n.current&&"changedTouches"in p&&(w||j)&&(n.current=_),!_)return!0;var k=n.current||_;return rle(k,v,p,k==="h"?w:j,!0)},[]),c=x.useCallback(function(p){var v=p;if(!(!zf.length||zf[zf.length-1]!==s)){var y="deltaY"in v?$R(v):Jx(v),b=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&nle(_.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(BR).filter(Boolean).filter(function(_){return _.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(p,v,y,b){var w={name:p,delta:v,target:y,should:b,shadowParent:ole(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=x.useCallback(function(p){r.current=Jx(p),n.current=void 0},[]),f=x.useCallback(function(p){u(p.type,$R(p),p.target,l(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,Jx(p),p.target,l(p,e.lockRef.current))},[]);x.useEffect(function(){return zf.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Uf),document.addEventListener("touchmove",c,Uf),document.addEventListener("touchstart",d,Uf),function(){zf=zf.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,Uf),document.removeEventListener("touchmove",c,Uf),document.removeEventListener("touchstart",d,Uf)}},[]);var m=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(s,{styles:ale(a)}):null,m?x.createElement(Yoe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ole(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lle=Foe(x9,ile);var zv=x.forwardRef(function(e,t){return x.createElement(zw,Yo({},e,{ref:t,sideCar:lle}))});zv.classNames=zw.classNames;var cle=[" ","Enter","ArrowUp","ArrowDown"],ule=[" ","Enter"],Qd="Select",[Vw,Ww,dle]=ST(Qd),[hp,DHe]=ms(Qd,[dle,fp]),Hw=fp(),[fle,Bu]=hp(Qd),[hle,mle]=hp(Qd),j9=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=Hw(t),[v,y]=x.useState(null),[b,w]=x.useState(null),[j,_]=x.useState(!1),S=Iv(u),[N,C]=cc({prop:n,defaultProp:a??!1,onChange:s,caller:Qd}),[k,E]=cc({prop:o,defaultProp:l,onChange:c,caller:Qd}),O=x.useRef(null),T=v?g||!!v.closest("form"):!0,[U,W]=x.useState(new Set),R=Array.from(U).map(z=>z.props.value).join(";");return i.jsx(MT,{...p,children:i.jsxs(fle,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:ta(),value:k,onValueChange:E,open:N,onOpenChange:C,dir:S,triggerPointerDownPosRef:O,disabled:h,children:[i.jsx(Vw.Provider,{scope:t,children:i.jsx(hle,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(z=>{W(P=>new Set(P).add(z))},[]),onNativeOptionRemove:x.useCallback(z=>{W(P=>{const M=new Set(P);return M.delete(z),M})},[]),children:r})}),T?i.jsxs(G9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:z=>E(z.target.value),disabled:h,form:g,children:[k===void 0?i.jsx("option",{value:""}):null,Array.from(U)]},R):null]})})};j9.displayName=Qd;var S9="SelectTrigger",N9=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=Hw(r),o=Bu(S9,r),l=o.disabled||n,c=$t(t,o.onTriggerChange),u=Ww(r),d=x.useRef("touch"),[f,h,m]=Y9(p=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===o.value),b=X9(v,p,y);b!==void 0&&o.onValueChange(b.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(Bw,{asChild:!0,...s,children:i.jsx(mt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":K9(o.value)?"":void 0,...a,ref:c,onClick:Ze(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Ze(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ze(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&cle.includes(p.key)&&(g(),p.preventDefault())})})})});N9.displayName=S9;var k9="SelectValue",C9=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=Bu(k9,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=$t(t,c.onValueNodeChange);return bn(()=>{u(d)},[u,d]),i.jsx(mt.span,{...l,ref:f,style:{pointerEvents:"none"},children:K9(c.value)?i.jsx(i.Fragment,{children:o}):s})});C9.displayName=k9;var ple="SelectIcon",E9=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(mt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});E9.displayName=ple;var gle="SelectPortal",T9=e=>i.jsx(Uv,{asChild:!0,...e});T9.displayName=gle;var Jd="SelectContent",A9=x.forwardRef((e,t)=>{const r=Bu(Jd,e.__scopeSelect),[n,a]=x.useState();if(bn(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?ip.createPortal(i.jsx(P9,{scope:e.__scopeSelect,children:i.jsx(Vw.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(O9,{...e,ref:t})});A9.displayName=Jd;var Xi=10,[P9,Uu]=hp(Jd),vle="SelectContentImpl",xle=Eu("SelectContent.RemoveScroll"),O9=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...y}=e,b=Bu(Jd,r),[w,j]=x.useState(null),[_,S]=x.useState(null),N=$t(t,le=>j(le)),[C,k]=x.useState(null),[E,O]=x.useState(null),T=Ww(r),[U,W]=x.useState(!1),R=x.useRef(!1);x.useEffect(()=>{if(w)return Uw(w)},[w]),Fw();const z=x.useCallback(le=>{const[xe,...ie]=T().map(D=>D.ref.current),[G]=ie.slice(-1),Q=document.activeElement;for(const D of le)if(D===Q||(D==null||D.scrollIntoView({block:"nearest"}),D===xe&&_&&(_.scrollTop=0),D===G&&_&&(_.scrollTop=_.scrollHeight),D==null||D.focus(),document.activeElement!==Q))return},[T,_]),P=x.useCallback(()=>z([C,w]),[z,C,w]);x.useEffect(()=>{U&&P()},[U,P]);const{onOpenChange:M,triggerPointerDownPosRef:L}=b;x.useEffect(()=>{if(w){let le={x:0,y:0};const xe=G=>{var Q,D;le={x:Math.abs(Math.round(G.pageX)-(((Q=L.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(G.pageY)-(((D=L.current)==null?void 0:D.y)??0))}},ie=G=>{le.x<=10&&le.y<=10?G.preventDefault():w.contains(G.target)||M(!1),document.removeEventListener("pointermove",xe),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",ie,{capture:!0})}}},[w,M,L]),x.useEffect(()=>{const le=()=>M(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[M]);const[q,Z]=Y9(le=>{const xe=T().filter(Q=>!Q.disabled),ie=xe.find(Q=>Q.ref.current===document.activeElement),G=X9(xe,le,ie);G&&setTimeout(()=>G.ref.current.focus())}),A=x.useCallback((le,xe,ie)=>{const G=!R.current&&!ie;(b.value!==void 0&&b.value===xe||G)&&(k(le),G&&(R.current=!0))},[b.value]),B=x.useCallback(()=>w==null?void 0:w.focus(),[w]),H=x.useCallback((le,xe,ie)=>{const G=!R.current&&!ie;(b.value!==void 0&&b.value===xe||G)&&O(le)},[b.value]),V=n==="popper"?J2:D9,te=V===J2?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return i.jsx(P9,{scope:r,content:w,viewport:_,onViewportChange:S,itemRefCallback:A,selectedItem:C,onItemLeave:B,itemTextRefCallback:H,focusSelectedItem:P,selectedItemText:E,position:n,isPositioned:U,searchRef:q,children:i.jsx(zv,{as:xle,allowPinchZoom:!0,children:i.jsx($v,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Ze(a,le=>{var xe;(xe=b.trigger)==null||xe.focus({preventScroll:!0}),le.preventDefault()}),children:i.jsx(Lv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(V,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),...y,...te,onPlaced:()=>W(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ze(y.onKeyDown,le=>{const xe=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!xe&&le.key.length===1&&Z(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let G=T().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(le.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Q=le.target,D=G.indexOf(Q);G=G.slice(D+1)}setTimeout(()=>z(G)),le.preventDefault()}})})})})})})});O9.displayName=vle;var yle="SelectItemAlignedPosition",D9=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Bu(Jd,r),o=Uu(Jd,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=$t(t,N=>d(N)),h=Ww(r),m=x.useRef(!1),g=x.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,w=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&p&&v&&y){const N=s.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),E=y.getBoundingClientRect();if(s.dir!=="rtl"){const Q=E.left-C.left,D=k.left-Q,ce=N.left-D,je=N.width+ce,be=Math.max(je,C.width),Pe=window.innerWidth-Xi,De=q2(D,[Xi,Math.max(Xi,Pe-be)]);l.style.minWidth=je+"px",l.style.left=De+"px"}else{const Q=C.right-E.right,D=window.innerWidth-k.right-Q,ce=window.innerWidth-N.right-D,je=N.width+ce,be=Math.max(je,C.width),Pe=window.innerWidth-Xi,De=q2(D,[Xi,Math.max(Xi,Pe-be)]);l.style.minWidth=je+"px",l.style.right=De+"px"}const O=h(),T=window.innerHeight-Xi*2,U=p.scrollHeight,W=window.getComputedStyle(u),R=parseInt(W.borderTopWidth,10),z=parseInt(W.paddingTop,10),P=parseInt(W.borderBottomWidth,10),M=parseInt(W.paddingBottom,10),L=R+z+U+M+P,q=Math.min(v.offsetHeight*5,L),Z=window.getComputedStyle(p),A=parseInt(Z.paddingTop,10),B=parseInt(Z.paddingBottom,10),H=N.top+N.height/2-Xi,V=T-H,te=v.offsetHeight/2,le=v.offsetTop+te,xe=R+z+le,ie=L-xe;if(xe<=H){const Q=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const D=u.clientHeight-p.offsetTop-p.offsetHeight,ce=Math.max(V,te+(Q?B:0)+D+P),je=xe+ce;l.style.height=je+"px"}else{const Q=O.length>0&&v===O[0].ref.current;l.style.top="0px";const ce=Math.max(H,R+p.offsetTop+(Q?A:0)+te)+ie;l.style.height=ce+"px",p.scrollTop=xe-H+p.offsetTop}l.style.margin=`${Xi}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,p,v,y,s.dir,n]);bn(()=>w(),[w]);const[j,_]=x.useState();bn(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const S=x.useCallback(N=>{N&&g.current===!0&&(w(),b==null||b(),g.current=!1)},[w,b]);return i.jsx(wle,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(mt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});D9.displayName=yle;var ble="SelectPopperPosition",J2=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Xi,...s}=e,o=Hw(r);return i.jsx(FT,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});J2.displayName=ble;var[wle,$T]=hp(Jd,{}),Z2="SelectViewport",R9=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Uu(Z2,r),o=$T(Z2,r),l=$t(t,s.onViewportChange),c=x.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Vw.Slot,{scope:r,children:i.jsx(mt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ze(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Xi*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(p,v);if(y<g){const b=y+m,w=Math.min(g,b),j=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});R9.displayName=Z2;var M9="SelectGroup",[_le,jle]=hp(M9),Sle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ta();return i.jsx(_le,{scope:r,id:a,children:i.jsx(mt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Sle.displayName=M9;var F9="SelectLabel",I9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=jle(F9,r);return i.jsx(mt.div,{id:a.id,...n,ref:t})});I9.displayName=F9;var F1="SelectItem",[Nle,L9]=hp(F1),$9=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=Bu(F1,r),c=Uu(F1,r),u=l.value===n,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),g=$t(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,a)}),p=ta(),v=x.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Nle,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:x.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(Vw.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(mt.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:Ze(o.onFocus,()=>m(!0)),onBlur:Ze(o.onBlur,()=>m(!1)),onClick:Ze(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Ze(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Ze(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Ze(o.onPointerMove,b=>{var w;v.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ze(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ze(o.onKeyDown,b=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&b.key===" "||(ule.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});$9.displayName=F1;var v0="SelectItemText",B9=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=Bu(v0,r),l=Uu(v0,r),c=L9(v0,r),u=mle(v0,r),[d,f]=x.useState(null),h=$t(t,y=>f(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=x.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return bn(()=>(p(g),()=>v(g)),[p,v,g]),i.jsxs(i.Fragment,{children:[i.jsx(mt.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ip.createPortal(s.children,o.valueNode):null]})});B9.displayName=v0;var U9="SelectItemIndicator",z9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return L9(U9,r).isSelected?i.jsx(mt.span,{"aria-hidden":!0,...n,ref:t}):null});z9.displayName=U9;var ek="SelectScrollUpButton",V9=x.forwardRef((e,t)=>{const r=Uu(ek,e.__scopeSelect),n=$T(ek,e.__scopeSelect),[a,s]=x.useState(!1),o=$t(t,n.onScrollButtonChange);return bn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(H9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});V9.displayName=ek;var tk="SelectScrollDownButton",W9=x.forwardRef((e,t)=>{const r=Uu(tk,e.__scopeSelect),n=$T(tk,e.__scopeSelect),[a,s]=x.useState(!1),o=$t(t,n.onScrollButtonChange);return bn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(H9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});W9.displayName=tk;var H9=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Uu("SelectScrollButton",r),o=x.useRef(null),l=Ww(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),bn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(mt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ze(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ze(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ze(a.onPointerLeave,()=>{c()})})}),kle="SelectSeparator",q9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(mt.div,{"aria-hidden":!0,...n,ref:t})});q9.displayName=kle;var rk="SelectArrow",Cle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Hw(r),s=Bu(rk,r),o=Uu(rk,r);return s.open&&o.position==="popper"?i.jsx(IT,{...a,...n,ref:t}):null});Cle.displayName=rk;var Ele="SelectBubbleInput",G9=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),s=$t(n,a),o=LT(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(mt.select,{...r,style:{...m9,...r.style},ref:s,defaultValue:t})});G9.displayName=Ele;function K9(e){return e===""||e===void 0}function Y9(e){const t=Vn(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function X9(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=Tle(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Tle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ale=j9,Q9=N9,Ple=C9,Ole=E9,Dle=T9,J9=A9,Rle=R9,Z9=I9,eU=$9,Mle=B9,Fle=z9,tU=V9,rU=W9,nU=q9;const ft=Ale,ht=Ple,ut=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Q9,{ref:n,className:Ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(Ole,{asChild:!0,children:i.jsx(Oh,{className:"h-4 w-4 opacity-50"})})]}));ut.displayName=Q9.displayName;const aU=x.forwardRef(({className:e,...t},r)=>i.jsx(tU,{ref:r,className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(aae,{className:"h-4 w-4"})}));aU.displayName=tU.displayName;const sU=x.forwardRef(({className:e,...t},r)=>i.jsx(rU,{ref:r,className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Oh,{className:"h-4 w-4"})}));sU.displayName=rU.displayName;const dt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(Dle,{children:i.jsxs(J9,{ref:a,className:Ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(aU,{}),i.jsx(Rle,{className:Ce("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(sU,{})]})}));dt.displayName=J9.displayName;const Ile=x.forwardRef(({className:e,...t},r)=>i.jsx(Z9,{ref:r,className:Ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ile.displayName=Z9.displayName;const ke=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(eU,{ref:n,className:Ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Fle,{children:i.jsx(bT,{className:"h-4 w-4"})})}),i.jsx(Mle,{children:t})]}));ke.displayName=eU.displayName;const Lle=x.forwardRef(({className:e,...t},r)=>i.jsx(nU,{ref:r,className:Ce("-mx-1 my-1 h-px bg-muted",e),...t}));Lle.displayName=nU.displayName;const iU=()=>{const{currentLanguage:e,changeLanguage:t,languages:r}=ir(),n=r.find(a=>a.code===e);return i.jsxs(ft,{value:e,onValueChange:t,children:[i.jsx(ut,{className:"w-[140px]",children:i.jsx(ht,{children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:n==null?void 0:n.name})})})}),i.jsx(dt,{children:r.map(a=>i.jsx(ke,{value:a.code,children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:a.name})})},a.code))})]})};function $le(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Ma=e=>{const{present:t,children:r}=e,n=Ble(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=$t(n.ref,Ule(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};Ma.displayName="Presence";function Ble(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=$le(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Zx(n.current);s.current=l==="mounted"?u:"none"},[l]),bn(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=Zx(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Zx(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=Zx(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Zx(e){return(e==null?void 0:e.animationName)||"none"}function Ule(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var SS="rovingFocusGroup.onEntryFocus",zle={bubbles:!1,cancelable:!0},Vv="RovingFocusGroup",[nk,oU,Vle]=ST(Vv),[Wle,qw]=ms(Vv,[Vle]),[Hle,qle]=Wle(Vv),lU=x.forwardRef((e,t)=>i.jsx(nk.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(nk.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Gle,{...e,ref:t})})}));lU.displayName=Vv;var Gle=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=$t(t,h),g=Iv(s),[p,v]=cc({prop:o,defaultProp:l??null,onChange:c,caller:Vv}),[y,b]=x.useState(!1),w=Vn(u),j=oU(r),_=x.useRef(!1),[S,N]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(SS,w),()=>C.removeEventListener(SS,w)},[w]),i.jsx(Hle,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:x.useCallback(C=>v(C),[v]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>N(C=>C-1),[]),children:i.jsx(mt.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ze(e.onMouseDown,()=>{_.current=!0}),onFocus:Ze(e.onFocus,C=>{const k=!_.current;if(C.target===C.currentTarget&&k&&!y){const E=new CustomEvent(SS,zle);if(C.currentTarget.dispatchEvent(E),!E.defaultPrevented){const O=j().filter(z=>z.focusable),T=O.find(z=>z.active),U=O.find(z=>z.id===p),R=[T,U,...O].filter(Boolean).map(z=>z.ref.current);dU(R,d)}}_.current=!1}),onBlur:Ze(e.onBlur,()=>b(!1))})})}),cU="RovingFocusGroupItem",uU=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:o,...l}=e,c=ta(),u=s||c,d=qle(cU,r),f=d.currentTabStopId===u,h=oU(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return x.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),i.jsx(nk.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:i.jsx(mt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ze(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Ze(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ze(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=Xle(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const j=w.indexOf(v.currentTarget);w=d.loop?Qle(w,j+1):w.slice(j+1)}setTimeout(()=>dU(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});uU.displayName=cU;var Kle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Yle(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Xle(e,t,r){const n=Yle(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Kle[n]}function dU(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Qle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var fU=lU,hU=uU,ak=["Enter"," "],Jle=["ArrowDown","PageUp","Home"],mU=["ArrowUp","PageDown","End"],Zle=[...Jle,...mU],ece={ltr:[...ak,"ArrowRight"],rtl:[...ak,"ArrowLeft"]},tce={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wv="Menu",[Ag,rce,nce]=ST(Wv),[bf,pU]=ms(Wv,[nce,fp,qw]),Gw=fp(),gU=qw(),[ace,wf]=bf(Wv),[sce,Hv]=bf(Wv),vU=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:o=!0}=e,l=Gw(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Vn(s),h=Iv(a);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(MT,{...l,children:i.jsx(ace,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(sce,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};vU.displayName=Wv;var ice="MenuAnchor",BT=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Gw(r);return i.jsx(Bw,{...a,...n,ref:t})});BT.displayName=ice;var UT="MenuPortal",[oce,xU]=bf(UT,{forceMount:void 0}),yU=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=wf(UT,t);return i.jsx(oce,{scope:t,forceMount:r,children:i.jsx(Ma,{present:r||s.open,children:i.jsx(Uv,{asChild:!0,container:a,children:n})})})};yU.displayName=UT;var Ei="MenuContent",[lce,zT]=bf(Ei),bU=x.forwardRef((e,t)=>{const r=xU(Ei,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=wf(Ei,e.__scopeMenu),o=Hv(Ei,e.__scopeMenu);return i.jsx(Ag.Provider,{scope:e.__scopeMenu,children:i.jsx(Ma,{present:n||s.open,children:i.jsx(Ag.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(cce,{...a,ref:t}):i.jsx(uce,{...a,ref:t})})})})}),cce=x.forwardRef((e,t)=>{const r=wf(Ei,e.__scopeMenu),n=x.useRef(null),a=$t(t,n);return x.useEffect(()=>{const s=n.current;if(s)return Uw(s)},[]),i.jsx(VT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ze(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),uce=x.forwardRef((e,t)=>{const r=wf(Ei,e.__scopeMenu);return i.jsx(VT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),dce=Eu("MenuContent.ScrollLock"),VT=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=wf(Ei,r),y=Hv(Ei,r),b=Gw(r),w=gU(r),j=rce(r),[_,S]=x.useState(null),N=x.useRef(null),C=$t(t,N,v.onContentChange),k=x.useRef(0),E=x.useRef(""),O=x.useRef(0),T=x.useRef(null),U=x.useRef("right"),W=x.useRef(0),R=g?zv:x.Fragment,z=g?{as:dce,allowPinchZoom:!0}:void 0,P=L=>{var le,xe;const q=E.current+L,Z=j().filter(ie=>!ie.disabled),A=document.activeElement,B=(le=Z.find(ie=>ie.ref.current===A))==null?void 0:le.textValue,H=Z.map(ie=>ie.textValue),V=jce(H,q,B),te=(xe=Z.find(ie=>ie.textValue===V))==null?void 0:xe.ref.current;(function ie(G){E.current=G,window.clearTimeout(k.current),G!==""&&(k.current=window.setTimeout(()=>ie(""),1e3))})(q),te&&setTimeout(()=>te.focus())};x.useEffect(()=>()=>window.clearTimeout(k.current),[]),Fw();const M=x.useCallback(L=>{var Z,A;return U.current===((Z=T.current)==null?void 0:Z.side)&&Nce(L,(A=T.current)==null?void 0:A.area)},[]);return i.jsx(lce,{scope:r,searchRef:E,onItemEnter:x.useCallback(L=>{M(L)&&L.preventDefault()},[M]),onItemLeave:x.useCallback(L=>{var q;M(L)||((q=N.current)==null||q.focus(),S(null))},[M]),onTriggerLeave:x.useCallback(L=>{M(L)&&L.preventDefault()},[M]),pointerGraceTimerRef:O,onPointerGraceIntentChange:x.useCallback(L=>{T.current=L},[]),children:i.jsx(R,{...z,children:i.jsx($v,{asChild:!0,trapped:a,onMountAutoFocus:Ze(s,L=>{var q;L.preventDefault(),(q=N.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Lv,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(fU,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:Ze(c,L=>{y.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(FT,{role:"menu","aria-orientation":"vertical","data-state":FU(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...p,ref:C,style:{outline:"none",...p.style},onKeyDown:Ze(p.onKeyDown,L=>{const Z=L.target.closest("[data-radix-menu-content]")===L.currentTarget,A=L.ctrlKey||L.altKey||L.metaKey,B=L.key.length===1;Z&&(L.key==="Tab"&&L.preventDefault(),!A&&B&&P(L.key));const H=N.current;if(L.target!==H||!Zle.includes(L.key))return;L.preventDefault();const te=j().filter(le=>!le.disabled).map(le=>le.ref.current);mU.includes(L.key)&&te.reverse(),wce(te)}),onBlur:Ze(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(k.current),E.current="")}),onPointerMove:Ze(e.onPointerMove,Pg(L=>{const q=L.target,Z=W.current!==L.clientX;if(L.currentTarget.contains(q)&&Z){const A=L.clientX>W.current?"right":"left";U.current=A,W.current=L.clientX}}))})})})})})})});bU.displayName=Ei;var fce="MenuGroup",WT=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(mt.div,{role:"group",...n,ref:t})});WT.displayName=fce;var hce="MenuLabel",wU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(mt.div,{...n,ref:t})});wU.displayName=hce;var I1="MenuItem",UR="menu.itemSelect",Kw=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=x.useRef(null),o=Hv(I1,e.__scopeMenu),l=zT(I1,e.__scopeMenu),c=$t(t,s),u=x.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(UR,{bubbles:!0,cancelable:!0});f.addEventListener(UR,m=>n==null?void 0:n(m),{once:!0}),TB(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(_U,{...a,ref:c,disabled:r,onClick:Ze(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ze(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ze(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||ak.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Kw.displayName=I1;var _U=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,o=zT(I1,r),l=gU(r),c=x.useRef(null),u=$t(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[s.children]),i.jsx(Ag.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:i.jsx(hU,{asChild:!0,...l,focusable:!n,children:i.jsx(mt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Ze(e.onPointerMove,Pg(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ze(e.onPointerLeave,Pg(g=>o.onItemLeave(g))),onFocus:Ze(e.onFocus,()=>f(!0)),onBlur:Ze(e.onBlur,()=>f(!1))})})})}),mce="MenuCheckboxItem",jU=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return i.jsx(EU,{scope:e.__scopeMenu,checked:r,children:i.jsx(Kw,{role:"menuitemcheckbox","aria-checked":L1(r)?"mixed":r,...a,ref:t,"data-state":qT(r),onSelect:Ze(a.onSelect,()=>n==null?void 0:n(L1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});jU.displayName=mce;var SU="MenuRadioGroup",[pce,gce]=bf(SU,{value:void 0,onValueChange:()=>{}}),NU=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Vn(n);return i.jsx(pce,{scope:e.__scopeMenu,value:r,onValueChange:s,children:i.jsx(WT,{...a,ref:t})})});NU.displayName=SU;var kU="MenuRadioItem",CU=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=gce(kU,e.__scopeMenu),s=r===a.value;return i.jsx(EU,{scope:e.__scopeMenu,checked:s,children:i.jsx(Kw,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":qT(s),onSelect:Ze(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});CU.displayName=kU;var HT="MenuItemIndicator",[EU,vce]=bf(HT,{checked:!1}),TU=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=vce(HT,r);return i.jsx(Ma,{present:n||L1(s.checked)||s.checked===!0,children:i.jsx(mt.span,{...a,ref:t,"data-state":qT(s.checked)})})});TU.displayName=HT;var xce="MenuSeparator",AU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(mt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});AU.displayName=xce;var yce="MenuArrow",PU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Gw(r);return i.jsx(IT,{...a,...n,ref:t})});PU.displayName=yce;var bce="MenuSub",[RHe,OU]=bf(bce),x0="MenuSubTrigger",DU=x.forwardRef((e,t)=>{const r=wf(x0,e.__scopeMenu),n=Hv(x0,e.__scopeMenu),a=OU(x0,e.__scopeMenu),s=zT(x0,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(BT,{asChild:!0,...u,children:i.jsx(_U,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":FU(r.open),...e,ref:ic(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ze(e.onPointerMove,Pg(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ze(e.onPointerLeave,Pg(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",y=v?-5:5,b=h[v?"left":"right"],w=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:b,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ze(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||ece[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});DU.displayName=x0;var RU="MenuSubContent",MU=x.forwardRef((e,t)=>{const r=xU(Ei,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=wf(Ei,e.__scopeMenu),o=Hv(Ei,e.__scopeMenu),l=OU(RU,e.__scopeMenu),c=x.useRef(null),u=$t(t,c);return i.jsx(Ag.Provider,{scope:e.__scopeMenu,children:i.jsx(Ma,{present:n||s.open,children:i.jsx(Ag.Slot,{scope:e.__scopeMenu,children:i.jsx(VT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ze(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ze(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ze(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=tce[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});MU.displayName=RU;function FU(e){return e?"open":"closed"}function L1(e){return e==="indeterminate"}function qT(e){return L1(e)?"indeterminate":e?"checked":"unchecked"}function wce(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function _ce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function jce(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=_ce(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Sce(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Nce(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Sce(r,t)}function Pg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var kce=vU,Cce=BT,Ece=yU,Tce=bU,Ace=WT,Pce=wU,Oce=Kw,Dce=jU,Rce=NU,Mce=CU,Fce=TU,Ice=AU,Lce=PU,$ce=DU,Bce=MU,Yw="DropdownMenu",[Uce,MHe]=ms(Yw,[pU]),ps=pU(),[zce,IU]=Uce(Yw),LU=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=ps(t),u=x.useRef(null),[d,f]=cc({prop:a,defaultProp:s??!1,onChange:o,caller:Yw});return i.jsx(zce,{scope:t,triggerId:ta(),triggerRef:u,contentId:ta(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(kce,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};LU.displayName=Yw;var $U="DropdownMenuTrigger",BU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=IU($U,r),o=ps(r);return i.jsx(Cce,{asChild:!0,...o,children:i.jsx(mt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:ic(t,s.triggerRef),onPointerDown:Ze(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ze(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});BU.displayName=$U;var Vce="DropdownMenuPortal",UU=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ps(t);return i.jsx(Ece,{...n,...r})};UU.displayName=Vce;var zU="DropdownMenuContent",VU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=IU(zU,r),s=ps(r),o=x.useRef(!1);return i.jsx(Tce,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:Ze(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ze(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VU.displayName=zU;var Wce="DropdownMenuGroup",Hce=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ps(r);return i.jsx(Ace,{...a,...n,ref:t})});Hce.displayName=Wce;var qce="DropdownMenuLabel",WU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ps(r);return i.jsx(Pce,{...a,...n,ref:t})});WU.displayName=qce;var Gce="DropdownMenuItem",HU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ps(r);return i.jsx(Oce,{...a,...n,ref:t})});HU.displayName=Gce;var Kce="DropdownMenuCheckboxItem",qU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ps(r);return i.jsx(Dce,{...a,...n,ref:t})});qU.displayName=Kce;var Yce="DropdownMenuRadioGroup",Xce=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ps(r);return i.jsx(Rce,{...a,...n,ref:t})});Xce.displayName=Yce;var Qce="DropdownMenuRadioItem",GU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ps(r);return i.jsx(Mce,{...a,...n,ref:t})});GU.displayName=Qce;var Jce="DropdownMenuItemIndicator",KU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ps(r);return i.jsx(Fce,{...a,...n,ref:t})});KU.displayName=Jce;var Zce="DropdownMenuSeparator",YU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ps(r);return i.jsx(Ice,{...a,...n,ref:t})});YU.displayName=Zce;var eue="DropdownMenuArrow",tue=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ps(r);return i.jsx(Lce,{...a,...n,ref:t})});tue.displayName=eue;var rue="DropdownMenuSubTrigger",XU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ps(r);return i.jsx($ce,{...a,...n,ref:t})});XU.displayName=rue;var nue="DropdownMenuSubContent",QU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ps(r);return i.jsx(Bce,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});QU.displayName=nue;var aue=LU,sue=BU,iue=UU,JU=VU,ZU=WU,e7=HU,t7=qU,r7=GU,n7=KU,a7=YU,s7=XU,i7=QU;const GT=aue,KT=sue,oue=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>i.jsxs(s7,{ref:a,className:Ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(Dw,{className:"ml-auto h-4 w-4"})]}));oue.displayName=s7.displayName;const lue=x.forwardRef(({className:e,...t},r)=>i.jsx(i7,{ref:r,className:Ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));lue.displayName=i7.displayName;const Xw=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(iue,{children:i.jsx(JU,{ref:n,sideOffset:t,className:Ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Xw.displayName=JU.displayName;const $l=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(e7,{ref:n,className:Ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));$l.displayName=e7.displayName;const cue=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>i.jsxs(t7,{ref:a,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(n7,{children:i.jsx(bT,{className:"h-4 w-4"})})}),t]}));cue.displayName=t7.displayName;const uue=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(r7,{ref:n,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(n7,{children:i.jsx(iae,{className:"h-2 w-2 fill-current"})})}),t]}));uue.displayName=r7.displayName;const due=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(ZU,{ref:n,className:Ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));due.displayName=ZU.displayName;const sk=x.forwardRef(({className:e,...t},r)=>i.jsx(a7,{ref:r,className:Ce("-mx-1 my-1 h-px bg-muted",e),...t}));sk.displayName=a7.displayName;var Qw="Dialog",[o7,l7]=ms(Qw),[fue,Eo]=o7(Qw),c7=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=cc({prop:n,defaultProp:a??!1,onChange:s,caller:Qw});return i.jsx(fue,{scope:t,triggerRef:l,contentRef:c,contentId:ta(),titleId:ta(),descriptionId:ta(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};c7.displayName=Qw;var u7="DialogTrigger",d7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Eo(u7,r),s=$t(t,a.triggerRef);return i.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":QT(a.open),...n,ref:s,onClick:Ze(e.onClick,a.onOpenToggle)})});d7.displayName=u7;var YT="DialogPortal",[hue,f7]=o7(YT,{forceMount:void 0}),h7=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Eo(YT,t);return i.jsx(hue,{scope:t,forceMount:r,children:x.Children.map(n,o=>i.jsx(Ma,{present:r||s.open,children:i.jsx(Uv,{asChild:!0,container:a,children:o})}))})};h7.displayName=YT;var $1="DialogOverlay",m7=x.forwardRef((e,t)=>{const r=f7($1,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Eo($1,e.__scopeDialog);return s.modal?i.jsx(Ma,{present:n||s.open,children:i.jsx(pue,{...a,ref:t})}):null});m7.displayName=$1;var mue=Eu("DialogOverlay.RemoveScroll"),pue=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Eo($1,r);return i.jsx(zv,{as:mue,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(mt.div,{"data-state":QT(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Zd="DialogContent",p7=x.forwardRef((e,t)=>{const r=f7(Zd,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Eo(Zd,e.__scopeDialog);return i.jsx(Ma,{present:n||s.open,children:s.modal?i.jsx(gue,{...a,ref:t}):i.jsx(vue,{...a,ref:t})})});p7.displayName=Zd;var gue=x.forwardRef((e,t)=>{const r=Eo(Zd,e.__scopeDialog),n=x.useRef(null),a=$t(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return Uw(s)},[]),i.jsx(g7,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ze(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ze(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ze(e.onFocusOutside,s=>s.preventDefault())})}),vue=x.forwardRef((e,t)=>{const r=Eo(Zd,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return i.jsx(g7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),g7=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=Eo(Zd,r),c=x.useRef(null),u=$t(t,c);return Fw(),i.jsxs(i.Fragment,{children:[i.jsx($v,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Lv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":QT(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(yue,{titleId:l.titleId}),i.jsx(wue,{contentRef:c,descriptionId:l.descriptionId})]})]})}),XT="DialogTitle",v7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Eo(XT,r);return i.jsx(mt.h2,{id:a.titleId,...n,ref:t})});v7.displayName=XT;var x7="DialogDescription",y7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Eo(x7,r);return i.jsx(mt.p,{id:a.descriptionId,...n,ref:t})});y7.displayName=x7;var b7="DialogClose",w7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Eo(b7,r);return i.jsx(mt.button,{type:"button",...n,ref:t,onClick:Ze(e.onClick,()=>a.onOpenChange(!1))})});w7.displayName=b7;function QT(e){return e?"open":"closed"}var _7="DialogTitleWarning",[xue,j7]=Cse(_7,{contentName:Zd,titleName:XT,docsSlug:"dialog"}),yue=({titleId:e})=>{const t=j7(_7),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},bue="DialogDescriptionWarning",wue=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${j7(bue).contentName}}.`;return x.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Jw=c7,JT=d7,Zw=h7,mp=m7,pp=p7,qv=v7,Gv=y7,e_=w7;const vn=Jw,B1=JT,_ue=Zw,S7=x.forwardRef(({className:e,...t},r)=>i.jsx(mp,{ref:r,className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));S7.displayName=mp.displayName;const an=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(_ue,{children:[i.jsx(S7,{}),i.jsxs(pp,{ref:n,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...r,children:[t,i.jsxs(e_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Ri,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));an.displayName=pp.displayName;const sn=({className:e,...t})=>i.jsx("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});sn.displayName="DialogHeader";const Oa=({className:e,...t})=>{const{isRTL:r}=ir();return i.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r&&"sm:space-x-reverse",e),...t})};Oa.displayName="DialogFooter";const on=x.forwardRef(({className:e,...t},r)=>i.jsx(qv,{ref:r,className:Ce("text-lg font-semibold leading-none tracking-tight",e),...t}));on.displayName=qv.displayName;const Da=x.forwardRef(({className:e,...t},r)=>i.jsx(Gv,{ref:r,className:Ce("text-sm text-muted-foreground",e),...t}));Da.displayName=Gv.displayName;const jue=Fv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vm=x.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:Ce(jue({variant:t}),e),...r}));vm.displayName="Alert";const Sue=x.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:Ce("mb-1 font-medium leading-none tracking-tight",e),...t}));Sue.displayName="AlertTitle";const xm=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ce("text-sm [&_p]:leading-relaxed",e),...t}));xm.displayName="AlertDescription";function Nue({onToggleSidebar:e}){var j,_,S;const{breadcrumbs:t}=Rv(),{user:r,logout:n}=hr(),{t:a}=At(),s=Ms(),{setTheme:o}=Vne(),[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,g]=x.useState(""),[p,v]=x.useState(!1),y=()=>{try{n(),s("/login")}catch(N){console.error("Logout failed:",N),s("/login")}},b=()=>{c(!0)},w=async N=>{if(N.preventDefault(),!p){if(!u.trim()){g(a("settings.newPasswordRequired"));return}if(u.length<6){g(a("settings.passwordTooShort"));return}if(u!==f){g(a("settings.passwordsDoNotMatch"));return}g(""),v(!0);try{throw new Error("Password change not available - Supabase removed")}catch(C){console.error("Password change failed:",C),g(C.message||a("settings.passwordChangeFailed"))}finally{v(!1)}}};return i.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[i.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:i.jsx(gae,{className:"h-5 w-5"})}),t&&t.length>0&&i.jsx("div",{className:"hidden md:block",children:i.jsx(Mse,{items:t})})]}),i.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:i.jsxs("div",{className:"relative w-full",children:[i.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ue,{type:"search",placeholder:a("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"})]})}),i.jsx("div",{className:"flex-1"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:Oe((r==null?void 0:r.profile)||{},"user_name")||(r==null?void 0:r.email)}),i.jsx(iU,{}),i.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:a("common.notifications"),children:[i.jsx(tae,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:i.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),i.jsx("span",{className:"sr-only",children:a("common.notifications")})]}),i.jsxs(GT,{children:[i.jsx(KT,{asChild:!0,children:i.jsxs(de,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:a("navigation.settings"),children:[i.jsxs(Os,{className:"h-8 w-8",children:[i.jsx(_o,{src:(j=r==null?void 0:r.profile)==null?void 0:j.avatar}),i.jsx(Ds,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(_=r==null?void 0:r.email)==null?void 0:_.charAt(0).toUpperCase()})]}),i.jsx("span",{className:"sr-only",children:a("navigation.settings")})]})}),i.jsxs(Xw,{align:"end",className:"w-56",children:[i.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:i.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[i.jsx("p",{className:"font-medium text-sm",children:Oe((r==null?void 0:r.profile)||{},"user_name")||((S=r==null?void 0:r.email)==null?void 0:S.split("@")[0])}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})}),i.jsx(sk,{}),i.jsxs($l,{onClick:()=>o("light"),children:[i.jsx(jae,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.light","Light")})]}),i.jsxs($l,{onClick:()=>o("dark"),children:[i.jsx(xae,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.dark","Dark")})]}),i.jsxs($l,{onClick:()=>o("system"),children:[i.jsx(kg,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.system","System")})]}),i.jsx(sk,{}),i.jsxs($l,{onClick:b,children:[i.jsx(mae,{className:"h-4 w-4 mr-2"}),a("settings.changePassword")]}),i.jsxs($l,{onClick:y,className:"text-destructive focus:text-destructive",children:[i.jsx(kae,{className:"h-4 w-4 mr-2"}),a("buttons.logout")]})]})]})]})]}),i.jsx(vn,{open:l,onOpenChange:c,children:i.jsxs(an,{className:"sm:max-w-[425px]",children:[i.jsxs(sn,{children:[i.jsx(on,{children:a("settings.changePassword")}),i.jsx(Da,{children:a("settings.changePasswordDescription")})]}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[m&&i.jsx(vm,{variant:"destructive",children:i.jsx(xm,{children:m})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"newPassword",children:a("settings.newPassword")}),i.jsx(Ue,{id:"newPassword",type:"password",value:u,onChange:N=>d(N.target.value),placeholder:a("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"confirmPassword",children:a("settings.confirmPassword")}),i.jsx(Ue,{id:"confirmPassword",type:"password",value:f,onChange:N=>h(N.target.value),placeholder:a("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),i.jsxs(Oa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(de,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:a("buttons.cancel")}),i.jsx(de,{type:"submit",disabled:p||!u.trim()||!f.trim(),className:"w-full sm:w-auto",children:a(p?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const fl=Jw,N7=JT,kue=Zw,k7=x.forwardRef(({className:e,...t},r)=>i.jsx(mp,{className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));k7.displayName=mp.displayName;const Cue=Fv("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),No=x.forwardRef(({side:e="right",className:t,children:r,...n},a)=>i.jsxs(kue,{children:[i.jsx(k7,{}),i.jsxs(pp,{ref:a,className:Ce(Cue({side:e}),t),...n,children:[r,i.jsxs(e_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Ri,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));No.displayName=pp.displayName;const uc=({className:e,...t})=>i.jsx("div",{className:Ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});uc.displayName="SheetHeader";const hl=x.forwardRef(({className:e,...t},r)=>i.jsx(qv,{ref:r,className:Ce("text-lg font-semibold text-foreground",e),...t}));hl.displayName=qv.displayName;const ef=x.forwardRef(({className:e,...t},r)=>i.jsx(Gv,{ref:r,className:Ce("text-sm text-muted-foreground",e),...t}));ef.displayName=Gv.displayName;function ik({children:e}){const{isRTL:t}=ir(),[r,n]=x.useState(!0),[a,s]=x.useState(!1),[o,l]=x.useState(!1);x.useEffect(()=>{const d=()=>{const f=window.innerWidth;s(f<768),l(f>=768&&f<1024),f<768?n(!1):n(!0)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const c=()=>{n(!r)},u=()=>{a&&n(!1)};return i.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[i.jsx(Nue,{onToggleSidebar:c}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!a&&!o&&i.jsx("aside",{className:Ce("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block h-full",r?"w-60":"w-0 overflow-hidden"),children:i.jsx(mS,{onNavigate:u})}),o&&i.jsx("aside",{className:Ce("bg-sidebar transition-all duration-300 ease-in-out h-full",r?"w-60":"w-0 overflow-hidden"),children:i.jsx(mS,{onNavigate:u})}),a&&i.jsx(fl,{open:r,onOpenChange:n,children:i.jsxs(No,{side:t?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[i.jsx(hl,{className:"sr-only",children:"Navigation Menu"}),i.jsx(ef,{className:"sr-only",children:"Application navigation sidebar"}),i.jsx(mS,{onNavigate:u})]})}),i.jsx("main",{className:"flex-1 overflow-hidden bg-background w-full",children:i.jsx("div",{className:"h-full p-3 sm:p-4 md:p-6 pt-2 overflow-y-auto",children:e})})]})]})}const NS=1024;function Ur(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${NS-1}px)`),n=()=>{t(window.innerWidth<NS)};return r.addEventListener("change",n),t(window.innerWidth<NS),()=>r.removeEventListener("change",n)},[]),!!e}const Eue=Fv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function pt({className:e,variant:t,...r}){return i.jsx("div",{className:Ce(Eue({variant:t}),e),...r})}function C7(){At();const[e,t]=x.useState(new Date);x.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]);const r=a=>a.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),n=a=>a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return i.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[i.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:n(e)}),i.jsx("div",{className:"text-sm",children:r(e)})]})}var Tue=Array.isArray,Fs=Tue,Aue=typeof Nx=="object"&&Nx&&Nx.Object===Object&&Nx,E7=Aue,Pue=E7,Oue=typeof self=="object"&&self&&self.Object===Object&&self,Due=Pue||Oue||Function("return this")(),_l=Due,Rue=_l,Mue=Rue.Symbol,Kv=Mue,zR=Kv,T7=Object.prototype,Fue=T7.hasOwnProperty,Iue=T7.toString,Kp=zR?zR.toStringTag:void 0;function Lue(e){var t=Fue.call(e,Kp),r=e[Kp];try{e[Kp]=void 0;var n=!0}catch{}var a=Iue.call(e);return n&&(t?e[Kp]=r:delete e[Kp]),a}var $ue=Lue,Bue=Object.prototype,Uue=Bue.toString;function zue(e){return Uue.call(e)}var Vue=zue,VR=Kv,Wue=$ue,Hue=Vue,que="[object Null]",Gue="[object Undefined]",WR=VR?VR.toStringTag:void 0;function Kue(e){return e==null?e===void 0?Gue:que:WR&&WR in Object(e)?Wue(e):Hue(e)}var yc=Kue;function Yue(e){return e!=null&&typeof e=="object"}var bc=Yue,Xue=yc,Que=bc,Jue="[object Symbol]";function Zue(e){return typeof e=="symbol"||Que(e)&&Xue(e)==Jue}var gp=Zue,ede=Fs,tde=gp,rde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nde=/^\w*$/;function ade(e,t){if(ede(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||tde(e)?!0:nde.test(e)||!rde.test(e)||t!=null&&e in Object(t)}var ZT=ade;function sde(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zu=sde;const vp=fr(zu);var ide=yc,ode=zu,lde="[object AsyncFunction]",cde="[object Function]",ude="[object GeneratorFunction]",dde="[object Proxy]";function fde(e){if(!ode(e))return!1;var t=ide(e);return t==cde||t==ude||t==lde||t==dde}var eA=fde;const Ct=fr(eA);var hde=_l,mde=hde["__core-js_shared__"],pde=mde,kS=pde,HR=function(){var e=/[^.]+$/.exec(kS&&kS.keys&&kS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gde(e){return!!HR&&HR in e}var vde=gde,xde=Function.prototype,yde=xde.toString;function bde(e){if(e!=null){try{return yde.call(e)}catch{}try{return e+""}catch{}}return""}var A7=bde,wde=eA,_de=vde,jde=zu,Sde=A7,Nde=/[\\^$.*+?()[\]{}|]/g,kde=/^\[object .+?Constructor\]$/,Cde=Function.prototype,Ede=Object.prototype,Tde=Cde.toString,Ade=Ede.hasOwnProperty,Pde=RegExp("^"+Tde.call(Ade).replace(Nde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ode(e){if(!jde(e)||_de(e))return!1;var t=wde(e)?Pde:kde;return t.test(Sde(e))}var Dde=Ode;function Rde(e,t){return e==null?void 0:e[t]}var Mde=Rde,Fde=Dde,Ide=Mde;function Lde(e,t){var r=Ide(e,t);return Fde(r)?r:void 0}var _f=Lde,$de=_f,Bde=$de(Object,"create"),t_=Bde,qR=t_;function Ude(){this.__data__=qR?qR(null):{},this.size=0}var zde=Ude;function Vde(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Wde=Vde,Hde=t_,qde="__lodash_hash_undefined__",Gde=Object.prototype,Kde=Gde.hasOwnProperty;function Yde(e){var t=this.__data__;if(Hde){var r=t[e];return r===qde?void 0:r}return Kde.call(t,e)?t[e]:void 0}var Xde=Yde,Qde=t_,Jde=Object.prototype,Zde=Jde.hasOwnProperty;function efe(e){var t=this.__data__;return Qde?t[e]!==void 0:Zde.call(t,e)}var tfe=efe,rfe=t_,nfe="__lodash_hash_undefined__";function afe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rfe&&t===void 0?nfe:t,this}var sfe=afe,ife=zde,ofe=Wde,lfe=Xde,cfe=tfe,ufe=sfe;function xp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xp.prototype.clear=ife;xp.prototype.delete=ofe;xp.prototype.get=lfe;xp.prototype.has=cfe;xp.prototype.set=ufe;var dfe=xp;function ffe(){this.__data__=[],this.size=0}var hfe=ffe;function mfe(e,t){return e===t||e!==e&&t!==t}var tA=mfe,pfe=tA;function gfe(e,t){for(var r=e.length;r--;)if(pfe(e[r][0],t))return r;return-1}var r_=gfe,vfe=r_,xfe=Array.prototype,yfe=xfe.splice;function bfe(e){var t=this.__data__,r=vfe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():yfe.call(t,r,1),--this.size,!0}var wfe=bfe,_fe=r_;function jfe(e){var t=this.__data__,r=_fe(t,e);return r<0?void 0:t[r][1]}var Sfe=jfe,Nfe=r_;function kfe(e){return Nfe(this.__data__,e)>-1}var Cfe=kfe,Efe=r_;function Tfe(e,t){var r=this.__data__,n=Efe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Afe=Tfe,Pfe=hfe,Ofe=wfe,Dfe=Sfe,Rfe=Cfe,Mfe=Afe;function yp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yp.prototype.clear=Pfe;yp.prototype.delete=Ofe;yp.prototype.get=Dfe;yp.prototype.has=Rfe;yp.prototype.set=Mfe;var n_=yp,Ffe=_f,Ife=_l,Lfe=Ffe(Ife,"Map"),rA=Lfe,GR=dfe,$fe=n_,Bfe=rA;function Ufe(){this.size=0,this.__data__={hash:new GR,map:new(Bfe||$fe),string:new GR}}var zfe=Ufe;function Vfe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Wfe=Vfe,Hfe=Wfe;function qfe(e,t){var r=e.__data__;return Hfe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var a_=qfe,Gfe=a_;function Kfe(e){var t=Gfe(this,e).delete(e);return this.size-=t?1:0,t}var Yfe=Kfe,Xfe=a_;function Qfe(e){return Xfe(this,e).get(e)}var Jfe=Qfe,Zfe=a_;function ehe(e){return Zfe(this,e).has(e)}var the=ehe,rhe=a_;function nhe(e,t){var r=rhe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var ahe=nhe,she=zfe,ihe=Yfe,ohe=Jfe,lhe=the,che=ahe;function bp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bp.prototype.clear=she;bp.prototype.delete=ihe;bp.prototype.get=ohe;bp.prototype.has=lhe;bp.prototype.set=che;var nA=bp,P7=nA,uhe="Expected a function";function aA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(uhe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(aA.Cache||P7),r}aA.Cache=P7;var O7=aA;const dhe=fr(O7);var fhe=O7,hhe=500;function mhe(e){var t=fhe(e,function(n){return r.size===hhe&&r.clear(),n}),r=t.cache;return t}var phe=mhe,ghe=phe,vhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xhe=/\\(\\)?/g,yhe=ghe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(vhe,function(r,n,a,s){t.push(a?s.replace(xhe,"$1"):n||r)}),t}),bhe=yhe;function whe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var sA=whe,KR=Kv,_he=sA,jhe=Fs,She=gp,Nhe=1/0,YR=KR?KR.prototype:void 0,XR=YR?YR.toString:void 0;function D7(e){if(typeof e=="string")return e;if(jhe(e))return _he(e,D7)+"";if(She(e))return XR?XR.call(e):"";var t=e+"";return t=="0"&&1/e==-Nhe?"-0":t}var khe=D7,Che=khe;function Ehe(e){return e==null?"":Che(e)}var R7=Ehe,The=Fs,Ahe=ZT,Phe=bhe,Ohe=R7;function Dhe(e,t){return The(e)?e:Ahe(e,t)?[e]:Phe(Ohe(e))}var M7=Dhe,Rhe=gp,Mhe=1/0;function Fhe(e){if(typeof e=="string"||Rhe(e))return e;var t=e+"";return t=="0"&&1/e==-Mhe?"-0":t}var s_=Fhe,Ihe=M7,Lhe=s_;function $he(e,t){t=Ihe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Lhe(t[r++])];return r&&r==n?e:void 0}var iA=$he,Bhe=iA;function Uhe(e,t,r){var n=e==null?void 0:Bhe(e,t);return n===void 0?r:n}var F7=Uhe;const ni=fr(F7);function zhe(e){return e==null}var Vhe=zhe;const Rt=fr(Vhe);var Whe=yc,Hhe=Fs,qhe=bc,Ghe="[object String]";function Khe(e){return typeof e=="string"||!Hhe(e)&&qhe(e)&&Whe(e)==Ghe}var Yhe=Khe;const tf=fr(Yhe);var I7={exports:{}},yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oA=Symbol.for("react.element"),lA=Symbol.for("react.portal"),i_=Symbol.for("react.fragment"),o_=Symbol.for("react.strict_mode"),l_=Symbol.for("react.profiler"),c_=Symbol.for("react.provider"),u_=Symbol.for("react.context"),Xhe=Symbol.for("react.server_context"),d_=Symbol.for("react.forward_ref"),f_=Symbol.for("react.suspense"),h_=Symbol.for("react.suspense_list"),m_=Symbol.for("react.memo"),p_=Symbol.for("react.lazy"),Qhe=Symbol.for("react.offscreen"),L7;L7=Symbol.for("react.module.reference");function $i(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case oA:switch(e=e.type,e){case i_:case l_:case o_:case f_:case h_:return e;default:switch(e=e&&e.$$typeof,e){case Xhe:case u_:case d_:case p_:case m_:case c_:return e;default:return t}}case lA:return t}}}yr.ContextConsumer=u_;yr.ContextProvider=c_;yr.Element=oA;yr.ForwardRef=d_;yr.Fragment=i_;yr.Lazy=p_;yr.Memo=m_;yr.Portal=lA;yr.Profiler=l_;yr.StrictMode=o_;yr.Suspense=f_;yr.SuspenseList=h_;yr.isAsyncMode=function(){return!1};yr.isConcurrentMode=function(){return!1};yr.isContextConsumer=function(e){return $i(e)===u_};yr.isContextProvider=function(e){return $i(e)===c_};yr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===oA};yr.isForwardRef=function(e){return $i(e)===d_};yr.isFragment=function(e){return $i(e)===i_};yr.isLazy=function(e){return $i(e)===p_};yr.isMemo=function(e){return $i(e)===m_};yr.isPortal=function(e){return $i(e)===lA};yr.isProfiler=function(e){return $i(e)===l_};yr.isStrictMode=function(e){return $i(e)===o_};yr.isSuspense=function(e){return $i(e)===f_};yr.isSuspenseList=function(e){return $i(e)===h_};yr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===i_||e===l_||e===o_||e===f_||e===h_||e===Qhe||typeof e=="object"&&e!==null&&(e.$$typeof===p_||e.$$typeof===m_||e.$$typeof===c_||e.$$typeof===u_||e.$$typeof===d_||e.$$typeof===L7||e.getModuleId!==void 0)};yr.typeOf=$i;I7.exports=yr;var Jhe=I7.exports,Zhe=yc,eme=bc,tme="[object Number]";function rme(e){return typeof e=="number"||eme(e)&&Zhe(e)==tme}var $7=rme;const nme=fr($7);var ame=$7;function sme(e){return ame(e)&&e!=+e}var ime=sme;const Yv=fr(ime);var Xa=function(t){return t===0?0:t>0?1:-1},pd=function(t){return tf(t)&&t.indexOf("%")===t.length-1},Ke=function(t){return nme(t)&&!Yv(t)},ome=function(t){return Rt(t)},An=function(t){return Ke(t)||tf(t)},lme=0,wp=function(t){var r=++lme;return"".concat(t||"").concat(r)},Qa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(t)&&!tf(t))return n;var s;if(pd(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Yv(s)&&(s=n),a&&s>r&&(s=r),s},Vc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},cme=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ys=function(t,r){return Ke(t)&&Ke(r)?function(n){return t+n*(r-t)}:function(){return r}};function U1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ni(n,t))===r})}var ume=function(t,r){return Ke(t)&&Ke(r)?t-r:tf(t)&&tf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Fh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ok(e){"@babel/helpers - typeof";return ok=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ok(e)}var dme=["viewBox","children"],fme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QR=["points","pathLength"],CS={svg:dme,polygon:QR,polyline:QR},cA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],z1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!vp(n))return null;var a={};return Object.keys(n).forEach(function(s){cA.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},hme=function(t,r,n){return function(a){return t(r,n,a),null}},rf=function(t,r,n){if(!vp(t)||ok(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];cA.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=hme(o,r,n))}),a},mme=["children"],pme=["children"];function JR(e,t){if(e==null)return{};var r=gme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lk(e){"@babel/helpers - typeof";return lk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lk(e)}var ZR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},eM=null,ES=null,uA=function e(t){if(t===eM&&Array.isArray(ES))return ES;var r=[];return x.Children.forEach(t,function(n){Rt(n)||(Jhe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ES=r,eM=t,r};function ai(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Xl(a)}):n=[Xl(t)],uA(e).forEach(function(a){var s=ni(a,"type.displayName")||ni(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function qs(e,t){var r=ai(e,t);return r&&r[0]}var tM=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ke(n)||n<=0||!Ke(a)||a<=0)},vme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xme=function(t){return t&&t.type&&tf(t.type)&&vme.indexOf(t.type)>=0},yme=function(t){return t&&lk(t)==="object"&&"clipDot"in t},bme=function(t,r,n,a){var s,o=(s=CS==null?void 0:CS[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ct(t)&&(a&&o.includes(r)||fme.includes(r))||n&&cA.includes(r)},bt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!vp(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;bme((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},ck=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return rM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!rM(s,o))return!1}return!0},rM=function(t,r){if(Rt(t)&&Rt(r))return!0;if(!Rt(t)&&!Rt(r)){var n=t.props||{},a=n.children,s=JR(n,mme),o=r.props||{},l=o.children,c=JR(o,pme);return a&&l?Fh(s,c)&&ck(a,l):!a&&!l?Fh(s,c):!1}return!1},nM=function(t,r){var n=[],a={};return uA(t).forEach(function(s,o){if(xme(s))n.push(s);else if(s){var l=Xl(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},wme=function(t){var r=t&&t.type;return r&&ZR[r]?ZR[r]:null},_me=function(t,r){return uA(r).indexOf(t)},jme=["children","width","height","viewBox","className","style","title","desc"];function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uk.apply(this,arguments)}function Sme(e,t){if(e==null)return{};var r=Nme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dk(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=Sme(e,jme),d=a||{width:r,height:n,x:0,y:0},f=Mt("recharts-surface",s);return ue.createElement("svg",uk({},bt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ue.createElement("title",null,l),ue.createElement("desc",null,c),t)}var kme=["children","className"];function fk(){return fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fk.apply(this,arguments)}function Cme(e,t){if(e==null)return{};var r=Eme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ar=ue.forwardRef(function(e,t){var r=e.children,n=e.className,a=Cme(e,kme),s=Mt("recharts-layer",n);return ue.createElement("g",fk({className:s},bt(a,!0),{ref:t}),r)}),go=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function Tme(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var Ame=Tme,Pme=Ame;function Ome(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Pme(e,t,r)}var Dme=Ome,Rme="\\ud800-\\udfff",Mme="\\u0300-\\u036f",Fme="\\ufe20-\\ufe2f",Ime="\\u20d0-\\u20ff",Lme=Mme+Fme+Ime,$me="\\ufe0e\\ufe0f",Bme="\\u200d",Ume=RegExp("["+Bme+Rme+Lme+$me+"]");function zme(e){return Ume.test(e)}var B7=zme;function Vme(e){return e.split("")}var Wme=Vme,U7="\\ud800-\\udfff",Hme="\\u0300-\\u036f",qme="\\ufe20-\\ufe2f",Gme="\\u20d0-\\u20ff",Kme=Hme+qme+Gme,Yme="\\ufe0e\\ufe0f",Xme="["+U7+"]",hk="["+Kme+"]",mk="\\ud83c[\\udffb-\\udfff]",Qme="(?:"+hk+"|"+mk+")",z7="[^"+U7+"]",V7="(?:\\ud83c[\\udde6-\\uddff]){2}",W7="[\\ud800-\\udbff][\\udc00-\\udfff]",Jme="\\u200d",H7=Qme+"?",q7="["+Yme+"]?",Zme="(?:"+Jme+"(?:"+[z7,V7,W7].join("|")+")"+q7+H7+")*",epe=q7+H7+Zme,tpe="(?:"+[z7+hk+"?",hk,V7,W7,Xme].join("|")+")",rpe=RegExp(mk+"(?="+mk+")|"+tpe+epe,"g");function npe(e){return e.match(rpe)||[]}var ape=npe,spe=Wme,ipe=B7,ope=ape;function lpe(e){return ipe(e)?ope(e):spe(e)}var cpe=lpe,upe=Dme,dpe=B7,fpe=cpe,hpe=R7;function mpe(e){return function(t){t=hpe(t);var r=dpe(t)?fpe(t):void 0,n=r?r[0]:t.charAt(0),a=r?upe(r,1).join(""):t.slice(1);return n[e]()+a}}var ppe=mpe,gpe=ppe,vpe=gpe("toUpperCase"),xpe=vpe;const g_=fr(xpe);function Nr(e){return function(){return e}}const G7=Math.cos,V1=Math.sin,To=Math.sqrt,W1=Math.PI,v_=2*W1,pk=Math.PI,gk=2*pk,nd=1e-6,ype=gk-nd;function K7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function bpe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return K7;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class wpe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?K7:bpe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>nd)if(!(Math.abs(f*c-u*d)>nd)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,v=m*m+g*g,y=Math.sqrt(p),b=Math.sqrt(h),w=s*Math.tan((pk-Math.acos((p+h-v)/(2*y*b)))/2),j=w/b,_=w/y;Math.abs(j-1)>nd&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>nd||Math.abs(this._y1-d)>nd)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%gk+gk),h>ype?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>nd&&this._append`A${n},${n},0,${+(h>=pk)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function dA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new wpe(t)}function fA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y7(e){this._context=e}Y7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function x_(e){return new Y7(e)}function X7(e){return e[0]}function Q7(e){return e[1]}function J7(e,t){var r=Nr(!0),n=null,a=x_,s=null,o=dA(l);e=typeof e=="function"?e:e===void 0?X7:Nr(e),t=typeof t=="function"?t:t===void 0?Q7:Nr(t);function l(c){var u,d=(c=fA(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Nr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Nr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Nr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function ey(e,t,r){var n=null,a=Nr(!0),s=null,o=x_,l=null,c=dA(u);e=typeof e=="function"?e:e===void 0?X7:Nr(+e),t=typeof t=="function"?t:Nr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Q7:Nr(+r);function u(f){var h,m,g,p=(f=fA(f)).length,v,y=!1,b,w=new Array(p),j=new Array(p);for(s==null&&(l=o(b=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],j[g]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(b)return l=null,b+""||null}function d(){return J7().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Nr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class Z7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function _pe(e){return new Z7(e,!0)}function jpe(e){return new Z7(e,!1)}const hA={draw(e,t){const r=To(t/W1);e.moveTo(r,0),e.arc(0,0,r,0,v_)}},Spe={draw(e,t){const r=To(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ez=To(1/3),Npe=ez*2,kpe={draw(e,t){const r=To(t/Npe),n=r*ez;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Cpe={draw(e,t){const r=To(t),n=-r/2;e.rect(n,n,r,r)}},Epe=.8908130915292852,tz=V1(W1/10)/V1(7*W1/10),Tpe=V1(v_/10)*tz,Ape=-G7(v_/10)*tz,Ppe={draw(e,t){const r=To(t*Epe),n=Tpe*r,a=Ape*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=v_*s/5,l=G7(o),c=V1(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},TS=To(3),Ope={draw(e,t){const r=-To(t/(TS*3));e.moveTo(0,r*2),e.lineTo(-TS*r,-r),e.lineTo(TS*r,-r),e.closePath()}},fi=-.5,hi=To(3)/2,vk=1/To(12),Dpe=(vk/2+1)*3,Rpe={draw(e,t){const r=To(t/Dpe),n=r/2,a=r*vk,s=n,o=r*vk+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(fi*n-hi*a,hi*n+fi*a),e.lineTo(fi*s-hi*o,hi*s+fi*o),e.lineTo(fi*l-hi*c,hi*l+fi*c),e.lineTo(fi*n+hi*a,fi*a-hi*n),e.lineTo(fi*s+hi*o,fi*o-hi*s),e.lineTo(fi*l+hi*c,fi*c-hi*l),e.closePath()}};function Mpe(e,t){let r=null,n=dA(a);e=typeof e=="function"?e:Nr(e||hA),t=typeof t=="function"?t:Nr(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Nr(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Nr(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function H1(){}function q1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function rz(e){this._context=e}rz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:q1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fpe(e){return new rz(e)}function nz(e){this._context=e}nz.prototype={areaStart:H1,areaEnd:H1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ipe(e){return new nz(e)}function az(e){this._context=e}az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lpe(e){return new az(e)}function sz(e){this._context=e}sz.prototype={areaStart:H1,areaEnd:H1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $pe(e){return new sz(e)}function aM(e){return e<0?-1:1}function sM(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(aM(s)+aM(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function iM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function AS(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function G1(e){this._context=e}G1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AS(this,this._t0,iM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,AS(this,iM(this,r=sM(this,e,t)),r);break;default:AS(this,this._t0,r=sM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function iz(e){this._context=new oz(e)}(iz.prototype=Object.create(G1.prototype)).point=function(e,t){G1.prototype.point.call(this,t,e)};function oz(e){this._context=e}oz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function Bpe(e){return new G1(e)}function Upe(e){return new iz(e)}function lz(e){this._context=e}lz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=oM(e),a=oM(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function oM(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function zpe(e){return new lz(e)}function y_(e,t){this._context=e,this._t=t}y_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Vpe(e){return new y_(e,.5)}function Wpe(e){return new y_(e,0)}function Hpe(e){return new y_(e,1)}function ym(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function xk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function qpe(e,t){return e[t]}function Gpe(e){const t=[];return t.key=e,t}function Kpe(){var e=Nr([]),t=xk,r=ym,n=qpe;function a(s){var o=Array.from(e.apply(this,arguments),Gpe),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=fA(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Nr(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Nr(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?xk:typeof s=="function"?s:Nr(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??ym,a):r},a}function Ype(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}ym(e,t)}}function Xpe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ym(e,t)}}function Qpe(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,y=p[n-1][1]||0;m+=v-y}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,ym(e,t)}}function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}var Jpe=["type","size","sizeType"];function yk(){return yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yk.apply(this,arguments)}function lM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(r),!0).forEach(function(n){Zpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zpe(e,t,r){return t=e0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e0e(e){var t=t0e(e,"string");return Og(t)=="symbol"?t:t+""}function t0e(e,t){if(Og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r0e(e,t){if(e==null)return{};var r=n0e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cz={symbolCircle:hA,symbolCross:Spe,symbolDiamond:kpe,symbolSquare:Cpe,symbolStar:Ppe,symbolTriangle:Ope,symbolWye:Rpe},a0e=Math.PI/180,s0e=function(t){var r="symbol".concat(g_(t));return cz[r]||hA},i0e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*a0e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},o0e=function(t,r){cz["symbol".concat(g_(t))]=r},mA=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=r0e(t,Jpe),u=cM(cM({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=s0e(n),y=Mpe().type(v).size(i0e(s,l,n));return y()},f=u.className,h=u.cx,m=u.cy,g=bt(u,!0);return h===+h&&m===+m&&s===+s?ue.createElement("path",yk({},g,{className:Mt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};mA.registerSymbol=o0e;function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bk.apply(this,arguments)}function uM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(r),!0).forEach(function(n){Dg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dz(n.key),n)}}function d0e(e,t,r){return t&&u0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f0e(e,t,r){return t=K1(t),h0e(e,uz()?Reflect.construct(t,r||[],K1(e).constructor):t.apply(e,r))}function h0e(e,t){if(t&&(bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m0e(e)}function m0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uz=function(){return!!e})()}function K1(e){return K1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K1(e)}function p0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wk(e,t)}function wk(e,t){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wk(e,t)}function Dg(e,t,r){return t=dz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dz(e){var t=g0e(e,"string");return bm(t)=="symbol"?t:t+""}function g0e(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mi=32,pA=function(e){function t(){return c0e(this,t),f0e(this,t,arguments)}return p0e(t,e),d0e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=mi/2,o=mi/6,l=mi/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ue.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:mi,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ue.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(mi,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ue.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(mi/8,"h").concat(mi,"v").concat(mi*3/4,"h").concat(-mi,"z"),className:"recharts-legend-icon"});if(ue.isValidElement(n.legendIcon)){var u=l0e({},n);return delete u.legendIcon,ue.cloneElement(n.legendIcon,u)}return ue.createElement(mA,{fill:c,cx:s,cy:s,size:mi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:mi,height:mi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var p=m.formatter||c,v=Mt(Dg(Dg({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=Ct(m.value)?null:m.value;go(!Ct(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return ue.createElement("li",bk({className:v,style:f,key:"legend-item-".concat(g)},rf(n.props,m,g)),ue.createElement(dk,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),ue.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,m,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ue.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Dg(pA,"displayName","Legend");Dg(pA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var v0e=n_;function x0e(){this.__data__=new v0e,this.size=0}var y0e=x0e;function b0e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var w0e=b0e;function _0e(e){return this.__data__.get(e)}var j0e=_0e;function S0e(e){return this.__data__.has(e)}var N0e=S0e,k0e=n_,C0e=rA,E0e=nA,T0e=200;function A0e(e,t){var r=this.__data__;if(r instanceof k0e){var n=r.__data__;if(!C0e||n.length<T0e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new E0e(n)}return r.set(e,t),this.size=r.size,this}var P0e=A0e,O0e=n_,D0e=y0e,R0e=w0e,M0e=j0e,F0e=N0e,I0e=P0e;function _p(e){var t=this.__data__=new O0e(e);this.size=t.size}_p.prototype.clear=D0e;_p.prototype.delete=R0e;_p.prototype.get=M0e;_p.prototype.has=F0e;_p.prototype.set=I0e;var fz=_p,L0e="__lodash_hash_undefined__";function $0e(e){return this.__data__.set(e,L0e),this}var B0e=$0e;function U0e(e){return this.__data__.has(e)}var z0e=U0e,V0e=nA,W0e=B0e,H0e=z0e;function Y1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new V0e;++t<r;)this.add(e[t])}Y1.prototype.add=Y1.prototype.push=W0e;Y1.prototype.has=H0e;var hz=Y1;function q0e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var mz=q0e;function G0e(e,t){return e.has(t)}var pz=G0e,K0e=hz,Y0e=mz,X0e=pz,Q0e=1,J0e=2;function Z0e(e,t,r,n,a,s){var o=r&Q0e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&J0e?new K0e:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=o?n(p,g,f,t,e,s):n(g,p,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Y0e(t,function(y,b){if(!X0e(m,b)&&(g===y||a(g,y,r,n,s)))return m.push(b)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var gz=Z0e,ege=_l,tge=ege.Uint8Array,rge=tge;function nge(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var age=nge;function sge(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var gA=sge,dM=Kv,fM=rge,ige=tA,oge=gz,lge=age,cge=gA,uge=1,dge=2,fge="[object Boolean]",hge="[object Date]",mge="[object Error]",pge="[object Map]",gge="[object Number]",vge="[object RegExp]",xge="[object Set]",yge="[object String]",bge="[object Symbol]",wge="[object ArrayBuffer]",_ge="[object DataView]",hM=dM?dM.prototype:void 0,PS=hM?hM.valueOf:void 0;function jge(e,t,r,n,a,s,o){switch(r){case _ge:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wge:return!(e.byteLength!=t.byteLength||!s(new fM(e),new fM(t)));case fge:case hge:case gge:return ige(+e,+t);case mge:return e.name==t.name&&e.message==t.message;case vge:case yge:return e==t+"";case pge:var l=lge;case xge:var c=n&uge;if(l||(l=cge),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=dge,o.set(e,t);var d=oge(l(e),l(t),n,a,s,o);return o.delete(e),d;case bge:if(PS)return PS.call(e)==PS.call(t)}return!1}var Sge=jge;function Nge(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var vz=Nge,kge=vz,Cge=Fs;function Ege(e,t,r){var n=t(e);return Cge(e)?n:kge(n,r(e))}var Tge=Ege;function Age(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var Pge=Age;function Oge(){return[]}var Dge=Oge,Rge=Pge,Mge=Dge,Fge=Object.prototype,Ige=Fge.propertyIsEnumerable,mM=Object.getOwnPropertySymbols,Lge=mM?function(e){return e==null?[]:(e=Object(e),Rge(mM(e),function(t){return Ige.call(e,t)}))}:Mge,$ge=Lge;function Bge(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Uge=Bge,zge=yc,Vge=bc,Wge="[object Arguments]";function Hge(e){return Vge(e)&&zge(e)==Wge}var qge=Hge,pM=qge,Gge=bc,xz=Object.prototype,Kge=xz.hasOwnProperty,Yge=xz.propertyIsEnumerable,Xge=pM(function(){return arguments}())?pM:function(e){return Gge(e)&&Kge.call(e,"callee")&&!Yge.call(e,"callee")},vA=Xge,X1={exports:{}};function Qge(){return!1}var Jge=Qge;X1.exports;(function(e,t){var r=_l,n=Jge,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(X1,X1.exports);var yz=X1.exports,Zge=9007199254740991,eve=/^(?:0|[1-9]\d*)$/;function tve(e,t){var r=typeof e;return t=t??Zge,!!t&&(r=="number"||r!="symbol"&&eve.test(e))&&e>-1&&e%1==0&&e<t}var xA=tve,rve=9007199254740991;function nve(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rve}var yA=nve,ave=yc,sve=yA,ive=bc,ove="[object Arguments]",lve="[object Array]",cve="[object Boolean]",uve="[object Date]",dve="[object Error]",fve="[object Function]",hve="[object Map]",mve="[object Number]",pve="[object Object]",gve="[object RegExp]",vve="[object Set]",xve="[object String]",yve="[object WeakMap]",bve="[object ArrayBuffer]",wve="[object DataView]",_ve="[object Float32Array]",jve="[object Float64Array]",Sve="[object Int8Array]",Nve="[object Int16Array]",kve="[object Int32Array]",Cve="[object Uint8Array]",Eve="[object Uint8ClampedArray]",Tve="[object Uint16Array]",Ave="[object Uint32Array]",Rr={};Rr[_ve]=Rr[jve]=Rr[Sve]=Rr[Nve]=Rr[kve]=Rr[Cve]=Rr[Eve]=Rr[Tve]=Rr[Ave]=!0;Rr[ove]=Rr[lve]=Rr[bve]=Rr[cve]=Rr[wve]=Rr[uve]=Rr[dve]=Rr[fve]=Rr[hve]=Rr[mve]=Rr[pve]=Rr[gve]=Rr[vve]=Rr[xve]=Rr[yve]=!1;function Pve(e){return ive(e)&&sve(e.length)&&!!Rr[ave(e)]}var Ove=Pve;function Dve(e){return function(t){return e(t)}}var bz=Dve,Q1={exports:{}};Q1.exports;(function(e,t){var r=E7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Q1,Q1.exports);var Rve=Q1.exports,Mve=Ove,Fve=bz,gM=Rve,vM=gM&&gM.isTypedArray,Ive=vM?Fve(vM):Mve,wz=Ive,Lve=Uge,$ve=vA,Bve=Fs,Uve=yz,zve=xA,Vve=wz,Wve=Object.prototype,Hve=Wve.hasOwnProperty;function qve(e,t){var r=Bve(e),n=!r&&$ve(e),a=!r&&!n&&Uve(e),s=!r&&!n&&!a&&Vve(e),o=r||n||a||s,l=o?Lve(e.length,String):[],c=l.length;for(var u in e)(t||Hve.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||zve(u,c)))&&l.push(u);return l}var Gve=qve,Kve=Object.prototype;function Yve(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Kve;return e===r}var Xve=Yve;function Qve(e,t){return function(r){return e(t(r))}}var _z=Qve,Jve=_z,Zve=Jve(Object.keys,Object),exe=Zve,txe=Xve,rxe=exe,nxe=Object.prototype,axe=nxe.hasOwnProperty;function sxe(e){if(!txe(e))return rxe(e);var t=[];for(var r in Object(e))axe.call(e,r)&&r!="constructor"&&t.push(r);return t}var ixe=sxe,oxe=eA,lxe=yA;function cxe(e){return e!=null&&lxe(e.length)&&!oxe(e)}var Xv=cxe,uxe=Gve,dxe=ixe,fxe=Xv;function hxe(e){return fxe(e)?uxe(e):dxe(e)}var b_=hxe,mxe=Tge,pxe=$ge,gxe=b_;function vxe(e){return mxe(e,gxe,pxe)}var xxe=vxe,xM=xxe,yxe=1,bxe=Object.prototype,wxe=bxe.hasOwnProperty;function _xe(e,t,r,n,a,s){var o=r&yxe,l=xM(e),c=l.length,u=xM(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:wxe.call(t,h)))return!1}var m=s.get(e),g=s.get(t);if(m&&g)return m==t&&g==e;var p=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var y=e[h],b=t[h];if(n)var w=o?n(b,y,h,t,e,s):n(y,b,h,e,t,s);if(!(w===void 0?y===b||a(y,b,r,n,s):w)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return s.delete(e),s.delete(t),p}var jxe=_xe,Sxe=_f,Nxe=_l,kxe=Sxe(Nxe,"DataView"),Cxe=kxe,Exe=_f,Txe=_l,Axe=Exe(Txe,"Promise"),Pxe=Axe,Oxe=_f,Dxe=_l,Rxe=Oxe(Dxe,"Set"),jz=Rxe,Mxe=_f,Fxe=_l,Ixe=Mxe(Fxe,"WeakMap"),Lxe=Ixe,_k=Cxe,jk=rA,Sk=Pxe,Nk=jz,kk=Lxe,Sz=yc,jp=A7,yM="[object Map]",$xe="[object Object]",bM="[object Promise]",wM="[object Set]",_M="[object WeakMap]",jM="[object DataView]",Bxe=jp(_k),Uxe=jp(jk),zxe=jp(Sk),Vxe=jp(Nk),Wxe=jp(kk),ad=Sz;(_k&&ad(new _k(new ArrayBuffer(1)))!=jM||jk&&ad(new jk)!=yM||Sk&&ad(Sk.resolve())!=bM||Nk&&ad(new Nk)!=wM||kk&&ad(new kk)!=_M)&&(ad=function(e){var t=Sz(e),r=t==$xe?e.constructor:void 0,n=r?jp(r):"";if(n)switch(n){case Bxe:return jM;case Uxe:return yM;case zxe:return bM;case Vxe:return wM;case Wxe:return _M}return t});var Hxe=ad,OS=fz,qxe=gz,Gxe=Sge,Kxe=jxe,SM=Hxe,NM=Fs,kM=yz,Yxe=wz,Xxe=1,CM="[object Arguments]",EM="[object Array]",ty="[object Object]",Qxe=Object.prototype,TM=Qxe.hasOwnProperty;function Jxe(e,t,r,n,a,s){var o=NM(e),l=NM(t),c=o?EM:SM(e),u=l?EM:SM(t);c=c==CM?ty:c,u=u==CM?ty:u;var d=c==ty,f=u==ty,h=c==u;if(h&&kM(e)){if(!kM(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new OS),o||Yxe(e)?qxe(e,t,r,n,a,s):Gxe(e,t,c,r,n,a,s);if(!(r&Xxe)){var m=d&&TM.call(e,"__wrapped__"),g=f&&TM.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return s||(s=new OS),a(p,v,r,n,s)}}return h?(s||(s=new OS),Kxe(e,t,r,n,a,s)):!1}var Zxe=Jxe,eye=Zxe,AM=bc;function Nz(e,t,r,n,a){return e===t?!0:e==null||t==null||!AM(e)&&!AM(t)?e!==e&&t!==t:eye(e,t,r,n,Nz,a)}var bA=Nz,tye=fz,rye=bA,nye=1,aye=2;function sye(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new tye;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?rye(d,u,nye|aye,n,f):h))return!1}}return!0}var iye=sye,oye=zu;function lye(e){return e===e&&!oye(e)}var kz=lye,cye=kz,uye=b_;function dye(e){for(var t=uye(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,cye(a)]}return t}var fye=dye;function hye(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Cz=hye,mye=iye,pye=fye,gye=Cz;function vye(e){var t=pye(e);return t.length==1&&t[0][2]?gye(t[0][0],t[0][1]):function(r){return r===e||mye(r,e,t)}}var xye=vye;function yye(e,t){return e!=null&&t in Object(e)}var bye=yye,wye=M7,_ye=vA,jye=Fs,Sye=xA,Nye=yA,kye=s_;function Cye(e,t,r){t=wye(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=kye(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&Nye(a)&&Sye(o,a)&&(jye(e)||_ye(e)))}var Eye=Cye,Tye=bye,Aye=Eye;function Pye(e,t){return e!=null&&Aye(e,t,Tye)}var Oye=Pye,Dye=bA,Rye=F7,Mye=Oye,Fye=ZT,Iye=kz,Lye=Cz,$ye=s_,Bye=1,Uye=2;function zye(e,t){return Fye(e)&&Iye(t)?Lye($ye(e),t):function(r){var n=Rye(r,e);return n===void 0&&n===t?Mye(r,e):Dye(t,n,Bye|Uye)}}var Vye=zye;function Wye(e){return e}var Sp=Wye;function Hye(e){return function(t){return t==null?void 0:t[e]}}var qye=Hye,Gye=iA;function Kye(e){return function(t){return Gye(t,e)}}var Yye=Kye,Xye=qye,Qye=Yye,Jye=ZT,Zye=s_;function e1e(e){return Jye(e)?Xye(Zye(e)):Qye(e)}var t1e=e1e,r1e=xye,n1e=Vye,a1e=Sp,s1e=Fs,i1e=t1e;function o1e(e){return typeof e=="function"?e:e==null?a1e:typeof e=="object"?s1e(e)?n1e(e[0],e[1]):r1e(e):i1e(e)}var jl=o1e;function l1e(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var Ez=l1e;function c1e(e){return e!==e}var u1e=c1e;function d1e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var f1e=d1e,h1e=Ez,m1e=u1e,p1e=f1e;function g1e(e,t,r){return t===t?p1e(e,t,r):h1e(e,m1e,r)}var v1e=g1e,x1e=v1e;function y1e(e,t){var r=e==null?0:e.length;return!!r&&x1e(e,t,0)>-1}var b1e=y1e;function w1e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var _1e=w1e;function j1e(){}var S1e=j1e,DS=jz,N1e=S1e,k1e=gA,C1e=1/0,E1e=DS&&1/k1e(new DS([,-0]))[1]==C1e?function(e){return new DS(e)}:N1e,T1e=E1e,A1e=hz,P1e=b1e,O1e=_1e,D1e=pz,R1e=T1e,M1e=gA,F1e=200;function I1e(e,t,r){var n=-1,a=P1e,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=O1e;else if(s>=F1e){var u=t?null:R1e(e);if(u)return M1e(u);o=!1,a=D1e,c=new A1e}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var L1e=I1e,$1e=jl,B1e=L1e;function U1e(e,t){return e&&e.length?B1e(e,$1e(t)):[]}var z1e=U1e;const PM=fr(z1e);function Tz(e,t,r){return t===!0?PM(e,r):Ct(t)?PM(e,t):e}function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}var V1e=["ref"];function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){w_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pz(n.key),n)}}function H1e(e,t,r){return t&&DM(e.prototype,t),r&&DM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function q1e(e,t,r){return t=J1(t),G1e(e,Az()?Reflect.construct(t,r||[],J1(e).constructor):t.apply(e,r))}function G1e(e,t){if(t&&(wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K1e(e)}function K1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Az(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Az=function(){return!!e})()}function J1(e){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J1(e)}function Y1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ck(e,t)}function Ck(e,t){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ck(e,t)}function w_(e,t,r){return t=Pz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=X1e(e,"string");return wm(t)=="symbol"?t:t+""}function X1e(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q1e(e,t){if(e==null)return{};var r=J1e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function J1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z1e(e){return e.value}function ebe(e,t){if(ue.isValidElement(e))return ue.cloneElement(e,t);if(typeof e=="function")return ue.createElement(e,t);t.ref;var r=Q1e(t,V1e);return ue.createElement(pA,r)}var RM=1,Ti=function(e){function t(){var r;W1e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=q1e(this,t,[].concat(a)),w_(r,"lastBoundingBox",{width:-1,height:-1}),r}return Y1e(t,e),H1e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>RM||Math.abs(a.height-this.lastBoundingBox.height)>RM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Pl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Pl(Pl({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Pl(Pl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ue.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},ebe(s,Pl(Pl({},this.props),{},{payload:Tz(d,u,Z1e)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Pl(Pl({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Ke(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);w_(Ti,"displayName","Legend");w_(Ti,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var MM=Kv,tbe=vA,rbe=Fs,FM=MM?MM.isConcatSpreadable:void 0;function nbe(e){return rbe(e)||tbe(e)||!!(FM&&e&&e[FM])}var abe=nbe,sbe=vz,ibe=abe;function Oz(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=ibe),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?Oz(l,t-1,r,n,a):sbe(a,l):n||(a[a.length]=l)}return a}var Dz=Oz;function obe(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var lbe=obe,cbe=lbe,ube=cbe(),dbe=ube,fbe=dbe,hbe=b_;function mbe(e,t){return e&&fbe(e,t,hbe)}var Rz=mbe,pbe=Xv;function gbe(e,t){return function(r,n){if(r==null)return r;if(!pbe(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var vbe=gbe,xbe=Rz,ybe=vbe,bbe=ybe(xbe),wA=bbe,wbe=wA,_be=Xv;function jbe(e,t){var r=-1,n=_be(e)?Array(e.length):[];return wbe(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var Mz=jbe;function Sbe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Nbe=Sbe,IM=gp;function kbe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=IM(e),o=t!==void 0,l=t===null,c=t===t,u=IM(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var Cbe=kbe,Ebe=Cbe;function Tbe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=Ebe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Abe=Tbe,RS=sA,Pbe=iA,Obe=jl,Dbe=Mz,Rbe=Nbe,Mbe=bz,Fbe=Abe,Ibe=Sp,Lbe=Fs;function $be(e,t,r){t.length?t=RS(t,function(s){return Lbe(s)?function(o){return Pbe(o,s.length===1?s[0]:s)}:s}):t=[Ibe];var n=-1;t=RS(t,Mbe(Obe));var a=Dbe(e,function(s,o,l){var c=RS(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return Rbe(a,function(s,o){return Fbe(s,o,r)})}var Bbe=$be;function Ube(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var zbe=Ube,Vbe=zbe,LM=Math.max;function Wbe(e,t,r){return t=LM(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=LM(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Vbe(e,this,l)}}var Hbe=Wbe;function qbe(e){return function(){return e}}var Gbe=qbe,Kbe=_f,Ybe=function(){try{var e=Kbe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Fz=Ybe,Xbe=Gbe,$M=Fz,Qbe=Sp,Jbe=$M?function(e,t){return $M(e,"toString",{configurable:!0,enumerable:!1,value:Xbe(t),writable:!0})}:Qbe,Zbe=Jbe,ewe=800,twe=16,rwe=Date.now;function nwe(e){var t=0,r=0;return function(){var n=rwe(),a=twe-(n-r);if(r=n,a>0){if(++t>=ewe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var awe=nwe,swe=Zbe,iwe=awe,owe=iwe(swe),lwe=owe,cwe=Sp,uwe=Hbe,dwe=lwe;function fwe(e,t){return dwe(uwe(e,t,cwe),e+"")}var hwe=fwe,mwe=tA,pwe=Xv,gwe=xA,vwe=zu;function xwe(e,t,r){if(!vwe(r))return!1;var n=typeof t;return(n=="number"?pwe(r)&&gwe(t,r.length):n=="string"&&t in r)?mwe(r[t],e):!1}var __=xwe,ywe=Dz,bwe=Bbe,wwe=hwe,BM=__,_we=wwe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&BM(e,t[0],t[1])?t=[]:r>2&&BM(t[0],t[1],t[2])&&(t=[t[0]]),bwe(e,ywe(t,1),[])}),jwe=_we;const _A=fr(jwe);function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ek.apply(this,arguments)}function Swe(e,t){return Ewe(e)||Cwe(e,t)||kwe(e,t)||Nwe()}function Nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kwe(e,t){if(e){if(typeof e=="string")return UM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UM(e,t)}}function UM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ewe(e){if(Array.isArray(e))return e}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){Twe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Twe(e,t,r){return t=Awe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Awe(e){var t=Pwe(e,"string");return Rg(t)=="symbol"?t:t+""}function Pwe(e,t){if(Rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Owe(e){return Array.isArray(e)&&An(e[0])&&An(e[1])?e.join(" ~ "):e}var Dwe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(d&&d.length){var T={padding:0,margin:0},U=(h?_A(d,h):d).map(function(W,R){if(W.type==="none")return null;var z=MS({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},l),P=W.formatter||f||Owe,M=W.value,L=W.name,q=M,Z=L;if(P&&q!=null&&Z!=null){var A=P(M,L,W,R,d);if(Array.isArray(A)){var B=Swe(A,2);q=B[0],Z=B[1]}else q=A}return ue.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:z},An(Z)?ue.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,An(Z)?ue.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ue.createElement("span",{className:"recharts-tooltip-item-value"},q),ue.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return ue.createElement("ul",{className:"recharts-tooltip-item-list",style:T},U)}return null},j=MS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=MS({margin:0},u),S=!Rt(p),N=S?p:"",C=Mt("recharts-default-tooltip",m),k=Mt("recharts-tooltip-label",g);S&&v&&d!==void 0&&d!==null&&(N=v(p,d));var E=b?{role:"status","aria-live":"assertive"}:{};return ue.createElement("div",Ek({className:C,style:j},E),ue.createElement("p",{className:k,style:_},ue.isValidElement(N)?N:"".concat(N)),w())};function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function ry(e,t,r){return t=Rwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rwe(e){var t=Mwe(e,"string");return Mg(t)=="symbol"?t:t+""}function Mwe(e,t){if(Mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yp="recharts-tooltip-wrapper",Fwe={visibility:"hidden"};function Iwe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Mt(Yp,ry(ry(ry(ry({},"".concat(Yp,"-right"),Ke(r)&&t&&Ke(t.x)&&r>=t.x),"".concat(Yp,"-left"),Ke(r)&&t&&Ke(t.x)&&r<t.x),"".concat(Yp,"-bottom"),Ke(n)&&t&&Ke(t.y)&&n>=t.y),"".concat(Yp,"-top"),Ke(n)&&t&&Ke(t.y)&&n<t.y))}function VM(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Ke(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function Lwe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $we(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=VM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=VM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Lwe({translateX:d,translateY:f,useTranslate3d:l})):u=Fwe,{cssProperties:u,cssClasses:Iwe({translateX:d,translateY:f,coordinate:r})}}function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){Ak(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lz(n.key),n)}}function zwe(e,t,r){return t&&Uwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vwe(e,t,r){return t=Z1(t),Wwe(e,Iz()?Reflect.construct(t,r||[],Z1(e).constructor):t.apply(e,r))}function Wwe(e,t){if(t&&(_m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hwe(e)}function Hwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iz=function(){return!!e})()}function Z1(e){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z1(e)}function qwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tk(e,t)}function Tk(e,t){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tk(e,t)}function Ak(e,t,r){return t=Lz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lz(e){var t=Gwe(e,"string");return _m(t)=="symbol"?t:t+""}function Gwe(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qM=1,Kwe=function(e){function t(){var r;Bwe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Vwe(this,t,[].concat(a)),Ak(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ak(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return qwe(t,e),zwe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>qM||Math.abs(n.height-this.state.lastBoundingBox.height)>qM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,w=$we({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),j=w.cssClasses,_=w.cssProperties,S=HM(HM({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ue.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(C){n.wrapperNode=C}},u)}}])}(x.PureComponent),Ywe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},il={isSsr:Ywe(),get:function(t){return il[t]},set:function(t,r){if(typeof t=="string")il[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){il[a]=t[a]})}}};function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function GM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(r),!0).forEach(function(n){jA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bz(n.key),n)}}function Jwe(e,t,r){return t&&Qwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zwe(e,t,r){return t=eb(t),e_e(e,$z()?Reflect.construct(t,r||[],eb(e).constructor):t.apply(e,r))}function e_e(e,t){if(t&&(jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t_e(e)}function t_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!e})()}function eb(e){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eb(e)}function r_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pk(e,t)}function Pk(e,t){return Pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pk(e,t)}function jA(e,t,r){return t=Bz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bz(e){var t=n_e(e,"string");return jm(t)=="symbol"?t:t+""}function n_e(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a_e(e){return e.dataKey}function s_e(e,t){return ue.isValidElement(e)?ue.cloneElement(e,t):typeof e=="function"?ue.createElement(e,t):ue.createElement(Dwe,t)}var ba=function(e){function t(){return Xwe(this,t),Zwe(this,t,arguments)}return r_e(t,e),Jwe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,j=a.wrapperStyle,_=g??[];f&&_.length&&(_=Tz(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,a_e));var S=_.length>0;return ue.createElement(Kwe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:S,offset:m,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:j},s_e(u,KM(KM({},this.props),{},{payload:_})))}}])}(x.PureComponent);jA(ba,"displayName","Tooltip");jA(ba,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!il.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var i_e=_l,o_e=function(){return i_e.Date.now()},l_e=o_e,c_e=/\s/;function u_e(e){for(var t=e.length;t--&&c_e.test(e.charAt(t)););return t}var d_e=u_e,f_e=d_e,h_e=/^\s+/;function m_e(e){return e&&e.slice(0,f_e(e)+1).replace(h_e,"")}var p_e=m_e,g_e=p_e,YM=zu,v_e=gp,XM=NaN,x_e=/^[-+]0x[0-9a-f]+$/i,y_e=/^0b[01]+$/i,b_e=/^0o[0-7]+$/i,w_e=parseInt;function __e(e){if(typeof e=="number")return e;if(v_e(e))return XM;if(YM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=YM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=g_e(e);var r=y_e.test(e);return r||b_e.test(e)?w_e(e.slice(2),r?2:8):x_e.test(e)?XM:+e}var Uz=__e,j_e=zu,FS=l_e,QM=Uz,S_e="Expected a function",N_e=Math.max,k_e=Math.min;function C_e(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(S_e);t=QM(t)||0,j_e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?N_e(QM(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(S){var N=n,C=a;return n=a=void 0,u=S,o=e.apply(C,N),o}function g(S){return u=S,l=setTimeout(y,t),d?m(S):o}function p(S){var N=S-c,C=S-u,k=t-N;return f?k_e(k,s-C):k}function v(S){var N=S-c,C=S-u;return c===void 0||N>=t||N<0||f&&C>=s}function y(){var S=FS();if(v(S))return b(S);l=setTimeout(y,p(S))}function b(S){return l=void 0,h&&n?m(S):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:b(FS())}function _(){var S=FS(),N=v(S);if(n=arguments,a=this,c=S,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return _.cancel=w,_.flush=j,_}var E_e=C_e,T_e=E_e,A_e=zu,P_e="Expected a function";function O_e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(P_e);return A_e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),T_e(e,t,{leading:n,maxWait:t,trailing:a})}var D_e=O_e;const zz=fr(D_e);function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function JM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(r),!0).forEach(function(n){R_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R_e(e,t,r){return t=M_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M_e(e){var t=F_e(e,"string");return Fg(t)=="symbol"?t:t+""}function F_e(e,t){if(Fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I_e(e,t){return U_e(e)||B_e(e,t)||$_e(e,t)||L_e()}function L_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $_e(e,t){if(e){if(typeof e=="string")return ZM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZM(e,t)}}function ZM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function U_e(e){if(Array.isArray(e))return e}var nf=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,y=e.className,b=e.onResize,w=e.style,j=w===void 0?{}:w,_=x.useRef(null),S=x.useRef();S.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var N=x.useState({containerWidth:a.width,containerHeight:a.height}),C=I_e(N,2),k=C[0],E=C[1],O=x.useCallback(function(U,W){E(function(R){var z=Math.round(U),P=Math.round(W);return R.containerWidth===z&&R.containerHeight===P?R:{containerWidth:z,containerHeight:P}})},[]);x.useEffect(function(){var U=function(L){var q,Z=L[0].contentRect,A=Z.width,B=Z.height;O(A,B),(q=S.current)===null||q===void 0||q.call(S,A,B)};p>0&&(U=zz(U,p,{trailing:!0,leading:!1}));var W=new ResizeObserver(U),R=_.current.getBoundingClientRect(),z=R.width,P=R.height;return O(z,P),W.observe(_.current),function(){W.disconnect()}},[O,p]);var T=x.useMemo(function(){var U=k.containerWidth,W=k.containerHeight;if(U<0||W<0)return null;go(pd(o)||pd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),go(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=pd(o)?U:o,z=pd(c)?W:c;r&&r>0&&(R?z=R/r:z&&(R=z*r),h&&z>h&&(z=h)),go(R>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,z,o,c,d,f,r);var P=!Array.isArray(m)&&Xl(m.type).endsWith("Chart");return ue.Children.map(m,function(M){return ue.isValidElement(M)?x.cloneElement(M,ny({width:R,height:z},P?{style:ny({height:"100%",width:"100%",maxHeight:z,maxWidth:R},M.props.style)}:{})):M})},[r,m,c,h,f,d,k,o]);return ue.createElement("div",{id:v?"".concat(v):void 0,className:Mt("recharts-responsive-container",y),style:ny(ny({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},T)}),Xo=function(t){return null};Xo.displayName="Cell";function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function eF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ok(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eF(Object(r),!0).forEach(function(n){z_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z_e(e,t,r){return t=V_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V_e(e){var t=W_e(e,"string");return Ig(t)=="symbol"?t:t+""}function W_e(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vf={widthCache:{},cacheCount:0},H_e=2e3,q_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tF="recharts_measurement_span";function G_e(e){var t=Ok({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var $0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||il.isSsr)return{width:0,height:0};var n=G_e(r),a=JSON.stringify({text:t,copyStyle:n});if(Vf.widthCache[a])return Vf.widthCache[a];try{var s=document.getElementById(tF);s||(s=document.createElement("span"),s.setAttribute("id",tF),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Ok(Ok({},q_e),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Vf.widthCache[a]=c,++Vf.cacheCount>H_e&&(Vf.cacheCount=0,Vf.widthCache={}),c}catch{return{width:0,height:0}}},K_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function tb(e,t){return J_e(e)||Q_e(e,t)||X_e(e,t)||Y_e()}function Y_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X_e(e,t){if(e){if(typeof e=="string")return rF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rF(e,t)}}function rF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function J_e(e){if(Array.isArray(e))return e}function Z_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tje(n.key),n)}}function eje(e,t,r){return t&&nF(e.prototype,t),r&&nF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tje(e){var t=rje(e,"string");return Lg(t)=="symbol"?t:t+""}function rje(e,t){if(Lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nje=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aje=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Vz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sje=Object.keys(Vz),yh="NaN";function ije(e,t){return e*Vz[t]}var ay=function(){function e(t,r){Z_e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!nje.test(r)&&(this.num=NaN,this.unit=""),sje.includes(r)&&(this.num=ije(t,r),this.unit="px")}return eje(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=aje.exec(r))!==null&&n!==void 0?n:[],s=tb(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function Wz(e){if(e.includes(yh))return yh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=aF.exec(t))!==null&&r!==void 0?r:[],a=tb(n,4),s=a[1],o=a[2],l=a[3],c=ay.parse(s??""),u=ay.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return yh;t=t.replace(aF,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=sF.exec(t))!==null&&f!==void 0?f:[],m=tb(h,4),g=m[1],p=m[2],v=m[3],y=ay.parse(g??""),b=ay.parse(v??""),w=p==="+"?y.add(b):y.subtract(b);if(w.isNaN())return yh;t=t.replace(sF,w.toString())}return t}var iF=/\(([^()]*)\)/;function oje(e){for(var t=e;t.includes("(");){var r=iF.exec(t),n=tb(r,2),a=n[1];t=t.replace(iF,Wz(a))}return t}function lje(e){var t=e.replace(/\s+/g,"");return t=oje(t),t=Wz(t),t}function cje(e){try{return lje(e)}catch{return yh}}function IS(e){var t=cje(e.slice(5,-1));return t===yh?"":t}var uje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dje=["dx","dy","angle","className","breakAll"];function Dk(){return Dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dk.apply(this,arguments)}function oF(e,t){if(e==null)return{};var r=fje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lF(e,t){return gje(e)||pje(e,t)||mje(e,t)||hje()}function hje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mje(e,t){if(e){if(typeof e=="string")return cF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cF(e,t)}}function cF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function gje(e){if(Array.isArray(e))return e}var Hz=/[ \f\n\r\t\v\u2028\u2029]+/,qz=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Rt(r)||(n?s=r.toString().split(""):s=r.toString().split(Hz));var o=s.map(function(c){return{word:c,width:$0(c,a).width}}),l=n?0:$0("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},vje=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ke(o),f=l,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(z,P){var M=P.word,L=P.width,q=z[z.length-1];if(q&&(a==null||s||q.width+L+n<Number(a)))q.words.push(M),q.width+=L+n;else{var Z={words:[M],width:L};z.push(Z)}return z},[])},m=h(r),g=function(R){return R.reduce(function(z,P){return z.width>P.width?z:P})};if(!d)return m;for(var p="",v=function(R){var z=f.slice(0,R),P=qz({breakAll:u,style:c,children:z+p}).wordsWithComputedWidth,M=h(P),L=M.length>o||g(M).width>Number(a);return[L,M]},y=0,b=f.length-1,w=0,j;y<=b&&w<=f.length-1;){var _=Math.floor((y+b)/2),S=_-1,N=v(S),C=lF(N,2),k=C[0],E=C[1],O=v(_),T=lF(O,1),U=T[0];if(!k&&!U&&(y=_+1),k&&U&&(b=_-1),!k&&U){j=E;break}w++}return j||m},uF=function(t){var r=Rt(t)?[]:t.toString().split(Hz);return[{words:r}]},xje=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!il.isSsr){var c,u,d=qz({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return uF(a);return vje({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return uF(a)},dF="#808080",af=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,y=v===void 0?dF:v,b=oF(t,uje),w=x.useMemo(function(){return xje({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,_=b.dy,S=b.angle,N=b.className,C=b.breakAll,k=oF(b,dje);if(!An(n)||!An(s))return null;var E=n+(Ke(j)?j:0),O=s+(Ke(_)?_:0),T;switch(p){case"start":T=IS("calc(".concat(u,")"));break;case"middle":T=IS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=IS("calc(".concat(w.length-1," * -").concat(l,")"));break}var U=[];if(f){var W=w[0].width,R=b.width;U.push("scale(".concat((Ke(R)?R/W:1)/W,")"))}return S&&U.push("rotate(".concat(S,", ").concat(E,", ").concat(O,")")),U.length&&(k.transform=U.join(" ")),ue.createElement("text",Dk({},bt(k,!0),{x:E,y:O,className:Mt("recharts-text",N),textAnchor:m,fill:y.includes("url")?dF:y}),w.map(function(z,P){var M=z.words.join(C?"":" ");return ue.createElement("tspan",{x:E,dy:P===0?T:l,key:"".concat(M,"-").concat(P)},M)}))};function wu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function SA(e){let t,r,n;e.length!==2?(t=wu,r=(l,c)=>wu(e(l),c),n=(l,c)=>e(l)-c):(t=e===wu||e===yje?e:bje,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function bje(){return 0}function Gz(e){return e===null?NaN:+e}function*wje(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const _je=SA(wu),Qv=_je.right;SA(Gz).center;class fF extends Map{constructor(t,r=Nje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(hF(this,t))}has(t){return super.has(hF(this,t))}set(t,r){return super.set(jje(this,t),r)}delete(t){return super.delete(Sje(this,t))}}function hF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function jje({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Sje({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Nje(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kje(e=wu){if(e===wu)return Kz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Kz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Cje=Math.sqrt(50),Eje=Math.sqrt(10),Tje=Math.sqrt(2);function rb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=Cje?10:s>=Eje?5:s>=Tje?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?rb(e,t,r*2):[l,c,u]}function Rk(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?rb(t,e,r):rb(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Mk(e,t,r){return t=+t,e=+e,r=+r,rb(e,t,r)[2]}function Fk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Mk(t,e,r):Mk(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function mF(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function pF(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Yz(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Kz:kje(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));Yz(e,t,m,g,a)}const s=e[t];let o=r,l=n;for(Xp(e,r,t),a(e[n],s)>0&&Xp(e,r,n);o<l;){for(Xp(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Xp(e,r,l):(++l,Xp(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Xp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Aje(e,t,r){if(e=Float64Array.from(wje(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return pF(e);if(t>=1)return mF(e);var n,a=(n-1)*t,s=Math.floor(a),o=mF(Yz(e,s).subarray(0,s+1)),l=pF(e.subarray(s+1));return o+(l-o)*(a-s)}}function Pje(e,t,r=Gz){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function Oje(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Bi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ik=Symbol("implicit");function NA(){var e=new fF,t=[],r=[],n=Ik;function a(s){let o=e.get(s);if(o===void 0){if(n!==Ik)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new fF;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return NA(t,r).unknown(n)},Bi.apply(a,arguments),a}function $g(){var e=NA().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;s=(p-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(p-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=Oje(h).map(function(y){return g+s*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return $g(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Bi.apply(f(),arguments)}function Xz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Xz(t())},e}function B0(){return Xz($g.apply(null,arguments).paddingInner(1))}function kA(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Qz(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Jv(){}var Bg=.7,nb=1/Bg,Ih="\\s*([+-]?\\d+)\\s*",Ug="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dje=/^#([0-9a-f]{3,8})$/,Rje=new RegExp(`^rgb\\(${Ih},${Ih},${Ih}\\)$`),Mje=new RegExp(`^rgb\\(${ol},${ol},${ol}\\)$`),Fje=new RegExp(`^rgba\\(${Ih},${Ih},${Ih},${Ug}\\)$`),Ije=new RegExp(`^rgba\\(${ol},${ol},${ol},${Ug}\\)$`),Lje=new RegExp(`^hsl\\(${Ug},${ol},${ol}\\)$`),$je=new RegExp(`^hsla\\(${Ug},${ol},${ol},${Ug}\\)$`),gF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kA(Jv,zg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vF,formatHex:vF,formatHex8:Bje,formatHsl:Uje,formatRgb:xF,toString:xF});function vF(){return this.rgb().formatHex()}function Bje(){return this.rgb().formatHex8()}function Uje(){return Jz(this).formatHsl()}function xF(){return this.rgb().formatRgb()}function zg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Dje.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?yF(t):r===3?new Ss(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?sy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?sy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Rje.exec(e))?new Ss(t[1],t[2],t[3],1):(t=Mje.exec(e))?new Ss(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Fje.exec(e))?sy(t[1],t[2],t[3],t[4]):(t=Ije.exec(e))?sy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Lje.exec(e))?_F(t[1],t[2]/100,t[3]/100,1):(t=$je.exec(e))?_F(t[1],t[2]/100,t[3]/100,t[4]):gF.hasOwnProperty(e)?yF(gF[e]):e==="transparent"?new Ss(NaN,NaN,NaN,0):null}function yF(e){return new Ss(e>>16&255,e>>8&255,e&255,1)}function sy(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ss(e,t,r,n)}function zje(e){return e instanceof Jv||(e=zg(e)),e?(e=e.rgb(),new Ss(e.r,e.g,e.b,e.opacity)):new Ss}function Lk(e,t,r,n){return arguments.length===1?zje(e):new Ss(e,t,r,n??1)}function Ss(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}kA(Ss,Lk,Qz(Jv,{brighter(e){return e=e==null?nb:Math.pow(nb,e),new Ss(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bg:Math.pow(Bg,e),new Ss(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ss(Fd(this.r),Fd(this.g),Fd(this.b),ab(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bF,formatHex:bF,formatHex8:Vje,formatRgb:wF,toString:wF}));function bF(){return`#${gd(this.r)}${gd(this.g)}${gd(this.b)}`}function Vje(){return`#${gd(this.r)}${gd(this.g)}${gd(this.b)}${gd((isNaN(this.opacity)?1:this.opacity)*255)}`}function wF(){const e=ab(this.opacity);return`${e===1?"rgb(":"rgba("}${Fd(this.r)}, ${Fd(this.g)}, ${Fd(this.b)}${e===1?")":`, ${e})`}`}function ab(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gd(e){return e=Fd(e),(e<16?"0":"")+e.toString(16)}function _F(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new oo(e,t,r,n)}function Jz(e){if(e instanceof oo)return new oo(e.h,e.s,e.l,e.opacity);if(e instanceof Jv||(e=zg(e)),!e)return new oo;if(e instanceof oo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new oo(o,l,c,e.opacity)}function Wje(e,t,r,n){return arguments.length===1?Jz(e):new oo(e,t,r,n??1)}function oo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}kA(oo,Wje,Qz(Jv,{brighter(e){return e=e==null?nb:Math.pow(nb,e),new oo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bg:Math.pow(Bg,e),new oo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ss(LS(e>=240?e-240:e+120,a,n),LS(e,a,n),LS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new oo(jF(this.h),iy(this.s),iy(this.l),ab(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ab(this.opacity);return`${e===1?"hsl(":"hsla("}${jF(this.h)}, ${iy(this.s)*100}%, ${iy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jF(e){return e=(e||0)%360,e<0?e+360:e}function iy(e){return Math.max(0,Math.min(1,e||0))}function LS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const CA=e=>()=>e;function Hje(e,t){return function(r){return e+r*t}}function qje(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Gje(e){return(e=+e)==1?Zz:function(t,r){return r-t?qje(t,r,e):CA(isNaN(t)?r:t)}}function Zz(e,t){var r=t-e;return r?Hje(e,r):CA(isNaN(e)?t:e)}const SF=function e(t){var r=Gje(t);function n(a,s){var o=r((a=Lk(a)).r,(s=Lk(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=Zz(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Kje(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Yje(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Xje(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Np(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function Qje(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Jje(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Np(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var $k=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$S=new RegExp($k.source,"g");function Zje(e){return function(){return e}}function eSe(e){return function(t){return e(t)+""}}function tSe(e,t){var r=$k.lastIndex=$S.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=$k.exec(e))&&(a=$S.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:sb(n,a)})),r=$S.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?eSe(c[0].x):Zje(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Np(e,t){var r=typeof t,n;return t==null||r==="boolean"?CA(t):(r==="number"?sb:r==="string"?(n=zg(t))?(t=n,SF):tSe:t instanceof zg?SF:t instanceof Date?Qje:Yje(t)?Kje:Array.isArray(t)?Xje:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Jje:sb)(e,t)}function EA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rSe(e,t){t===void 0&&(t=e,e=Np);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function nSe(e){return function(){return e}}function ib(e){return+e}var NF=[0,1];function Ja(e){return e}function Bk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nSe(isNaN(t)?NaN:.5)}function aSe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sSe(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=Bk(a,n),s=r(o,s)):(n=Bk(n,a),s=r(s,o)),function(l){return s(n(l))}}function iSe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Bk(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=Qv(e,l,1,n)-1;return s[c](a[c](l))}}function Zv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function j_(){var e=NF,t=NF,r=Np,n,a,s,o=Ja,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ja&&(o=aSe(e[0],e[h-1])),l=h>2?iSe:sSe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),sb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ib),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=EA,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ja,d()):o!==Ja},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function TA(){return j_()(Ja,Ja)}function oSe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ob(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Sm(e){return e=ob(Math.abs(e)),e?e[1]:NaN}function lSe(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function cSe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vg(e){if(!(t=uSe.exec(e)))throw new Error("invalid format: "+e);var t;return new AA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vg.prototype=AA.prototype;function AA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}AA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dSe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var eV;function fSe(e,t){var r=ob(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(eV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+ob(e,Math.max(0,t+s-1))[0]}function kF(e,t){var r=ob(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const CF={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oSe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kF(e*100,t),r:kF,s:fSe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function EF(e){return e}var TF=Array.prototype.map,AF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hSe(e){var t=e.grouping===void 0||e.thousands===void 0?EF:lSe(TF.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?EF:cSe(TF.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Vg(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,y=f.width,b=f.comma,w=f.precision,j=f.trim,_=f.type;_==="n"?(b=!0,_="g"):CF[_]||(w===void 0&&(w=12),j=!0,_="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",N=p==="$"?n:/[%p]/.test(_)?o:"",C=CF[_],k=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(O){var T=S,U=N,W,R,z;if(_==="c")U=C(O)+U,O="";else{O=+O;var P=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),w),j&&(O=dSe(O)),P&&+O==0&&g!=="+"&&(P=!1),T=(P?g==="("?g:l:g==="-"||g==="("?"":g)+T,U=(_==="s"?AF[8+eV/3]:"")+U+(P&&g==="("?")":""),k){for(W=-1,R=O.length;++W<R;)if(z=O.charCodeAt(W),48>z||z>57){U=(z===46?a+O.slice(W+1):O.slice(W))+U,O=O.slice(0,W);break}}}b&&!v&&(O=t(O,1/0));var M=T.length+O.length+U.length,L=M<y?new Array(y-M+1).join(h):"";switch(b&&v&&(O=t(L+O,L.length?y-U.length:1/0),L=""),m){case"<":O=T+O+U+L;break;case"=":O=T+L+O+U;break;case"^":O=L.slice(0,M=L.length>>1)+T+O+U+L.slice(M);break;default:O=L+T+O+U;break}return s(O)}return E.toString=function(){return f+""},E}function d(f,h){var m=u((f=Vg(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Sm(h)/3)))*3,p=Math.pow(10,-g),v=AF[8+g/3];return function(y){return m(p*y)+v}}return{format:u,formatPrefix:d}}var oy,PA,tV;mSe({thousands:",",grouping:[3],currency:["$",""]});function mSe(e){return oy=hSe(e),PA=oy.format,tV=oy.formatPrefix,oy}function pSe(e){return Math.max(0,-Sm(Math.abs(e)))}function gSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sm(t)/3)))*3-Sm(Math.abs(e)))}function vSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sm(t)-Sm(e))+1}function rV(e,t,r,n){var a=Fk(e,t,r),s;switch(n=Vg(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=gSe(a,o))&&(n.precision=s),tV(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=vSe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=pSe(a))&&(n.precision=s-(n.type==="%")*2);break}}return PA(n)}function Vu(e){var t=e.domain;return e.ticks=function(r){var n=t();return Rk(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return rV(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Mk(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function lb(){var e=TA();return e.copy=function(){return Zv(e,lb())},Bi.apply(e,arguments),Vu(e)}function nV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ib),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nV(e).unknown(t)},e=arguments.length?Array.from(e,ib):[0,1],Vu(r)}function aV(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function PF(e){return Math.log(e)}function OF(e){return Math.exp(e)}function xSe(e){return-Math.log(-e)}function ySe(e){return-Math.exp(-e)}function bSe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wSe(e){return e===10?bSe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _Se(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function DF(e){return(t,r)=>-e(-t,r)}function OA(e){const t=e(PF,OF),r=t.domain;let n=10,a,s;function o(){return a=_Se(n),s=wSe(n),r()[0]<0?(a=DF(a),s=DF(s),e(xSe,ySe)):e(PF,OF),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;y.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;y.push(p)}y.length*2<v&&(y=Rk(u,d,v))}else y=Rk(h,m,Math.min(m-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Vg(c)).precision==null&&(c.trim=!0),c=PA(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(aV(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function sV(){const e=OA(j_()).domain([1,10]);return e.copy=()=>Zv(e,sV()).base(e.base()),Bi.apply(e,arguments),e}function RF(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function MF(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function DA(e){var t=1,r=e(RF(t),MF(t));return r.constant=function(n){return arguments.length?e(RF(t=+n),MF(t)):t},Vu(r)}function iV(){var e=DA(j_());return e.copy=function(){return Zv(e,iV()).constant(e.constant())},Bi.apply(e,arguments)}function FF(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jSe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function SSe(e){return e<0?-e*e:e*e}function RA(e){var t=e(Ja,Ja),r=1;function n(){return r===1?e(Ja,Ja):r===.5?e(jSe,SSe):e(FF(r),FF(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Vu(t)}function MA(){var e=RA(j_());return e.copy=function(){return Zv(e,MA()).exponent(e.exponent())},Bi.apply(e,arguments),e}function NSe(){return MA.apply(null,arguments).exponent(.5)}function IF(e){return Math.sign(e)*e*e}function kSe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oV(){var e=TA(),t=[0,1],r=!1,n;function a(s){var o=kSe(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(IF(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,ib)).map(IF)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return oV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Bi.apply(a,arguments),Vu(a)}function lV(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Pje(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Qv(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(wu),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return lV().domain(e).range(t).unknown(n)},Bi.apply(s,arguments)}function cV(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[Qv(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return cV().domain([e,t]).range(a).unknown(s)},Bi.apply(Vu(o),arguments)}function uV(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Qv(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return uV().domain(e).range(t).unknown(r)},Bi.apply(a,arguments)}const BS=new Date,US=new Date;function Mn(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Mn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(BS.setTime(+s),US.setTime(+o),e(BS),e(US),Math.floor(r(BS,US))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const cb=Mn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):cb);cb.range;const Wl=1e3,ki=Wl*60,Hl=ki*60,dc=Hl*24,FA=dc*7,LF=dc*30,zS=dc*365,vd=Mn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wl)},(e,t)=>(t-e)/Wl,e=>e.getUTCSeconds());vd.range;const IA=Mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wl)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getMinutes());IA.range;const LA=Mn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getUTCMinutes());LA.range;const $A=Mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wl-e.getMinutes()*ki)},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getHours());$A.range;const BA=Mn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getUTCHours());BA.range;const ex=Mn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ki)/dc,e=>e.getDate()-1);ex.range;const S_=Mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dc,e=>e.getUTCDate()-1);S_.range;const dV=Mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dc,e=>Math.floor(e/dc));dV.range;function jf(e){return Mn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ki)/FA)}const N_=jf(0),ub=jf(1),CSe=jf(2),ESe=jf(3),Nm=jf(4),TSe=jf(5),ASe=jf(6);N_.range;ub.range;CSe.range;ESe.range;Nm.range;TSe.range;ASe.range;function Sf(e){return Mn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/FA)}const k_=Sf(0),db=Sf(1),PSe=Sf(2),OSe=Sf(3),km=Sf(4),DSe=Sf(5),RSe=Sf(6);k_.range;db.range;PSe.range;OSe.range;km.range;DSe.range;RSe.range;const UA=Mn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());UA.range;const zA=Mn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());zA.range;const fc=Mn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});fc.range;const hc=Mn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});hc.range;function fV(e,t,r,n,a,s){const o=[[vd,1,Wl],[vd,5,5*Wl],[vd,15,15*Wl],[vd,30,30*Wl],[s,1,ki],[s,5,5*ki],[s,15,15*ki],[s,30,30*ki],[a,1,Hl],[a,3,3*Hl],[a,6,6*Hl],[a,12,12*Hl],[n,1,dc],[n,2,2*dc],[r,1,FA],[t,1,LF],[t,3,3*LF],[e,1,zS]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=SA(([,,v])=>v).right(o,h);if(m===o.length)return e.every(Fk(u/zS,d/zS,f));if(m===0)return cb.every(Math.max(Fk(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[MSe,FSe]=fV(hc,zA,k_,dV,BA,LA),[ISe,LSe]=fV(fc,UA,N_,ex,$A,IA);function VS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function WS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function $Se(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Jp(a),d=Zp(a),f=Jp(s),h=Zp(s),m=Jp(o),g=Zp(o),p=Jp(l),v=Zp(l),y=Jp(c),b=Zp(c),w={a:P,A:M,b:L,B:q,c:null,d:WF,e:WF,f:lNe,g:xNe,G:bNe,H:sNe,I:iNe,j:oNe,L:hV,m:cNe,M:uNe,p:Z,q:A,Q:GF,s:KF,S:dNe,u:fNe,U:hNe,V:mNe,w:pNe,W:gNe,x:null,X:null,y:vNe,Y:yNe,Z:wNe,"%":qF},j={a:B,A:H,b:V,B:te,c:null,d:HF,e:HF,f:NNe,g:MNe,G:INe,H:_Ne,I:jNe,j:SNe,L:pV,m:kNe,M:CNe,p:le,q:xe,Q:GF,s:KF,S:ENe,u:TNe,U:ANe,V:PNe,w:ONe,W:DNe,x:null,X:null,y:RNe,Y:FNe,Z:LNe,"%":qF},_={a:E,A:O,b:T,B:U,c:W,d:zF,e:zF,f:tNe,g:UF,G:BF,H:VF,I:VF,j:QSe,L:eNe,m:XSe,M:JSe,p:k,q:YSe,Q:nNe,s:aNe,S:ZSe,u:WSe,U:HSe,V:qSe,w:VSe,W:GSe,x:R,X:z,y:UF,Y:BF,Z:KSe,"%":rNe};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(ie,G){return function(Q){var D=[],ce=-1,je=0,be=ie.length,Pe,De,Le;for(Q instanceof Date||(Q=new Date(+Q));++ce<be;)ie.charCodeAt(ce)===37&&(D.push(ie.slice(je,ce)),(De=$F[Pe=ie.charAt(++ce)])!=null?Pe=ie.charAt(++ce):De=Pe==="e"?" ":"0",(Le=G[Pe])&&(Pe=Le(Q,De)),D.push(Pe),je=ce+1);return D.push(ie.slice(je,ce)),D.join("")}}function N(ie,G){return function(Q){var D=Qp(1900,void 0,1),ce=C(D,ie,Q+="",0),je,be;if(ce!=Q.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(G&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(je=WS(Qp(D.y,0,1)),be=je.getUTCDay(),je=be>4||be===0?db.ceil(je):db(je),je=S_.offset(je,(D.V-1)*7),D.y=je.getUTCFullYear(),D.m=je.getUTCMonth(),D.d=je.getUTCDate()+(D.w+6)%7):(je=VS(Qp(D.y,0,1)),be=je.getDay(),je=be>4||be===0?ub.ceil(je):ub(je),je=ex.offset(je,(D.V-1)*7),D.y=je.getFullYear(),D.m=je.getMonth(),D.d=je.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),be="Z"in D?WS(Qp(D.y,0,1)).getUTCDay():VS(Qp(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(be+5)%7:D.w+D.U*7-(be+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,WS(D)):VS(D)}}function C(ie,G,Q,D){for(var ce=0,je=G.length,be=Q.length,Pe,De;ce<je;){if(D>=be)return-1;if(Pe=G.charCodeAt(ce++),Pe===37){if(Pe=G.charAt(ce++),De=_[Pe in $F?G.charAt(ce++):Pe],!De||(D=De(ie,Q,D))<0)return-1}else if(Pe!=Q.charCodeAt(D++))return-1}return D}function k(ie,G,Q){var D=u.exec(G.slice(Q));return D?(ie.p=d.get(D[0].toLowerCase()),Q+D[0].length):-1}function E(ie,G,Q){var D=m.exec(G.slice(Q));return D?(ie.w=g.get(D[0].toLowerCase()),Q+D[0].length):-1}function O(ie,G,Q){var D=f.exec(G.slice(Q));return D?(ie.w=h.get(D[0].toLowerCase()),Q+D[0].length):-1}function T(ie,G,Q){var D=y.exec(G.slice(Q));return D?(ie.m=b.get(D[0].toLowerCase()),Q+D[0].length):-1}function U(ie,G,Q){var D=p.exec(G.slice(Q));return D?(ie.m=v.get(D[0].toLowerCase()),Q+D[0].length):-1}function W(ie,G,Q){return C(ie,t,G,Q)}function R(ie,G,Q){return C(ie,r,G,Q)}function z(ie,G,Q){return C(ie,n,G,Q)}function P(ie){return o[ie.getDay()]}function M(ie){return s[ie.getDay()]}function L(ie){return c[ie.getMonth()]}function q(ie){return l[ie.getMonth()]}function Z(ie){return a[+(ie.getHours()>=12)]}function A(ie){return 1+~~(ie.getMonth()/3)}function B(ie){return o[ie.getUTCDay()]}function H(ie){return s[ie.getUTCDay()]}function V(ie){return c[ie.getUTCMonth()]}function te(ie){return l[ie.getUTCMonth()]}function le(ie){return a[+(ie.getUTCHours()>=12)]}function xe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var G=S(ie+="",w);return G.toString=function(){return ie},G},parse:function(ie){var G=N(ie+="",!1);return G.toString=function(){return ie},G},utcFormat:function(ie){var G=S(ie+="",j);return G.toString=function(){return ie},G},utcParse:function(ie){var G=N(ie+="",!0);return G.toString=function(){return ie},G}}}var $F={"-":"",_:" ",0:"0"},qn=/^\s*\d+/,BSe=/^%/,USe=/[\\^$*+?|[\]().{}]/g;function sr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function zSe(e){return e.replace(USe,"\\$&")}function Jp(e){return new RegExp("^(?:"+e.map(zSe).join("|")+")","i")}function Zp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function VSe(e,t,r){var n=qn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function WSe(e,t,r){var n=qn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function HSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function GSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function BF(e,t,r){var n=qn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function UF(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function KSe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function YSe(e,t,r){var n=qn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function XSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function zF(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function QSe(e,t,r){var n=qn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function VF(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function JSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ZSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eNe(e,t,r){var n=qn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function tNe(e,t,r){var n=qn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rNe(e,t,r){var n=BSe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function nNe(e,t,r){var n=qn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function aNe(e,t,r){var n=qn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function WF(e,t){return sr(e.getDate(),t,2)}function sNe(e,t){return sr(e.getHours(),t,2)}function iNe(e,t){return sr(e.getHours()%12||12,t,2)}function oNe(e,t){return sr(1+ex.count(fc(e),e),t,3)}function hV(e,t){return sr(e.getMilliseconds(),t,3)}function lNe(e,t){return hV(e,t)+"000"}function cNe(e,t){return sr(e.getMonth()+1,t,2)}function uNe(e,t){return sr(e.getMinutes(),t,2)}function dNe(e,t){return sr(e.getSeconds(),t,2)}function fNe(e){var t=e.getDay();return t===0?7:t}function hNe(e,t){return sr(N_.count(fc(e)-1,e),t,2)}function mV(e){var t=e.getDay();return t>=4||t===0?Nm(e):Nm.ceil(e)}function mNe(e,t){return e=mV(e),sr(Nm.count(fc(e),e)+(fc(e).getDay()===4),t,2)}function pNe(e){return e.getDay()}function gNe(e,t){return sr(ub.count(fc(e)-1,e),t,2)}function vNe(e,t){return sr(e.getFullYear()%100,t,2)}function xNe(e,t){return e=mV(e),sr(e.getFullYear()%100,t,2)}function yNe(e,t){return sr(e.getFullYear()%1e4,t,4)}function bNe(e,t){var r=e.getDay();return e=r>=4||r===0?Nm(e):Nm.ceil(e),sr(e.getFullYear()%1e4,t,4)}function wNe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sr(t/60|0,"0",2)+sr(t%60,"0",2)}function HF(e,t){return sr(e.getUTCDate(),t,2)}function _Ne(e,t){return sr(e.getUTCHours(),t,2)}function jNe(e,t){return sr(e.getUTCHours()%12||12,t,2)}function SNe(e,t){return sr(1+S_.count(hc(e),e),t,3)}function pV(e,t){return sr(e.getUTCMilliseconds(),t,3)}function NNe(e,t){return pV(e,t)+"000"}function kNe(e,t){return sr(e.getUTCMonth()+1,t,2)}function CNe(e,t){return sr(e.getUTCMinutes(),t,2)}function ENe(e,t){return sr(e.getUTCSeconds(),t,2)}function TNe(e){var t=e.getUTCDay();return t===0?7:t}function ANe(e,t){return sr(k_.count(hc(e)-1,e),t,2)}function gV(e){var t=e.getUTCDay();return t>=4||t===0?km(e):km.ceil(e)}function PNe(e,t){return e=gV(e),sr(km.count(hc(e),e)+(hc(e).getUTCDay()===4),t,2)}function ONe(e){return e.getUTCDay()}function DNe(e,t){return sr(db.count(hc(e)-1,e),t,2)}function RNe(e,t){return sr(e.getUTCFullYear()%100,t,2)}function MNe(e,t){return e=gV(e),sr(e.getUTCFullYear()%100,t,2)}function FNe(e,t){return sr(e.getUTCFullYear()%1e4,t,4)}function INe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?km(e):km.ceil(e),sr(e.getUTCFullYear()%1e4,t,4)}function LNe(){return"+0000"}function qF(){return"%"}function GF(e){return+e}function KF(e){return Math.floor(+e/1e3)}var Wf,vV,xV;$Ne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $Ne(e){return Wf=$Se(e),vV=Wf.format,Wf.parse,xV=Wf.utcFormat,Wf.utcParse,Wf}function BNe(e){return new Date(e)}function UNe(e){return e instanceof Date?+e:+new Date(+e)}function VA(e,t,r,n,a,s,o,l,c,u){var d=TA(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function _(S){return(c(S)<S?m:l(S)<S?g:o(S)<S?p:s(S)<S?v:n(S)<S?a(S)<S?y:b:r(S)<S?w:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,UNe)):h().map(BNe)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?_:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(aV(N,S)):d},d.copy=function(){return Zv(d,VA(e,t,r,n,a,s,o,l,c,u))},d}function zNe(){return Bi.apply(VA(ISe,LSe,fc,UA,N_,ex,$A,IA,vd,vV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VNe(){return Bi.apply(VA(MSe,FSe,hc,zA,k_,S_,BA,LA,vd,xV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function C_(){var e=0,t=1,r,n,a,s,o=Ja,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(Np),u.rangeRound=d(EA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Wu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yV(){var e=Vu(C_()(Ja));return e.copy=function(){return Wu(e,yV())},wc.apply(e,arguments)}function bV(){var e=OA(C_()).domain([1,10]);return e.copy=function(){return Wu(e,bV()).base(e.base())},wc.apply(e,arguments)}function wV(){var e=DA(C_());return e.copy=function(){return Wu(e,wV()).constant(e.constant())},wc.apply(e,arguments)}function WA(){var e=RA(C_());return e.copy=function(){return Wu(e,WA()).exponent(e.exponent())},wc.apply(e,arguments)}function WNe(){return WA.apply(null,arguments).exponent(.5)}function _V(){var e=[],t=Ja;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(wu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Aje(e,s/n))},r.copy=function(){return _V(t).domain(e)},wc.apply(r,arguments)}function E_(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Ja,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-s)*(n*p<n*s?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,u=rSe(p,[y,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(Np),m.rangeRound=g(EA),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),s=p(t),o=p(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function jV(){var e=Vu(E_()(Ja));return e.copy=function(){return Wu(e,jV())},wc.apply(e,arguments)}function SV(){var e=OA(E_()).domain([.1,1,10]);return e.copy=function(){return Wu(e,SV()).base(e.base())},wc.apply(e,arguments)}function NV(){var e=DA(E_());return e.copy=function(){return Wu(e,NV()).constant(e.constant())},wc.apply(e,arguments)}function HA(){var e=RA(E_());return e.copy=function(){return Wu(e,HA()).exponent(e.exponent())},wc.apply(e,arguments)}function HNe(){return HA.apply(null,arguments).exponent(.5)}const YF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$g,scaleDiverging:jV,scaleDivergingLog:SV,scaleDivergingPow:HA,scaleDivergingSqrt:HNe,scaleDivergingSymlog:NV,scaleIdentity:nV,scaleImplicit:Ik,scaleLinear:lb,scaleLog:sV,scaleOrdinal:NA,scalePoint:B0,scalePow:MA,scaleQuantile:lV,scaleQuantize:cV,scaleRadial:oV,scaleSequential:yV,scaleSequentialLog:bV,scaleSequentialPow:WA,scaleSequentialQuantile:_V,scaleSequentialSqrt:WNe,scaleSequentialSymlog:wV,scaleSqrt:NSe,scaleSymlog:iV,scaleThreshold:uV,scaleTime:zNe,scaleUtc:VNe,tickFormat:rV},Symbol.toStringTag,{value:"Module"}));var qNe=gp;function GNe(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!qNe(o):r(o,l)))var l=o,c=s}return c}var T_=GNe;function KNe(e,t){return e>t}var kV=KNe,YNe=T_,XNe=kV,QNe=Sp;function JNe(e){return e&&e.length?YNe(e,QNe,XNe):void 0}var ZNe=JNe;const A_=fr(ZNe);function e2e(e,t){return e<t}var CV=e2e,t2e=T_,r2e=CV,n2e=Sp;function a2e(e){return e&&e.length?t2e(e,n2e,r2e):void 0}var s2e=a2e;const P_=fr(s2e);var i2e=sA,o2e=jl,l2e=Mz,c2e=Fs;function u2e(e,t){var r=c2e(e)?i2e:l2e;return r(e,o2e(t))}var d2e=u2e,f2e=Dz,h2e=d2e;function m2e(e,t){return f2e(h2e(e,t),1)}var p2e=m2e;const g2e=fr(p2e);var v2e=bA;function x2e(e,t){return v2e(e,t)}var y2e=x2e;const tx=fr(y2e);var kp=1e9,b2e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},GA,Br=!0,Mi="[DecimalError] ",Id=Mi+"Invalid argument: ",qA=Mi+"Exponent out of range: ",Cp=Math.floor,sd=Math.pow,w2e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qs,Ln=1e7,Mr=7,EV=9007199254740991,fb=Cp(EV/Mr),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Mr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ot.dividedBy=ot.div=function(e){return Ql(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,r=t.constructor;return jr(Ql(t,new r(e),0,1),r.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return xn(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Qs))throw Error(Mi+"NaN");if(r.s<1)throw Error(Mi+(r.s?"NaN":"-Infinity"));return r.eq(Qs)?new n(0):(Br=!1,t=Ql(Wg(r,s),Wg(e,s),s),Br=!0,jr(t,a))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PV(t,e):TV(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Mi+"NaN");return r.s?(Br=!1,t=Ql(r,e,0,1).times(e),Br=!0,r.minus(t)):jr(new n(r),a)};ot.naturalExponential=ot.exp=function(){return AV(this)};ot.naturalLogarithm=ot.ln=function(){return Wg(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TV(t,e):PV(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Id+e);if(t=xn(a)+1,n=a.d.length-1,r=n*Mr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ot.squareRoot=ot.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Mi+"NaN")}for(e=xn(l),Br=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=tl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Cp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Ql(l,s,o+2)).times(.5),tl(s.d).slice(0,o)===(t=tl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(jr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Br=!0,jr(n,r)};ot.times=ot.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%Ln|0,t=l/Ln|0;s[a]=(s[a]+t)%Ln|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Br?jr(e,f.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ml(e,0,kp),t===void 0?t=n.rounding:ml(t,0,8),jr(r,e+xn(r)+1,t))};ot.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=sf(n,!0):(ml(e,0,kp),t===void 0?t=a.rounding:ml(t,0,8),n=jr(new a(n),e+1,t),r=sf(n,!0,e+1)),r};ot.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?sf(a):(ml(e,0,kp),t===void 0?t=s.rounding:ml(t,0,8),n=jr(new s(a),e+xn(a)+1,t),r=sf(n.abs(),!1,e+xn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return jr(new t(e),xn(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Qs);if(l=new c(l),!l.s){if(e.s<1)throw Error(Mi+"Infinity");return l}if(l.eq(Qs))return l;if(n=c.precision,e.eq(Qs))return jr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=EV){for(a=new c(Qs),t=Math.ceil(n/Mr+4),Br=!1;r%2&&(a=a.times(l),QF(a.d,t)),r=Cp(r/2),r!==0;)l=l.times(l),QF(l.d,t);return Br=!0,e.s<0?new c(Qs).div(a):jr(a,n)}}else if(s<0)throw Error(Mi+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Br=!1,a=e.times(Wg(l,n+u)),Br=!0,a=AV(a),a.s=s,a};ot.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=xn(a),n=sf(a,r<=s.toExpNeg||r>=s.toExpPos)):(ml(e,1,kp),t===void 0?t=s.rounding:ml(t,0,8),a=jr(new s(a),e,t),r=xn(a),n=sf(a,e<=r||r<=s.toExpNeg,e)),n};ot.toSignificantDigits=ot.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ml(e,1,kp),t===void 0?t=n.rounding:ml(t,0,8)),jr(new n(r),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xn(e),r=e.constructor;return sf(e,t<=r.toExpNeg||t>=r.toExpPos)};function TV(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Br?jr(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Mr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Ln|0,c[s]%=Ln;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Br?jr(t,f):t}function ml(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Id+e)}function tl(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Mr-n.length,r&&(s+=$c(r)),s+=n;o=e[t],n=o+"",r=Mr-n.length,r&&(s+=$c(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ql=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Ln|0,o=s/Ln|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Ln+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,g,p,v,y,b,w,j,_,S,N,C,k=n.constructor,E=n.s==a.s?1:-1,O=n.d,T=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Mi+"Division by zero");for(c=n.e-a.e,N=T.length,_=O.length,m=new k(E),g=m.d=[],u=0;T[u]==(O[u]||0);)++u;if(T[u]>(O[u]||0)&&--c,s==null?b=s=k.precision:o?b=s+(xn(n)-xn(a))+1:b=s,b<0)return new k(0);if(b=b/Mr+2|0,u=0,N==1)for(d=0,T=T[0],b++;(u<_||d)&&b--;u++)w=d*Ln+(O[u]||0),g[u]=w/T|0,d=w%T|0;else{for(d=Ln/(T[0]+1)|0,d>1&&(T=e(T,d),O=e(O,d),N=T.length,_=O.length),j=N,p=O.slice(0,N),v=p.length;v<N;)p[v++]=0;C=T.slice(),C.unshift(0),S=T[0],T[1]>=Ln/2&&++S;do d=0,l=t(T,p,N,v),l<0?(y=p[0],N!=v&&(y=y*Ln+(p[1]||0)),d=y/S|0,d>1?(d>=Ln&&(d=Ln-1),f=e(T,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,N<h?C:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(T,p,N,v),l<1&&(d++,r(p,N<v?C:T,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=O[j]||0:(p=[O[j]],v=1);while((j++<_||p[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=c,jr(m,o?s+xn(m)+1:s)}}();function AV(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(xn(e)>16)throw Error(qA+xn(e));if(!e.s)return new d(Qs);for(t==null?(Br=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(sd(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Qs),d.precision=l;;){if(a=jr(a.times(e),l),r=r.times(++c),o=s.plus(Ql(a,r,l)),tl(o.d).slice(0,l)===tl(s.d).slice(0,l)){for(;u--;)s=jr(s.times(s),l);return d.precision=f,t==null?(Br=!0,jr(s,f)):s}s=o}}function xn(e){for(var t=e.e*Mr,r=e.d[0];r>=10;r/=10)t++;return t}function HS(e,t,r){if(t>e.LN10.sd())throw Br=!0,r&&(e.precision=r),Error(Mi+"LN10 precision limit exceeded");return jr(new e(e.LN10),t)}function $c(e){for(var t="";e--;)t+="0";return t}function Wg(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Mi+(m.s?"NaN":"-Infinity"));if(m.eq(Qs))return new p(0);if(t==null?(Br=!1,u=v):u=t,m.eq(10))return t==null&&(Br=!0),HS(p,u);if(u+=h,p.precision=u,r=tl(g),n=r.charAt(0),s=xn(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=tl(m.d),n=r.charAt(0),f++;s=xn(m),n>1?(m=new p("0."+r),s++):m=new p(n+"."+r.slice(1))}else return c=HS(p,u+2,v).times(s+""),m=Wg(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(Br=!0,jr(m,v)):m;for(l=o=m=Ql(m.minus(Qs),m.plus(Qs),u),d=jr(m.times(m),u),a=3;;){if(o=jr(o.times(d),u),c=l.plus(Ql(o,new p(a),u)),tl(c.d).slice(0,u)===tl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(HS(p,u+2,v).times(s+""))),l=Ql(l,new p(f),u),p.precision=v,t==null?(Br=!0,jr(l,v)):l;l=c,a+=2}}function XF(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Cp(r/Mr),e.d=[],n=(r+1)%Mr,r<0&&(n+=Mr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Mr;n<a;)e.d.push(+t.slice(n,n+=Mr));t=t.slice(n),n=Mr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Br&&(e.e>fb||e.e<-fb))throw Error(qA+r)}else e.s=0,e.e=0,e.d=[0];return e}function jr(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Mr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Mr),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=Mr,a=n-Mr+o}if(r!==void 0&&(s=sd(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/sd(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=xn(e),f.length=1,t=t-s-1,f[0]=sd(10,(Mr-t%Mr)%Mr),e.e=Cp(-t/Mr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=sd(10,Mr-n),f[d]=a>0?(u/sd(10,o-a)%sd(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Ln&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Ln)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Br&&(e.e>fb||e.e<-fb))throw Error(qA+xn(e));return e}function PV(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Br?jr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Mr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Ln-1;--c[s],c[a]+=Ln}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Br?jr(t,m):t):new h(0)}function sf(e,t,r){var n,a=xn(e),s=tl(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+$c(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+$c(-a-1)+s,r&&(n=r-o)>0&&(s+=$c(n))):a>=o?(s+=$c(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+$c(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=$c(n))),e.s<0?"-"+s:s}function QF(e,t){if(e.length>t)return e.length=t,!0}function OV(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Id+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return XF(o,s.toString())}else if(typeof s!="string")throw Error(Id+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,w2e.test(s))XF(o,s);else throw Error(Id+s)}if(a.prototype=ot,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=OV,a.config=a.set=_2e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function _2e(e){if(!e||typeof e!="object")throw Error(Mi+"Object expected");var t,r,n,a=["precision",1,kp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Cp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Id+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Id+r+": "+n);return this}var GA=OV(b2e);Qs=new GA(1);const wr=GA;function j2e(e){return C2e(e)||k2e(e)||N2e(e)||S2e()}function S2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N2e(e,t){if(e){if(typeof e=="string")return Uk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uk(e,t)}}function k2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function C2e(e){if(Array.isArray(e))return Uk(e)}function Uk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E2e=function(t){return t},DV={"@@functional/placeholder":!0},RV=function(t){return t===DV},JF=function(t){return function r(){return arguments.length===0||arguments.length===1&&RV(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},T2e=function e(t,r){return t===1?r:JF(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==DV}).length;return o>=t?r.apply(void 0,a):e(t-o,JF(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return RV(f)?c.shift():f});return r.apply(void 0,j2e(d).concat(c))}))})},O_=function(t){return T2e(t.length,t)},zk=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},A2e=O_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),P2e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return E2e;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Vk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},MV=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function O2e(e){var t;return e===0?t=1:t=Math.floor(new wr(e).abs().log(10).toNumber())+1,t}function D2e(e,t,r){for(var n=new wr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var R2e=O_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),M2e=O_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),F2e=O_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const D_={rangeStep:D2e,getDigitCount:O2e,interpolateNumber:R2e,uninterpolateNumber:M2e,uninterpolateTruncation:F2e};function Wk(e){return $2e(e)||L2e(e)||FV(e)||I2e()}function I2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $2e(e){if(Array.isArray(e))return Hk(e)}function Hg(e,t){return z2e(e)||U2e(e,t)||FV(e,t)||B2e()}function B2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FV(e,t){if(e){if(typeof e=="string")return Hk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hk(e,t)}}function Hk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U2e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function z2e(e){if(Array.isArray(e))return e}function IV(e){var t=Hg(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function LV(e,t,r){if(e.lte(0))return new wr(0);var n=D_.getDigitCount(e.toNumber()),a=new wr(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new wr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new wr(Math.ceil(c))}function V2e(e,t,r){var n=1,a=new wr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new wr(10).pow(D_.getDigitCount(e)-1),a=new wr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new wr(Math.floor(e)))}else e===0?a=new wr(Math.floor((t-1)/2)):r||(a=new wr(Math.floor(e)));var o=Math.floor((t-1)/2),l=P2e(A2e(function(c){return a.add(new wr(c-o).mul(n)).toNumber()}),zk);return l(0,t)}function $V(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new wr(0),tickMin:new wr(0),tickMax:new wr(0)};var s=LV(new wr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new wr(0):(o=new wr(e).add(t).div(2),o=o.sub(new wr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new wr(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?$V(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new wr(l).mul(s)),tickMax:o.add(new wr(c).mul(s))})}function W2e(e){var t=Hg(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=IV([r,n]),c=Hg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Wk(zk(0,a-1).map(function(){return 1/0}))):[].concat(Wk(zk(0,a-1).map(function(){return-1/0})),[d]);return r>n?Vk(f):f}if(u===d)return V2e(u,a,s);var h=$V(u,d,o,s),m=h.step,g=h.tickMin,p=h.tickMax,v=D_.rangeStep(g,p.add(new wr(.1).mul(m)),m);return r>n?Vk(v):v}function H2e(e,t){var r=Hg(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=IV([n,a]),l=Hg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=LV(new wr(u).sub(c).div(d-1),s,0),h=[].concat(Wk(D_.rangeStep(new wr(c),new wr(u).sub(new wr(.99).mul(f)),f)),[u]);return n>a?Vk(h):h}var q2e=MV(W2e),G2e=MV(H2e),K2e="Invariant failed";function of(e,t){throw new Error(K2e)}var Y2e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hb.apply(this,arguments)}function X2e(e,t){return eke(e)||Z2e(e,t)||J2e(e,t)||Q2e()}function Q2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J2e(e,t){if(e){if(typeof e=="string")return ZF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZF(e,t)}}function ZF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function eke(e){if(Array.isArray(e))return e}function tke(e,t){if(e==null)return{};var r=rke(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ake(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zV(n.key),n)}}function ske(e,t,r){return t&&ake(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ike(e,t,r){return t=mb(t),oke(e,BV()?Reflect.construct(t,r||[],mb(e).constructor):t.apply(e,r))}function oke(e,t){if(t&&(Cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lke(e)}function lke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BV=function(){return!!e})()}function mb(e){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mb(e)}function cke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qk(e,t)}function qk(e,t){return qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qk(e,t)}function UV(e,t,r){return t=zV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=uke(e,"string");return Cm(t)=="symbol"?t:t+""}function uke(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rx=function(e){function t(){return nke(this,t),ike(this,t,arguments)}return cke(t,e),ske(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=tke(n,Y2e),m=bt(h,!1);this.props.direction==="x"&&d.type!=="number"&&of();var g=c.map(function(p){var v=u(p,l),y=v.x,b=v.y,w=v.value,j=v.errorVal;if(!j)return null;var _=[],S,N;if(Array.isArray(j)){var C=X2e(j,2);S=C[0],N=C[1]}else S=N=j;if(s==="vertical"){var k=d.scale,E=b+a,O=E+o,T=E-o,U=k(w-S),W=k(w+N);_.push({x1:W,y1:O,x2:W,y2:T}),_.push({x1:U,y1:E,x2:W,y2:E}),_.push({x1:U,y1:O,x2:U,y2:T})}else if(s==="horizontal"){var R=f.scale,z=y+a,P=z-o,M=z+o,L=R(w-S),q=R(w+N);_.push({x1:P,y1:q,x2:M,y2:q}),_.push({x1:z,y1:L,x2:z,y2:q}),_.push({x1:P,y1:L,x2:M,y2:L})}return ue.createElement(ar,hb({className:"recharts-errorBar",key:"bar-".concat(_.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),_.map(function(Z){return ue.createElement("line",hb({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return ue.createElement(ar,{className:"recharts-errorBars"},g)}}])}(ue.Component);UV(rx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});UV(rx,"displayName","ErrorBar");function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function e3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(r),!0).forEach(function(n){dke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dke(e,t,r){return t=fke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fke(e){var t=hke(e,"string");return qg(t)=="symbol"?t:t+""}function hke(e,t){if(qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VV=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=qs(r,Ti);if(!o)return null;var l=Ti.defaultProps,c=l!==void 0?Qu(Qu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Qu(Qu({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:g,type:c.iconType||v||"square",color:KA(f),value:p||g,payload:m}}),Qu(Qu(Qu({},c),Ti.getWithHeight(o,a)),{},{payload:u,item:o})};function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function t3(e){return vke(e)||gke(e)||pke(e)||mke()}function mke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pke(e,t){if(e){if(typeof e=="string")return Gk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gk(e,t)}}function gke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vke(e){if(Array.isArray(e))return Gk(e)}function Gk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(r),!0).forEach(function(n){Lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lh(e,t,r){return t=xke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xke(e){var t=yke(e,"string");return Gg(t)=="symbol"?t:t+""}function yke(e,t){if(Gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function En(e,t,r){return Rt(e)||Rt(t)?r:An(t)?ni(e,t,r):Ct(t)?t(e):r}function U0(e,t,r,n){var a=g2e(e,function(l){return En(l,t)});if(r==="number"){var s=a.filter(function(l){return Ke(l)||parseFloat(l)});return s.length?[P_(s),A_(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Rt(l)}):a;return o.map(function(l){return An(l)||l instanceof Date?l:""})}var bke=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Xa(f-d)!==Xa(h-f)){var g=[];if(Xa(h-f)===Xa(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},KA=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Xr(Xr({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},wke=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,y=p.filter(function(N){return Xl(N.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?Xr(Xr({},b),y[0].props):y[0].props,j=w.barSize,_=w[v];o[_]||(o[_]=[]);var S=Rt(j)?r:j;o[_].push({item:y[0],stackList:y.slice(1),barSize:Rt(S)?void 0:Qa(S,n,0)})}}return o},_ke=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Qa(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,g=o.reduce(function(j,_){return j+_.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(j,_){var S={item:_.item,position:{offset:v.offset+v.size+u,size:h?m:_.barSize}},N=[].concat(t3(j),[S]);return v=N[N.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(C){N.push({item:C,position:v})}),N},f)}else{var y=Qa(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(j,_,S){var N=[].concat(t3(j),[{item:_.item,position:{offset:y+(b+u)*S+(b-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(C){N.push({item:C,position:N[N.length-1].position})}),N},f)}return d},jke=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=VV({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&Ke(t[m]))return Xr(Xr({},t),{},Lh({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&Ke(t[g]))return Xr(Xr({},t),{},Lh({},g,t[g]+(h||0)))}return t},Ske=function(t,r,n){return Rt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},WV=function(t,r,n,a,s){var o=r.props.children,l=ai(o,rx).filter(function(u){return Ske(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=En(d,n);if(Rt(f))return u;var h=Array.isArray(f)?[P_(f),A_(f)]:[f,f],m=c.reduce(function(g,p){var v=En(d,p,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Nke=function(t,r,n,a,s){var o=r.map(function(l){return WV(t,l,n,s,a)}).filter(function(l){return!Rt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},HV=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&WV(t,c,u,a)||U0(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},qV=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},GV=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},ql=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Xa(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Yv(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},qS=new WeakMap,ly=function(t,r){if(typeof r!="function")return t;qS.has(t)||qS.set(t,new WeakMap);var n=qS.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},KV=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:$g(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:lb(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:B0(),realScaleType:"point"}:s==="category"?{scale:$g(),realScaleType:"band"}:{scale:lb(),realScaleType:"linear"};if(tf(a)){var c="scale".concat(g_(a));return{scale:(YF[c]||B0)(),realScaleType:YF[c]?c:"point"}}return Ct(a)?{scale:a}:{scale:B0(),realScaleType:"point"}},n3=1e-4,YV=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-n3,o=Math.max(a[0],a[1])+n3,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},kke=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Cke=function(t,r){if(!r||r.length!==2||!Ke(r[0])||!Ke(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Ke(t[0])||t[0]<n)&&(s[0]=n),(!Ke(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},Eke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Yv(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Tke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Yv(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Ake={sign:Eke,expand:Ype,none:ym,silhouette:Xpe,wiggle:Qpe,positive:Tke},Pke=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=Ake[n],o=Kpe().keys(a).value(function(l,c){return+En(l,c,0)}).order(xk).offset(s);return o(t)},Oke=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Xr(Xr({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var y=g[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(An(p)){var w=b.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[p]=w}else b.stackGroups[wp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Xr(Xr({},f),{},Lh({},y,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var y=m.stackGroups[v];return Xr(Xr({},p),{},Lh({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:Pke(t,y.items,s)}))},g)}return Xr(Xr({},f),{},Lh({},h,m))},d)},XV=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=q2e(u,s,l);return t.domain([P_(d),A_(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=G2e(f,s,l);return{niceTicks:h}}return null};function a3(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Rt(a[t.dataKey])){var l=U1(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=En(a,Rt(o)?t.dataKey:o);return Rt(c)?null:t.scale(c)}var s3=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=En(o,r.dataKey,r.domain[l]);return Rt(c)?null:r.scale(c)-s/2+a},Dke=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},Rke=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Xr(Xr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(An(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Mke=function(t){return t.reduce(function(r,n){return[P_(n.concat([r[0]]).filter(Ke)),A_(n.concat([r[1]]).filter(Ke))]},[1/0,-1/0])},QV=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=Mke(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},i3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kk=function(t,r,n){if(Ct(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ke(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(i3.test(t[0])){var s=+i3.exec(t[0])[1];a[0]=r[0]-s}else Ct(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ke(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(o3.test(t[1])){var o=+o3.exec(t[1])[1];a[1]=r[1]+o}else Ct(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},pb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=_A(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},l3=function(t,r,n){return!t||!t.length||tx(t,ni(n,"type.defaultProps.domain"))?r:t},JV=function(t,r){var n=t.type.defaultProps?Xr(Xr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Xr(Xr({},bt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:KA(t),value:En(r,a),type:c,payload:r,chartType:u,hide:d})};function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function c3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(r),!0).forEach(function(n){ZV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t,r){return t=Fke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fke(e){var t=Ike(e,"string");return Kg(t)=="symbol"?t:t+""}function Ike(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lke(e,t){return zke(e)||Uke(e,t)||Bke(e,t)||$ke()}function $ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bke(e,t){if(e){if(typeof e=="string")return u3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u3(e,t)}}function u3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zke(e){if(Array.isArray(e))return e}var gb=Math.PI/180,Vke=function(t){return t*180/Math.PI},Cr=function(t,r,n,a){return{x:t+Math.cos(-gb*a)*n,y:r+Math.sin(-gb*a)*n}},eW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Wke=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Qa(t.cx,o,o/2),f=Qa(t.cy,l,l/2),h=eW(o,l,n),m=Qa(t.innerRadius,h,0),g=Qa(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,y){var b=r[y],w=b.domain,j=b.reversed,_;if(Rt(b.range))a==="angleAxis"?_=[c,u]:a==="radiusAxis"&&(_=[m,g]),j&&(_=[_[1],_[0]]);else{_=b.range;var S=_,N=Lke(S,2);c=N[0],u=N[1]}var C=KV(b,s),k=C.realScaleType,E=C.scale;E.domain(w).range(_),YV(E);var O=XV(E,Fl(Fl({},b),{},{realScaleType:k})),T=Fl(Fl(Fl({},b),O),{},{range:_,radius:g,realScaleType:k,scale:E,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return Fl(Fl({},v),{},ZV({},y,T))},{})},Hke=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},qke=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=Hke({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Vke(u),angleInRadian:u}},Gke=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},Kke=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},d3=function(t,r){var n=t.x,a=t.y,s=qke({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Gke(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?Fl(Fl({},r),{},{radius:o,angle:Kke(m,r)}):null},tW=function(t){return!x.isValidElement(t)&&!Ct(t)&&typeof t!="boolean"?t.className:""};function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}var Yke=["offset"];function Xke(e){return eCe(e)||Zke(e)||Jke(e)||Qke()}function Qke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jke(e,t){if(e){if(typeof e=="string")return Yk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yk(e,t)}}function Zke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eCe(e){if(Array.isArray(e))return Yk(e)}function Yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tCe(e,t){if(e==null)return{};var r=rCe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(r),!0).forEach(function(n){nCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nCe(e,t,r){return t=aCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aCe(e){var t=sCe(e,"string");return Yg(t)=="symbol"?t:t+""}function sCe(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}var iCe=function(t){var r=t.value,n=t.formatter,a=Rt(t.children)?r:t.children;return Ct(n)?n(a):a},oCe=function(t,r){var n=Xa(r-t),a=Math.min(Math.abs(r-t),360);return n*a},lCe=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,y=oCe(m,g),b=y>=0?1:-1,w,j;a==="insideStart"?(w=m+b*o,j=p):a==="insideEnd"?(w=g-b*o,j=!p):a==="end"&&(w=g+b*o,j=p),j=y<=0?j:!j;var _=Cr(u,d,v,w),S=Cr(u,d,v,w+(j?1:-1)*359),N="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),C=Rt(t.id)?wp("recharts-radial-line-"):t.id;return ue.createElement("text",Xg({},n,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",l)}),ue.createElement("defs",null,ue.createElement("path",{id:C,d:N})),ue.createElement("textPath",{xlinkHref:"#".concat(C)},r))},cCe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=Cr(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Cr(o,l,v,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},uCe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*a,y=p>0?"end":"start",b=p>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Sn(Sn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Sn(Sn({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var _={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Sn(Sn({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(s==="right"){var S={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Sn(Sn({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return s==="insideLeft"?Sn({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):s==="insideRight"?Sn({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):s==="insideTop"?Sn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):s==="insideBottom"?Sn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):s==="insideTopLeft"?Sn({x:l+v,y:c+h,textAnchor:b,verticalAnchor:g},N):s==="insideTopRight"?Sn({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:g},N):s==="insideBottomLeft"?Sn({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:m},N):s==="insideBottomRight"?Sn({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:m},N):vp(s)&&(Ke(s.x)||pd(s.x))&&(Ke(s.y)||pd(s.y))?Sn({x:l+Qa(s.x,u),y:c+Qa(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):Sn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},dCe=function(t){return"cx"in t&&Ke(t.cx)};function Un(e){var t=e.offset,r=t===void 0?5:t,n=tCe(e,Yke),a=Sn({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Rt(l)&&Rt(c)&&!x.isValidElement(u)&&!Ct(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var m;if(Ct(u)){if(m=x.createElement(u,a),x.isValidElement(m))return m}else m=iCe(a);var g=dCe(s),p=bt(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return lCe(a,m,p);var v=g?cCe(a):uCe(a);return ue.createElement(af,Xg({className:Mt("recharts-label",f)},p,v,{breakAll:h}),m)}Un.displayName="Label";var rW=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ke(p)&&Ke(v)){if(Ke(f)&&Ke(h))return{x:f,y:h,width:p,height:v};if(Ke(m)&&Ke(g))return{x:m,y:g,width:p,height:v}}return Ke(f)&&Ke(h)?{x:f,y:h,width:0,height:0}:Ke(r)&&Ke(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},fCe=function(t,r){return t?t===!0?ue.createElement(Un,{key:"label-implicit",viewBox:r}):An(t)?ue.createElement(Un,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===Un?x.cloneElement(t,{key:"label-implicit",viewBox:r}):ue.createElement(Un,{key:"label-implicit",content:t,viewBox:r}):Ct(t)?ue.createElement(Un,{key:"label-implicit",content:t,viewBox:r}):vp(t)?ue.createElement(Un,Xg({viewBox:r},t,{key:"label-implicit"})):null:null},hCe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=rW(t),o=ai(a,Un).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=fCe(t.label,r||s);return[l].concat(Xke(o))};Un.parseViewBox=rW;Un.renderCallByParent=hCe;function mCe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var pCe=mCe;const gCe=fr(pCe);function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}var vCe=["valueAccessor"],xCe=["data","dataKey","clockWise","id","textBreakAll"];function yCe(e){return jCe(e)||_Ce(e)||wCe(e)||bCe()}function bCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wCe(e,t){if(e){if(typeof e=="string")return Xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(e,t)}}function _Ce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jCe(e){if(Array.isArray(e))return Xk(e)}function Xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(this,arguments)}function h3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(r),!0).forEach(function(n){SCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SCe(e,t,r){return t=NCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NCe(e){var t=kCe(e,"string");return Qg(t)=="symbol"?t:t+""}function kCe(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p3(e,t){if(e==null)return{};var r=CCe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ECe=function(t){return Array.isArray(t.value)?gCe(t.value):t.value};function Jl(e){var t=e.valueAccessor,r=t===void 0?ECe:t,n=p3(e,vCe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=p3(n,xCe);return!a||!a.length?null:ue.createElement(ar,{className:"recharts-label-list"},a.map(function(d,f){var h=Rt(s)?r(d,f):En(d&&d.payload,s),m=Rt(l)?{}:{id:"".concat(l,"-").concat(f)};return ue.createElement(Un,vb({},bt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Un.parseViewBox(Rt(o)?d:m3(m3({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Jl.displayName="LabelList";function TCe(e,t){return e?e===!0?ue.createElement(Jl,{key:"labelList-implicit",data:t}):ue.isValidElement(e)||Ct(e)?ue.createElement(Jl,{key:"labelList-implicit",data:t,content:e}):vp(e)?ue.createElement(Jl,vb({data:t},e,{key:"labelList-implicit"})):null:null}function ACe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ai(n,Jl).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=TCe(e.label,t);return[s].concat(yCe(a))}Jl.renderCallByParent=ACe;function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function Qk(){return Qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qk.apply(this,arguments)}function g3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(r),!0).forEach(function(n){PCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PCe(e,t,r){return t=OCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OCe(e){var t=DCe(e,"string");return Jg(t)=="symbol"?t:t+""}function DCe(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RCe=function(t,r){var n=Xa(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},cy=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/gb,h=u?s:s+o*f,m=Cr(r,n,d,h),g=Cr(r,n,a,h),p=u?s-o*f:s,v=Cr(r,n,d*Math.cos(f*gb),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},nW=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=RCe(o,l),u=o+c,d=Cr(r,n,s,o),f=Cr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Cr(r,n,a,o),g=Cr(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},MCe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Xa(d-u),h=cy({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=cy({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,w=v.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):nW({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=cy({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,C=S.lineTangency,k=S.theta,E=cy({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=E.circleTangency,T=E.lineTangency,U=E.theta,W=c?Math.abs(u-d):Math.abs(u-d)-k-U;if(W<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(W>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},FCe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aW=function(t){var r=v3(v3({},FCe),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=Mt("recharts-sector",h),g=o-s,p=Qa(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=MCe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=nW({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),ue.createElement("path",Qk({},bt(r,!0),{className:m,d:v,role:"img"}))};function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function Jk(){return Jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jk.apply(this,arguments)}function x3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(r),!0).forEach(function(n){ICe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ICe(e,t,r){return t=LCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LCe(e){var t=$Ce(e,"string");return Zg(t)=="symbol"?t:t+""}function $Ce(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b3={curveBasisClosed:Ipe,curveBasisOpen:Lpe,curveBasis:Fpe,curveBumpX:_pe,curveBumpY:jpe,curveLinearClosed:$pe,curveLinear:x_,curveMonotoneX:Bpe,curveMonotoneY:Upe,curveNatural:zpe,curveStep:Vpe,curveStepAfter:Hpe,curveStepBefore:Wpe},uy=function(t){return t.x===+t.x&&t.y===+t.y},e0=function(t){return t.x},t0=function(t){return t.y},BCe=function(t,r){if(Ct(t))return t;var n="curve".concat(g_(t));return(n==="curveMonotone"||n==="curveBump")&&r?b3["".concat(n).concat(r==="vertical"?"Y":"X")]:b3[n]||x_},UCe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=BCe(n,l),f=u?s.filter(function(p){return uy(p)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return uy(p)}):o,g=f.map(function(p,v){return y3(y3({},p),{},{base:m[v]})});return l==="vertical"?h=ey().y(t0).x1(e0).x0(function(p){return p.base.x}):h=ey().x(e0).y1(t0).y0(function(p){return p.base.y}),h.defined(uy).curve(d),h(g)}return l==="vertical"&&Ke(o)?h=ey().y(t0).x1(e0).x0(o):Ke(o)?h=ey().x(e0).y1(t0).y0(o):h=J7().x(e0).y(t0),h.defined(uy).curve(d),h(f)},xb=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?UCe(t):a;return x.createElement("path",Jk({},bt(t,!1),z1(t),{className:Mt("recharts-curve",r),d:o,ref:s}))},sW={exports:{}},zCe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VCe=zCe,WCe=VCe;function iW(){}function oW(){}oW.resetWarningCache=iW;var HCe=function(){function e(n,a,s,o,l,c){if(c!==WCe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oW,resetWarningCache:iW};return r.PropTypes=r,r};sW.exports=HCe();var qCe=sW.exports;const cr=fr(qCe);var GCe=Object.getOwnPropertyNames,KCe=Object.getOwnPropertySymbols,YCe=Object.prototype.hasOwnProperty;function w3(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function dy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function _3(e){return GCe(e).concat(KCe(e))}var XCe=Object.hasOwn||function(e,t){return YCe.call(e,t)};function Nf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var QCe="__v",JCe="__o",ZCe="_owner",j3=Object.getOwnPropertyDescriptor,S3=Object.keys;function eEe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function tEe(e,t){return Nf(e.getTime(),t.getTime())}function rEe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function nEe(e,t){return e===t}function N3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var aEe=Nf;function sEe(e,t,r){var n=S3(e),a=n.length;if(S3(t).length!==a)return!1;for(;a-- >0;)if(!lW(e,t,r,n[a]))return!1;return!0}function r0(e,t,r){var n=_3(e),a=n.length;if(_3(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!lW(e,t,r,s)||(o=j3(e,s),l=j3(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function iEe(e,t){return Nf(e.valueOf(),t.valueOf())}function oEe(e,t){return e.source===t.source&&e.flags===t.flags}function k3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function lEe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function cEe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function lW(e,t,r,n){return(n===ZCe||n===JCe||n===QCe)&&(e.$$typeof||t.$$typeof)?!0:XCe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var uEe="[object Arguments]",dEe="[object Boolean]",fEe="[object Date]",hEe="[object Error]",mEe="[object Map]",pEe="[object Number]",gEe="[object Object]",vEe="[object RegExp]",xEe="[object Set]",yEe="[object String]",bEe="[object URL]",wEe=Array.isArray,C3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,E3=Object.assign,_Ee=Object.prototype.toString.call.bind(Object.prototype.toString);function jEe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var y=typeof g;if(y!==typeof p)return!1;if(y!=="object")return y==="number"?o(g,p,v):y==="function"?a(g,p,v):!1;var b=g.constructor;if(b!==p.constructor)return!1;if(b===Object)return l(g,p,v);if(wEe(g))return t(g,p,v);if(C3!=null&&C3(g))return f(g,p,v);if(b===Date)return r(g,p,v);if(b===RegExp)return u(g,p,v);if(b===Map)return s(g,p,v);if(b===Set)return d(g,p,v);var w=_Ee(g);return w===fEe?r(g,p,v):w===vEe?u(g,p,v):w===mEe?s(g,p,v):w===xEe?d(g,p,v):w===gEe?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,v):w===bEe?h(g,p,v):w===hEe?n(g,p,v):w===uEe?l(g,p,v):w===dEe||w===pEe||w===yEe?c(g,p,v):!1}}function SEe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?r0:eEe,areDatesEqual:tEe,areErrorsEqual:rEe,areFunctionsEqual:nEe,areMapsEqual:n?w3(N3,r0):N3,areNumbersEqual:aEe,areObjectsEqual:n?r0:sEe,arePrimitiveWrappersEqual:iEe,areRegExpsEqual:oEe,areSetsEqual:n?w3(k3,r0):k3,areTypedArraysEqual:n?r0:lEe,areUrlsEqual:cEe};if(r&&(a=E3({},a,r(a))),t){var s=dy(a.areArraysEqual),o=dy(a.areMapsEqual),l=dy(a.areObjectsEqual),c=dy(a.areSetsEqual);a=E3({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function NEe(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function kEe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var CEe=Hu();Hu({strict:!0});Hu({circular:!0});Hu({circular:!0,strict:!0});Hu({createInternalComparator:function(){return Nf}});Hu({strict:!0,createInternalComparator:function(){return Nf}});Hu({circular:!0,createInternalComparator:function(){return Nf}});Hu({circular:!0,createInternalComparator:function(){return Nf},strict:!0});function Hu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=SEe(e),c=jEe(l),u=n?n(c):NEe(c);return kEe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function EEe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function T3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):EEe(a)};requestAnimationFrame(n)}function Zk(e){"@babel/helpers - typeof";return Zk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zk(e)}function TEe(e){return DEe(e)||OEe(e)||PEe(e)||AEe()}function AEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PEe(e,t){if(e){if(typeof e=="string")return A3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A3(e,t)}}function A3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DEe(e){if(Array.isArray(e))return e}function REe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=TEe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){T3(a.bind(null,u),c);return}a(c),T3(a.bind(null,u));return}Zk(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function P3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(r),!0).forEach(function(n){cW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cW(e,t,r){return t=MEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MEe(e){var t=FEe(e,"string");return ev(t)==="symbol"?t:String(t)}function FEe(e,t){if(ev(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ev(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IEe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},LEe=function(t){return t},$Ee=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},z0=function(t,r){return Object.keys(r).reduce(function(n,a){return O3(O3({},n),{},cW({},a,t(a,r[a])))},{})},D3=function(t,r,n){return t.map(function(a){return"".concat($Ee(a)," ").concat(r,"ms ").concat(n)}).join(",")};function BEe(e,t){return VEe(e)||zEe(e,t)||uW(e,t)||UEe()}function UEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function VEe(e){if(Array.isArray(e))return e}function WEe(e){return GEe(e)||qEe(e)||uW(e)||HEe()}function HEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uW(e,t){if(e){if(typeof e=="string")return eC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(e,t)}}function qEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GEe(e){if(Array.isArray(e))return eC(e)}function eC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yb=1e-4,dW=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},fW=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},R3=function(t,r){return function(n){var a=dW(t,r);return fW(a,n)}},KEe=function(t,r){return function(n){var a=dW(t,r),s=[].concat(WEe(a.map(function(o,l){return o*l}).slice(1)),[0]);return fW(s,n)}},M3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=BEe(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=R3(a,o),h=R3(s,l),m=KEe(a,o),g=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,w=b,j=0;j<8;++j){var _=f(w)-b,S=m(w);if(Math.abs(_-b)<yb||S<yb)return h(w);w=g(w-_/S)}return h(w)};return p.isStepper=!1,p},YEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*s,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<yb&&Math.abs(p)<yb?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},XEe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return M3(a);case"spring":return YEe();default:if(a.split("(")[0]==="cubic-bezier")return M3(a)}return typeof a=="function"?a:null};function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function F3(e){return ZEe(e)||JEe(e)||hW(e)||QEe()}function QEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZEe(e){if(Array.isArray(e))return rC(e)}function I3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(r),!0).forEach(function(n){tC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tC(e,t,r){return t=eTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eTe(e){var t=tTe(e,"string");return tv(t)==="symbol"?t:String(t)}function tTe(e,t){if(tv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rTe(e,t){return sTe(e)||aTe(e,t)||hW(e,t)||nTe()}function nTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hW(e,t){if(e){if(typeof e=="string")return rC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rC(e,t)}}function rC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sTe(e){if(Array.isArray(e))return e}var bb=function(t,r,n){return t+(r-t)*n},nC=function(t){var r=t.from,n=t.to;return r!==n},iTe=function e(t,r,n){var a=z0(function(s,o){if(nC(o)){var l=t(o.from,o.to,o.velocity),c=rTe(l,2),u=c[0],d=c[1];return Xn(Xn({},o),{},{from:u,velocity:d})}return o},r);return n<1?z0(function(s,o){return nC(o)?Xn(Xn({},o),{},{velocity:bb(o.velocity,a[s].velocity,n),from:bb(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const oTe=function(e,t,r,n,a){var s=IEe(e,t),o=s.reduce(function(v,y){return Xn(Xn({},v),{},tC({},y,[e[y],t[y]]))},{}),l=s.reduce(function(v,y){return Xn(Xn({},v),{},tC({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return z0(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(nC).length},g=function(y){u||(u=y);var b=y-u,w=b/r.dt;l=iTe(r,l,w),a(Xn(Xn(Xn({},e),t),h())),u=y,m()||(c=requestAnimationFrame(f))},p=function(y){d||(d=y);var b=(y-d)/n,w=z0(function(_,S){return bb.apply(void 0,F3(S).concat([r(b)]))},o);if(a(Xn(Xn(Xn({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var j=z0(function(_,S){return bb.apply(void 0,F3(S).concat([r(1)]))},o);a(Xn(Xn(Xn({},e),t),j))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}var lTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cTe(e,t){if(e==null)return{};var r=uTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uTe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function GS(e){return mTe(e)||hTe(e)||fTe(e)||dTe()}function dTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fTe(e,t){if(e){if(typeof e=="string")return aC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aC(e,t)}}function hTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mTe(e){if(Array.isArray(e))return aC(e)}function aC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(n){y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y0(e,t,r){return t=mW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mW(n.key),n)}}function vTe(e,t,r){return t&&gTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mW(e){var t=xTe(e,"string");return Em(t)==="symbol"?t:String(t)}function xTe(e,t){if(Em(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Em(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sC(e,t)}function sC(e,t){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sC(e,t)}function bTe(e){var t=wTe();return function(){var n=wb(e),a;if(t){var s=wb(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return iC(this,a)}}function iC(e,t){if(t&&(Em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oC(e)}function oC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(e)}var pl=function(e){yTe(r,e);var t=bTe(r);function r(n,a){var s;pTe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(oC(s)),s.changeStyle=s.changeStyle.bind(oC(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),iC(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},iC(s);s.state={style:c?y0({},c,u):u}}else s.state={style:{}};return s}return vTe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?y0({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(CEe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var v={style:c?y0({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(qi(qi({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=oTe(o,l,XEe(u),c,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,y){if(y===0)return p;var b=v.duration,w=v.easing,j=w===void 0?"ease":w,_=v.style,S=v.properties,N=v.onAnimationEnd,C=y>0?o[y-1]:v,k=S||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(GS(p),[s.runJSAnimation.bind(s,{from:C.style,to:_,duration:b,easing:j}),b]);var E=D3(k,b,j),O=qi(qi(qi({},C.style),_),{},{transition:E});return[].concat(GS(p),[O,b,N]).filter(LEe)};return this.manager.start([c].concat(GS(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=REe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?y0({},l,c):c,v=D3(Object.keys(p),o,u);g.start([d,s,qi(qi({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=cTe(a,lTe),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,y=g.className,b=x.cloneElement(m,qi(qi({},c),{},{style:qi(qi({},v),d),className:y}));return b};return u===1?f(x.Children.only(s)):ue.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);pl.displayName="Animate";pl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pl.propTypes={from:cr.oneOfType([cr.object,cr.string]),to:cr.oneOfType([cr.object,cr.string]),attributeName:cr.string,duration:cr.number,begin:cr.number,easing:cr.oneOfType([cr.string,cr.func]),steps:cr.arrayOf(cr.shape({duration:cr.number.isRequired,style:cr.object.isRequired,easing:cr.oneOfType([cr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),cr.func]),properties:cr.arrayOf("string"),onAnimationEnd:cr.func})),children:cr.oneOfType([cr.node,cr.func]),isActive:cr.bool,canBegin:cr.bool,onAnimationEnd:cr.func,shouldReAnimate:cr.bool,onAnimationStart:cr.func,onAnimationReStart:cr.func};function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_b.apply(this,arguments)}function _Te(e,t){return kTe(e)||NTe(e,t)||STe(e,t)||jTe()}function jTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function STe(e,t){if(e){if(typeof e=="string")return $3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $3(e,t)}}function $3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kTe(e){if(Array.isArray(e))return e}function B3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B3(Object(r),!0).forEach(function(n){CTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CTe(e,t,r){return t=ETe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ETe(e){var t=TTe(e,"string");return rv(t)=="symbol"?t:t+""}function TTe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z3=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},ATe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},PTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YA=function(t){var r=U3(U3({},PTe),t),n=x.useRef(),a=x.useState(-1),s=_Te(a,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Mt("recharts-rectangle",m);return b?ue.createElement(pl,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(j){var _=j.width,S=j.height,N=j.x,C=j.y;return ue.createElement(pl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:g},ue.createElement("path",_b({},bt(r,!0),{className:w,d:z3(N,C,_,S,h),ref:n})))}):ue.createElement("path",_b({},bt(r,!0),{className:w,d:z3(c,u,d,f,h)}))},OTe=["points","className","baseLinePoints","connectNulls"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(this,arguments)}function DTe(e,t){if(e==null)return{};var r=RTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function V3(e){return LTe(e)||ITe(e)||FTe(e)||MTe()}function MTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FTe(e,t){if(e){if(typeof e=="string")return lC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lC(e,t)}}function ITe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LTe(e){if(Array.isArray(e))return lC(e)}function lC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var W3=function(t){return t&&t.x===+t.x&&t.y===+t.y},$Te=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){W3(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),W3(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},V0=function(t,r){var n=$Te(t);r&&(n=[n.reduce(function(s,o){return[].concat(V3(s),V3(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},BTe=function(t,r,n){var a=V0(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(V0(r.reverse(),n).slice(1))},UTe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=DTe(t,OTe);if(!r||!r.length)return null;var l=Mt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=BTe(r,a,s);return ue.createElement("g",{className:l},ue.createElement("path",bh({},bt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ue.createElement("path",bh({},bt(o,!0),{fill:"none",d:V0(r,s)})):null,c?ue.createElement("path",bh({},bt(o,!0),{fill:"none",d:V0(a,s)})):null)}var d=V0(r,s);return ue.createElement("path",bh({},bt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function cC(){return cC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cC.apply(this,arguments)}var R_=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=Mt("recharts-dot",s);return r===+r&&n===+n&&a===+a?x.createElement("circle",cC({},bt(t,!1),z1(t),{className:o,cx:r,cy:n,r:a})):null};function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}var zTe=["x","y","top","left","width","height","className"];function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uC.apply(this,arguments)}function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VTe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(n){WTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WTe(e,t,r){return t=HTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HTe(e){var t=qTe(e,"string");return nv(t)=="symbol"?t:t+""}function qTe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GTe(e,t){if(e==null)return{};var r=KTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var YTe=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},XTe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=GTe(t,zTe),v=VTe({x:n,y:s,top:l,left:u,width:f,height:m},p);return!Ke(n)||!Ke(s)||!Ke(f)||!Ke(m)||!Ke(l)||!Ke(u)?null:ue.createElement("path",uC({},bt(v,!0),{className:Mt("recharts-cross",g),d:YTe(n,s,f,m,l,u)}))},QTe=T_,JTe=kV,ZTe=jl;function eAe(e,t){return e&&e.length?QTe(e,ZTe(t),JTe):void 0}var tAe=eAe;const rAe=fr(tAe);var nAe=T_,aAe=jl,sAe=CV;function iAe(e,t){return e&&e.length?nAe(e,aAe(t),sAe):void 0}var oAe=iAe;const lAe=fr(oAe);var cAe=["cx","cy","angle","ticks","axisLine"],uAe=["ticks","tick","angle","tickFormatter","stroke"];function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(this,arguments)}function q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ju(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(r),!0).forEach(function(n){M_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G3(e,t){if(e==null)return{};var r=dAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gW(n.key),n)}}function hAe(e,t,r){return t&&K3(e.prototype,t),r&&K3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mAe(e,t,r){return t=jb(t),pAe(e,pW()?Reflect.construct(t,r||[],jb(e).constructor):t.apply(e,r))}function pAe(e,t){if(t&&(Tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gAe(e)}function gAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pW=function(){return!!e})()}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jb(e)}function vAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dC(e,t)}function dC(e,t){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dC(e,t)}function M_(e,t,r){return t=gW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=xAe(e,"string");return Tm(t)=="symbol"?t:t+""}function xAe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F_=function(e){function t(){return fAe(this,t),mAe(this,t,arguments)}return vAe(t,e),hAe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return Cr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=rAe(l,function(d){return d.coordinate||0}),u=lAe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=G3(n,cAe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=Cr(a,s,d[0],o),h=Cr(a,s,d[1],o),m=Ju(Ju(Ju({},bt(u,!1)),{},{fill:"none"},bt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return ue.createElement("line",W0({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=G3(a,uAe),f=this.getTickTextAnchor(),h=bt(d,!1),m=bt(o,!1),g=s.map(function(p,v){var y=n.getTickValueCoord(p),b=Ju(Ju(Ju(Ju({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},y),{},{payload:p});return ue.createElement(ar,W0({className:Mt("recharts-polar-radius-axis-tick",tW(o)),key:"tick-".concat(p.coordinate)},rf(n.props,p,v)),t.renderTickItem(o,b,c?c(p.value,v):p.value))});return ue.createElement(ar,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:ue.createElement(ar,{className:Mt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Un.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ue.isValidElement(n)?o=ue.cloneElement(n,a):Ct(n)?o=n(a):o=ue.createElement(af,W0({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(x.PureComponent);M_(F_,"displayName","PolarRadiusAxis");M_(F_,"axisType","radiusAxis");M_(F_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(this,arguments)}function Y3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y3(Object(r),!0).forEach(function(n){I_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xW(n.key),n)}}function bAe(e,t,r){return t&&X3(e.prototype,t),r&&X3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wAe(e,t,r){return t=Sb(t),_Ae(e,vW()?Reflect.construct(t,r||[],Sb(e).constructor):t.apply(e,r))}function _Ae(e,t){if(t&&(Am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jAe(e)}function jAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vW=function(){return!!e})()}function Sb(e){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(e)}function SAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fC(e,t)}function fC(e,t){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fC(e,t)}function I_(e,t,r){return t=xW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xW(e){var t=NAe(e,"string");return Am(t)=="symbol"?t:t+""}function NAe(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kAe=Math.PI/180,Q3=1e-5,L_=function(e){function t(){return yAe(this,t),wAe(this,t,arguments)}return SAe(t,e),bAe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Cr(s,o,l,n.coordinate),h=Cr(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*kAe),o;return s>Q3?o=a==="outer"?"start":"end":s<-Q3?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Zu(Zu({},bt(this.props,!1)),{},{fill:"none"},bt(l,!1));if(c==="circle")return ue.createElement(R_,id({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return Cr(a,s,o,h.coordinate)});return ue.createElement(UTe,id({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=bt(this.props,!1),f=bt(o,!1),h=Zu(Zu({},d),{},{fill:"none"},bt(l,!1)),m=s.map(function(g,p){var v=n.getTickLineCoord(g),y=n.getTickTextAnchor(g),b=Zu(Zu(Zu({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:v.x2,y:v.y2});return ue.createElement(ar,id({className:Mt("recharts-polar-angle-axis-tick",tW(o)),key:"tick-".concat(g.coordinate)},rf(n.props,g,p)),l&&ue.createElement("line",id({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,c?c(g.value,p):g.value))});return ue.createElement(ar,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:ue.createElement(ar,{className:Mt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ue.isValidElement(n)?o=ue.cloneElement(n,a):Ct(n)?o=n(a):o=ue.createElement(af,id({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(x.PureComponent);I_(L_,"displayName","PolarAngleAxis");I_(L_,"axisType","angleAxis");I_(L_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var CAe=_z,EAe=CAe(Object.getPrototypeOf,Object),TAe=EAe,AAe=yc,PAe=TAe,OAe=bc,DAe="[object Object]",RAe=Function.prototype,MAe=Object.prototype,yW=RAe.toString,FAe=MAe.hasOwnProperty,IAe=yW.call(Object);function LAe(e){if(!OAe(e)||AAe(e)!=DAe)return!1;var t=PAe(e);if(t===null)return!0;var r=FAe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&yW.call(r)==IAe}var $Ae=LAe;const BAe=fr($Ae);var UAe=yc,zAe=bc,VAe="[object Boolean]";function WAe(e){return e===!0||e===!1||zAe(e)&&UAe(e)==VAe}var HAe=WAe;const qAe=fr(HAe);function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(this,arguments)}function GAe(e,t){return QAe(e)||XAe(e,t)||YAe(e,t)||KAe()}function KAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YAe(e,t){if(e){if(typeof e=="string")return J3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J3(e,t)}}function J3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function QAe(e){if(Array.isArray(e))return e}function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(n){JAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JAe(e,t,r){return t=ZAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZAe(e){var t=ePe(e,"string");return av(t)=="symbol"?t:t+""}function ePe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tI=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},tPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rPe=function(t){var r=eI(eI({},tPe),t),n=x.useRef(),a=x.useState(-1),s=GAe(a,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Mt("recharts-trapezoid",m);return y?ue.createElement(pl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(w){var j=w.upperWidth,_=w.lowerWidth,S=w.height,N=w.x,C=w.y;return ue.createElement(pl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},ue.createElement("path",Nb({},bt(r,!0),{className:b,d:tI(N,C,j,_,S),ref:n})))}):ue.createElement("g",null,ue.createElement("path",Nb({},bt(r,!0),{className:b,d:tI(c,u,d,f,h)})))},nPe=["option","shapeType","propTransformer","activeClassName","isActive"];function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function aPe(e,t){if(e==null)return{};var r=sPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){iPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iPe(e,t,r){return t=oPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oPe(e){var t=lPe(e,"string");return sv(t)=="symbol"?t:t+""}function lPe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cPe(e,t){return kb(kb({},t),e)}function uPe(e,t){return e==="symbols"}function nI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ue.createElement(YA,r);case"trapezoid":return ue.createElement(rPe,r);case"sector":return ue.createElement(aW,r);case"symbols":if(uPe(t))return ue.createElement(mA,r);break;default:return null}}function dPe(e){return x.isValidElement(e)?e.props:e}function bW(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?cPe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=aPe(e,nPe),u;if(x.isValidElement(t))u=x.cloneElement(t,kb(kb({},c),dPe(t)));else if(Ct(t))u=t(c);else if(BAe(t)&&!qAe(t)){var d=a(t,c);u=ue.createElement(nI,{shapeType:r,elementProps:d})}else{var f=c;u=ue.createElement(nI,{shapeType:r,elementProps:f})}return l?ue.createElement(ar,{className:o},u):u}function $_(e,t){return t!=null&&"trapezoids"in e.props}function B_(e,t){return t!=null&&"sectors"in e.props}function iv(e,t){return t!=null&&"points"in e.props}function fPe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function hPe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function mPe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function pPe(e,t){var r;return $_(e,t)?r=fPe:B_(e,t)?r=hPe:iv(e,t)&&(r=mPe),r}function gPe(e,t){var r;return $_(e,t)?r="trapezoids":B_(e,t)?r="sectors":iv(e,t)&&(r="points"),r}function vPe(e,t){if($_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(B_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return iv(e,t)?t.payload:{}}function xPe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=gPe(r,t),s=vPe(r,t),o=n.filter(function(c,u){var d=tx(s,c),f=r.props[a].filter(function(g){var p=pPe(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var qy;function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(this,arguments)}function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(n){Si(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_W(n.key),n)}}function bPe(e,t,r){return t&&sI(e.prototype,t),r&&sI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wPe(e,t,r){return t=Cb(t),_Pe(e,wW()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}function _Pe(e,t){if(t&&(Pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jPe(e)}function jPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wW=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(e)}function SPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hC(e,t)}function hC(e,t){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hC(e,t)}function Si(e,t,r){return t=_W(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _W(e){var t=NPe(e,"string");return Pm(t)=="symbol"?t:t+""}function NPe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ga=function(e){function t(r){var n;return yPe(this,t),n=wPe(this,t,[r]),Si(n,"pieRef",null),Si(n,"sectorRefs",[]),Si(n,"id",wp("recharts-pie-")),Si(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ct(a)&&a()}),Si(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ct(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return SPe(t,e),bPe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=bt(this.props,!1),f=bt(o,!1),h=bt(l,!1),m=o&&o.offsetRadius||20,g=n.map(function(p,v){var y=(p.startAngle+p.endAngle)/2,b=Cr(p.cx,p.cy,p.outerRadius+m,y),w=Sr(Sr(Sr(Sr({},d),p),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,p.cx)},b),j=Sr(Sr(Sr(Sr({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[Cr(p.cx,p.cy,p.outerRadius,y),b]}),_=c;return Rt(c)&&Rt(u)?_="value":Rt(c)&&(_=u),ue.createElement(ar,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,w,En(p,_)))});return ue.createElement(ar,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,g=Sr(Sr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ue.createElement(ar,wh({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},rf(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ue.createElement(bW,wh({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return ue.createElement(pl,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(w,j){var _=h&&h[j],S=j>0?ni(w,"paddingAngle",0):0;if(_){var N=Ys(_.endAngle-_.startAngle,w.endAngle-w.startAngle),C=Sr(Sr({},w),{},{startAngle:b+S,endAngle:b+N(p)+S});v.push(C),b=C.endAngle}else{var k=w.endAngle,E=w.startAngle,O=Ys(0,k-E),T=O(p),U=Sr(Sr({},w),{},{startAngle:b+S,endAngle:b+T+S});v.push(U),b=U.endAngle}}),ue.createElement(ar,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!tx(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!o||!o.length||!Ke(u)||!Ke(d)||!Ke(f)||!Ke(h))return null;var p=Mt("recharts-pie",l);return ue.createElement(ar,{tabIndex:this.props.rootTabIndex,className:p,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),Un.renderCallByParent(this.props,null,!1),(!m||g)&&Jl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(ue.isValidElement(n))return ue.cloneElement(n,a);if(Ct(n))return n(a);var o=Mt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ue.createElement(xb,wh({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(ue.isValidElement(n))return ue.cloneElement(n,a);var o=s;if(Ct(n)&&(o=n(a),ue.isValidElement(o)))return o;var l=Mt("recharts-pie-label-text",typeof n!="boolean"&&!Ct(n)?n.className:"");return ue.createElement(af,wh({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);qy=Ga;Si(Ga,"displayName","Pie");Si(Ga,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!il.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Si(Ga,"parseDeltaAngle",function(e,t){var r=Xa(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Si(Ga,"getRealPieData",function(e){var t=e.data,r=e.children,n=bt(e,!1),a=ai(r,Xo);return t&&t.length?t.map(function(s,o){return Sr(Sr(Sr({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return Sr(Sr({},n),s.props)}):[]});Si(Ga,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=eW(a,s),l=n+Qa(e.cx,a,a/2),c=r+Qa(e.cy,s,s/2),u=Qa(e.innerRadius,o,0),d=Qa(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Si(Ga,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Sr(Sr({},t.type.defaultProps),t.props):t.props,a=qy.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=qy.parseCoordinateOfPie(n,r),p=qy.parseDeltaAngle(o,l),v=Math.abs(p),y=u;Rt(u)&&Rt(f)?(go(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Rt(u)&&(go(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=a.filter(function(C){return En(C,y,0)!==0}).length,w=(v>=360?b:b-1)*c,j=v-b*m-w,_=a.reduce(function(C,k){var E=En(k,y,0);return C+(Ke(E)?E:0)},0),S;if(_>0){var N;S=a.map(function(C,k){var E=En(C,y,0),O=En(C,d,k),T=(Ke(E)?E:0)/_,U;k?U=N.endAngle+Xa(p)*c*(E!==0?1:0):U=o;var W=U+Xa(p)*((E!==0?m:0)+T*j),R=(U+W)/2,z=(g.innerRadius+g.outerRadius)/2,P=[{name:O,value:E,payload:C,dataKey:y,type:h}],M=Cr(g.cx,g.cy,z,R);return N=Sr(Sr(Sr({percent:T,cornerRadius:s,name:O,tooltipPayload:P,midAngle:R,middleRadius:z,tooltipPosition:M},C),g),{},{value:En(C,y),startAngle:U,endAngle:W,payload:C,paddingAngle:Xa(p)*c}),N})}return Sr(Sr({},g),{},{sectors:S,data:a})});var kPe=Math.ceil,CPe=Math.max;function EPe(e,t,r,n){for(var a=-1,s=CPe(kPe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var TPe=EPe,APe=Uz,iI=1/0,PPe=17976931348623157e292;function OPe(e){if(!e)return e===0?e:0;if(e=APe(e),e===iI||e===-iI){var t=e<0?-1:1;return t*PPe}return e===e?e:0}var jW=OPe,DPe=TPe,RPe=__,KS=jW;function MPe(e){return function(t,r,n){return n&&typeof n!="number"&&RPe(t,r,n)&&(r=n=void 0),t=KS(t),r===void 0?(r=t,t=0):r=KS(r),n=n===void 0?t<r?1:-1:KS(n),DPe(t,r,n,e)}}var FPe=MPe,IPe=FPe,LPe=IPe(),$Pe=LPe;const Eb=fr($Pe);function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function oI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(r),!0).forEach(function(n){SW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SW(e,t,r){return t=BPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BPe(e){var t=UPe(e,"string");return ov(t)=="symbol"?t:t+""}function UPe(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zPe=["Webkit","Moz","O","ms"],VPe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=zPe.reduce(function(s,o){return lI(lI({},s),{},SW({},o+n,r))},{});return a[t]=r,a};function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(this,arguments)}function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(n){Ws(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kW(n.key),n)}}function HPe(e,t,r){return t&&uI(e.prototype,t),r&&uI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qPe(e,t,r){return t=Ab(t),GPe(e,NW()?Reflect.construct(t,r||[],Ab(e).constructor):t.apply(e,r))}function GPe(e,t){if(t&&(Om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KPe(e)}function KPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NW=function(){return!!e})()}function Ab(e){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(e)}function YPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mC(e,t)}function mC(e,t){return mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mC(e,t)}function Ws(e,t,r){return t=kW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kW(e){var t=XPe(e,"string");return Om(t)=="symbol"?t:t+""}function XPe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QPe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=B0().domain(Eb(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},dI=function(t){return t.changedTouches&&!!t.changedTouches.length},Dm=function(e){function t(r){var n;return WPe(this,t),n=qPe(this,t,[r]),Ws(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ws(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ws(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Ws(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ws(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ws(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ws(n,"handleSlideDragStart",function(a){var s=dI(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return YPe(t,e),HPe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=En(s[n],l,n);return Ct(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=dI(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),y[o]=u+b;var w=this.getIndex(y),j=w.startIndex,_=w.endIndex,S=function(){var C=v.length-1;return o==="startX"&&(l>c?j%p===0:_%p===0)||l<c&&_===C||o==="endX"&&(l>c?_%p===0:j%p===0)||l>c&&_===C};this.setState(Ws(Ws({},o,u+b),"brushMoveStartX",n.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Ws({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ue.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?ue.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=YS(YS({},bt(this.props,!1)),{},{x:y,y:u,width:d,height:f}),w=m||"Min value: ".concat((s=g[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return ue.createElement(ar,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return ue.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return ue.createElement(ar,{className:"recharts-brush-texts"},ue.createElement(af,Tb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(a)),ue.createElement(af,Tb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Ke(l)||!Ke(c)||!Ke(u)||!Ke(d)||u<=0||d<=0)return null;var w=Mt("recharts-brush",s),j=ue.Children.count(o)===1,_=VPe("userSelect","none");return ue.createElement(ar,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return ue.createElement(ue.Fragment,null,ue.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),ue.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),ue.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return ue.isValidElement(n)?s=ue.cloneElement(n,a):Ct(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return YS({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?QPe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(x.PureComponent);Ws(Dm,"displayName","Brush");Ws(Dm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var JPe=wA;function ZPe(e,t){var r;return JPe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var eOe=ZPe,tOe=mz,rOe=jl,nOe=eOe,aOe=Fs,sOe=__;function iOe(e,t,r){var n=aOe(e)?tOe:nOe;return r&&sOe(e,t,r)&&(t=void 0),n(e,rOe(t))}var oOe=iOe;const lOe=fr(oOe);var ll=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},fI=Fz;function cOe(e,t,r){t=="__proto__"&&fI?fI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var uOe=cOe,dOe=uOe,fOe=Rz,hOe=jl;function mOe(e,t){var r={};return t=hOe(t),fOe(e,function(n,a,s){dOe(r,a,t(n,a,s))}),r}var pOe=mOe;const gOe=fr(pOe);function vOe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var xOe=vOe,yOe=wA;function bOe(e,t){var r=!0;return yOe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var wOe=bOe,_Oe=xOe,jOe=wOe,SOe=jl,NOe=Fs,kOe=__;function COe(e,t,r){var n=NOe(e)?_Oe:jOe;return r&&kOe(e,t,r)&&(t=void 0),n(e,SOe(t))}var EOe=COe;const CW=fr(EOe);var TOe=["x","y"];function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function pC(){return pC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pC.apply(this,arguments)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(n){AOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AOe(e,t,r){return t=POe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function POe(e){var t=OOe(e,"string");return lv(t)=="symbol"?t:t+""}function OOe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DOe(e,t){if(e==null)return{};var r=ROe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ROe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MOe(e,t){var r=e.x,n=e.y,a=DOe(e,TOe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return n0(n0(n0(n0(n0({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function mI(e){return ue.createElement(bW,pC({shapeType:"rectangle",propTransformer:MOe,activeClassName:"recharts-active-bar"},e))}var FOe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=Ke(n)||ome(n);return s?t(n,a):(s||of(),r)}},IOe=["value","background"],EW;function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function LOe(e,t){if(e==null)return{};var r=$Oe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Oe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(this,arguments)}function pI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(r),!0).forEach(function(n){su(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AW(n.key),n)}}function UOe(e,t,r){return t&&gI(e.prototype,t),r&&gI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zOe(e,t,r){return t=Ob(t),VOe(e,TW()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function VOe(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WOe(e)}function WOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TW=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function HOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gC(e,t)}function gC(e,t){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gC(e,t)}function su(e,t,r){return t=AW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AW(e){var t=qOe(e,"string");return Rm(t)=="symbol"?t:t+""}function qOe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _i=function(e){function t(){var r;BOe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=zOe(this,t,[].concat(a)),su(r,"state",{isAnimationFinished:!1}),su(r,"id",wp("recharts-bar-")),su(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),su(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return HOe(t,e),UOe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=bt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=hn(hn(hn({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ue.createElement(ar,Pb({className:"recharts-bar-rectangle"},rf(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ue.createElement(mI,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return ue.createElement(pl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=s.map(function(v,y){var b=h&&h[y];if(b){var w=Ys(b.x,v.x),j=Ys(b.y,v.y),_=Ys(b.width,v.width),S=Ys(b.height,v.height);return hn(hn({},v),{},{x:w(g),y:j(g),width:_(g),height:S(g)})}if(o==="horizontal"){var N=Ys(0,v.height),C=N(g);return hn(hn({},v),{},{y:v.y+v.height-C,height:C})}var k=Ys(0,v.width),E=k(g);return hn(hn({},v),{},{width:E})});return ue.createElement(ar,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!tx(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=bt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=LOe(u,IOe);if(!f)return null;var m=hn(hn(hn(hn(hn({},h),{},{fill:"#eee"},f),c),rf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ue.createElement(mI,Pb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ai(d,rx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:En(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ue.createElement(ar,g,f.map(function(p){return ue.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=Mt("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=b||w,_=Rt(p)?this.id:p;return ue.createElement(ar,{className:y},b||w?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(_)},ue.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,ue.createElement(ar,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!m||v)&&Jl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);EW=_i;su(_i,"displayName","Bar");su(_i,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!il.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});su(_i,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=kke(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?hn(hn({},p),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,j=g==="horizontal"?o:s,_=u?j.scale.domain():null,S=Dke({numericAxis:j}),N=ai(b,Xo),C=f.map(function(k,E){var O,T,U,W,R,z;u?O=Cke(u[d+E],_):(O=En(k,y),Array.isArray(O)||(O=[S,O]));var P=FOe(w,EW.defaultProps.minPointSize)(O[1],E);if(g==="horizontal"){var M,L=[o.scale(O[0]),o.scale(O[1])],q=L[0],Z=L[1];T=s3({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:k,index:E}),U=(M=Z??q)!==null&&M!==void 0?M:void 0,W=m.size;var A=q-Z;if(R=Number.isNaN(A)?0:A,z={x:T,y:o.y,width:W,height:o.height},Math.abs(P)>0&&Math.abs(R)<Math.abs(P)){var B=Xa(R||P)*(Math.abs(P)-Math.abs(R));U-=B,R+=B}}else{var H=[s.scale(O[0]),s.scale(O[1])],V=H[0],te=H[1];if(T=V,U=s3({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:k,index:E}),W=te-V,R=m.size,z={x:s.x,y:U,width:s.width,height:R},Math.abs(P)>0&&Math.abs(W)<Math.abs(P)){var le=Xa(W||P)*(Math.abs(P)-Math.abs(W));W+=le}}return hn(hn(hn({},k),{},{x:T,y:U,width:W,height:R,value:u?O:O[1],payload:k,background:z},N&&N[E]&&N[E].props),{},{tooltipPayload:[JV(r,k)],tooltipPosition:{x:T+W/2,y:U+R/2}})});return hn({data:C,layout:g},h)});function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function GOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PW(n.key),n)}}function KOe(e,t,r){return t&&vI(e.prototype,t),r&&vI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){U_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U_(e,t,r){return t=PW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=YOe(e,"string");return cv(t)=="symbol"?t:t+""}function YOe(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OW=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!qs(u,_i);return d.reduce(function(m,g){var p=r[g],v=p.orientation,y=p.domain,b=p.padding,w=b===void 0?{}:b,j=p.mirror,_=p.reversed,S="".concat(v).concat(j?"Mirror":""),N,C,k,E,O;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var T=y[1]-y[0],U=1/0,W=p.categoricalDomain.sort(ume);if(W.forEach(function(H,V){V>0&&(U=Math.min((H||0)-(W[V-1]||0),U))}),Number.isFinite(U)){var R=U/T,z=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=R*z/2),p.padding==="no-gap"){var P=Qa(t.barCategoryGap,R*z),M=R*z/2;N=M-P-(M-P)/z*P}}}a==="xAxis"?C=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:C=p.range,_&&(C=[C[1],C[0]]);var L=KV(p,s,h),q=L.scale,Z=L.realScaleType;q.domain(y).range(C),YV(q);var A=XV(q,ro(ro({},p),{},{realScaleType:Z}));a==="xAxis"?(O=v==="top"&&!j||v==="bottom"&&j,k=n.left,E=f[S]-O*p.height):a==="yAxis"&&(O=v==="left"&&!j||v==="right"&&j,k=f[S]-O*p.width,E=n.top);var B=ro(ro(ro({},p),A),{},{realScaleType:Z,x:k,y:E,scale:q,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return B.bandSize=pb(B,A),!p.hide&&a==="xAxis"?f[S]+=(O?-1:1)*B.height:p.hide||(f[S]+=(O?-1:1)*B.width),ro(ro({},m),{},U_({},g,B))},{})},DW=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},XOe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return DW({x:r,y:n},{x:a,y:s})},RW=function(){function e(t){GOe(this,e),this.scale=t}return KOe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();U_(RW,"EPS",1e-4);var XA=function(t){var r=Object.keys(t).reduce(function(n,a){return ro(ro({},n),{},U_({},a,RW.create(t[a])))},{});return ro(ro({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return gOe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return CW(a,function(s,o){return r[o].isInRange(s)})}})};function QOe(e){return(e%180+180)%180}var JOe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=QOe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ZOe=jl,e4e=Xv,t4e=b_;function r4e(e){return function(t,r,n){var a=Object(t);if(!e4e(t)){var s=ZOe(r);t=t4e(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var n4e=r4e,a4e=jW;function s4e(e){var t=a4e(e),r=t%1;return t===t?r?t-r:t:0}var i4e=s4e,o4e=Ez,l4e=jl,c4e=i4e,u4e=Math.max;function d4e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:c4e(r);return a<0&&(a=u4e(n+a,0)),o4e(e,l4e(t),a)}var f4e=d4e,h4e=n4e,m4e=f4e,p4e=h4e(m4e),g4e=p4e;const v4e=fr(g4e);var x4e=dhe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),QA=x.createContext(void 0),JA=x.createContext(void 0),MW=x.createContext(void 0),FW=x.createContext({}),IW=x.createContext(void 0),LW=x.createContext(0),$W=x.createContext(0),yI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=x4e(s);return ue.createElement(QA.Provider,{value:n},ue.createElement(JA.Provider,{value:a},ue.createElement(FW.Provider,{value:s},ue.createElement(MW.Provider,{value:d},ue.createElement(IW.Provider,{value:o},ue.createElement(LW.Provider,{value:u},ue.createElement($W.Provider,{value:c},l)))))))},y4e=function(){return x.useContext(IW)},BW=function(t){var r=x.useContext(QA);r==null&&of();var n=r[t];return n==null&&of(),n},b4e=function(){var t=x.useContext(QA);return Vc(t)},w4e=function(){var t=x.useContext(JA),r=v4e(t,function(n){return CW(n.domain,Number.isFinite)});return r||Vc(t)},UW=function(t){var r=x.useContext(JA);r==null&&of();var n=r[t];return n==null&&of(),n},_4e=function(){var t=x.useContext(MW);return t},j4e=function(){return x.useContext(FW)},ZA=function(){return x.useContext($W)},eP=function(){return x.useContext(LW)};function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function S4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VW(n.key),n)}}function k4e(e,t,r){return t&&N4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C4e(e,t,r){return t=Db(t),E4e(e,zW()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function E4e(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T4e(e)}function T4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function A4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vC(e,t)}function vC(e,t){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vC(e,t)}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){tP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tP(e,t,r){return t=VW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VW(e){var t=P4e(e,"string");return Mm(t)=="symbol"?t:t+""}function P4e(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O4e(e,t){return F4e(e)||M4e(e,t)||R4e(e,t)||D4e()}function D4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R4e(e,t){if(e){if(typeof e=="string")return _I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _I(e,t)}}function _I(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function F4e(e){if(Array.isArray(e))return e}function xC(){return xC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xC.apply(this,arguments)}var I4e=function(t,r){var n;return ue.isValidElement(t)?n=ue.cloneElement(t,r):Ct(t)?n=t(r):n=ue.createElement("line",xC({},r,{className:"recharts-reference-line-line"})),n},L4e=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(ll(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var y=u.x,b=t.x.apply(y,{position:o});if(ll(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?w.reverse():w}if(a){var j=u.segment,_=j.map(function(S){return t.apply(S,{position:o})});return ll(u,"discard")&&lOe(_,function(S){return!t.isInRange(S)})?null:_}return null};function $4e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=y4e(),d=BW(a),f=UW(s),h=_4e();if(!u||!h)return null;go(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=XA({x:d.scale,y:f.scale}),g=An(t),p=An(r),v=n&&n.length===2,y=L4e(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=O4e(y,2),w=b[0],j=w.x,_=w.y,S=b[1],N=S.x,C=S.y,k=ll(e,"hidden")?"url(#".concat(u,")"):void 0,E=wI(wI({clipPath:k},bt(e,!0)),{},{x1:j,y1:_,x2:N,y2:C});return ue.createElement(ar,{className:Mt("recharts-reference-line",l)},I4e(o,E),Un.renderCallByParent(e,XOe({x1:j,y1:_,x2:N,y2:C})))}var rP=function(e){function t(){return S4e(this,t),C4e(this,t,arguments)}return A4e(t,e),k4e(t,[{key:"render",value:function(){return ue.createElement($4e,this.props)}}])}(ue.Component);tP(rP,"displayName","ReferenceLine");tP(rP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yC.apply(this,arguments)}function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(n){z_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HW(n.key),n)}}function z4e(e,t,r){return t&&U4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V4e(e,t,r){return t=Rb(t),W4e(e,WW()?Reflect.construct(t,r||[],Rb(e).constructor):t.apply(e,r))}function W4e(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H4e(e)}function H4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(e)}function q4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bC(e,t)}function bC(e,t){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bC(e,t)}function z_(e,t,r){return t=HW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HW(e){var t=G4e(e,"string");return Fm(t)=="symbol"?t:t+""}function G4e(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K4e=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=XA({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ll(t,"discard")&&!o.isInRange(l)?null:l},V_=function(e){function t(){return B4e(this,t),V4e(this,t,arguments)}return q4e(t,e),z4e(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=An(a),d=An(s);if(go(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=K4e(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,y=ll(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=SI(SI({clipPath:y},bt(this.props,!0)),{},{cx:h,cy:m});return ue.createElement(ar,{className:Mt("recharts-reference-dot",v)},t.renderDot(p,b),Un.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(ue.Component);z_(V_,"displayName","ReferenceDot");z_(V_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});z_(V_,"renderDot",function(e,t){var r;return ue.isValidElement(e)?r=ue.cloneElement(e,t):Ct(e)?r=e(t):r=ue.createElement(R_,yC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function wC(){return wC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wC.apply(this,arguments)}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function NI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(r),!0).forEach(function(n){W_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GW(n.key),n)}}function Q4e(e,t,r){return t&&X4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function J4e(e,t,r){return t=Mb(t),Z4e(e,qW()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function Z4e(e,t){if(t&&(Im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eDe(e)}function eDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function tDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_C(e,t)}function _C(e,t){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_C(e,t)}function W_(e,t,r){return t=GW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GW(e){var t=rDe(e,"string");return Im(t)=="symbol"?t:t+""}function rDe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nDe=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=XA({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ll(s,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:DW(m,g)},H_=function(e){function t(){return Y4e(this,t),J4e(this,t,arguments)}return tDe(t,e),Q4e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;go(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=An(a),h=An(s),m=An(o),g=An(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=nDe(f,h,m,g,this.props);if(!v&&!p)return null;var y=ll(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ue.createElement(ar,{className:Mt("recharts-reference-area",c)},t.renderRect(p,kI(kI({clipPath:y},bt(this.props,!0)),v)),Un.renderCallByParent(this.props,v))}}])}(ue.Component);W_(H_,"displayName","ReferenceArea");W_(H_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});W_(H_,"renderRect",function(e,t){var r;return ue.isValidElement(e)?r=ue.cloneElement(e,t):Ct(e)?r=e(t):r=ue.createElement(YA,wC({},t,{className:"recharts-reference-area-rect"})),r});function KW(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function aDe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return JOe(n,r)}function sDe(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Fb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function iDe(e,t){return KW(e,t+1)}function oDe(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:KW(n,u)};var p=c,v,y=function(){return v===void 0&&(v=r(g,p)),v},b=g.coordinate,w=c===0||Fb(e,b,y,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(y()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(r),!0).forEach(function(n){lDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lDe(e,t,r){return t=cDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cDe(e){var t=uDe(e,"string");return uv(t)=="symbol"?t:t+""}function uDe(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dDe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);s[h]=m=xa(xa({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=xa(xa({},m),{},{tickCoord:m.coordinate});var y=Fb(e,m.tickCoord,p,l,c);y&&(c=m.tickCoord-e*(p()/2+a),s[h]=xa(xa({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function fDe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=xa(xa({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Fb(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=xa(xa({},d),{},{isShow:!0}))}for(var g=s?l-1:l,p=function(b){var w=o[b],j,_=function(){return j===void 0&&(j=r(w,b)),j};if(b===0){var S=e*(w.coordinate-e*_()/2-c);o[b]=w=xa(xa({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[b]=w=xa(xa({},w),{},{tickCoord:w.coordinate});var N=Fb(e,w.tickCoord,_,c,u);N&&(c=w.tickCoord+e*(_()/2+a),o[b]=xa(xa({},w),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function nP(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Ke(c)||il.isSsr)return iDe(a,typeof c=="number"&&Ke(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?$0(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,j){var _=Ct(u)?u(w.value,j):w.value;return m==="width"?aDe($0(_,{fontSize:t,letterSpacing:r}),g,f):$0(_,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?Xa(a[1].coordinate-a[0].coordinate):1,y=sDe(s,v,m);return c==="equidistantPreserveStart"?oDe(v,y,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=fDe(v,y,p,a,o,c==="preserveStartEnd"):h=dDe(v,y,p,a,o),h.filter(function(b){return b.isShow}))}var hDe=["viewBox"],mDe=["viewBox"],pDe=["ticks"];function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_h.apply(this,arguments)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){aP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XS(e,t){if(e==null)return{};var r=gDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XW(n.key),n)}}function xDe(e,t,r){return t&&TI(e.prototype,t),r&&TI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yDe(e,t,r){return t=Ib(t),bDe(e,YW()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function bDe(e,t){if(t&&(Lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wDe(e)}function wDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YW=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function _De(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jC(e,t)}function jC(e,t){return jC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jC(e,t)}function aP(e,t,r){return t=XW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=jDe(e,"string");return Lm(t)=="symbol"?t:t+""}function jDe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ep=function(e){function t(r){var n;return vDe(this,t),n=yDe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return _De(t,e),xDe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=XS(n,hDe),l=this.props,c=l.viewBox,u=XS(l,mDe);return!Fh(s,c)||!Fh(o,u)||!Fh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,v,y,b,w=f?-1:1,j=n.tickSize||d,_=Ke(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=o+ +!f*c,p=v-w*j,b=p-w*h,y=_;break;case"left":p=v=n.coordinate,g=s+ +!f*l,m=g-w*j,y=m-w*h,b=_;break;case"right":p=v=n.coordinate,g=s+ +f*l,m=g+w*j,y=m+w*h,b=_;break;default:m=g=n.coordinate,v=o+ +f*c,p=v+w*j,b=p+w*h,y=_;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=jn(jn(jn({},bt(this.props,!1)),bt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=jn(jn({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=jn(jn({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return ue.createElement("line",_h({},f,{className:Mt("recharts-cartesian-axis-line",ni(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=nP(jn(jn({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=bt(this.props,!1),y=bt(d,!1),b=jn(jn({},v),{},{fill:"none"},bt(c,!1)),w=m.map(function(j,_){var S=o.getTickLineCoord(j),N=S.line,C=S.tick,k=jn(jn(jn(jn({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},y),C),{},{index:_,payload:j,visibleTicksCount:m.length,tickFormatter:f});return ue.createElement(ar,_h({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},rf(o.props,j,_)),c&&ue.createElement("line",_h({},b,N,{className:Mt("recharts-cartesian-axis-tick-line",ni(c,"className"))})),d&&t.renderTickItem(d,k,"".concat(Ct(f)?f(j.value,_):j.value).concat(h||"")))});return ue.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=XS(f,pDe),g=h;return Ct(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:ue.createElement(ar,{className:Mt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=Mt(a.className,"recharts-cartesian-axis-tick-value");return ue.isValidElement(n)?o=ue.cloneElement(n,jn(jn({},a),{},{className:l})):Ct(n)?o=n(jn(jn({},a),{},{className:l})):o=ue.createElement(af,_h({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);aP(Ep,"displayName","CartesianAxis");aP(Ep,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var SDe=["x1","y1","x2","y2","key"],NDe=["offset"];function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){kDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kDe(e,t,r){return t=CDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CDe(e){var t=EDe(e,"string");return lf(t)=="symbol"?t:t+""}function EDe(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function PI(e,t){if(e==null)return{};var r=TDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ADe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return ue.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QW(e,t){var r;if(ue.isValidElement(e))r=ue.cloneElement(e,t);else if(Ct(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=PI(t,SDe),u=bt(c,!1);u.offset;var d=PI(u,NDe);r=ue.createElement("line",xd({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function PDe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=ja(ja({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return QW(a,u)});return ue.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ODe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=ja(ja({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return QW(a,u)});return ue.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function DDe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return ue.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function RDe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return ue.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var MDe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return GV(nP(ja(ja(ja({},Ep.defaultProps),n),{},{ticks:ql(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},FDe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return GV(nP(ja(ja(ja({},Ep.defaultProps),n),{},{ticks:ql(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Hf={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function cf(e){var t,r,n,a,s,o,l=ZA(),c=eP(),u=j4e(),d=ja(ja({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hf.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Hf.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Hf.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Hf.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Hf.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Hf.verticalFill,x:Ke(e.x)?e.x:u.left,y:Ke(e.y)?e.y:u.top,width:Ke(e.width)?e.width:u.width,height:Ke(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=b4e(),w=w4e();if(!Ke(m)||m<=0||!Ke(g)||g<=0||!Ke(f)||f!==+f||!Ke(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||MDe,_=d.horizontalCoordinatesGenerator||FDe,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&Ct(_)){var C=v&&v.length,k=_({yAxis:w?ja(ja({},w),{},{ticks:C?v:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:p);go(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lf(k),"]")),Array.isArray(k)&&(S=k)}if((!N||!N.length)&&Ct(j)){var E=y&&y.length,O=j({xAxis:b?ja(ja({},b),{},{ticks:E?y:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);go(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lf(O),"]")),Array.isArray(O)&&(N=O)}return ue.createElement("g",{className:"recharts-cartesian-grid"},ue.createElement(ADe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ue.createElement(PDe,xd({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:w})),ue.createElement(ODe,xd({},d,{offset:u,verticalPoints:N,xAxis:b,yAxis:w})),ue.createElement(DDe,xd({},d,{horizontalPoints:S})),ue.createElement(RDe,xd({},d,{verticalPoints:N})))}cf.displayName="CartesianGrid";var IDe=["type","layout","connectNulls","ref"],LDe=["key"];function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function OI(e,t){if(e==null)return{};var r=$De(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $De(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(this,arguments)}function DI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(r),!0).forEach(function(n){no(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qf(e){return VDe(e)||zDe(e)||UDe(e)||BDe()}function BDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UDe(e,t){if(e){if(typeof e=="string")return SC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SC(e,t)}}function zDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VDe(e){if(Array.isArray(e))return SC(e)}function SC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZW(n.key),n)}}function HDe(e,t,r){return t&&RI(e.prototype,t),r&&RI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qDe(e,t,r){return t=Lb(t),GDe(e,JW()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function GDe(e,t){if(t&&($m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KDe(e)}function KDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function YDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NC(e,t)}function NC(e,t){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NC(e,t)}function no(e,t,r){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZW(e){var t=XDe(e,"string");return $m(t)=="symbol"?t:t+""}function XDe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qu=function(e){function t(){var r;WDe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=qDe(this,t,[].concat(a)),no(r,"state",{isAnimationFinished:!0,totalLength:0}),no(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),no(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(qf(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(qf(t.repeat(c,d)),qf(m),v).map(function(y){return"".concat(y,"px")}).join(", ")}),no(r,"id",wp("recharts-line-")),no(r,"pathRef",function(o){r.mainCurve=o}),no(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),no(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return YDe(t,e),HDe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ai(d,rx);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:En(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ue.createElement(ar,m,f.map(function(g){return ue.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=bt(this.props,!1),h=bt(c,!0),m=u.map(function(p,v){var y=Vs(Vs(Vs({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return ue.createElement(ar,H0({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=OI(l,IDe),h=Vs(Vs(Vs({},bt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return ue.createElement(xb,H0({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,y=this.state,b=y.prevPoints,w=y.totalLength;return ue.createElement(pl,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var _=j.t;if(b){var S=b.length/l.length,N=l.map(function(T,U){var W=Math.floor(U*S);if(b[W]){var R=b[W],z=Ys(R.x,T.x),P=Ys(R.y,T.y);return Vs(Vs({},T),{},{x:z(_),y:P(_)})}if(g){var M=Ys(p*2,T.x),L=Ys(v/2,T.y);return Vs(Vs({},T),{},{x:M(_),y:L(_)})}return Vs(Vs({},T),{},{x:T.x,y:T.y})});return s.renderCurveStatically(N,n,a)}var C=Ys(0,w),k=C(_),E;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});E=s.getStrokeDasharray(k,w,O)}else E=s.generateSimpleStrokeDasharray(w,k);return s.renderCurveStatically(l,n,a,{strokeDasharray:E})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!tx(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=Mt("recharts-line",c),j=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,S=j||_,N=Rt(v)?this.id:v,C=(n=bt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=C.r,E=k===void 0?3:k,O=C.strokeWidth,T=O===void 0?2:O,U=yme(o)?o:{},W=U.clipDot,R=W===void 0?!0:W,z=E*2+T;return ue.createElement(ar,{className:w},j||_?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(N)},ue.createElement("rect",{x:j?h:h-m/2,y:_?f:f-g/2,width:j?m:m*2,height:_?g:g*2})),!R&&ue.createElement("clipPath",{id:"clipPath-dots-".concat(N)},ue.createElement("rect",{x:h-z/2,y:f-z/2,width:m+z,height:g+z}))):null,!b&&this.renderCurve(S,N),this.renderErrorBar(S,N),(b||o)&&this.renderDots(S,R,N),(!p||y)&&Jl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(qf(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(qf(o),qf(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(ue.isValidElement(n))s=ue.cloneElement(n,a);else if(Ct(n))s=n(a);else{var o=a.key,l=OI(a,LDe),c=Mt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ue.createElement(R_,H0({key:o},l,{className:c}))}return s}}])}(x.PureComponent);no(qu,"displayName","Line");no(qu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!il.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});no(qu,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=En(h,o);return d==="horizontal"?{x:a3({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Rt(g)?null:n.scale(g),value:g,payload:h}:{x:Rt(g)?null:r.scale(g),y:a3({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:g,payload:h}});return Vs({points:f,layout:d},u)});function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function QDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rH(n.key),n)}}function ZDe(e,t,r){return t&&JDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eRe(e,t,r){return t=$b(t),tRe(e,eH()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function tRe(e,t){if(t&&(Bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rRe(e)}function rRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eH=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function nRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kC(e,t)}function kC(e,t){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kC(e,t)}function tH(e,t,r){return t=rH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=aRe(e,"string");return Bm(t)=="symbol"?t:t+""}function aRe(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CC(){return CC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CC.apply(this,arguments)}function sRe(e){var t=e.xAxisId,r=ZA(),n=eP(),a=BW(t);return a==null?null:x.createElement(Ep,CC({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ql(o,!0)}}))}var gl=function(e){function t(){return QDe(this,t),eRe(this,t,arguments)}return nRe(t,e),ZDe(t,[{key:"render",value:function(){return x.createElement(sRe,this.props)}}])}(x.Component);tH(gl,"displayName","XAxis");tH(gl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function iRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sH(n.key),n)}}function lRe(e,t,r){return t&&oRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cRe(e,t,r){return t=Bb(t),uRe(e,nH()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function uRe(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dRe(e)}function dRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nH=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function fRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EC(e,t)}function EC(e,t){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EC(e,t)}function aH(e,t,r){return t=sH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=hRe(e,"string");return Um(t)=="symbol"?t:t+""}function hRe(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TC(){return TC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TC.apply(this,arguments)}var mRe=function(t){var r=t.yAxisId,n=ZA(),a=eP(),s=UW(r);return s==null?null:x.createElement(Ep,TC({},s,{className:Mt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ql(l,!0)}}))},vl=function(e){function t(){return iRe(this,t),cRe(this,t,arguments)}return fRe(t,e),lRe(t,[{key:"render",value:function(){return x.createElement(mRe,this.props)}}])}(x.Component);aH(vl,"displayName","YAxis");aH(vl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function MI(e){return xRe(e)||vRe(e)||gRe(e)||pRe()}function pRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gRe(e,t){if(e){if(typeof e=="string")return AC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AC(e,t)}}function vRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xRe(e){if(Array.isArray(e))return AC(e)}function AC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var PC=function(t,r,n,a,s){var o=ai(t,rP),l=ai(t,V_),c=[].concat(MI(o),MI(l)),u=ai(t,H_),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&ll(v.props,"extendDomain")&&Ke(v.props[f])){var y=v.props[f];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&ll(v.props,"extendDomain")&&Ke(v.props[m])&&Ke(v.props[g])){var y=v.props[m],b=v.props[g];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,v){return Ke(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},iH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var j=v.length,_;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,v=[],y=g.length;p<y;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(iH);var yRe=iH.exports;const bRe=fr(yRe);var QS=new bRe,JS="recharts.syncMouseEvents";function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function wRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oH(n.key),n)}}function jRe(e,t,r){return t&&_Re(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZS(e,t,r){return t=oH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oH(e){var t=SRe(e,"string");return dv(t)=="symbol"?t:t+""}function SRe(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NRe=function(){function e(){wRe(this,e),ZS(this,"activeIndex",0),ZS(this,"coordinateList",[]),ZS(this,"layout","horizontal")}return jRe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function kRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ke(n)&&Ke(a))return!0}return!1}function CRe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function lH(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=Cr(t,r,n,a),l=Cr(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function ERe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Cr(l,c,u,f),m=Cr(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return lH(t);return[{x:n,y:a},{x:s,y:o}]}function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(n){TRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TRe(e,t,r){return t=ARe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ARe(e){var t=PRe(e,"string");return fv(t)=="symbol"?t:t+""}function PRe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ORe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=xb;if(h==="ScatterChart")g=o,p=XTe;else if(h==="BarChart")g=CRe(f,o,c,d),p=YA;else if(f==="radial"){var v=lH(o),y=v.cx,b=v.cy,w=v.radius,j=v.startAngle,_=v.endAngle;g={cx:y,cy:b,startAngle:j,endAngle:_,innerRadius:w,outerRadius:w},p=aW}else g={points:ERe(f,o,c)},p=xb;var S=fy(fy(fy(fy({stroke:"#ccc",pointerEvents:"none"},c),g),bt(m,!1)),{},{payload:l,payloadIndex:u,className:Mt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,S):x.createElement(p,S)}var DRe=["item"],RRe=["children","className","width","height","style","compact","title","desc"];function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(this,arguments)}function II(e,t){return IRe(e)||FRe(e,t)||uH(e,t)||MRe()}function MRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function IRe(e){if(Array.isArray(e))return e}function LI(e,t){if(e==null)return{};var r=LRe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dH(n.key),n)}}function URe(e,t,r){return t&&BRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zRe(e,t,r){return t=Ub(t),VRe(e,cH()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function VRe(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WRe(e)}function WRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function HRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OC(e,t)}function OC(e,t){return OC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OC(e,t)}function Vm(e){return KRe(e)||GRe(e)||uH(e)||qRe()}function qRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uH(e,t){if(e){if(typeof e=="string")return DC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DC(e,t)}}function GRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KRe(e){if(Array.isArray(e))return DC(e)}function DC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(r),!0).forEach(function(n){jt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jt(e,t,r){return t=dH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=YRe(e,"string");return zm(t)=="symbol"?t:t+""}function YRe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XRe={xAxis:["bottom","top"],yAxis:["left","right"]},QRe={width:"100%",height:"100%"},fH={x:0,y:0};function hy(e){return e}var JRe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ZRe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return Fe(Fe(Fe({},a),Cr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return Fe(Fe(Fe({},a),Cr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return fH},q_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Vm(l),Vm(u)):l},[]);return o.length>0?o:t&&t.length&&Ke(a)&&Ke(s)?t.slice(a,s+1):[]};function hH(e){return e==="number"?[0,"auto"]:void 0}var RC=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=q_(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=U1(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Vm(c),[JV(u,h)]):c},[])},BI=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=JRe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=bke(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=RC(t,r,d,f),m=ZRe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},eMe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=qV(d,s);return n.reduce(function(g,p){var v,y=p.type.defaultProps!==void 0?Fe(Fe({},p.type.defaultProps),p.props):p.props,b=y.type,w=y.dataKey,j=y.allowDataOverflow,_=y.allowDuplicatedCategory,S=y.scale,N=y.ticks,C=y.includeHidden,k=y[o];if(g[k])return g;var E=q_(t.data,{graphicalItems:a.filter(function(A){var B,H=o in A.props?A.props[o]:(B=A.type.defaultProps)===null||B===void 0?void 0:B[o];return H===k}),dataStartIndex:c,dataEndIndex:u}),O=E.length,T,U,W;kRe(y.domain,j,b)&&(T=Kk(y.domain,null,j),m&&(b==="number"||S!=="auto")&&(W=U0(E,w,"category")));var R=hH(b);if(!T||T.length===0){var z,P=(z=y.domain)!==null&&z!==void 0?z:R;if(w){if(T=U0(E,w,b),b==="category"&&m){var M=cme(T);_&&M?(U=T,T=Eb(0,O)):_||(T=l3(P,T,p).reduce(function(A,B){return A.indexOf(B)>=0?A:[].concat(Vm(A),[B])},[]))}else if(b==="category")_?T=T.filter(function(A){return A!==""&&!Rt(A)}):T=l3(P,T,p).reduce(function(A,B){return A.indexOf(B)>=0||B===""||Rt(B)?A:[].concat(Vm(A),[B])},[]);else if(b==="number"){var L=Nke(E,a.filter(function(A){var B,H,V=o in A.props?A.props[o]:(B=A.type.defaultProps)===null||B===void 0?void 0:B[o],te="hide"in A.props?A.props.hide:(H=A.type.defaultProps)===null||H===void 0?void 0:H.hide;return V===k&&(C||!te)}),w,s,d);L&&(T=L)}m&&(b==="number"||S!=="auto")&&(W=U0(E,w,"category"))}else m?T=Eb(0,O):l&&l[k]&&l[k].hasStack&&b==="number"?T=h==="expand"?[0,1]:QV(l[k].stackGroups,c,u):T=HV(E,a.filter(function(A){var B=o in A.props?A.props[o]:A.type.defaultProps[o],H="hide"in A.props?A.props.hide:A.type.defaultProps.hide;return B===k&&(C||!H)}),b,d,!0);if(b==="number")T=PC(f,T,k,s,N),P&&(T=Kk(P,T,j));else if(b==="category"&&P){var q=P,Z=T.every(function(A){return q.indexOf(A)>=0});Z&&(T=q)}}return Fe(Fe({},g),{},jt({},k,Fe(Fe({},y),{},{axisType:s,domain:T,categoricalDomain:W,duplicateDomain:U,originalDomain:(v=y.domain)!==null&&v!==void 0?v:R,isCategorical:m,layout:d})))},{})},tMe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=q_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=qV(d,s),p=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?Fe(Fe({},y.type.defaultProps),y.props):y.props,w=b[o],j=hH("number");if(!v[w]){p++;var _;return g?_=Eb(0,m):l&&l[w]&&l[w].hasStack?(_=QV(l[w].stackGroups,c,u),_=PC(f,_,w,s)):(_=Kk(j,HV(h,n.filter(function(S){var N,C,k=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],E="hide"in S.props?S.props.hide:(C=S.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===w&&!E}),"number",d),a.defaultProps.allowDataOverflow),_=PC(f,_,w,s)),Fe(Fe({},v),{},jt({},w,Fe(Fe({axisType:s},a.defaultProps),{},{hide:!0,orientation:ni(XRe,"".concat(s,".").concat(p%2),null),domain:_,originalDomain:j,isCategorical:g,layout:d})))}return v},{})},rMe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=ai(d,s),m={};return h&&h.length?m=eMe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=tMe(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},nMe=function(t){var r=Vc(t),n=ql(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:_A(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:pb(r,n)}},UI=function(t){var r=t.children,n=t.defaultShowTooltip,a=qs(r,Dm),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},aMe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Xl(r&&r.type);return n&&n.indexOf("Bar")>=0})},zI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sMe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=qs(f,Dm),g=qs(f,Ti),p=Object.keys(c).reduce(function(_,S){var N=c[S],C=N.orientation;return!N.mirror&&!N.hide?Fe(Fe({},_),{},jt({},C,_[C]+N.width)):_},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(_,S){var N=o[S],C=N.orientation;return!N.mirror&&!N.hide?Fe(Fe({},_),{},jt({},C,ni(_,"".concat(C))+N.height)):_},{top:h.top||0,bottom:h.bottom||0}),y=Fe(Fe({},v),p),b=y.bottom;m&&(y.bottom+=m.props.height||Dm.defaultProps.height),g&&r&&(y=jke(y,a,n,r));var w=u-y.left-y.right,j=d-y.top-y.bottom;return Fe(Fe({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(j,0)})},iMe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},sP=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var w=b.graphicalItems,j=b.stackGroups,_=b.offset,S=b.updateId,N=b.dataStartIndex,C=b.dataEndIndex,k=y.barSize,E=y.layout,O=y.barGap,T=y.barCategoryGap,U=y.maxBarSize,W=zI(E),R=W.numericAxisName,z=W.cateAxisName,P=aMe(w),M=[];return w.forEach(function(L,q){var Z=q_(y.data,{graphicalItems:[L],dataStartIndex:N,dataEndIndex:C}),A=L.type.defaultProps!==void 0?Fe(Fe({},L.type.defaultProps),L.props):L.props,B=A.dataKey,H=A.maxBarSize,V=A["".concat(R,"Id")],te=A["".concat(z,"Id")],le={},xe=c.reduce(function(ge,re){var ae=b["".concat(re.axisType,"Map")],fe=A["".concat(re.axisType,"Id")];ae&&ae[fe]||re.axisType==="zAxis"||of();var Ee=ae[fe];return Fe(Fe({},ge),{},jt(jt({},re.axisType,Ee),"".concat(re.axisType,"Ticks"),ql(Ee)))},le),ie=xe[z],G=xe["".concat(z,"Ticks")],Q=j&&j[V]&&j[V].hasStack&&Rke(L,j[V].stackGroups),D=Xl(L.type).indexOf("Bar")>=0,ce=pb(ie,G),je=[],be=P&&wke({barSize:k,stackGroups:j,totalSize:iMe(xe,z)});if(D){var Pe,De,Le=Rt(H)?U:H,et=(Pe=(De=pb(ie,G,!0))!==null&&De!==void 0?De:Le)!==null&&Pe!==void 0?Pe:0;je=_ke({barGap:O,barCategoryGap:T,bandSize:et!==ce?et:ce,sizeList:be[te],maxBarSize:Le}),et!==ce&&(je=je.map(function(ge){return Fe(Fe({},ge),{},{position:Fe(Fe({},ge.position),{},{offset:ge.position.offset-et/2})})}))}var se=L&&L.type&&L.type.getComposedData;se&&M.push({props:Fe(Fe({},se(Fe(Fe({},xe),{},{displayedData:Z,props:y,dataKey:B,item:L,bandSize:ce,barPosition:je,offset:_,stackedData:Q,layout:E,dataStartIndex:N,dataEndIndex:C}))),{},jt(jt(jt({key:L.key||"item-".concat(q)},R,xe[R]),z,xe[z]),"animationId",S)),childIndex:_me(L,y.children),item:L})}),M},m=function(y,b){var w=y.props,j=y.dataStartIndex,_=y.dataEndIndex,S=y.updateId;if(!tM({props:w}))return null;var N=w.children,C=w.layout,k=w.stackOffset,E=w.data,O=w.reverseStackOrder,T=zI(C),U=T.numericAxisName,W=T.cateAxisName,R=ai(N,n),z=Oke(E,R,"".concat(U,"Id"),"".concat(W,"Id"),k,O),P=c.reduce(function(A,B){var H="".concat(B.axisType,"Map");return Fe(Fe({},A),{},jt({},H,rMe(w,Fe(Fe({},B),{},{graphicalItems:R,stackGroups:B.axisType===U&&z,dataStartIndex:j,dataEndIndex:_}))))},{}),M=sMe(Fe(Fe({},P),{},{props:w,graphicalItems:R}),b==null?void 0:b.legendBBox);Object.keys(P).forEach(function(A){P[A]=d(w,P[A],M,A.replace("Map",""),r)});var L=P["".concat(W,"Map")],q=nMe(L),Z=h(w,Fe(Fe({},P),{},{dataStartIndex:j,dataEndIndex:_,updateId:S,graphicalItems:R,stackGroups:z,offset:M}));return Fe(Fe({formattedGraphicalItems:Z,graphicalItems:R,offset:M,stackGroups:z},q),P)},g=function(v){function y(b){var w,j,_;return $Re(this,y),_=zRe(this,y,[b]),jt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(_,"accessibilityManager",new NRe),jt(_,"handleLegendBBoxUpdate",function(S){if(S){var N=_.state,C=N.dataStartIndex,k=N.dataEndIndex,E=N.updateId;_.setState(Fe({legendBBox:S},m({props:_.props,dataStartIndex:C,dataEndIndex:k,updateId:E},Fe(Fe({},_.state),{},{legendBBox:S}))))}}),jt(_,"handleReceiveSyncEvent",function(S,N,C){if(_.props.syncId===S){if(C===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(N)}}),jt(_,"handleBrushChange",function(S){var N=S.startIndex,C=S.endIndex;if(N!==_.state.dataStartIndex||C!==_.state.dataEndIndex){var k=_.state.updateId;_.setState(function(){return Fe({dataStartIndex:N,dataEndIndex:C},m({props:_.props,dataStartIndex:N,dataEndIndex:C,updateId:k},_.state))}),_.triggerSyncEvent({dataStartIndex:N,dataEndIndex:C})}}),jt(_,"handleMouseEnter",function(S){var N=_.getMouseInfo(S);if(N){var C=Fe(Fe({},N),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var k=_.props.onMouseEnter;Ct(k)&&k(C,S)}}),jt(_,"triggeredAfterMouseMove",function(S){var N=_.getMouseInfo(S),C=N?Fe(Fe({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(C),_.triggerSyncEvent(C);var k=_.props.onMouseMove;Ct(k)&&k(C,S)}),jt(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),jt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),jt(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),jt(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};_.setState(N),_.triggerSyncEvent(N);var C=_.props.onMouseLeave;Ct(C)&&C(N,S)}),jt(_,"handleOuterEvent",function(S){var N=wme(S),C=ni(_.props,"".concat(N));if(N&&Ct(C)){var k,E;/.*touch.*/i.test(N)?E=_.getMouseInfo(S.changedTouches[0]):E=_.getMouseInfo(S),C((k=E)!==null&&k!==void 0?k:{},S)}}),jt(_,"handleClick",function(S){var N=_.getMouseInfo(S);if(N){var C=Fe(Fe({},N),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var k=_.props.onClick;Ct(k)&&k(C,S)}}),jt(_,"handleMouseDown",function(S){var N=_.props.onMouseDown;if(Ct(N)){var C=_.getMouseInfo(S);N(C,S)}}),jt(_,"handleMouseUp",function(S){var N=_.props.onMouseUp;if(Ct(N)){var C=_.getMouseInfo(S);N(C,S)}}),jt(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),jt(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),jt(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),jt(_,"handleDoubleClick",function(S){var N=_.props.onDoubleClick;if(Ct(N)){var C=_.getMouseInfo(S);N(C,S)}}),jt(_,"handleContextMenu",function(S){var N=_.props.onContextMenu;if(Ct(N)){var C=_.getMouseInfo(S);N(C,S)}}),jt(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&QS.emit(JS,_.props.syncId,S,_.eventEmitterSymbol)}),jt(_,"applySyncEvent",function(S){var N=_.props,C=N.layout,k=N.syncMethod,E=_.state.updateId,O=S.dataStartIndex,T=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(Fe({dataStartIndex:O,dataEndIndex:T},m({props:_.props,dataStartIndex:O,dataEndIndex:T,updateId:E},_.state)));else if(S.activeTooltipIndex!==void 0){var U=S.chartX,W=S.chartY,R=S.activeTooltipIndex,z=_.state,P=z.offset,M=z.tooltipTicks;if(!P)return;if(typeof k=="function")R=k(M,S);else if(k==="value"){R=-1;for(var L=0;L<M.length;L++)if(M[L].value===S.activeLabel){R=L;break}}var q=Fe(Fe({},P),{},{x:P.left,y:P.top}),Z=Math.min(U,q.x+q.width),A=Math.min(W,q.y+q.height),B=M[R]&&M[R].value,H=RC(_.state,_.props.data,R),V=M[R]?{x:C==="horizontal"?M[R].coordinate:Z,y:C==="horizontal"?A:M[R].coordinate}:fH;_.setState(Fe(Fe({},S),{},{activeLabel:B,activeCoordinate:V,activePayload:H,activeTooltipIndex:R}))}else _.setState(S)}),jt(_,"renderCursor",function(S){var N,C=_.state,k=C.isTooltipActive,E=C.activeCoordinate,O=C.activePayload,T=C.offset,U=C.activeTooltipIndex,W=C.tooltipAxisBandSize,R=_.getTooltipEventType(),z=(N=S.props.active)!==null&&N!==void 0?N:k,P=_.props.layout,M=S.key||"_recharts-cursor";return ue.createElement(ORe,{key:M,activeCoordinate:E,activePayload:O,activeTooltipIndex:U,chartName:r,element:S,isActive:z,layout:P,offset:T,tooltipAxisBandSize:W,tooltipEventType:R})}),jt(_,"renderPolarAxis",function(S,N,C){var k=ni(S,"type.axisType"),E=ni(_.state,"".concat(k,"Map")),O=S.type.defaultProps,T=O!==void 0?Fe(Fe({},O),S.props):S.props,U=E&&E[T["".concat(k,"Id")]];return x.cloneElement(S,Fe(Fe({},U),{},{className:Mt(k,U.className),key:S.key||"".concat(N,"-").concat(C),ticks:ql(U,!0)}))}),jt(_,"renderPolarGrid",function(S){var N=S.props,C=N.radialLines,k=N.polarAngles,E=N.polarRadius,O=_.state,T=O.radiusAxisMap,U=O.angleAxisMap,W=Vc(T),R=Vc(U),z=R.cx,P=R.cy,M=R.innerRadius,L=R.outerRadius;return x.cloneElement(S,{polarAngles:Array.isArray(k)?k:ql(R,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(E)?E:ql(W,!0).map(function(q){return q.coordinate}),cx:z,cy:P,innerRadius:M,outerRadius:L,key:S.key||"polar-grid",radialLines:C})}),jt(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,N=_.props,C=N.children,k=N.width,E=N.height,O=_.props.margin||{},T=k-(O.left||0)-(O.right||0),U=VV({children:C,formattedGraphicalItems:S,legendWidth:T,legendContent:u});if(!U)return null;var W=U.item,R=LI(U,DRe);return x.cloneElement(W,Fe(Fe({},R),{},{chartWidth:k,chartHeight:E,margin:O,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),jt(_,"renderTooltip",function(){var S,N=_.props,C=N.children,k=N.accessibilityLayer,E=qs(C,ba);if(!E)return null;var O=_.state,T=O.isTooltipActive,U=O.activeCoordinate,W=O.activePayload,R=O.activeLabel,z=O.offset,P=(S=E.props.active)!==null&&S!==void 0?S:T;return x.cloneElement(E,{viewBox:Fe(Fe({},z),{},{x:z.left,y:z.top}),active:P,label:R,payload:P?W:[],coordinate:U,accessibilityLayer:k})}),jt(_,"renderBrush",function(S){var N=_.props,C=N.margin,k=N.data,E=_.state,O=E.offset,T=E.dataStartIndex,U=E.dataEndIndex,W=E.updateId;return x.cloneElement(S,{key:S.key||"_recharts-brush",onChange:ly(_.handleBrushChange,S.props.onChange),data:k,x:Ke(S.props.x)?S.props.x:O.left,y:Ke(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:Ke(S.props.width)?S.props.width:O.width,startIndex:T,endIndex:U,updateId:"brush-".concat(W)})}),jt(_,"renderReferenceElement",function(S,N,C){if(!S)return null;var k=_,E=k.clipPathId,O=_.state,T=O.xAxisMap,U=O.yAxisMap,W=O.offset,R=S.type.defaultProps||{},z=S.props,P=z.xAxisId,M=P===void 0?R.xAxisId:P,L=z.yAxisId,q=L===void 0?R.yAxisId:L;return x.cloneElement(S,{key:S.key||"".concat(N,"-").concat(C),xAxis:T[M],yAxis:U[q],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:E})}),jt(_,"renderActivePoints",function(S){var N=S.item,C=S.activePoint,k=S.basePoint,E=S.childIndex,O=S.isRange,T=[],U=N.props.key,W=N.item.type.defaultProps!==void 0?Fe(Fe({},N.item.type.defaultProps),N.item.props):N.item.props,R=W.activeDot,z=W.dataKey,P=Fe(Fe({index:E,dataKey:z,cx:C.x,cy:C.y,r:4,fill:KA(N.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},bt(R,!1)),z1(R));return T.push(y.renderActiveDot(R,P,"".concat(U,"-activePoint-").concat(E))),k?T.push(y.renderActiveDot(R,Fe(Fe({},P),{},{cx:k.x,cy:k.y}),"".concat(U,"-basePoint-").concat(E))):O&&T.push(null),T}),jt(_,"renderGraphicChild",function(S,N,C){var k=_.filterFormatItem(S,N,C);if(!k)return null;var E=_.getTooltipEventType(),O=_.state,T=O.isTooltipActive,U=O.tooltipAxis,W=O.activeTooltipIndex,R=O.activeLabel,z=_.props.children,P=qs(z,ba),M=k.props,L=M.points,q=M.isRange,Z=M.baseLine,A=k.item.type.defaultProps!==void 0?Fe(Fe({},k.item.type.defaultProps),k.item.props):k.item.props,B=A.activeDot,H=A.hide,V=A.activeBar,te=A.activeShape,le=!!(!H&&T&&P&&(B||V||te)),xe={};E!=="axis"&&P&&P.props.trigger==="click"?xe={onClick:ly(_.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(xe={onMouseLeave:ly(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:ly(_.handleItemMouseEnter,S.props.onMouseEnter)});var ie=x.cloneElement(S,Fe(Fe({},k.props),xe));function G(re){return typeof U.dataKey=="function"?U.dataKey(re.payload):null}if(le)if(W>=0){var Q,D;if(U.dataKey&&!U.allowDuplicatedCategory){var ce=typeof U.dataKey=="function"?G:"payload.".concat(U.dataKey.toString());Q=U1(L,ce,R),D=q&&Z&&U1(Z,ce,R)}else Q=L==null?void 0:L[W],D=q&&Z&&Z[W];if(te||V){var je=S.props.activeIndex!==void 0?S.props.activeIndex:W;return[x.cloneElement(S,Fe(Fe(Fe({},k.props),xe),{},{activeIndex:je})),null,null]}if(!Rt(Q))return[ie].concat(Vm(_.renderActivePoints({item:k,activePoint:Q,basePoint:D,childIndex:W,isRange:q})))}else{var be,Pe=(be=_.getItemByXY(_.state.activeCoordinate))!==null&&be!==void 0?be:{graphicalItem:ie},De=Pe.graphicalItem,Le=De.item,et=Le===void 0?S:Le,se=De.childIndex,ge=Fe(Fe(Fe({},k.props),xe),{},{activeIndex:se});return[x.cloneElement(et,ge),null,null]}return q?[ie,null,null]:[ie,null]}),jt(_,"renderCustomized",function(S,N,C){return x.cloneElement(S,Fe(Fe({key:"recharts-customized-".concat(C)},_.props),_.state))}),jt(_,"renderMap",{CartesianGrid:{handler:hy,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:hy},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:hy},YAxis:{handler:hy},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:wp("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=zz(_.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return HRe(y,v),URe(y,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,_=w.data,S=w.height,N=w.layout,C=qs(j,ba);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=RC(this.state,_,k,E),T=this.state.tooltipTicks[k].coordinate,U=(this.state.offset.top+S)/2,W=N==="horizontal",R=W?{x:T,y:U}:{y:T,x:U},z=this.state.formattedGraphicalItems.find(function(M){var L=M.item;return L.type.name==="Scatter"});z&&(R=Fe(Fe({},R),z.props.points[k].tooltipPosition),O=z.props.points[k].tooltipPayload);var P={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:E,activePayload:O,activeCoordinate:R};this.setState(P),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){ck([qs(w.children,ba)],[qs(this.props.children,ba)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=qs(this.props.children,ba);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),S=K_e(_),N={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},C=_.width/j.offsetWidth||1,k=this.inRange(N.chartX,N.chartY,C);if(!k)return null;var E=this.state,O=E.xAxisMap,T=E.yAxisMap,U=this.getTooltipEventType(),W=BI(this.state,this.props.data,this.props.layout,k);if(U!=="axis"&&O&&T){var R=Vc(O).scale,z=Vc(T).scale,P=R&&R.invert?R.invert(N.chartX):null,M=z&&z.invert?z.invert(N.chartY):null;return Fe(Fe({},N),{},{xValue:P,yValue:M},W)}return W?Fe(Fe({},N),W):null}},{key:"inRange",value:function(w,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=w/_,C=j/_;if(S==="horizontal"||S==="vertical"){var k=this.state.offset,E=N>=k.left&&N<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return E?{x:N,y:C}:null}var O=this.state,T=O.angleAxisMap,U=O.radiusAxisMap;if(T&&U){var W=Vc(T);return d3({x:N,y:C},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),_=qs(w,ba),S={};_&&j==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=z1(this.props,this.handleOuterEvent);return Fe(Fe({},N),S)}},{key:"addListener",value:function(){QS.on(JS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){QS.removeListener(JS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,_){for(var S=this.state.formattedGraphicalItems,N=0,C=S.length;N<C;N++){var k=S[N];if(k.item===w||k.props.key===w.key||j===Xl(k.item.type)&&_===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,_=j.left,S=j.top,N=j.height,C=j.width;return ue.createElement("defs",null,ue.createElement("clipPath",{id:w},ue.createElement("rect",{x:_,y:S,height:N,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,_){var S=II(_,2),N=S[0],C=S[1];return Fe(Fe({},j),{},jt({},N,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,_){var S=II(_,2),N=S[0],C=S[1];return Fe(Fe({},j),{},jt({},N,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,_=j.formattedGraphicalItems,S=j.activeItem;if(_&&_.length)for(var N=0,C=_.length;N<C;N++){var k=_[N],E=k.props,O=k.item,T=O.type.defaultProps!==void 0?Fe(Fe({},O.type.defaultProps),O.props):O.props,U=Xl(O.type);if(U==="Bar"){var W=(E.data||[]).find(function(M){return ATe(w,M)});if(W)return{graphicalItem:k,payload:W}}else if(U==="RadialBar"){var R=(E.data||[]).find(function(M){return d3(w,M)});if(R)return{graphicalItem:k,payload:R}}else if($_(k,S)||B_(k,S)||iv(k,S)){var z=xPe({graphicalItem:k,activeTooltipItem:S,itemData:T.data}),P=T.activeIndex===void 0?z:T.activeIndex;return{graphicalItem:Fe(Fe({},k),{},{childIndex:P}),payload:iv(k,S)?T.data[z]:k.props.data[z]}}}return null}},{key:"render",value:function(){var w=this;if(!tM(this))return null;var j=this.props,_=j.children,S=j.className,N=j.width,C=j.height,k=j.style,E=j.compact,O=j.title,T=j.desc,U=LI(j,RRe),W=bt(U,!1);if(E)return ue.createElement(yI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement(dk,jh({},W,{width:N,height:C,title:O,desc:T}),this.renderClipPath(),nM(_,this.renderMap)));if(this.props.accessibilityLayer){var R,z;W.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,W.role=(z=this.props.role)!==null&&z!==void 0?z:"application",W.onKeyDown=function(M){w.accessibilityManager.keyboardEvent(M)},W.onFocus=function(){w.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return ue.createElement(yI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement("div",jh({className:Mt("recharts-wrapper",S),style:Fe({position:"relative",cursor:"default",width:N,height:C},k)},P,{ref:function(L){w.container=L}}),ue.createElement(dk,jh({},W,{width:N,height:C,title:O,desc:T,style:QRe}),this.renderClipPath(),nM(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);jt(g,"displayName",r),jt(g,"defaultProps",Fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),jt(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,j=v.children,_=v.width,S=v.height,N=v.layout,C=v.stackOffset,k=v.margin,E=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var T=UI(v);return Fe(Fe(Fe({},T),{},{updateId:0},m(Fe(Fe({props:v},T),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:_,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:k,prevChildren:j})}if(b!==y.prevDataKey||w!==y.prevData||_!==y.prevWidth||S!==y.prevHeight||N!==y.prevLayout||C!==y.prevStackOffset||!Fh(k,y.prevMargin)){var U=UI(v),W={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},R=Fe(Fe({},BI(y,w,N)),{},{updateId:y.updateId+1}),z=Fe(Fe(Fe({},U),W),R);return Fe(Fe(Fe({},z),m(Fe({props:v},z),y)),{},{prevDataKey:b,prevData:w,prevWidth:_,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:k,prevChildren:j})}if(!ck(j,y.prevChildren)){var P,M,L,q,Z=qs(j,Dm),A=Z&&(P=(M=Z.props)===null||M===void 0?void 0:M.startIndex)!==null&&P!==void 0?P:E,B=Z&&(L=(q=Z.props)===null||q===void 0?void 0:q.endIndex)!==null&&L!==void 0?L:O,H=A!==E||B!==O,V=!Rt(w),te=V&&!H?y.updateId:y.updateId+1;return Fe(Fe({updateId:te},m(Fe(Fe({props:v},y),{},{updateId:te,dataStartIndex:A,dataEndIndex:B}),y)),{},{prevChildren:j,dataStartIndex:A,dataEndIndex:B})}return null}),jt(g,"renderActiveDot",function(v,y,b){var w;return x.isValidElement(v)?w=x.cloneElement(v,y):Ct(v)?w=v(y):w=ue.createElement(R_,y),ue.createElement(ar,{className:"recharts-active-dot",key:b},w)});var p=x.forwardRef(function(y,b){return ue.createElement(g,jh({},y,{ref:b}))});return p.displayName=g.displayName,p},G_=sP({chartName:"LineChart",GraphicalChild:qu,axisComponents:[{axisType:"xAxis",AxisComp:gl},{axisType:"yAxis",AxisComp:vl}],formatAxisMap:OW}),VI=sP({chartName:"BarChart",GraphicalChild:_i,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gl},{axisType:"yAxis",AxisComp:vl}],formatAxisMap:OW}),od=sP({chartName:"PieChart",GraphicalChild:Ga,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:L_},{axisType:"radiusAxis",AxisComp:F_}],formatAxisMap:Wke,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const WI=({projects:e,clients:t,users:r,leads:n,surveys:a,loadData:s,isRTL:o,t:l,counts:c,mleadsChartData:u,handleRefresh:d,refreshing:f})=>{var _;const{user:h}=hr(),m=c.projects,g=0,p=c.projects,v=0;c.clients;const y=c.users,b=c.leads,w=c.surveys,j=[...e].sort((S,N)=>new Date(N.created_at||"").getTime()-new Date(S.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",dir:o?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:l("dashboard.title")}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:l("dashboard.subtitle")})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[i.jsxs(de,{onClick:d,disabled:f,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Ng,{className:`h-4 w-4 ${f?"animate-spin":""}`}),f?l("common.refreshing","Refreshing..."):l("common.refresh","Refresh")]}),i.jsx(C7,{})]})]}),i.jsxs(st,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[i.jsx(Ht,{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs(vr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(On,{className:"h-6 w-6 text-primary"}),l("employeeDashboard.employeeInfo")]})}),i.jsx(xt,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.name")}),i.jsx("p",{className:"font-medium",children:Oe(h.profile||{},"user_name")||h.name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.email")}),i.jsx("p",{className:"font-medium truncate",title:h.email,children:h.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.role")}),i.jsx(pt,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:h.permissions_permissions_Name||h.role||"Unknown"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.memberSince")}),i.jsx("p",{className:"font-medium",children:(_=h.profile)!=null&&_.created_at?new Date(h.profile.created_at).toLocaleDateString():"N/A"})]})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-5",children:[i.jsx(ji,{title:l("dashboard.totalProjects"),value:m,subtext:`${g} ${l("dashboard.completed")}`,icon:bB,isRTL:o}),i.jsx(ji,{title:l("dashboard.inProgress"),value:p,subtext:l("dashboard.activeProjects"),icon:Ya,isRTL:o}),i.jsx(ji,{title:l("dashboard.teamMembers"),value:y,subtext:l("dashboard.activeUsers"),icon:Ya,isRTL:o}),i.jsx(ji,{title:l("dashboard.leads"),value:b,subtext:l("dashboard.totalLeads"),icon:Md,isRTL:o}),i.jsx(ji,{title:l("dashboard.surveys"),value:w,subtext:l("dashboard.totalSurveys"),icon:ya,isRTL:o})]}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ht,{children:i.jsxs(vr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Md,{className:"h-6 w-6 text-primary"}),l("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(xt,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(nf,{width:"100%",height:"100%",children:i.jsxs(G_,{data:u,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(cf,{strokeDasharray:"3 3"}),i.jsx(gl,{dataKey:"date",angle:o?45:-45,textAnchor:o?"start":"end",height:80,tick:{fontSize:12},reversed:o}),i.jsx(vl,{orientation:o?"right":"left",label:{value:"Number of Leads",angle:o?90:-90,position:o?"insideRight":"insideLeft"}}),i.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:S=>[`${S} leads`,"Total"]}),i.jsx(Ti,{}),i.jsx(qu,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ht,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(vr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.recentProjects")})}),i.jsx(xt,{className:"space-y-2 pt-4",children:j.length>0?j.map(S=>i.jsx(lMe,{project:S,clientName:S.company_name||l("dashboard.noClient"),isRTL:o,t:l},S.project_id)):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:l("dashboard.noProjectsYet")})})]}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ht,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(vr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.projectStatus")})}),i.jsxs(xt,{className:"space-y-2 pt-4",children:[i.jsx(eN,{color:"bg-emerald-500",label:l("dashboard.completedStatus"),value:g,isRTL:o}),i.jsx(eN,{color:"bg-blue-500",label:l("dashboard.inProgressStatus"),value:p,isRTL:o}),i.jsx(eN,{color:"bg-slate-400",label:l("dashboard.notStartedStatus"),value:v,isRTL:o})]})]})]})]})},oMe=({user:e,myTasks:t,myProjects:r,leads:n,surveys:a,isRTL:s,t:o,counts:l,mleadsChartData:c,handleRefresh:u,refreshing:d})=>{var p;const f=t.filter(v=>v.task_status==="completed").length,h=t.filter(v=>v.task_status==="in_progress").length,m=l.projects,g=[...t].sort((v,y)=>new Date(y.created_at||"").getTime()-new Date(v.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",dir:s?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:o("employeeDashboard.title")}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:o("employeeDashboard.subtitle",{name:Oe(e.profile||{},"user.name")||e.email})})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[i.jsxs(de,{onClick:u,disabled:d,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Ng,{className:`h-4 w-4 ${d?"animate-spin":""}`}),d?o("common.refreshing","Refreshing..."):o("common.refresh","Refresh")]}),i.jsx(C7,{})]})]}),i.jsxs(st,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[i.jsx(Ht,{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs(vr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(On,{className:"h-6 w-6 text-primary"}),o("employeeDashboard.employeeInfo")]})}),i.jsx(xt,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsx(tN,{label:o("employeeDashboard.name"),value:Oe(e.profile||{},"user_name")||"N/A",isRTL:s}),i.jsx(tN,{label:o("employeeDashboard.email"),value:e.email,isRTL:s}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:o("employeeDashboard.role")}),i.jsx(pt,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:e.permissions_permissions_Name||e.role||"Unknown"})]}),i.jsx(tN,{label:o("employeeDashboard.memberSince"),value:(p=e.profile)!=null&&p.created_at?new Date(e.profile.created_at).toLocaleDateString():"N/A",isRTL:s})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[i.jsx(ji,{title:o("employeeDashboard.myProjects"),value:l.projects,subtext:`${m} ${o("employeeDashboard.active")}`,icon:Rd,isRTL:s}),i.jsx(ji,{title:o("employeeDashboard.myTasks"),value:l.myTasks,subtext:`${f} ${o("employeeDashboard.completed")}`,icon:Md,isRTL:s}),i.jsx(ji,{title:o("employeeDashboard.inProgress"),value:h,subtext:o("employeeDashboard.activeTasks"),icon:Yd,isRTL:s}),i.jsx(ji,{title:o("employeeDashboard.completedTasks"),value:f,subtext:o("employeeDashboard.finishedTasks"),icon:Yl,isRTL:s}),i.jsx(ji,{title:o("employeeDashboard.leads"),value:l.leads,subtext:o("employeeDashboard.totalLeads"),icon:Md,isRTL:s}),i.jsx(ji,{title:o("employeeDashboard.surveys"),value:l.surveys,subtext:o("employeeDashboard.totalSurveys"),icon:ya,isRTL:s})]}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ht,{children:i.jsxs(vr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Md,{className:"h-6 w-6 text-primary"}),o("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(xt,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(nf,{width:"100%",height:"100%",children:i.jsxs(G_,{data:c,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(cf,{strokeDasharray:"3 3"}),i.jsx(gl,{dataKey:"date",angle:s?45:-45,textAnchor:s?"start":"end",height:80,tick:{fontSize:12},reversed:s}),i.jsx(vl,{orientation:s?"right":"left",label:{value:"Number of Leads",angle:s?90:-90,position:s?"insideRight":"insideLeft"}}),i.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:v=>[`${v} leads`,"Total"]}),i.jsx(Ti,{}),i.jsx(qu,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ht,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(vr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.myProjects")})}),i.jsx(xt,{className:"space-y-2 pt-4",children:r.length>0?r.slice(0,5).map(v=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:v.company_name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:v.contract_code||o("employeeDashboard.noDescription")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:v.contract_code})]},v.project_id)):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noProjectsAssigned")})})]}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ht,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(vr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.recentTasks")})}),i.jsx(xt,{className:"space-y-2 pt-4",children:g.length>0?g.map(v=>{var y;return i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:v.task_name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:v.description||o("employeeDashboard.noDescription")})]}),i.jsx(pt,{variant:v.task_status==="completed"?"default":v.task_status==="in_progress"?"secondary":"outline",className:"text-xs whitespace-nowrap",children:(y=v.task_status)==null?void 0:y.replace("_"," ")})]},v.task_id)}):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noTasksAssigned")})})]})]})]})},ji=({title:e,value:t,subtext:r,icon:n,isRTL:a})=>i.jsxs(st,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",dir:a?"rtl":"ltr",children:[i.jsxs(Ht,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[i.jsx(vr,{className:"text-xs sm:text-sm font-semibold text-slate-700 dark:text-slate-300",children:e}),i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})})]}),i.jsxs(xt,{children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:t}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:r})]})]}),lMe=({project:e,clientName:t,isRTL:r,t:n})=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[i.jsx("p",{className:"text-sm sm:text-base font-semibold text-slate-900 dark:text-white leading-none truncate",children:e.company_name}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 truncate",children:t||n("dashboard.noClient")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:e.contract_code})]}),eN=({color:e,label:t,value:r,isRTL:n})=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors duration-200",dir:n?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${e} shadow-sm`}),i.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300",children:t})]}),i.jsx("span",{className:"text-sm sm:text-base font-bold text-slate-900 dark:text-white",children:r})]}),tN=({label:e,value:t,isRTL:r})=>i.jsxs("div",{dir:r?"rtl":"ltr",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium mb-2",children:e}),i.jsx("p",{className:"text-base font-semibold text-slate-900 dark:text-white",children:t})]});function cMe(){const{t:e}=At(),{currentLanguage:t,isRTL:r}=ir();Ur();const{user:n,loading:a}=hr(),[s,o]=x.useState({projects:[],clients:[],users:[],leads:[],surveys:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,g]=x.useState(new Map),[p,v]=x.useState(!1),y=async()=>{v(!0);try{localStorage.removeItem("dashboard_counts"),localStorage.removeItem("dashboard_mleads_chart"),localStorage.removeItem("dashboard_permissions"),c([]),g(new Map),await Promise.all([_(!0),j(),w()])}catch(S){console.error("[Dashboard] Refresh failed:",S)}finally{v(!1)}},b=s.projects.filter(S=>{var k;const N=(k=n==null?void 0:n.profile)==null?void 0:k.userid,C=N?Number(N):null;return C!==null&&!isNaN(C)&&Number(S.created_by)===C}),w=async()=>{try{const S="dashboard_mleads_chart",N=localStorage.getItem(S);if(N){const{data:R,timestamp:z}=JSON.parse(N),P=Date.now()-z,M=5*60*1e3;if(P<M&&R.length>0){console.log("[Dashboard] Using cached MLeads chart data"),c(R);return}}if(l.length>0){console.log("[Dashboard] MLeads chart data already loaded, skipping...");return}const C=new Date;C.setDate(C.getDate()-30);const k={pageSize:50,select_fields:"leads_id,created_at",exact_filters:{created_at_gte:C.toISOString().split("T")[0]}},O=(await X.mLeads.list(k)).data||[],T=new Map;O.forEach(R=>{const z=new Date(R.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});T.set(z,(T.get(z)||0)+1)});const W=Array.from(T.entries()).sort((R,z)=>new Date(R[0]).getTime()-new Date(z[0]).getTime()).map(([R,z])=>({date:R,count:z}));localStorage.setItem(S,JSON.stringify({data:W,timestamp:Date.now()})),c(W)}catch(S){console.error("[Dashboard] Failed to load MLeads chart data:",S);const C=localStorage.getItem("dashboard_mleads_chart");if(C){const{data:k}=JSON.parse(C);c(k)}}};x.useEffect(()=>{n&&!a&&(_(),j(),w())},[n==null?void 0:n.id,a]);const j=async()=>{try{const S="dashboard_permissions",N=localStorage.getItem(S);if(N){const{data:E,timestamp:O}=JSON.parse(N),T=Date.now()-O,U=30*60*1e3;if(T<U){console.log("[Dashboard] Using cached permission names"),g(new Map(E));return}}const C=await vT(),k=new Map;C.forEach(E=>{k.set(E.permissions_ID,E.permissions_Name)}),localStorage.setItem(S,JSON.stringify({data:Array.from(k.entries()),timestamp:Date.now()})),g(k)}catch(S){console.error("Failed to load permission names:",S);const C=localStorage.getItem("dashboard_permissions");if(C){const{data:k}=JSON.parse(C);g(new Map(k))}}},_=async(S=!1)=>{var N,C,k,E,O,T;try{d(!0),h(null);const U="dashboard_counts";if(!S){const H=localStorage.getItem(U);if(H){const{data:V,timestamp:te}=JSON.parse(H),le=Date.now()-te,xe=2*60*1e3;if(le<xe){console.log("[Dashboard] Using cached dashboard counts"),o(ie=>({...ie,counts:V.counts})),d(!1);return}}}const[W]=await Promise.all([X.getAggregates(["m_projects","users","m_leads","surveys","tasks","clients"])]),R=((N=W.m_projects)==null?void 0:N.Count)||0,z=((C=W.users)==null?void 0:C.Count)||0,P=((k=W.m_leads)==null?void 0:k.Count)||0,M=((E=W.surveys)==null?void 0:E.Count)||0,L=((O=W.clients)==null?void 0:O.Count)||0,q=((T=W.tasks)==null?void 0:T.Count)||0,Z={projects:R,users:z,leads:P,surveys:M,clients:L,myTasks:0};localStorage.setItem(U,JSON.stringify({data:{counts:Z},timestamp:Date.now()})),o({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:Z})}catch(U){console.error("[Dashboard] Failed to load data:",U);const R=localStorage.getItem("dashboard_counts");if(R){const{data:z}=JSON.parse(R);o(P=>({...P,counts:z.counts})),d(!1);return}o({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),h(U.message||"Failed to load data")}finally{d(!1)}};return u||a||!n?i.jsx("div",{className:"flex items-center justify-center h-full py-12",dir:r?"rtl":"ltr",children:i.jsx(Pa,{message:e("common.loading"),size:"2xl"})}):f?i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:f}),i.jsx(de,{onClick:()=>_(),className:"mt-4",children:e("common.retry","Retry")})]})}):n.role==="client"?i.jsx($y,{to:"/client-portal",replace:!0}):n.role==="admin"?i.jsx(WI,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:_,isRTL:r,t:e,counts:s.counts,mleadsChartData:l,handleRefresh:y,refreshing:p}):["employee","manager","team_leader"].includes(n.role)?i.jsx(oMe,{user:n,myTasks:s.myTasks,myProjects:b,leads:s.leads,surveys:s.surveys,isRTL:r,t:e,counts:s.counts,mleadsChartData:l,handleRefresh:y,refreshing:p}):["partner_employee","partner_leader"].includes(n.role)?i.jsxs("div",{className:"space-y-8",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("partnerEmployeeDashboard.title","Partner Employee Dashboard")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("partnerEmployeeDashboard.subtitle","Welcome to your partner employee portal")})]})}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ht,{children:i.jsxs(vr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Md,{className:"h-6 w-6 text-primary"}),e("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(xt,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(nf,{width:"100%",height:"100%",children:i.jsxs(G_,{data:l,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(cf,{strokeDasharray:"3 3"}),i.jsx(gl,{dataKey:"date",angle:r?45:-45,textAnchor:r?"start":"end",height:80,tick:{fontSize:12},reversed:r}),i.jsx(vl,{orientation:r?"right":"left",label:{value:"Number of Leads",angle:r?90:-90,position:r?"insideRight":"insideLeft"}}),i.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:S=>[`${S} leads`,"Total"]}),i.jsx(Ti,{}),i.jsx(qu,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:i.jsx(ji,{title:"",value:0,subtext:"",icon:Rd,isRTL:r})}),i.jsx("h2",{className:"text-2xl font-semibold",children:e("common.comingSoon","Coming Soon")}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:e("partnerEmployeeDashboard.comingSoonMessage","We're working hard to bring you an amazing partner employee experience.")})]})})]}):i.jsx(WI,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:_,isRTL:r,t:e,counts:s.counts,mleadsChartData:l,handleRefresh:y,refreshing:p})}var K_="Popover",[mH,FHe]=ms(K_,[fp]),nx=fp(),[uMe,Gu]=mH(K_),pH=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!1}=e,l=nx(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=cc({prop:n,defaultProp:a??!1,onChange:s,caller:K_});return i.jsx(MT,{...l,children:i.jsx(uMe,{scope:t,contentId:ta(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:r})})};pH.displayName=K_;var gH="PopoverAnchor",dMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Gu(gH,r),s=nx(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Bw,{...s,...n,ref:t})});dMe.displayName=gH;var vH="PopoverTrigger",xH=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Gu(vH,r),s=nx(r),o=$t(t,a.triggerRef),l=i.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":jH(a.open),...n,ref:o,onClick:Ze(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(Bw,{asChild:!0,...s,children:l})});xH.displayName=vH;var iP="PopoverPortal",[fMe,hMe]=mH(iP,{forceMount:void 0}),yH=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Gu(iP,t);return i.jsx(fMe,{scope:t,forceMount:r,children:i.jsx(Ma,{present:r||s.open,children:i.jsx(Uv,{asChild:!0,container:a,children:n})})})};yH.displayName=iP;var Wm="PopoverContent",bH=x.forwardRef((e,t)=>{const r=hMe(Wm,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Gu(Wm,e.__scopePopover);return i.jsx(Ma,{present:n||s.open,children:s.modal?i.jsx(pMe,{...a,ref:t}):i.jsx(gMe,{...a,ref:t})})});bH.displayName=Wm;var mMe=Eu("PopoverContent.RemoveScroll"),pMe=x.forwardRef((e,t)=>{const r=Gu(Wm,e.__scopePopover),n=x.useRef(null),a=$t(t,n),s=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return Uw(o)},[]),i.jsx(zv,{as:mMe,allowPinchZoom:!0,children:i.jsx(wH,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ze(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ze(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ze(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),gMe=x.forwardRef((e,t)=>{const r=Gu(Wm,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return i.jsx(wH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),wH=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Gu(Wm,r),m=nx(r);return Fw(),i.jsx($v,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Lv,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(FT,{"data-state":jH(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_H="PopoverClose",vMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Gu(_H,r);return i.jsx(mt.button,{type:"button",...n,ref:t,onClick:Ze(e.onClick,()=>a.onOpenChange(!1))})});vMe.displayName=_H;var xMe="PopoverArrow",yMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=nx(r);return i.jsx(IT,{...a,...n,ref:t})});yMe.displayName=xMe;function jH(e){return e?"open":"closed"}var bMe=pH,wMe=xH,_Me=yH,SH=bH;const ua=bMe,da=wMe,Yn=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>i.jsx(_Me,{children:i.jsx(SH,{ref:a,align:t,sideOffset:r,className:Ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Yn.displayName=SH.displayName;const jMe={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},SMe=(e,t,r)=>{const n=jMe[e];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+a:" "+a:a},NMe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},kMe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},CMe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EMe={date:Ph({formats:NMe,defaultWidth:"full"}),time:Ph({formats:kMe,defaultWidth:"full"}),dateTime:Ph({formats:CMe,defaultWidth:"full"})},TMe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},AMe=e=>TMe[e],PMe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},OMe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},DMe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},RMe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},MMe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},FMe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},IMe=e=>String(e),LMe={ordinalNumber:IMe,era:Go({values:PMe,defaultWidth:"wide"}),quarter:Go({values:OMe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Go({values:DMe,defaultWidth:"wide"}),day:Go({values:RMe,defaultWidth:"wide"}),dayPeriod:Go({values:MMe,defaultWidth:"wide",formattingValues:FMe,defaultFormattingWidth:"wide"})},$Me=/^(\d+)(th|st|nd|rd)?/i,BMe=/\d+/i,UMe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},zMe={any:[//,//]},VMe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},WMe={any:[/1/i,/2/i,/3/i,/4/i]},HMe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},qMe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},GMe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},KMe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},YMe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},XMe={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},QMe={ordinalNumber:nB({matchPattern:$Me,parsePattern:BMe,valueCallback:e=>parseInt(e,10)}),era:Ko({matchPatterns:UMe,defaultMatchWidth:"wide",parsePatterns:zMe,defaultParseWidth:"any"}),quarter:Ko({matchPatterns:VMe,defaultMatchWidth:"wide",parsePatterns:WMe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ko({matchPatterns:HMe,defaultMatchWidth:"wide",parsePatterns:qMe,defaultParseWidth:"any"}),day:Ko({matchPatterns:GMe,defaultMatchWidth:"wide",parsePatterns:KMe,defaultParseWidth:"any"}),dayPeriod:Ko({matchPatterns:YMe,defaultMatchWidth:"any",parsePatterns:XMe,defaultParseWidth:"any"})},JMe={code:"ar",formatDistance:SMe,formatLong:EMe,formatRelative:AMe,localize:LMe,match:QMe,options:{weekStartsOn:6,firstWeekContainsDate:1}};var Nt=function(){return Nt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Nt.apply(this,arguments)};function ZMe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function NH(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function ax(e){return e.mode==="multiple"}function sx(e){return e.mode==="range"}function Y_(e){return e.mode==="single"}var eFe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function tFe(e,t){return ts(e,"LLLL y",t)}function rFe(e,t){return ts(e,"d",t)}function nFe(e,t){return ts(e,"LLLL",t)}function aFe(e){return"".concat(e)}function sFe(e,t){return ts(e,"cccccc",t)}function iFe(e,t){return ts(e,"yyyy",t)}var oFe=Object.freeze({__proto__:null,formatCaption:tFe,formatDay:rFe,formatMonthCaption:nFe,formatWeekNumber:aFe,formatWeekdayName:sFe,formatYearCaption:iFe}),lFe=function(e,t,r){return ts(e,"do MMMM (EEEE)",r)},cFe=function(){return"Month: "},uFe=function(){return"Go to next month"},dFe=function(){return"Go to previous month"},fFe=function(e,t){return ts(e,"cccc",t)},hFe=function(e){return"Week n. ".concat(e)},mFe=function(){return"Year: "},pFe=Object.freeze({__proto__:null,labelDay:lFe,labelMonthDropdown:cFe,labelNext:uFe,labelPrevious:dFe,labelWeekNumber:hFe,labelWeekday:fFe,labelYearDropdown:mFe});function gFe(){var e="buttons",t=eFe,r=pT,n={},a={},s=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:oFe,labels:pFe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:o,today:l,mode:"default"}}function vFe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,o=e.toDate;return n?s=Es(n):t&&(s=new Date(t,0,1)),a?o=Ow(a):r&&(o=new Date(r,11,31)),{fromDate:s?um(s):void 0,toDate:o?um(o):void 0}}var kH=x.createContext(void 0);function xFe(e){var t,r=e.initialProps,n=gFe(),a=vFe(r),s=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!o)&&(l="buttons");var c;(Y_(r)||ax(r)||sx(r))&&(c=r.onSelect);var u=Nt(Nt(Nt({},n),r),{captionLayout:l,classNames:Nt(Nt({},n.classNames),r.classNames),components:Nt({},r.components),formatters:Nt(Nt({},n.formatters),r.formatters),fromDate:s,labels:Nt(Nt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Nt(Nt({},n.modifiers),r.modifiers),modifiersClassNames:Nt(Nt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Nt(Nt({},n.styles),r.styles),toDate:o});return i.jsx(kH.Provider,{value:u,children:e.children})}function Ar(){var e=x.useContext(kH);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function CH(e){var t=Ar(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function yFe(e){return i.jsx("svg",Nt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function EH(e){var t,r,n=e.onChange,a=e.value,s=e.children,o=e.caption,l=e.className,c=e.style,u=Ar(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:yFe;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function bFe(e){var t,r=Ar(),n=r.fromDate,a=r.toDate,s=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});var f=[];if(Mne(n,a))for(var h=Es(n),m=n.getMonth();m<=a.getMonth();m++)f.push(cS(h,m));else for(var h=Es(new Date),m=0;m<=11;m++)f.push(cS(h,m));var g=function(v){var y=Number(v.target.value),b=cS(Es(e.displayMonth),y);e.onChange(b)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:EH;return i.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return i.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function wFe(e){var t,r=e.displayMonth,n=Ar(),a=n.fromDate,s=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});for(var m=a.getFullYear(),g=s.getFullYear(),p=m;p<=g;p++)h.push(tR(tB(new Date),p));var v=function(b){var w=tR(Es(r),Number(b.target.value));e.onChange(w)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:EH;return i.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(b){return i.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function _Fe(e,t){var r=x.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function jFe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&fm(s,a)<0){var u=-1*(c-1);a=bo(s,u)}return o&&fm(a,o)<0&&(a=o),Es(a)}function SFe(){var e=Ar(),t=jFe(e),r=_Fe(t,e.month),n=r[0],a=r[1],s=function(o){var l;if(!e.disableNavigation){var c=Es(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function NFe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Es(e),s=Es(bo(a,n)),o=fm(s,a),l=[],c=0;c<o;c++){var u=bo(a,c);l.push(u)}return r&&(l=l.reverse()),l}function kFe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=Es(e);if(!r)return bo(l,o);var c=fm(r,e);if(!(c<s))return bo(l,o)}}function CFe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=Es(e);if(!r)return bo(l,-o);var c=fm(l,r);if(!(c<=0))return bo(l,-o)}}var TH=x.createContext(void 0);function EFe(e){var t=Ar(),r=SFe(),n=r[0],a=r[1],s=NFe(n,t),o=kFe(n,t),l=CFe(n,t),c=function(f){return s.some(function(h){return gT(f,h)})},u=function(f,h){c(f)||(h&&lB(f,h)?a(bo(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(TH.Provider,{value:d,children:e.children})}function ix(){var e=x.useContext(TH);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function HI(e){var t,r=Ar(),n=r.classNames,a=r.styles,s=r.components,o=ix().goToMonth,l=function(d){o(bo(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:CH,u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(bFe,{onChange:l,displayMonth:e.displayMonth}),i.jsx(wFe,{onChange:l,displayMonth:e.displayMonth})]})}function TFe(e){return i.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function AFe(e){return i.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var zb=x.forwardRef(function(e,t){var r=Ar(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var o=s.join(" "),l=Nt(Nt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),i.jsx("button",Nt({},e,{ref:t,type:"button",className:o,style:l}))});function PFe(e){var t,r,n=Ar(),a=n.dir,s=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var h=u(e.previousMonth,{locale:s}),m=[o.nav_button,o.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:s}),p=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:AFe,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:TFe;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(zb,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?i.jsx(v,{className:o.nav_icon,style:l.nav_icon}):i.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(zb,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?i.jsx(y,{className:o.nav_icon,style:l.nav_icon}):i.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function qI(e){var t=Ar().numberOfMonths,r=ix(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return gT(e.displayMonth,g)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},m=function(){a&&s(a)};return i.jsx(PFe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function OFe(e){var t,r=Ar(),n=r.classNames,a=r.disableNavigation,s=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:CH,u;return a?u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=i.jsx(HI,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(HI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(qI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(qI,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:s.caption,children:u})}function DFe(e){var t=Ar(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?i.jsx("tfoot",{className:a,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function RFe(e,t,r){for(var n=r?Kd(new Date):ul(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var o=Va(n,s);a.push(o)}return a}function MFe(){var e=Ar(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=RFe(a,s,o);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function FFe(){var e,t=Ar(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:MFe;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(s,{})})}function IFe(e){var t=Ar(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var oP=x.createContext(void 0);function LFe(e){if(!ax(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(oP.Provider,{value:t,children:e.children})}return i.jsx($Fe,{initialProps:e.initialProps,children:e.children})}function $Fe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!p){var v=n?NH([],n):[];if(d.selected){var y=v.findIndex(function(b){return js(u,b)});v.splice(y,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return js(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx(oP.Provider,{value:c,children:r})}function lP(){var e=x.useContext(oP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function BFe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?js(a,e)&&js(n,e)?void 0:js(a,e)?{from:a,to:void 0}:js(n,e)?void 0:B2(n,e)?{from:e,to:a}:{from:n,to:e}:a?B2(e,a)?{from:a,to:e}:{from:e,to:a}:n?lB(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var cP=x.createContext(void 0);function UFe(e){if(!sx(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(cP.Provider,{value:t,children:e.children})}return i.jsx(zFe,{initialProps:e.initialProps,children:e.children})}function zFe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,o=a.to,l=t.min,c=t.max,u=function(m,g,p){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var b=BFe(m,n);(y=t.onSelect)===null||y===void 0||y.call(t,b,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],js(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),l&&(s&&!o&&d.disabled.push({after:lS(s,l-1),before:Va(s,l-1)}),s&&o&&d.disabled.push({after:s,before:Va(s,l-1)}),!s&&o&&d.disabled.push({after:lS(o,l-1),before:Va(o,l-1)})),c){if(s&&!o&&(d.disabled.push({before:Va(s,-c+1)}),d.disabled.push({after:Va(s,c-1)})),s&&o){var f=Zo(o,s)+1,h=c-f;d.disabled.push({before:lS(s,h)}),d.disabled.push({after:Va(o,h)})}!s&&o&&(d.disabled.push({before:Va(o,-c+1)}),d.disabled.push({after:Va(o,c-1)}))}return i.jsx(cP.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function uP(){var e=x.useContext(cP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Gy(e){return Array.isArray(e)?NH([],e):e!==void 0?[e]:[]}function VFe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Gy(a)}),t}var ko;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ko||(ko={}));var WFe=ko.Selected,Ol=ko.Disabled,HFe=ko.Hidden,qFe=ko.Today,rN=ko.RangeEnd,nN=ko.RangeMiddle,aN=ko.RangeStart,GFe=ko.Outside;function KFe(e,t,r){var n,a=(n={},n[WFe]=Gy(e.selected),n[Ol]=Gy(e.disabled),n[HFe]=Gy(e.hidden),n[qFe]=[e.today],n[rN]=[],n[nN]=[],n[aN]=[],n[GFe]=[],n);return e.fromDate&&a[Ol].push({before:e.fromDate}),e.toDate&&a[Ol].push({after:e.toDate}),ax(e)?a[Ol]=a[Ol].concat(t.modifiers[Ol]):sx(e)&&(a[Ol]=a[Ol].concat(r.modifiers[Ol]),a[aN]=r.modifiers[aN],a[nN]=r.modifiers[nN],a[rN]=r.modifiers[rN]),a}var AH=x.createContext(void 0);function YFe(e){var t=Ar(),r=lP(),n=uP(),a=KFe(t,r,n),s=VFe(t.modifiers),o=Nt(Nt({},a),s);return i.jsx(AH.Provider,{value:o,children:e.children})}function PH(){var e=x.useContext(AH);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function XFe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function QFe(e){return!!(e&&typeof e=="object"&&"from"in e)}function JFe(e){return!!(e&&typeof e=="object"&&"after"in e)}function ZFe(e){return!!(e&&typeof e=="object"&&"before"in e)}function e3e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function t3e(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=Zo(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var o=Zo(e,n)>=0&&Zo(a,e)>=0;return o}return a?js(a,e):n?js(n,e):!1}function r3e(e){return hT(e)}function n3e(e){return Array.isArray(e)&&e.every(hT)}function a3e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(r3e(r))return js(e,r);if(n3e(r))return r.includes(e);if(QFe(r))return t3e(e,r);if(e3e(r))return r.dayOfWeek.includes(e.getDay());if(XFe(r)){var n=Zo(r.before,e),a=Zo(r.after,e),s=n>0,o=a<0,l=B2(r.before,r.after);return l?o&&s:s||o}return JFe(r)?Zo(e,r.after)>0:ZFe(r)?Zo(r.before,e)>0:typeof r=="function"?r(e):!1})}function dP(e,t,r){var n=Object.keys(t).reduce(function(s,o){var l=t[o];return a3e(e,l)&&s.push(o),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!gT(e,r)&&(a.outside=!0),a}function s3e(e,t){for(var r=Es(e[0]),n=Ow(e[e.length-1]),a,s,o=r;o<=n;){var l=dP(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Va(o,1);continue}if(l.selected)return o;l.today&&!s&&(s=o),a||(a=o),o=Va(o,1)}return s||a}var i3e=365;function OH(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Va,week:$2,month:bo,year:jre,startOfWeek:function(v){return a.ISOWeek?Kd(v):ul(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?rB(v):mT(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Sre([u,m]):n==="after"&&d&&(m=Nre([d,m]));var g=!0;if(s){var p=dP(m,s);g=!p.disabled&&!p.hidden}return g?m:l.count>i3e?l.lastFocused:OH(m,{moveBy:r,direction:n,context:a,modifiers:s,retry:Nt(Nt({},l),{count:l.count+1})})}var DH=x.createContext(void 0);function o3e(e){var t=ix(),r=PH(),n=x.useState(),a=n[0],s=n[1],o=x.useState(),l=o[0],c=o[1],u=s3e(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(v){s(v)},m=Ar(),g=function(v,y){if(a){var b=OH(a,{moveBy:v,direction:y,context:m,modifiers:r});js(a,b)||(t.goToDate(b,a),h(b))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return i.jsx(DH.Provider,{value:p,children:e.children})}function fP(){var e=x.useContext(DH);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function l3e(e,t){var r=PH(),n=dP(e,r,t);return n}var hP=x.createContext(void 0);function c3e(e){if(!Y_(e.initialProps)){var t={selected:void 0};return i.jsx(hP.Provider,{value:t,children:e.children})}return i.jsx(u3e,{initialProps:e.initialProps,children:e.children})}function u3e(e){var t=e.initialProps,r=e.children,n=function(s,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,o,l)},a={selected:t.selected,onDayClick:n};return i.jsx(hP.Provider,{value:a,children:r})}function RH(){var e=x.useContext(hP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function d3e(e,t){var r=Ar(),n=RH(),a=lP(),s=uP(),o=fP(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,v=o.focusYearAfter,y=o.focusStartOfWeek,b=o.focusEndOfWeek,w=function(P){var M,L,q,Z;Y_(r)?(M=n.onDayClick)===null||M===void 0||M.call(n,e,t,P):ax(r)?(L=a.onDayClick)===null||L===void 0||L.call(a,e,t,P):sx(r)?(q=s.onDayClick)===null||q===void 0||q.call(s,e,t,P):(Z=r.onDayClick)===null||Z===void 0||Z.call(r,e,t,P)},j=function(P){var M;h(e),(M=r.onDayFocus)===null||M===void 0||M.call(r,e,t,P)},_=function(P){var M;f(),(M=r.onDayBlur)===null||M===void 0||M.call(r,e,t,P)},S=function(P){var M;(M=r.onDayMouseEnter)===null||M===void 0||M.call(r,e,t,P)},N=function(P){var M;(M=r.onDayMouseLeave)===null||M===void 0||M.call(r,e,t,P)},C=function(P){var M;(M=r.onDayPointerEnter)===null||M===void 0||M.call(r,e,t,P)},k=function(P){var M;(M=r.onDayPointerLeave)===null||M===void 0||M.call(r,e,t,P)},E=function(P){var M;(M=r.onDayTouchCancel)===null||M===void 0||M.call(r,e,t,P)},O=function(P){var M;(M=r.onDayTouchEnd)===null||M===void 0||M.call(r,e,t,P)},T=function(P){var M;(M=r.onDayTouchMove)===null||M===void 0||M.call(r,e,t,P)},U=function(P){var M;(M=r.onDayTouchStart)===null||M===void 0||M.call(r,e,t,P)},W=function(P){var M;(M=r.onDayKeyUp)===null||M===void 0||M.call(r,e,t,P)},R=function(P){var M;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),u();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),d();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?p():m();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?v():g();break;case"Home":P.preventDefault(),P.stopPropagation(),y();break;case"End":P.preventDefault(),P.stopPropagation(),b();break}(M=r.onDayKeyDown)===null||M===void 0||M.call(r,e,t,P)},z={onClick:w,onFocus:j,onBlur:_,onKeyDown:R,onKeyUp:W,onMouseEnter:S,onMouseLeave:N,onPointerEnter:C,onPointerLeave:k,onTouchCancel:E,onTouchEnd:O,onTouchMove:T,onTouchStart:U};return z}function f3e(){var e=Ar(),t=RH(),r=lP(),n=uP(),a=Y_(e)?t.selected:ax(e)?r.selected:sx(e)?n.selected:void 0;return a}function h3e(e){return Object.values(ko).includes(e)}function m3e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(h3e(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function p3e(e,t){var r=Nt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Nt(Nt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function g3e(e,t,r){var n,a,s,o=Ar(),l=fP(),c=l3e(e,t),u=d3e(e,c),d=f3e(),f=!!(o.onDayClick||o.mode!=="default");x.useEffect(function(){var S;c.outside||l.focusedDay&&f&&js(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,f,c.outside]);var h=m3e(o,c).join(" "),m=p3e(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(s=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:IFe,v=i.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:h,children:v,role:"gridcell"},b=l.focusTarget&&js(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&js(l.focusedDay,e),j=Nt(Nt(Nt({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||b?0:-1,n)),u),_={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:y};return _}function v3e(e){var t=x.useRef(null),r=g3e(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(zb,Nt({name:"day",ref:t},r.buttonProps)):i.jsx("div",Nt({},r.divProps))}function x3e(e){var t=e.number,r=e.dates,n=Ar(),a=n.onWeekNumberClick,s=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return i.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return i.jsx(zb,{name:"week-number","aria-label":f,className:o.weeknumber,style:s.weeknumber,onClick:h,children:d})}function y3e(e){var t,r,n=Ar(),a=n.styles,s=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:v3e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:x3e,d;return o&&(d=i.jsx("td",{className:s.cell,style:a.cell,children:i.jsx(u,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return i.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:f})},One(f))})]})}function GI(e,t,r){for(var n=r!=null&&r.ISOWeek?rB(t):mT(t,r),a=r!=null&&r.ISOWeek?Kd(e):ul(e,r),s=Zo(n,a),o=[],l=0;l<=s;l++)o.push(Va(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?aB(d):iB(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function b3e(e,t){var r=GI(Es(e),Ow(e),t);if(t!=null&&t.useFixedWeeks){var n=Rne(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],o=$2(s,6-n),l=GI($2(s,1),o,t);r.push.apply(r,l)}}return r}function w3e(e){var t,r,n,a=Ar(),s=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,g=b3e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:FFe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:y3e,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:DFe;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(p,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(b){return i.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),i.jsx(y,{displayMonth:e.displayMonth})]})}function _3e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var j3e=_3e()?x.useLayoutEffect:x.useEffect,sN=!1,S3e=0;function KI(){return"react-day-picker-".concat(++S3e)}function N3e(e){var t,r=e??(sN?KI():null),n=x.useState(r),a=n[0],s=n[1];return j3e(function(){a===null&&s(KI())},[]),x.useEffect(function(){sN===!1&&(sN=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function k3e(e){var t,r,n=Ar(),a=n.dir,s=n.classNames,o=n.styles,l=n.components,c=ix().displayMonths,u=N3e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=o.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(s.caption_start),h=Nt(Nt({},h),o.caption_start)),g&&(f.push(s.caption_end),h=Nt(Nt({},h),o.caption_end)),p&&(f.push(s.caption_between),h=Nt(Nt({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:OFe;return i.jsxs("div",{className:f.join(" "),style:h,children:[i.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(w3e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function C3e(e){var t=Ar(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function E3e(e){var t,r,n=e.initialProps,a=Ar(),s=fP(),o=ix(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Nt(Nt({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return Nt(Nt({},g),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:C3e;return i.jsx("div",Nt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:i.jsx(m,{children:o.displayMonths.map(function(g,p){return i.jsx(k3e,{displayIndex:p,displayMonth:g},p)})})}))}function T3e(e){var t=e.children,r=ZMe(e,["children"]);return i.jsx(xFe,{initialProps:r,children:i.jsx(EFe,{children:i.jsx(c3e,{initialProps:r,children:i.jsx(LFe,{initialProps:r,children:i.jsx(UFe,{initialProps:r,children:i.jsx(YFe,{children:i.jsx(o3e,{children:t})})})})})})})}function A3e(e){return i.jsx(T3e,Nt({},e,{children:i.jsx(E3e,{initialProps:e})}))}function MH({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(A3e,{showOutsideDays:r,className:Ce("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ce(pm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ce(pm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>i.jsx(nae,{className:"h-4 w-4"}),IconRight:({...a})=>i.jsx(Dw,{className:"h-4 w-4"})},...n})}MH.displayName="Calendar";function mP({onSearch:e,onFilterStatus:t,onFilterAssignee:r,onFilterDateRange:n,users:a=[],statuses:s=[],placeholder:o,className:l}){const{t:c}=At(),{currentLanguage:u}=ir(),[d,f]=x.useState(""),[h,m]=x.useState({from:void 0,to:void 0}),g=u==="ar"?JMe:void 0;x.useEffect(()=>{const y=setTimeout(()=>{e(d)},300);return()=>clearTimeout(y)},[d,e]);const p=y=>{m(y),n&&n(y)},v=()=>{f(""),m({from:void 0,to:void 0}),t&&t("all"),r&&r("all"),n&&n({from:void 0,to:void 0})};return i.jsxs("div",{className:Ce("flex flex-col sm:flex-row gap-3 mb-6",l),children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(hs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),i.jsx(Ue,{placeholder:o||c("common.search","Search..."),value:d,onChange:y=>f(y.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),i.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[t&&s.length>0&&i.jsxs(ft,{onValueChange:t,children:[i.jsxs(ut,{className:"w-[140px]",children:[i.jsx(uae,{className:"mr-2 h-4 w-4"}),i.jsx(ht,{placeholder:c("common.status","Status")})]}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:c("common.all","All")}),s.map(y=>i.jsx(ke,{value:y.value,children:y.label},y.value))]})]}),r&&a.length>0&&i.jsxs(ft,{onValueChange:r,children:[i.jsxs(ut,{className:"w-[140px]",children:[i.jsx(P3e,{className:"mr-2 h-4 w-4"}),i.jsx(ht,{placeholder:c("common.assignee","Assignee")})]}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:c("common.all","All")}),a.filter(y=>["employee","admin","manager","team_leader"].includes(y.user_role)).map(y=>i.jsx(ke,{value:y.user_id.toString(),children:Oe(y,"user_name")},y.user_id))]})]}),n&&i.jsxs(ua,{children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",className:Ce("w-[240px] justify-start text-left font-normal",!h.from&&"text-muted-foreground"),children:[i.jsx(Oi,{className:"mr-2 h-4 w-4"}),h.from?h.to?i.jsxs(i.Fragment,{children:[ts(h.from,"LLL dd, y",{locale:g})," -"," ",ts(h.to,"LLL dd, y",{locale:g})]}):ts(h.from,"LLL dd, y",{locale:g}):i.jsx("span",{children:c("common.pickDate","Pick a date")})]})}),i.jsx(Yn,{className:"w-auto p-0",align:"start",children:i.jsx(MH,{initialFocus:!0,mode:"range",defaultMonth:h.from,selected:h,onSelect:p,numberOfMonths:2})})]}),i.jsx(de,{variant:"ghost",size:"icon",onClick:v,title:c("common.clearFilters","Clear filters"),children:i.jsx(Ri,{className:"h-4 w-4"})})]})]})}function P3e(e){return i.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}const Ca={async getAll(){try{console.log("[stageService] Fetching all stages...");const e=await X.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const e=await X.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} global stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const t=await X.stages.list({exact_filters:{stage_type:e},sort_by:"stager_order_index",sort_order:"asc"});return console.log(`[stageService] Successfully fetched ${t.data.length} ${e} stages`),t.data}catch(t){throw console.error(`[stageService] Failed to fetch ${e} stages: `,t),t}},async create(e){try{const t=await this.getAll(),r=t.length>0?Math.max(...t.map(o=>o.stager_order_index||0)):-1,n=e.stager_order_index??r+1,a={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:n,color:e.color,color_var:e.color_var};return await X.stages.create(a)}catch(t){throw console.error("[stageService] Failed to create stage:",t),t}},async update(e,t){try{const r=sc(t,{stage_name:"stage_name"});await X.stages.update(e,r)}catch(r){throw console.error("[stageService] Failed to update stage:",r),r}},async delete(e){try{await X.stages.delete(e)}catch(t){throw console.error("[stageService] Failed to delete stage:",t),t}}},yn={async getAll(){try{console.log("[userService] Fetching all users...");const e=await X.Users.list();return console.log(`[userService] Successfully fetched ${e.data.length} users`),e.data}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getCount(){return X.count("Users")},async getById(e){try{const t=await X.Users.list({exact_filters:{userid:e},pageSize:1});return t.data&&t.data.length>0?t.data[0]:null}catch(t){return console.error("[userService] Failed to fetch user:",t),null}},async getByAuthId(e){try{return(await X.Users.list({exact_filters:{userid:e}})).data[0]||null}catch(t){return console.error("[userService] Failed to fetch user by auth ID:",t),null}},async update(e,t){try{const r={};t.name!==void 0&&(r.name=t.name),t.Email!==void 0&&(r.Email=t.Email),t.permissions!==void 0&&(r.permissions=t.permissions),t.mobile!==void 0&&(r.mobile=t.mobile),t.IsActive!==void 0&&(r.IsActive=t.IsActive),t.Employee!==void 0&&(r.Employee=t.Employee),await X.Users.update(e,r),console.log(`[userService] Successfully updated user ${e} `)}catch(r){throw console.error("[userService] Failed to update user:",r),r}}},FH={async getAll(){try{console.log("[clientService] Fetching all clients...");const e=await X.Users.list({exact_filters:{user_role:"client"}});return console.log(`[clientService] Successfully fetched ${e.data.length} clients`),e.data}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getCount(){return X.count("Users")},async getById(e){try{const t=await X.Users.list({exact_filters:{userid:e},pageSize:1});if(t.data&&t.data.length>0){const r=t.data[0];if(r.user_role==="client")return r}return null}catch(t){return console.error("[clientService] Failed to fetch client:",t),null}},async create(e){try{const t={name:e.name,Email:e.Email,mobile:e.mobile,IsActive:1,Employee:0,Owner:0,permissions:e.permissions||0};return await X.Users.create(t)}catch(t){throw console.error("[clientService] Failed to create client:",t),t}}},ld={async getAll(){try{console.log("[projectService] Fetching all projects...");const e=await X.projects.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[projectService] Successfully fetched ${e.data.length} projects`),e.data}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getCount(){return X.count("projects")},async getById(e){try{return await X.projects.get(e)}catch(t){return console.error("[projectService] Failed to fetch project:",t),null}},async create(e){try{return await X.projects.create({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date})}catch(t){throw console.error("[projectService] Failed to create project:",t),t}},async update(e,t){try{const r={};t.project_name&&(r.project_name=t.project_name),t.project_description!==void 0&&(r.project_description=t.project_description),t.progress!==void 0&&(r.progress=t.progress),t.stage!==void 0&&(r.stage=t.stage),t.end_date!==void 0&&(r.end_date=t.end_date),await X.projects.update(e,r)}catch(r){throw console.error("[projectService] Failed to update project:",r),r}},async delete(e){try{await X.projects.delete(e)}catch(t){throw console.error("[projectService] Failed to delete project:",t),t}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const r=(await X.projectUsers.list({exact_filters:{userid:e}})).data.map(a=>a.project_id);if(r.length===0)return[];const n=await Promise.all(r.map(a=>X.projects.get(a)));return console.log(`[projectService] Successfully fetched ${n.length} projects for user`),n.filter(a=>a!==null)}catch(t){throw console.error("[projectService] Failed to fetch projects for user:",t),t}}},yd={async getAll(){try{console.log("[taskService] Fetching all tasks...");const e=await X.tasks.list();return console.log(`[taskService] Successfully fetched ${e.data.length} tasks`),e.data}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getCount(e={}){return X.count("tasks",e)},async getByStage(e){try{return(await X.tasks.getByStage(e)).data}catch(t){throw console.error("[taskService] Failed to fetch tasks:",t),t}},async create(e){try{const t=sc({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,userid:e.userid},{task_name:"task_name",description:"description"});return await X.tasks.create(t)}catch(t){throw console.error("[taskService] Failed to create task:",t),t}},async update(e,t){try{const r=sc(t,{task_name:"task_name",description:"description"});await X.tasks.update(e,r)}catch(r){throw console.error("[taskService] Failed to update task:",r),r}},async delete(e){try{await X.tasks.delete(e)}catch(t){throw console.error("[taskService] Failed to delete task:",t),t}}},MC={async getByTask(e){try{return(await X.comments.list({exact_filters:{task_id:e},sort_by:"created_date",sort_order:"asc"})).data}catch(t){throw console.error("[commentService] Failed to fetch comments:",t),t}},async create(e){try{return await X.comments.create({task_id:e.task_id,userid:e.userid,message:e.message})}catch(t){throw console.error("[commentService] Failed to create comment:",t),t}}},Ji={async getUserRooms(e){try{const r=(await X.roomMembers.list({exact_filters:{userid:e}})).data;if(!r||r.length===0)return[];const n=r.map(o=>o.room_id);return(await X.rooms.list({advanced_filters:[{column:"room_id",filter_type:"in",value:n}]})).data}catch(t){throw console.error("[roomService] Failed to get user rooms:",t),t}},async createRoom(e){let t=e.created_by;if(!t||t===0){const n=await yn.getByAuthId(e.userid);n&&(t=n.userid)}return await X.rooms.create({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:t,userid:e.userid})},async addMember(e,t){await X.roomMembers.create({room_id:e,userid:t})},async getRoomMembers(e){const t=await X.roomMembers.getByRoom(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(n=>n.userid).filter(Boolean);if(r.length===0)return[];try{return(await X.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:r}]})).data||[]}catch(n){return console.warn("[roomService] Batch user fetch failed, falling back to individual calls:",n),(await Promise.all(t.data.map(async s=>await yn.getByAuthId(s.userid)))).filter(Boolean)}},async markAsRead(e,t){try{const r=await X.roomMembers.list({exact_filters:{room_id:e,userid:t}});if(r.data.length>0){const n=r.data[0].id;n&&await X.roomMembers.update(n,{last_read_at:new Date().toISOString()})}}catch(r){console.error("[roomService] Failed to mark room as read:",r)}}},O3e={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const t=await X.projectUsers.getByProject(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(a=>a.user_id);return(await Promise.all(r.map(a=>yn.getById(a)))).filter(Boolean)}catch(t){throw console.error("[projectUserService] Failed to fetch project users:",t),t}},async addUserToProject(e,t){try{console.log("[projectUserService] Adding user",t,"to project",e),await X.projectUsers.create({project_id:e,user_id:t}),console.log("[projectUserService] Successfully added user to project")}catch(r){throw console.error("[projectUserService] Failed to add user to project:",r),r}},async removeUserFromProject(e,t){try{console.log("[projectUserService] Removing user",t,"from project",e);const r=await X.projectUsers.list({exact_filters:{project_id:e,user_id:t}});if(r.data.length>0){const n=r.data[0].id;n&&await X.projectUsers.delete(n)}console.log("[projectUserService] Successfully removed user from project")}catch(r){throw console.error("[projectUserService] Failed to remove user from project:",r),r}}},Gf={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await X.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const e=await this.getAll();if(!e||e.length===0)return[];const n=((await X.teamMembers.list()).data||[]).reduce((s,o)=>(s[o.team_id]||(s[o.team_id]=[]),s[o.team_id].push({userid:o.userid,joined_at:o.joined_at||o.created_at}),s),{});return e.map(s=>({...s,team_members:n[s.team_id]||[]}))}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const t=(await X.teamMembers.list()).data,r={};return(t||[]).forEach(n=>{const a={userid:n.user_id,name:n.Users_name||n.user_name||"Unknown User",Email:n.Users_Email||n.user_email,mobile:n.Users_mobile||n.user_mobile,IsActive:n.Users_IsActive,isAdmin:n.Users_isAdmin};r[n.team_id]||(r[n.team_id]=[]),r[n.team_id].push(a)}),r}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{return await X.teams.get(e)}catch(t){return console.error("[teamService] Failed to fetch team:",t),null}},async create(e){try{return await X.teams.create(e)}catch(t){throw console.error("[teamService] Failed to create team:",t),t}},async update(e,t){try{const r=sc(t,{team_name:"team_name"});await X.teams.update(e,r)}catch(r){throw console.error("[teamService] Failed to update team:",r),r}},async delete(e){try{await X.teams.delete(e)}catch(t){throw console.error("[teamService] Failed to delete team:",t),t}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const r=(await X.teamMembers.getByTeam(e)).data;if(!r||r.length===0)return[];const n=r.map(s=>s.userid);return(await Promise.all(n.map(s=>yn.getByAuthId(s)))).filter(Boolean)}catch(t){throw console.error("[teamService] Failed to fetch team members:",t),t}},async addMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Adding member",r,"to team",e),await X.teamMembers.create({team_id:e,user_id:r}),console.log("[teamService] Successfully added member to team")}catch(r){throw console.error("[teamService] Failed to add member to team:",r),r}},async removeMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Removing member",r,"from team",e);const n=await X.teamMembers.list({exact_filters:{team_id:e,user_id:r}});if(console.log("[teamService] Found records for deletion:",n.data.length,n.data),n.data.length>0){const a=n.data[0],s=(a==null?void 0:a.team_mem_id)??(a==null?void 0:a.id)??(a==null?void 0:a.team_members_id)??(a==null?void 0:a.team_membersId)??(a==null?void 0:a.team_id);if(!s)throw new Error("Unable to determine team member identifier for deletion");console.log("[teamService] Deleting team member record with ID:",s),await X.teamMembers.delete(s)}else console.warn("[teamService] No team member record found for team_id:",e,"user_id:",r);console.log("[teamService] Successfully removed member from team")}catch(r){throw console.error("[teamService] Failed to remove member from team:",r),r}}},a0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const e=await X.tickets.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[ticketService] Successfully fetched ${e.data.length} tickets`),e.data}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{return await X.tickets.get(e)}catch(t){return console.error("[ticketService] Failed to fetch ticket:",t),null}},async create(e){try{return await X.tickets.create({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id})}catch(t){throw console.error("[ticketService] Failed to create ticket:",t),t}},async update(e,t){try{const r={};t.created_by!==void 0&&(r.created_by=t.created_by),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.subject!==void 0&&(r.subject=t.subject),t.description!==void 0&&(r.description=t.description),t.priority!==void 0&&(r.priority=t.priority),t.ticket_type!==void 0&&(r.ticket_type=t.ticket_type),t.stage_id!==void 0&&(r.stage_id=t.stage_id),t.resolved_date!==void 0&&(r.resolved_date=t.resolved_date),t.closed_at!==void 0&&(r.closed_at=t.closed_at),t.closed_by!==void 0&&(r.closed_by=t.closed_by),t.room_id!==void 0&&(r.room_id=t.room_id),t.task_id!==void 0&&(r.task_id=t.task_id),t.status!==void 0&&(r.status=t.status),await X.tickets.update(e,r)}catch(r){throw console.error("[ticketService] Failed to update ticket:",r),r}},async moveToStage(e,t){try{console.log(`[ticketService] Moving ticket ${e} to stage ${t}`),await X.tickets.update(e,{stage_id:t}),console.log("[ticketService] Successfully moved ticket to stage")}catch(r){throw console.error("[ticketService] Failed to move ticket to stage:",r),r}},async delete(e){try{await X.tickets.delete(e)}catch(t){throw console.error("[ticketService] Failed to delete ticket:",t),t}}},Wc={async getByRoom(e,t){try{const r={exact_filters:{room_id:e}};t!=null&&t.limit&&(r.limit=t.limit);const n=await X.messages.list(r);if(!n.data)return[];const a=n.data,s=[...new Set(a.map(u=>u.userid))];let o=[];try{if(s.length===0)return[];o=(await X.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:s}]})).data||[]}catch(u){console.warn("[messageService] Batch user fetch failed, falling back to individual calls:",u),o=await Promise.all(s.map(d=>yn.getByAuthId(d)))}const l=new Map(o.filter(u=>u).map(u=>[u.userid,u]));return a.map(u=>({...u,sender:l.get(u.userid)||null})).reverse()}catch(r){throw console.error("[messageService] Failed to fetch messages:",r),r}},async create(e){try{return await X.messages.create(e)}catch(t){throw console.error("[messageService] Failed to create message:",t),t}},async update(e,t){try{await X.messages.update(e,{content:t,is_edited:!0})}catch(r){throw console.error("[messageService] Failed to update message:",r),r}},async delete(e){try{await X.messages.delete(e)}catch(t){throw console.error("[messageService] Failed to delete message:",t),t}},async uploadAttachment(e){try{throw new Error("File upload not available - Supabase storage removed")}catch(t){throw console.error("[messageService] Failed to upload attachment:",t),t}}},cd={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await X.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getCount(){return X.count("teams")},async getById(e){try{return await X.leads.get(e)}catch(t){return console.error("[leadService] Failed to fetch lead:",t),null}},async create(e){try{return await X.leads.create({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"})}catch(t){throw console.error("[leadService] Failed to create lead:",t),t}},async createMLead(e){try{return await X.mLeads.create(e)}catch(t){throw console.error("[leadService] Failed to create MLead:",t),t}},async update(e,t){try{const r={};t.lead_name&&(r.lead_name=t.lead_name),t.lead_description!==void 0&&(r.lead_description=t.lead_description),t.client_name&&(r.client_name=t.client_name),t.client_user_id&&(r.client_user_id=t.client_user_id),t.stage!==void 0&&(r.stage=t.stage),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.assigned_at!==void 0&&(r.assigned_at=t.assigned_at),t.value!==void 0&&(r.value=t.value),t.currency!==void 0&&(r.currency=t.currency),await X.leads.update(e,r)}catch(r){throw console.error("[leadService] Failed to update lead:",r),r}},async delete(e){try{await X.leads.delete(e)}catch(t){throw console.error("[leadService] Failed to delete lead:",t),t}}},$h={async getByRelated(e,t){try{console.log(`[noteService] Fetching notes for ${e} ${t}...`);const n=(await X.notes.list({exact_filters:{related_to_type:e,related_to_id:t}})).data;if(!n||n.length===0)return[];const a=[...new Set(n.map(l=>l.created_by))],s=await Promise.all(a.map(l=>yn.getById(l))),o=new Map(s.filter(l=>l).map(l=>[l.userid,l]));return n.map(l=>({...l,user:o.get(l.created_by)?{userid:o.get(l.created_by).userid,user_id:o.get(l.created_by).userid,user_name:o.get(l.created_by).name,name:o.get(l.created_by).name,Email:o.get(l.created_by).Email}:void 0}))}catch(r){throw console.error("[noteService] Failed to fetch notes:",r),r}},async create(e){try{const t=await X.notes.create({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by});return console.log("[noteService] Successfully created note"),t}catch(t){throw console.error("[noteService] Failed to create note:",t),t}},async update(e,t){try{await X.notes.update(e,{content:t,updated_at:new Date().toISOString()}),console.log("[noteService] Successfully updated note")}catch(r){throw console.error("[noteService] Failed to update note:",r),r}},async delete(e){try{await X.notes.delete(e),console.log("[noteService] Successfully deleted note")}catch(t){throw console.error("[noteService] Failed to delete note:",t),t}}},Gi={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const e=await X.surveyTemplates.list();return console.log(`[surveyTemplateService] Successfully fetched ${e.data.length} templates`),e.data}catch(e){throw console.error("[surveyTemplateService] Failed to fetch survey templates:",e),e}},async getById(e){try{return await X.surveyTemplates.get(e)}catch(t){return console.error("[surveyTemplateService] Failed to fetch template:",t),null}},async create(e){try{const t=await X.surveyTemplates.create(e);return{...e,template_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),updated_by:null}}catch(t){throw console.error("[surveyTemplateService] Failed to create template:",t),t}},async update(e,t){try{const r={};t.template_name&&(r.template_name=t.template_name),t.template_name_ar&&(r.template_name_ar=t.template_name_ar),t.template_description!==void 0&&(r.template_description=t.template_description),t.template_description_ar!==void 0&&(r.template_description_ar=t.template_description_ar),t.category&&(r.category=t.category),t.is_active!==void 0&&(r.is_active=t.is_active),t.is_default!==void 0&&(r.is_default=t.is_default),await X.surveyTemplates.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update template:",r),r}},async delete(e){try{await X.surveyTemplates.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete template:",t),t}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const r=(await X.surveyTemplateFields.getByTemplate(e)).data;return console.log(`[surveyTemplateService] Successfully fetched ${(r==null?void 0:r.length)||0} fields`),(r||[]).sort((n,a)=>(n.field_order||0)-(a.field_order||0))}catch(t){throw console.error("[surveyTemplateService] Failed to fetch template fields:",t),t}},async createField(e){try{const t={...e,field_options:e.field_options?JSON.stringify(e.field_options):null},r=await X.surveyTemplateFields.create(t);return{...e,field_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyTemplateService] Failed to create field:",t),t}},async updateField(e,t){try{const r={};t.field_order!==void 0&&(r.field_order=t.field_order),t.field_type&&(r.field_type=t.field_type),t.field_label&&(r.field_label=t.field_label),t.field_label_ar&&(r.field_label_ar=t.field_label_ar),t.help_text!==void 0&&(r.help_text=t.help_text),t.help_text_ar!==void 0&&(r.help_text_ar=t.help_text_ar),t.is_required!==void 0&&(r.is_required=t.is_required),t.field_options!==void 0&&(r.field_options=t.field_options?JSON.stringify(t.field_options):null),t.validation_rules!==void 0&&(r.validation_rules=t.validation_rules),t.default_value!==void 0&&(r.default_value=t.default_value),t.conditional_logic!==void 0&&(r.conditional_logic=t.conditional_logic?JSON.stringify(t.conditional_logic):null),await X.surveyTemplateFields.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update field:",r),r}},async deleteField(e){try{await X.surveyTemplateFields.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete field:",t),t}}},Jf={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const e=await X.surveys.list({select_fields:["survey_id","created_at","survey_name","client_name","client_name_ar","client_company","client_contact","client_email","client_address","location_address","location_latitude","location_longitude","location_accuracy","survey_responses","status","created_by","created_by_name","notes","notes_ar","template_id","lead_id","device_info","decision_maker","updated_at","updated_by","reviewed_at","reviewed_by","converted_to_lead_at","completion_time_seconds"],pageSize:1e3});return console.log(`[surveyService] Successfully fetched ${e.data.length} surveys`),e.data}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getCount(){try{console.log("[surveyService] Fetching surveys count...");const t=(await Uo("/api/v1/surveys/list?pageSize=1")).totalRows||0;return console.log(`[surveyService] Successfully fetched surveys count: ${t}`),t}catch(e){return console.error("[surveyService] Failed to fetch surveys count:",e),0}},async getById(e){try{return await X.surveys.get(e)}catch(t){return console.error("[surveyService] Failed to fetch survey:",t),null}},async create(e){try{const t={...e,survey_responses:e.survey_responses?JSON.stringify(e.survey_responses):null},r=await X.surveys.create(t);return{...e,survey_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyService] Failed to create survey:",t),t}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const t=e.map(n=>({...n,survey_responses:n.survey_responses?JSON.stringify(n.survey_responses):null})),r=await Promise.all(t.map(n=>X.surveys.create(n)));return console.log(`[surveyService] Successfully batch created ${r.length} surveys`),r}catch(t){throw console.error("[surveyService] Failed to batch create surveys:",t),t}},async update(e,t){try{const r={};t.template_id!==void 0&&(r.template_id=t.template_id),t.survey_name&&(r.survey_name=t.survey_name),t.survey_description!==void 0&&(r.survey_description=t.survey_description),t.client_name&&(r.client_name=t.client_name),t.client_name_ar&&(r.client_name_ar=t.client_name_ar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.client_email&&(r.client_email=t.client_email),t.client_address&&(r.client_address=t.client_address),t.client_company&&(r.client_company=t.client_company),t.client_company_ar&&(r.client_company_ar=t.client_company_ar),t.survey_responses!==void 0&&(r.survey_responses=t.survey_responses?JSON.stringify(t.survey_responses):null),t.location_latitude!==void 0&&(r.location_latitude=t.location_latitude),t.location_longitude!==void 0&&(r.location_longitude=t.location_longitude),t.location_accuracy!==void 0&&(r.location_accuracy=t.location_accuracy),t.location_address&&(r.location_address=t.location_address),t.status&&(r.status=t.status),t.lead_id!==void 0&&(r.lead_id=t.lead_id),t.converted_to_lead_at!==void 0&&(r.converted_to_lead_at=t.converted_to_lead_at),t.device_info!==void 0&&(r.device_info=t.device_info),t.completion_time_seconds!==void 0&&(r.completion_time_seconds=t.completion_time_seconds),t.notes&&(r.notes=t.notes),t.notes_ar&&(r.notes_ar=t.notes_ar),await X.surveys.update(e,r)}catch(r){throw console.error("[surveyService] Failed to update survey:",r),r}},async delete(e){try{await X.surveys.delete(e)}catch(t){throw console.error("[surveyService] Failed to delete survey:",t),t}}};var IH="AlertDialog",[D3e,IHe]=ms(IH,[l7]),_c=l7(),LH=e=>{const{__scopeAlertDialog:t,...r}=e,n=_c(t);return i.jsx(Jw,{...n,...r,modal:!0})};LH.displayName=IH;var R3e="AlertDialogTrigger",$H=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_c(r);return i.jsx(JT,{...a,...n,ref:t})});$H.displayName=R3e;var M3e="AlertDialogPortal",BH=e=>{const{__scopeAlertDialog:t,...r}=e,n=_c(t);return i.jsx(Zw,{...n,...r})};BH.displayName=M3e;var F3e="AlertDialogOverlay",UH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_c(r);return i.jsx(mp,{...a,...n,ref:t})});UH.displayName=F3e;var Bh="AlertDialogContent",[I3e,L3e]=D3e(Bh),$3e=cse("AlertDialogContent"),zH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=_c(r),o=x.useRef(null),l=$t(t,o),c=x.useRef(null);return i.jsx(xue,{contentName:Bh,titleName:VH,docsSlug:"alert-dialog",children:i.jsx(I3e,{scope:r,cancelRef:c,children:i.jsxs(pp,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:Ze(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx($3e,{children:n}),i.jsx(U3e,{contentRef:o})]})})})});zH.displayName=Bh;var VH="AlertDialogTitle",WH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_c(r);return i.jsx(qv,{...a,...n,ref:t})});WH.displayName=VH;var HH="AlertDialogDescription",qH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_c(r);return i.jsx(Gv,{...a,...n,ref:t})});qH.displayName=HH;var B3e="AlertDialogAction",GH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_c(r);return i.jsx(e_,{...a,...n,ref:t})});GH.displayName=B3e;var KH="AlertDialogCancel",YH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=L3e(KH,r),s=_c(r),o=$t(t,a);return i.jsx(e_,{...s,...n,ref:o})});YH.displayName=KH;var U3e=({contentRef:e})=>{const t=`\`${Bh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bh}\` by passing a \`${HH}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},z3e=LH,V3e=$H,W3e=BH,XH=UH,QH=zH,JH=GH,ZH=YH,eq=WH,tq=qH;const Rs=z3e,ox=V3e,H3e=W3e,rq=x.forwardRef(({className:e,...t},r)=>i.jsx(XH,{className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));rq.displayName=XH.displayName;const ns=x.forwardRef(({className:e,...t},r)=>i.jsxs(H3e,{children:[i.jsx(rq,{}),i.jsx(QH,{ref:r,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));ns.displayName=QH.displayName;const as=({className:e,...t})=>i.jsx("div",{className:Ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});as.displayName="AlertDialogHeader";const ss=({className:e,...t})=>{const{isRTL:r}=ir();return i.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r&&"sm:space-x-reverse",e),...t})};ss.displayName="AlertDialogFooter";const is=x.forwardRef(({className:e,...t},r)=>i.jsx(eq,{ref:r,className:Ce("text-lg font-semibold",e),...t}));is.displayName=eq.displayName;const os=x.forwardRef(({className:e,...t},r)=>i.jsx(tq,{ref:r,className:Ce("text-sm text-muted-foreground",e),...t}));os.displayName=tq.displayName;const ls=x.forwardRef(({className:e,...t},r)=>i.jsx(JH,{ref:r,className:Ce(pm(),e),...t}));ls.displayName=JH.displayName;const cs=x.forwardRef(({className:e,...t},r)=>i.jsx(ZH,{ref:r,className:Ce(pm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));cs.displayName=ZH.displayName;const Dn=x.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:Ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Dn.displayName="Textarea";function X_({stages:e,currentStageId:t,onStageChange:r,children:n}){const a=Ur(),{isRTL:s}=ir(),o=x.useRef(null),l=e.find(c=>c.id===t)??e[0];return x.useEffect(()=>{a&&o.current&&o.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[l==null?void 0:l.id,a]),a?i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:i.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:s?"rtl":"ltr",children:i.jsx("div",{className:"flex gap-2 p-3 min-w-max",children:[...e].sort((c,u)=>c.id-u.id).map(c=>{const u=c.id===l.id;return i.jsxs("button",{ref:u?o:null,onClick:()=>r(c.id),className:Ce("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",u?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[i.jsx("span",{className:"truncate max-w-[140px]",children:c.name}),i.jsx(pt,{variant:"secondary",className:Ce("h-5 min-w-5 px-1.5 text-xs font-semibold",u?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:c.count})]},c.id)})})})}),i.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:i.jsx("div",{className:"p-2",children:n})})]}):i.jsx(i.Fragment,{children:n})}var Q_="Tabs",[q3e,LHe]=ms(Q_,[qw]),nq=qw(),[G3e,pP]=q3e(Q_),aq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Iv(l),[f,h]=cc({prop:n,onChange:a,defaultProp:s??"",caller:Q_});return i.jsx(G3e,{scope:r,baseId:ta(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(mt.div,{dir:d,"data-orientation":o,...u,ref:t})})});aq.displayName=Q_;var sq="TabsList",iq=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=pP(sq,r),o=nq(r);return i.jsx(fU,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(mt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});iq.displayName=sq;var oq="TabsTrigger",lq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=pP(oq,r),l=nq(r),c=dq(o.baseId,n),u=fq(o.baseId,n),d=n===o.value;return i.jsx(hU,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(mt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:Ze(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ze(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ze(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});lq.displayName=oq;var cq="TabsContent",uq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=pP(cq,r),c=dq(l.baseId,n),u=fq(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Ma,{present:a||d,children:({present:h})=>i.jsx(mt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});uq.displayName=cq;function dq(e,t){return`${e}-trigger-${t}`}function fq(e,t){return`${e}-content-${t}`}var K3e=aq,hq=iq,mq=lq,pq=uq;const Co=K3e,Fi=x.forwardRef(({className:e,...t},r)=>i.jsx(hq,{ref:r,className:Ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Fi.displayName=hq.displayName;const Er=x.forwardRef(({className:e,...t},r)=>i.jsx(mq,{ref:r,className:Ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Er.displayName=mq.displayName;const Jr=x.forwardRef(({className:e,...t},r)=>i.jsx(pq,{ref:r,className:Ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Jr.displayName=pq.displayName;function gP({relatedType:e,relatedId:t,notes:r,onNotesChange:n}){const{t:a}=At(),{user:s}=hr(),[o,l]=x.useState(""),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState(null),[g,p]=x.useState(!1),v=async()=>{if(!(!o.trim()||!(s!=null&&s.id))){p(!0);try{await $h.create({content:o.trim(),related_to_type:e,related_to_id:t,created_by:s.id}),l(""),n()}catch(j){console.error("Failed to create note:",j)}finally{p(!1)}}},y=async j=>{if(d.trim()){p(!0);try{await $h.update(j,d.trim()),u(null),f(""),n()}catch(_){console.error("Failed to update note:",_)}finally{p(!1)}}},b=async()=>{if(h){p(!0);try{await $h.delete(h),m(null),n()}catch(j){console.error("Failed to delete note:",j)}finally{p(!1)}}},w=j=>{if(!j)return"";try{return Ane(new Date(j),{addSuffix:!0})}catch{return j}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dn,{value:o,onChange:j=>l(j.target.value),placeholder:a("notes.placeholder"),rows:3,className:"resize-none"}),i.jsxs(de,{onClick:v,disabled:!o.trim()||g,className:"w-full",children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),a("notes.save")]})]}),i.jsx("div",{className:"space-y-3",children:r.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:a("notes.noNotes")}):r.map(j=>{var N;const _=c===j.note_id,S=j.created_by===(s==null?void 0:s.id);return i.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(N=j.user)!=null&&N.avatar?i.jsx("img",{src:j.user.avatar,alt:Oe(j.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-xs font-semibold text-primary",children:j.user?Oe(j.user,"user_name")[0]:"?"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:j.user?Oe(j.user,"user_name"):a("notes.unknown")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:w(j.created_at)})]})]}),S&&!_&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(de,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{u(j.note_id),f(j.content)},children:i.jsx(Di,{className:"h-3.5 w-3.5"})}),i.jsx(de,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>m(j.note_id),children:i.jsx(Zt,{className:"h-3.5 w-3.5"})})]})]}),_?i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dn,{value:d,onChange:C=>f(C.target.value),rows:3,className:"resize-none"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(de,{size:"sm",onClick:()=>y(j.note_id),disabled:!d.trim()||g,children:[i.jsx(wo,{className:"h-3.5 w-3.5 mr-1"}),a("notes.save")]}),i.jsxs(de,{size:"sm",variant:"outline",onClick:()=>{u(null),f("")},children:[i.jsx(Ri,{className:"h-3.5 w-3.5 mr-1"}),a("buttons.cancel")]})]})]}):i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:j.content})]},j.note_id)})}),i.jsx(Rs,{open:!!h,onOpenChange:()=>m(null),children:i.jsxs(ns,{children:[i.jsxs(as,{children:[i.jsx(is,{children:a("notes.delete")}),i.jsx(os,{children:a("notes.deleteConfirmation")})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:a("buttons.cancel")}),i.jsx(ls,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a("buttons.delete")})]})]})})]})}function gq({priority:e=3,size:t="sm",showCount:r=!1,className:n}){const a=e||3,s={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return i.jsxs("div",{className:Ce("flex items-center gap-0.5",n),children:[[1,2,3,4,5].map(o=>i.jsx(yB,{className:Ce(s[t],o<=a?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},o)),r&&i.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",a,"/5)"]})]})}function Y3e({leadId:e}){const{t}=At(),{isRTL:r}=ir(),{user:n}=hr(),[a,s]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(""),[g,p]=x.useState([]),[v,y]=x.useState(!0),[b,w]=x.useState(!1),[j,_]=x.useState([]),[S,N]=x.useState([]),[C,k]=x.useState([]),[E,O]=x.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{U(),T()},[e]);const T=async()=>{try{const q=await yn.getAll().then(Z=>Z.filter(A=>A.user_role==="client"));k(q)}catch(q){console.error("Failed to load clients:",q)}},U=async()=>{var q,Z,A;try{y(!0);const[B,H,V]=await Promise.all([cd.getById(e),Ca.getByType("leads"),yn.getAll()]);if(s(B),_(H),N(V),!B)return;if(O({lead_name:B.lead_name||"",lead_description:B.lead_description||"",client_user_id:B.client_user_id||"",stage:((q=B.stage)==null?void 0:q.toString())||"",assigned_to:B.assigned_to||"",value:((Z=B.value)==null?void 0:Z.toString())||"",currency:B.currency||"SAR",priority:((A=B.priority)==null?void 0:A.toString())||"3",expected_close_date:B.expected_close_date||""}),B.client_user_id){const te=await yn.getByAuthId(B.client_user_id);l(te)}if(B.created_by){const te=V.find(le=>le.auth_user_id===B.created_by)||null;u(te)}if(B.assigned_to){const te=V.find(le=>le.auth_user_id===B.assigned_to)||null;f(te)}if(B.stage){const te=H.find(le=>le.stage_id===B.stage);te&&m(Oe(te,"stage_name"))}W()}catch(B){console.error("Failed to load lead data:",B)}finally{y(!1)}},W=async()=>{try{const q=await $h.getByRelated("lead",e);p(q)}catch(q){console.error("Failed to load notes:",q)}},R=async()=>{if(a)try{const q=E.assigned_to&&E.assigned_to!=="unassigned"?E.assigned_to:null,Z=sc({lead_name:E.lead_name,lead_description:E.lead_description||null,client_user_id:E.client_user_id||null,stage:parseInt(E.stage),assigned_to:q,value:E.value?parseFloat(E.value):null,currency:E.currency,priority:parseInt(E.priority),expected_close_date:E.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await cd.update(a.lead_id,Z);const A={...a,...Z};if(s(A),E.client_user_id){const H=C.find(V=>V.auth_user_id===E.client_user_id)||null;l(H)}if(q){const H=S.find(V=>V.auth_user_id===q)||null;f(H)}const B=j.find(H=>H.stage_id===parseInt(E.stage));B&&m(Oe(B,"stage_name")),w(!1)}catch(q){console.error("Failed to update lead:",q)}},z=()=>{var q,Z,A;a&&O({lead_name:a.lead_name||"",lead_description:a.lead_description||"",client_user_id:a.client_user_id||"",stage:((q=a.stage)==null?void 0:q.toString())||"",assigned_to:a.assigned_to||"",value:((Z=a.value)==null?void 0:Z.toString())||"",currency:a.currency||"SAR",priority:((A=a.priority)==null?void 0:A.toString())||"3",expected_close_date:a.expected_close_date||""}),w(!1)},P=(q,Z)=>{if(q===null)return"-";const A=Z||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:A==="SAR"?"SAR":A}).format(q)},M=q=>q?new Date(q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(v)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!a)return i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t("leads.notFound")});const L=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager";return i.jsxs("div",{className:"w-full",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:t("leads.leadDetails")}),L&&!b&&i.jsxs(de,{onClick:()=>w(!0),variant:"outline",size:"sm",children:[i.jsx(Di,{className:"h-4 w-4 mr-2"}),t("buttons.edit")]}),b&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(de,{onClick:z,variant:"outline",size:"sm",children:[i.jsx(Ri,{className:"h-4 w-4 mr-2"}),t("buttons.cancel")]}),i.jsxs(de,{onClick:R,size:"sm",children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),t("buttons.save")]})]})]}),i.jsxs(Co,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Fi,{className:"grid w-full grid-cols-2",children:[i.jsx(Er,{value:"overview",children:t("common.overview")}),i.jsx(Er,{value:"notes",children:t("notes.title")})]}),i.jsx(Jr,{value:"overview",className:"space-y-4 mt-4",children:b?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"lead_name",children:[t("leads.leadName")," *"]}),i.jsx(Ue,{id:"lead_name",value:E.lead_name,onChange:q=>O(Z=>({...Z,lead_name:q.target.value})),placeholder:t("leads.leadName")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"lead_description",children:t("leads.description")}),i.jsx(Dn,{id:"lead_description",value:E.lead_description,onChange:q=>O(Z=>({...Z,lead_description:q.target.value})),placeholder:t("leads.description"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("leads.client")}),i.jsxs(ft,{value:E.client_user_id,onValueChange:q=>O(Z=>({...Z,client_user_id:q})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:t("leads.selectClient")})}),i.jsx(dt,{children:C.filter(q=>q.auth_user_id).map(q=>i.jsx(ke,{value:q.auth_user_id,children:Oe(q,"user_name")},q.user_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("common.stage")}),i.jsxs(ft,{value:E.stage,onValueChange:q=>O(Z=>({...Z,stage:q})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:t("leads.selectStage")})}),i.jsx(dt,{children:j.map(q=>i.jsx(ke,{value:q.stage_id.toString(),children:Oe(q,"stage_name")},q.stage_id))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("leads.value")}),i.jsx(Ue,{type:"number",min:"0",step:"0.01",value:E.value,onChange:q=>O(Z=>({...Z,value:q.target.value})),placeholder:"0.00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("leads.currency")}),i.jsxs(ft,{value:E.currency,onValueChange:q=>O(Z=>({...Z,currency:q})),children:[i.jsx(ut,{children:i.jsx(ht,{})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"SAR",children:"SAR (.)"}),i.jsx(ke,{value:"USD",children:"USD ($)"}),i.jsx(ke,{value:"EUR",children:"EUR ()"}),i.jsx(ke,{value:"GBP",children:"GBP ()"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("common.priority")}),i.jsxs(ft,{value:E.priority,onValueChange:q=>O(Z=>({...Z,priority:q})),children:[i.jsx(ut,{children:i.jsx(ht,{})}),i.jsxs(dt,{children:[i.jsxs(ke,{value:"1",children:[" ",t("common.veryLow")]}),i.jsxs(ke,{value:"2",children:[" ",t("common.low")]}),i.jsxs(ke,{value:"3",children:[" ",t("common.medium")]}),i.jsxs(ke,{value:"4",children:[" ",t("common.high")]}),i.jsxs(ke,{value:"5",children:[" ",t("common.veryHigh")]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("leads.expectedCloseDate")}),i.jsx(Ue,{type:"date",value:E.expected_close_date,onChange:q=>O(Z=>({...Z,expected_close_date:q.target.value}))})]})]}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:t("leads.assignToEmployee")}),i.jsxs(ft,{value:E.assigned_to,onValueChange:q=>O(Z=>({...Z,assigned_to:q})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:t("leads.selectAssignee")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"unassigned",children:t("common.unassigned")}),S.filter(q=>["employee","admin","manager","team_leader"].includes(q.user_role)&&q.auth_user_id).map(q=>i.jsx(ke,{value:q.auth_user_id,children:Oe(q,"user_name")},q.user_id))]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:Oe(a,"lead_name")}),Oe(a,"lead_description")&&i.jsx("p",{className:"text-muted-foreground mt-1",children:Oe(a,"lead_description")})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(lR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.priority")}),i.jsx(gq,{priority:a.priority,size:"sm"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[i.jsx(F0,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.value")}),i.jsx("p",{className:"text-lg font-semibold",children:P(a.value,a.currency)})]})]}),o&&i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[i.jsx(zn,{className:"h-5 w-5 text-primary mt-0.5"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.client")}),i.jsx("p",{className:"font-medium truncate",children:Oe(o,"user_name")}),o.user_email&&i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:o.user_email})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(lR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.stage")}),i.jsx(pt,{variant:"secondary",children:h||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(On,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.assignedTo")}),i.jsx("p",{className:"font-medium",children:d?Oe(d,"user_name"):t("common.unassigned")})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"p-3 rounded-lg border",children:[i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Oi,{className:"h-3.5 w-3.5"}),t("common.created")]}),i.jsx("p",{className:"text-sm font-medium mt-1",children:M(a.created_date)})]}),c&&i.jsxs("div",{className:"p-3 rounded-lg border",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.createdBy")}),i.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:Oe(c,"user_name")})]})]})]})}),i.jsx(Jr,{value:"notes",className:"mt-4",children:i.jsx(gP,{relatedType:"lead",relatedId:e,notes:g,onNotesChange:W})})]})]})}function lx({title:e,description:t,icon:r,actions:n,stats:a,className:s=""}){At();const o=Ur();return i.jsxs("div",{className:Ce("mb-6",s),children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[r&&i.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof r=="function"?ue.createElement(r):r}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),t&&i.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:t})]})]}),n&&i.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n})]}),a&&a.length>0&&!o&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:a.map((l,c)=>i.jsx(st,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:i.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.icon&&i.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof l.icon=="function"?ue.createElement(l.icon):l.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:l.label}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:l.value}),l.trend&&i.jsxs("span",{className:Ce("text-xs font-medium",l.trend.isPositive?"text-green-600":"text-red-600"),children:[l.trend.isPositive?"+":"",l.trend.value,"%"]})]})]})]})},c))})]})}function vo({icon:e,title:t,description:r,action:n,className:a=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${a}`,children:[e&&i.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?ue.createElement(e):e}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:t}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n]})}const vP=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:Ce("w-full caption-bottom text-sm",e),...t})}));vP.displayName="Table";const xP=x.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:Ce("[&_tr]:border-b",e),...t}));xP.displayName="TableHeader";const yP=x.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:Ce("[&_tr:last-child]:border-0",e),...t}));yP.displayName="TableBody";const X3e=x.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:Ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));X3e.displayName="TableFooter";const hv=x.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:Ce("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));hv.displayName="TableRow";const ao=x.forwardRef(({className:e,...t},r)=>{const{isRTL:n}=ir();return i.jsx("th",{ref:r,className:Ce("h-12 py-4 align-middle font-medium text-muted-foreground",n?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...t})});ao.displayName="TableHead";const so=x.forwardRef(({className:e,...t},r)=>{const{isRTL:n}=ir();return i.jsx("td",{ref:r,className:Ce("py-4 align-middle",n?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...t})});so.displayName="TableCell";const Q3e=x.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:Ce("mt-4 text-sm text-muted-foreground",e),...t}));Q3e.displayName="TableCaption";var J_="Checkbox",[J3e,$He]=ms(J_),[Z3e,bP]=J3e(J_);function eIe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=cc({prop:r,defaultProp:a??!1,onChange:c,caller:J_}),[g,p]=x.useState(null),[v,y]=x.useState(null),b=x.useRef(!1),w=g?!!o||!!g.closest("form"):!0,j={checked:h,disabled:s,setChecked:m,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:_u(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:y};return i.jsx(Z3e,{scope:t,...j,children:tIe(f)?f(j):n})}var vq="CheckboxTrigger",xq=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=bP(vq,e),p=$t(a,d),v=x.useRef(c);return x.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const b=()=>f(v.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[s,f]),i.jsx(mt.button,{type:"button",role:"checkbox","aria-checked":_u(c)?"mixed":c,"aria-required":u,"data-state":jq(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:Ze(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Ze(r,y=>{f(b=>_u(b)?!0:!b),g&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});xq.displayName=vq;var wP=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(eIe,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(xq,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx(_q,{__scopeCheckbox:r})]})})});wP.displayName=J_;var yq="CheckboxIndicator",bq=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=bP(yq,r);return i.jsx(Ma,{present:n||_u(s.checked)||s.checked===!0,children:i.jsx(mt.span,{"data-state":jq(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});bq.displayName=yq;var wq="CheckboxBubbleInput",_q=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=bP(wq,e),g=$t(r,m),p=LT(s),v=OT(n);x.useEffect(()=>{const b=h;if(!b)return;const w=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(w,"checked").set,S=!a.current;if(p!==s&&_){const N=new Event("click",{bubbles:S});b.indeterminate=_u(s),_.call(b,_u(s)?!1:s),b.dispatchEvent(N)}},[h,p,s,a]);const y=x.useRef(_u(s)?!1:s);return i.jsx(mt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_q.displayName=wq;function tIe(e){return typeof e=="function"}function _u(e){return e==="indeterminate"}function jq(e){return _u(e)?"indeterminate":e?"checked":"unchecked"}const Vb=x.forwardRef(({className:e,indeterminate:t,...r},n)=>i.jsx(wP,{ref:n,className:Ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"bg-primary text-primary-foreground",e),...r,children:i.jsx(bq,{className:Ce("flex items-center justify-center text-current"),children:t?i.jsx(vae,{className:"h-4 w-4"}):i.jsx(bT,{className:"h-4 w-4"})})}));Vb.displayName=wP.displayName;function mc({data:e,columns:t,actions:r=[],bulkActions:n=[],keyExtractor:a,onRowClick:s,emptyState:o,mobileCardRender:l,className:c,enableBulkSelect:u=!1,rowHeight:d,selectedItems:f,onSelectionChange:h,loading:m=!1,rtl:g=!1}){const p=Ur(),{t:v}=At(),[y,b]=x.useState(new Set),w=f?new Set(f):y,j=U=>{const W=typeof U=="function"?U(w):U;h?h(Array.from(W)):b(W)};x.useEffect(()=>{const U=new Set(e.map(a));j(W=>{const R=new Set(W);for(const z of W)U.has(z)||R.delete(z);return R})},[e,a]);const _=U=>{const W=new Set(w);W.has(U)?W.delete(U):W.add(U),j(W)},S=()=>{w.size===e.length?j(new Set):j(new Set(e.map(a)))},N=()=>{j(new Set)},C=()=>e.filter(U=>w.has(a(U))),k=U=>{const W=r.filter(R=>!R.show||R.show(U));return W.length===0?null:i.jsxs(GT,{children:[i.jsx(KT,{asChild:!0,onClick:R=>R.stopPropagation(),children:i.jsx(de,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:i.jsx(oae,{className:"h-4 w-4"})})}),i.jsx(Xw,{align:"end",children:W.map((R,z)=>i.jsxs($l,{onClick:P=>{P.stopPropagation(),R.onClick(U)},className:Ce(R.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[R.icon&&i.jsx("span",{className:"mr-2",children:R.icon}),R.label]},z))})]})};if(e.length===0)return o||i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:v("common.noData","No data available")});if(p)return i.jsx("div",{className:Ce("space-y-3 w-full overflow-hidden",c),children:e.map((U,W)=>l?i.jsx("div",{onClick:()=>s==null?void 0:s(U),className:"w-full",children:l(U,k(U))},a(U)):i.jsx(st,{className:Ce("w-full overflow-hidden transition-all",s&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>s==null?void 0:s(U),children:i.jsx(xt,{className:"p-4 w-full",children:i.jsxs("div",{className:"space-y-3 w-full",children:[t.filter(R=>!R.hideOnMobile).map((R,z)=>i.jsxs("div",{className:"flex items-start justify-between gap-2 w-full min-w-0",children:[i.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide flex-shrink-0",children:R.header}),i.jsx("div",{className:"text-sm text-right flex-shrink-0 max-w-[60%]",children:R.render(U,W)})]},R.key)),r.length>0&&i.jsx("div",{className:"pt-2 border-t flex justify-end",children:k(U)})]})})},a(U)))});const E=w.size,O=E===e.length&&e.length>0,T=E>0&&E<e.length;return i.jsxs("div",{className:"space-y-4",children:[u&&E>0&&i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm font-medium",children:[E," ",E===1?v("common.item","item"):v("common.items","items")," ",v("common.selected","selected")]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[n.map((U,W)=>i.jsxs(de,{variant:U.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>U.onClick(C()),className:Ce(U.variant==="destructive"&&"hover:bg-destructive/90"),children:[U.icon&&i.jsx("span",{className:"mr-2",children:U.icon}),U.label]},W)),i.jsx(de,{variant:"ghost",size:"sm",onClick:N,className:"text-muted-foreground hover:text-foreground",children:i.jsx(Ri,{className:"h-4 w-4"})})]})]}),i.jsx(st,{className:Ce("overflow-hidden",c),children:i.jsx(xt,{className:"p-0",children:i.jsxs(vP,{children:[i.jsx(xP,{children:i.jsxs(hv,{className:"bg-muted/50 hover:bg-muted/50 sticky top-0 z-20 shadow-sm",children:[u&&i.jsx(ao,{className:"w-12",children:i.jsx(Vb,{checked:O,indeterminate:T,onCheckedChange:S,"aria-label":v("common.selectAll","Select all")})}),t.map(U=>i.jsx(ao,{className:Ce("font-semibold",U.className),children:U.header},U.key)),r.length>0&&i.jsx(ao,{className:"w-[100px] text-right",children:v("common.actions")})]})}),i.jsx(yP,{children:e.map((U,W)=>{const R=a(U),z=w.has(R);return i.jsxs(hv,{className:Ce("group transition-colors",z&&"bg-primary/5",s&&"cursor-pointer hover:bg-muted/50",d),onClick:()=>s==null?void 0:s(U),children:[u&&i.jsx(so,{onClick:P=>P.stopPropagation(),children:i.jsx(Vb,{checked:z,onCheckedChange:()=>_(R),"aria-label":v("common.selectItem","Select item")})}),t.map(P=>i.jsx(so,{className:Ce(P.className,"overflow-hidden"),children:P.render(U,W)},P.key)),r.length>0&&i.jsx(so,{className:"text-right",children:i.jsx("div",{children:k(U)})})]},R)})})]})})})]})}function Sq({children:e,variant:t="secondary"}){return i.jsx(pt,{variant:t,className:"text-xs font-medium",children:e})}function Hm({name:e,fallback:t="Unassigned"}){return i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(On,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:Ce(!e&&"text-muted-foreground"),children:e||t})]})}function kf({date:e,fallback:t="Not set"}){return e?i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Oi,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{children:new Date(e).toLocaleDateString()})]}):i.jsx("span",{className:"text-muted-foreground",children:t})}function pc({title:e,subtitle:t,icon:r}){return i.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[r&&(typeof r=="function"?ue.createElement(r):r),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium truncate text-sm break-words",children:e}),t&&i.jsx("div",{className:"text-xs text-muted-foreground truncate break-words",children:t})]})]})}function rIe({value:e,currency:t="SAR"}){return e==null?i.jsx("span",{className:"text-muted-foreground",children:"-"}):i.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)})}function nIe({lead:e,client:t,creator:r,assignedUser:n,userRole:a,users:s=[],onDelete:o,onEdit:l,onAssign:c,onClick:u,onDragStart:d,isDragging:f=!1}){const{t:h}=At(),m=Ur(),g=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):h("leads.unknown"),p=(v,y)=>{if(v===null)return"-";const b=y||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:b}).format(v)};return i.jsxs(st,{className:Ce("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",m?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",f&&"opacity-50 rotate-2 scale-105"),onClick:u,draggable:!!d,onDragStart:v=>{d&&(v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",e.lead_id.toString()),d(e.lead_id))},children:[i.jsxs(Ht,{className:"pb-3 px-4 pt-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Oe(e,"lead_name")}),Oe(e,"lead_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Oe(e,"lead_description")})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[l&&(a==="admin"||a==="manager")&&i.jsx(de,{variant:"ghost",size:"sm",className:Ce("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:v=>{v.stopPropagation(),l()},children:i.jsx(Di,{className:"h-4 w-4"})}),o&&i.jsxs(Rs,{children:[i.jsx(ox,{asChild:!0,onClick:v=>v.stopPropagation(),children:i.jsx(de,{variant:"ghost",size:"sm",className:Ce("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(Zt,{className:"h-4 w-4"})})}),i.jsxs(ns,{onClick:v=>v.stopPropagation(),children:[i.jsxs(as,{children:[i.jsx(is,{children:h("leads.deleteLead")}),i.jsx(os,{children:h("leads.deleteConfirmation",{name:Oe(e,"lead_name")})})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:h("buttons.cancel")}),i.jsx(ls,{onClick:v=>{v.stopPropagation(),o(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h("buttons.delete")})]})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[i.jsx(gq,{priority:e.priority,size:"sm"}),e.expected_close_date&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(Oi,{className:"h-3 w-3"}),i.jsx("span",{children:g(e.expected_close_date)})]})]})]}),i.jsxs(xt,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&i.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(F0,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:h("leads.value")}),i.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:p(e.value,e.currency)})]})]}),t&&i.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(zn,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:h("leads.client")}),i.jsx("p",{className:"text-sm font-semibold truncate",children:Oe(t,"user_name")})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(On,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.createdBy")}),i.jsx("p",{className:"text-xs font-medium truncate",children:Oe(r,"user_name")})]})]}),i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(On,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.assignedTo")}),i.jsx("p",{className:"text-xs font-medium truncate",children:n?Oe(n,"user_name"):h("common.all","Unassigned")})]})]})]}),i.jsx("div",{className:"pt-1",children:i.jsxs(ft,{value:e.assigned_to||"unassigned",onValueChange:v=>c&&c(e.lead_id,v==="unassigned"?"":v),children:[i.jsx(ut,{className:"h-7 text-xs",children:i.jsx(ht,{placeholder:h("leads.selectAssignee","Select assignee")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"unassigned",children:h("common.all","Unassigned")}),s.map(v=>i.jsx(ke,{value:(v.userid||v.userid||"").toString(),children:Oe(v,"user_name")},v.userid))]})]})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(Oi,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:g(e.created_date)})]}),i.jsx(pt,{variant:"secondary",className:"text-xs",children:h("leads.lead")})]})]})]})}function aIe(){var se,ge,re;Ms();const{hasRole:e,user:t}=hr(),r=Ur(),{t:n}=At(),{isRTL:a}=ir(),{setBreadcrumbs:s}=Rv();x.useEffect(()=>{s([{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.leads")}])},[n,s]);const[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[g,p]=x.useState(!0);x.useState(!1),x.useState("");const[v,y]=x.useState(null),[b,w]=x.useState(""),[j,_]=x.useState(null),[S,N]=x.useState(null),[C,k]=x.useState(!1),[E,O]=x.useState(null),[T,U]=x.useState("kanban"),[W,R]=x.useState(null),[z,P]=x.useState(""),[M,L]=x.useState("all"),[q,Z]=x.useState("all"),[A,B]=x.useState({from:void 0,to:void 0}),H=x.useMemo(()=>o.filter(ae=>{const fe=(ae.lead_name||"").toLowerCase().includes(z.toLowerCase())||(ae.lead_description||"").toLowerCase().includes(z.toLowerCase())||(ae.client_name||"").toLowerCase().includes(z.toLowerCase()),Ee=q==="all"||ae.assigned_to&&ae.assigned_to===q;let Re=!0;if(A.from&&ae.created_date){const Je=new Date(ae.created_date),Xe=new Date(A.from);Xe.setHours(0,0,0,0);const _t=new Date(Je);if(_t.setHours(0,0,0,0),Re=_t>=Xe,Re&&A.to){const _e=new Date(A.to);_e.setHours(23,59,59,999),Re=_t<=_e}}else A.from&&!ae.created_date&&(Re=!1);return fe&&Ee&&Re}),[o,z,M,q,A]),[V,te]=x.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{le()},[]),x.useEffect(()=>{if(h.length>0&&E===null){const ae=h.find(fe=>fe.stage_id===1);ae&&O(ae.stage_id)}},[h,E]);const le=async()=>{try{p(!0);const[ae,fe,Ee,Re]=await Promise.all([cd.getAll(),yn.getAll(),FH.getAll(),Ca.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:ae.length,clients:Ee.length,users:fe.length,stages:Re.length}),console.log("[Leads] Leads data:",ae),console.log("[Leads] Stages data:",Re),l(ae),u(Ee),f(fe),m(Re)}catch(ae){console.error("Failed to load data:",ae)}finally{p(!1)}},xe=async ae=>{if(b.trim())try{await Ca.update(ae,{stage_name:b.trim()}),m(h.map(fe=>fe.stage_id===ae?{...fe,stage_name:b.trim()}:fe)),y(null),w("")}catch(fe){console.error("Failed to update stage:",fe)}},ie=async ae=>{if(o.filter(Ee=>Ee.stage===ae).length>0){_(ae);return}try{await Ca.delete(ae),m(h.filter(Ee=>Ee.stage_id!==ae))}catch(Ee){console.error("Failed to delete stage:",Ee)}},G=async()=>{if(j)try{await Ca.delete(j),m(h.filter(ae=>ae.stage_id!==j)),_(null),le()}catch(ae){console.error("Failed to delete stage:",ae)}},Q=ae=>{N(ae)},D=ae=>{ae.preventDefault(),ae.dataTransfer.dropEffect="move"},ce=async ae=>{if(!S)return;const fe=o.find(Ee=>Ee.lead_id===S);if(fe&&fe.stage!==ae)try{await cd.update(S,{stage:ae}),l(o.map(Ee=>Ee.lead_id===S?{...Ee,stage:ae}:Ee))}catch(Ee){console.error("Failed to update lead stage:",Ee)}N(null)},je=async ae=>{try{await cd.delete(ae),l(o.filter(fe=>fe.lead_id!==ae))}catch(fe){console.error("Failed to delete lead:",fe)}},be=async(ae,fe)=>{const Ee=fe||null,Re=Ee?new Date().toISOString():null,Je=o.find(Xe=>Xe.lead_id===ae);if(Je){l(o.map(Xe=>Xe.lead_id===ae?{...Xe,assigned_to:Ee,assigned_at:Re}:Xe));try{await cd.update(ae,{assigned_to:Ee,assigned_at:Re})}catch(Xe){console.error("Failed to assign lead:",Xe),l(o.map(_t=>_t.lead_id===ae?{..._t,assigned_to:Je.assigned_to,assigned_at:Je.assigned_at}:_t))}}},Pe=ae=>{te(fe=>({...fe,stage:ae.toString()})),k(!0)},De=async()=>{if(V.lead_name.trim())try{const ae=V.assigned_to&&V.assigned_to!=="unassigned"?V.assigned_to:null,fe=ae?new Date().toISOString():null,Ee=sc({lead_name:V.lead_name.trim(),lead_description:V.lead_description.trim()||null,client_name:V.client_name.trim()||null,client_user_id:V.client_user_id||null,created_by:(t==null?void 0:t.id)||null,stage:parseInt(V.stage),assigned_to:ae,assigned_at:fe,value:V.value?parseFloat(V.value):null,currency:V.currency||"SAR",priority:V.priority?parseInt(V.priority):3,expected_close_date:V.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),Re=await cd.create(Ee);l([...o,Re]),te({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),k(!1)}catch(ae){console.error("Failed to create lead:",ae)}},Le=h.filter(ae=>ae.stage_type==="leads").sort((ae,fe)=>{const Ee=ae.stager_order_index??0,Re=fe.stager_order_index??0;return Ee-Re}),et=Le.map(ae=>({id:ae.stage_id,name:Oe(ae,"stage_name"),color:ae.color,count:H.filter(fe=>fe.stage===ae.stage_id).length}));return g?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:a?"rtl":"ltr",children:[i.jsx(lx,{title:n("leads.title"),description:n("leads.description","Manage and track all your sales leads"),icon:i.jsx(Ya,{className:"h-6 w-6 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(de,{variant:T==="kanban"?"default":"ghost",size:"sm",onClick:()=>U("kanban"),className:"h-8 w-8 p-0",children:i.jsx(Mw,{className:"h-4 w-4"})}),i.jsx(de,{variant:T==="list"?"default":"ghost",size:"sm",onClick:()=>U("list"),className:"h-8 w-8 p-0",children:i.jsx(hm,{className:"h-4 w-4"})})]}),i.jsxs(de,{onClick:()=>k(!0),children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"})," ",n("leads.newLead")]})]}),stats:[{label:n("leads.totalLeads","Total Leads"),value:o.length,icon:i.jsx(Ya,{className:"h-5 w-5 text-primary"})},{label:n("leads.thisMonth","This Month"),value:o.filter(ae=>{const fe=new Date(ae.created_date),Ee=new Date;return fe.getMonth()===Ee.getMonth()&&fe.getFullYear()===Ee.getFullYear()}).length,icon:i.jsx(Oi,{className:"h-5 w-5 text-green-500"})},{label:n("leads.totalValue","Total Value"),value:`SAR ${o.reduce((ae,fe)=>ae+(fe.value||0),0).toLocaleString()}`,icon:i.jsx(F0,{className:"h-5 w-5 text-green-600"})},{label:n("leads.avgValue","Avg Value"),value:o.length>0?`SAR ${Math.round(o.reduce((ae,fe)=>ae+(fe.value||0),0)/o.length).toLocaleString()}`:"SAR 0",icon:i.jsx(F0,{className:"h-5 w-5 text-blue-500"})}]}),i.jsx(mP,{onSearch:P,onFilterAssignee:Z,onFilterDateRange:B,users:d}),T==="kanban"?i.jsxs(X_,{stages:et,currentStageId:E||((se=et[0])==null?void 0:se.id),onStageChange:O,children:[i.jsx(vn,{open:C,onOpenChange:k,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:n("leads.createLead")}),i.jsx(Da,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(Ue,{value:V.lead_name,onChange:ae=>te(fe=>({...fe,lead_name:ae.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(Dn,{value:V.lead_description,onChange:ae=>te(fe=>({...fe,lead_description:ae.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(Ue,{value:V.client_name,onChange:ae=>te(fe=>({...fe,client_name:ae.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(ft,{value:V.client_user_id,onValueChange:ae=>te(fe=>({...fe,client_user_id:ae})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:n("leads.selectClient")})}),i.jsx(dt,{children:c.filter(ae=>ae.userid||ae.userid).map(ae=>i.jsx(ke,{value:(ae.userid||ae.userid||"").toString(),children:Oe(ae,"user_name")},ae.userid))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.value")}),i.jsx(Ue,{type:"number",min:"0",step:"0.01",value:V.value,onChange:ae=>te(fe=>({...fe,value:ae.target.value})),placeholder:"0.00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.currency")}),i.jsxs(ft,{value:V.currency,onValueChange:ae=>te(fe=>({...fe,currency:ae})),children:[i.jsx(ut,{children:i.jsx(ht,{})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"SAR",children:"SAR (.)"}),i.jsx(ke,{value:"USD",children:"USD ($)"}),i.jsx(ke,{value:"EUR",children:"EUR ()"}),i.jsx(ke,{value:"GBP",children:"GBP ()"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("common.priority")}),i.jsxs(ft,{value:V.priority,onValueChange:ae=>te(fe=>({...fe,priority:ae})),children:[i.jsx(ut,{children:i.jsx(ht,{})}),i.jsxs(dt,{children:[i.jsxs(ke,{value:"1",children:[" ",n("common.veryLow")]}),i.jsxs(ke,{value:"2",children:[" ",n("common.low")]}),i.jsxs(ke,{value:"3",children:[" ",n("common.medium")]}),i.jsxs(ke,{value:"4",children:[" ",n("common.high")]}),i.jsxs(ke,{value:"5",children:[" ",n("common.veryHigh")]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.expectedCloseDate")}),i.jsx(Ue,{type:"date",value:V.expected_close_date,onChange:ae=>te(fe=>({...fe,expected_close_date:ae.target.value}))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),i.jsxs(ft,{value:V.assigned_to,onValueChange:ae=>te(fe=>({...fe,assigned_to:ae})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:n("leads.selectAssignee","Select assignee")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"unassigned",children:n("common.all","Unassigned")}),d.map(ae=>i.jsx(ke,{value:String(ae.userid),children:Oe(ae,"user_name")},ae.userid))]})]})]})]}),i.jsxs(Oa,{children:[i.jsx(de,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(de,{onClick:De,disabled:!((ge=V.lead_name)!=null&&ge.trim()),children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:Le.filter(ae=>{var fe;return r?ae.stage_id===(E||((fe=et[0])==null?void 0:fe.id)):!0}).map((ae,fe)=>{var _e,$e;const Ee=H.filter(Be=>Be.stage===ae.stage_id),Re=Ee.reduce((Be,He)=>Be+(He.value||0),0),Je=new Set(Ee.filter(Be=>Be.value!==null&&Be.currency).map(Be=>Be.currency)),Xe=Je.size===1?Array.from(Je)[0]:"SAR",_t=Be=>new Intl.NumberFormat(void 0,{style:"currency",currency:Xe}).format(Be);return Ee.length>0&&console.log(`[Leads] Stage ${ae.stage_name} (${ae.stage_id}): ${Ee.length} leads`),fe===0&&H.length>0&&(console.log("[Leads] First lead structure:",H[0]),console.log("[Leads] Stage IDs:",h.map(Be=>Be.stage_id))),i.jsxs("div",{className:Ce("flex-shrink-0 animate-fade-in h-full flex flex-col",r?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${fe*.1}s`},onDragOver:D,onDrop:()=>ce(ae.stage_id),children:[i.jsx("div",{className:Ce("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",ae.color||"border-l-4 border-primary/50","hidden md:block"),children:i.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:v===ae.stage_id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(Ue,{value:b,onChange:Be=>w(Be.target.value),onKeyDown:Be=>{Be.key==="Enter"&&xe(ae.stage_id),Be.key==="Escape"&&(y(null),w(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(de,{size:"sm",variant:"ghost",onClick:()=>xe(ae.stage_id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("h2",{className:"font-bold text-base",children:Oe(ae,"stage_name")})}),i.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:Ee.length}),i.jsxs(i.Fragment,{children:[i.jsx(de,{size:"sm",variant:"ghost",onClick:()=>Pe(ae.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:n("leads.addLead"),children:i.jsx(Ut,{className:"h-4 w-4"})}),i.jsx(de,{size:"sm",variant:"ghost",onClick:()=>{y(ae.stage_id),w(Oe(ae,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:i.jsx(Di,{className:"h-3 w-3"})}),i.jsx(de,{size:"sm",variant:"ghost",onClick:()=>ie(ae.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:i.jsx(Zt,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((_e=h.sort((Be,He)=>(Be.stager_order_index||0)-(He.stager_order_index||0))[0])==null?void 0:_e.stage_id)===ae.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(st,{className:Ce("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",r?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Pe(ae.stage_id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Ut,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("leads.addNewLeadCard")})]})})}),Ee.map(Be=>{const He=c.find(Bt=>{var mr,lr;return((mr=Bt.userid||Bt.userid)==null?void 0:mr.toString())===((lr=Be.client_user_id)==null?void 0:lr.toString())}),wt=d.find(Bt=>{var mr,lr;return((mr=Bt.userid||Bt.userid)==null?void 0:mr.toString())===((lr=Be.created_by)==null?void 0:lr.toString())}),Wt=d.find(Bt=>{var mr,lr;return((mr=Bt.userid||Bt.userid)==null?void 0:mr.toString())===((lr=Be.assigned_to)==null?void 0:lr.toString())});return i.jsx("div",{children:i.jsx(nIe,{lead:Be,client:He||null,creator:wt||null,assignedUser:Wt||null,userRole:t==null?void 0:t.role,users:d,onDelete:()=>je(Be.lead_id),onEdit:()=>R(Be.lead_id),onAssign:be,onClick:()=>R(Be.lead_id),onDragStart:Q,isDragging:S===Be.lead_id})},Be.lead_id)}),(($e=h.sort((Be,He)=>(Be.stager_order_index||0)-(He.stager_order_index||0))[0])==null?void 0:$e.stage_id)!==ae.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(de,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Pe(ae.stage_id),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})]}),i.jsx("div",{className:Ce("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(F0,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),i.jsx("span",{className:"text-lg font-bold text-primary",children:_t(Re)})]})})]},ae.stage_id)})}),i.jsx(Rs,{open:!!j,onOpenChange:()=>_(null),children:i.jsxs(ns,{children:[i.jsxs(as,{children:[i.jsx(is,{children:n("leads.deleteStage")}),i.jsx(os,{children:n("leads.deleteStageConfirmation",{count:o.filter(ae=>ae.stage===j).length})})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:n("buttons.cancel")}),i.jsx(ls,{onClick:G,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:[n("leads.title")," (",o.length,")"]}),i.jsx(vn,{open:C,onOpenChange:k,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:n("leads.createLead")}),i.jsx(Da,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(Ue,{value:V.lead_name,onChange:ae=>te(fe=>({...fe,lead_name:ae.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(Dn,{value:V.lead_description,onChange:ae=>te(fe=>({...fe,lead_description:ae.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(Ue,{value:V.client_name,onChange:ae=>te(fe=>({...fe,client_name:ae.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(ft,{value:V.client_user_id,onValueChange:ae=>te(fe=>({...fe,client_user_id:ae})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:n("leads.selectClient")})}),i.jsx(dt,{children:c.filter(ae=>ae.userid).map(ae=>i.jsx(ke,{value:String(ae.userid),children:Oe(ae,"user_name")},ae.userid))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),i.jsxs(ft,{value:V.assigned_to,onValueChange:ae=>te(fe=>({...fe,assigned_to:ae})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:n("leads.selectAssignee","Select assignee")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"unassigned",children:n("common.all","Unassigned")}),d.map(ae=>i.jsx(ke,{value:String(ae.userid),children:Oe(ae,"user_name")},ae.userid))]})]})]})]}),i.jsxs(Oa,{children:[i.jsx(de,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(de,{onClick:De,disabled:!((re=V.lead_name)!=null&&re.trim()),children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})})]}),(()=>{const ae=[{key:"lead",header:n("leads.leadName"),render:Re=>i.jsx(pc,{title:Oe(Re,"lead_name"),subtitle:Oe(Re,"lead_description")})},{key:"value",header:n("leads.value","Value"),render:Re=>i.jsx(rIe,{value:Re.value,currency:Re.currency||"SAR"})},{key:"client",header:n("leads.client"),hideOnMobile:!0,render:Re=>{const Je=c.find(Xe=>String(Xe.userid)===Re.client_user_id);return Je?Oe(Je,"user_name"):n("leads.unknown")}},{key:"creator",header:n("leads.createdBy"),hideOnMobile:!0,render:Re=>{const Je=d.find(Xe=>String(Xe.userid)===Re.created_by);return i.jsx(Hm,{name:Je?Oe(Je,"user_name"):null,fallback:n("leads.unknown")})}},{key:"assignee",header:n("leads.assignedTo"),hideOnMobile:!0,render:Re=>{const Je=d.find(Xe=>String(Xe.userid)===Re.assigned_to);return i.jsx(Hm,{name:Je?Oe(Je,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:Re=>{const Je=h.find(Xe=>Xe.stage_id===Re.stage);return Je?Oe(Je,"stage_name"):n("leads.unknown")}},{key:"created",header:n("common.created"),hideOnMobile:!0,render:Re=>i.jsx(kf,{date:Re.created_date,fallback:n("leads.notSet")})}],fe=[{label:n("common.view"),icon:i.jsx(ei,{className:"h-4 w-4"}),onClick:Re=>R(Re.lead_id)},{label:n("buttons.delete","Delete"),icon:i.jsx(Zt,{className:"h-4 w-4"}),onClick:Re=>je(Re.lead_id),variant:"destructive",show:()=>!0}],Ee=[{label:n("buttons.delete","Delete"),icon:i.jsx(Zt,{className:"h-4 w-4"}),onClick:Re=>{Re.forEach(Je=>je(Je.lead_id))},variant:"destructive"}];return i.jsx(mc,{data:H,columns:ae,actions:fe,bulkActions:Ee,keyExtractor:Re=>Re.lead_id,onRowClick:Re=>R(Re.lead_id),enableBulkSelect:!0,emptyState:i.jsx(vo,{icon:i.jsx(Ya,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("leads.noLeadsYet"),description:n("leads.createFirst","Create a lead to get started"),action:i.jsxs(de,{onClick:()=>k(!0),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})})})()]}),i.jsx(fl,{open:!!W,onOpenChange:()=>R(null),children:i.jsxs(No,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:a?"left":"right",children:[i.jsxs(uc,{children:[i.jsx(hl,{children:n("leads.leadDetails")}),i.jsx(ef,{children:n("leads.leadDetailsDesc")})]}),i.jsx("div",{className:"mt-6",children:W&&i.jsx(Y3e,{leadId:W})})]})})]})}const _P={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},sIe=()=>iT({queryKey:_P.users,queryFn:yn.getAll}),iIe=()=>iT({queryKey:_P.tasks,queryFn:yd.getAll,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),oIe=e=>iT({queryKey:[..._P.stages,"type",e],queryFn:()=>Ca.getByType(e)});function Tp({title:e="Something went wrong",message:t,onRetry:r,className:n=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${n}`,children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:i.jsx(Rw,{className:"h-10 w-10 text-destructive"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:t}),r&&i.jsxs(de,{onClick:r,variant:"outline",className:"gap-2",children:[i.jsx(Ng,{className:"h-4 w-4"}),"Try Again"]})]})}function lIe({task:e,assignedUser:t,stages:r=[],onDelete:n,onClick:a,onDragStart:s,onStageChange:o,isDragging:l=!1}){var p,v;const{t:c}=At(),u=Ur(),d=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",f=y=>{switch(y){case"done":return i.jsx(Yl,{className:"h-3 w-3 text-green-500"});case"in_progress":return i.jsx(Yd,{className:"h-3 w-3 text-blue-500"});case"todo":default:return i.jsx(Rw,{className:"h-3 w-3 text-gray-500"})}},h=y=>{switch(y){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},m=y=>{if(!y)return null;const b=new Date,j=(new Date(y).getTime()-b.getTime())/(1e3*60*60);return j<0?"overdue":j<24?"urgent":j<72?"soon":null},g=y=>{switch(m(y)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return i.jsxs(st,{className:Ce("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",u?"w-full":"w-[280px] h-[180px]",h(e.task_status),g(e.due_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:y=>{s&&(y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",e.task_id.toString()),s(e.task_id))},children:[i.jsx(Ht,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),n&&i.jsxs(Rs,{children:[i.jsx(ox,{asChild:!0,onClick:y=>y.stopPropagation(),children:i.jsx(de,{variant:"ghost",size:"sm",className:Ce("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",u?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(Zt,{className:"h-4 w-4"})})}),i.jsxs(ns,{onClick:y=>y.stopPropagation(),children:[i.jsxs(as,{children:[i.jsx(is,{children:"Delete Task"}),i.jsxs(os,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:"Cancel"}),i.jsx(ls,{onClick:y=>{y.stopPropagation(),n(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),i.jsxs(xt,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(On,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:t?Oe(t,"user_name"):c("common.all","Unassigned")})]})}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-1",children:[f(e.task_status),i.jsx("span",{className:"text-xs font-medium capitalize",children:((p=e.task_status)==null?void 0:p.replace("_"," "))||"Todo"})]})})]}),u&&o&&i.jsx("div",{className:"pt-1",children:i.jsxs(ft,{value:((v=e.stage_id)==null?void 0:v.toString())||"",onValueChange:y=>o(e.task_id,parseInt(y)),children:[i.jsx(ut,{className:"h-7 text-xs",children:i.jsx(ht,{placeholder:c("tasks.selectStage","Select stage")})}),i.jsx(dt,{children:r.map(y=>{var b;return i.jsx(ke,{value:((b=y.stage_id)==null?void 0:b.toString())||"",children:Oe(y,"stage_name")},y.stage_id)})})]})}),e.due_date&&i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[i.jsx(Oi,{className:"h-3 w-3 flex-shrink-0"}),i.jsxs("span",{children:["Due: ",d(e.due_date)]})]})]})]})}function cIe(){var G;Ms();const{hasRole:e,user:t,loading:r}=hr(),{t:n}=At(),a=Ur(),{isRTL:s}=ir(),[o,l]=x.useState(null),[c,u]=x.useState("kanban");x.useState(!1);const d=Q=>{switch(Q==null?void 0:Q.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};x.useState(""),x.useState(null),x.useState(""),x.useState(null);const[f,h]=x.useState(null),[m,g]=x.useState(!1),[p,v]=x.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[y,b]=x.useState(""),[w,j]=x.useState("all"),[_,S]=x.useState("all"),[N,C]=x.useState({from:void 0,to:void 0}),{data:k=[],isLoading:E,error:O}=iIe(),{data:T=[],isLoading:U,error:W}=sIe(),{data:R=[],isLoading:z,error:P}=oIe("tasks"),M=x.useMemo(()=>k.filter(Q=>{const D=Q.task_name.toLowerCase().includes(y.toLowerCase())||Q.description&&Q.description.toLowerCase().includes(y.toLowerCase()),ce=w==="all"||Q.task_status===w,je=_==="all"||Q.assigned_to&&Q.assigned_to.toString()===_;let be=!0;if(N.from&&Q.due_date){const Pe=new Date(Q.due_date),De=new Date(N.from);De.setHours(0,0,0,0);const Le=new Date(Pe);if(Le.setHours(0,0,0,0),be=Le>=De,be&&N.to){const et=new Date(N.to);et.setHours(23,59,59,999),be=Le<=et}}else N.from&&!Q.due_date&&(be=!1);return D&&ce&&je&&be}),[k,y,w,_,N]),L=R.sort((Q,D)=>{const ce=Q.stager_order_index??0,je=D.stager_order_index??0;return ce-je}).map(Q=>({id:Q.stage_id,name:Oe(Q,"stage_name"),color:Q.color,count:M.filter(D=>D.stage_id===Q.stage_id).length})),q=E||U||z||r,Z=(O==null?void 0:O.message)||(W==null?void 0:W.message)||(P==null?void 0:P.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:t?{id:t.id,email:t.email,role:t.role}:null,authLoading:r,hasUser:!!t,loading:q,data:{tasks:k.length,users:T.length,stages:R.length}});const A=()=>{},B=async Q=>{try{await yd.delete(Q),A()}catch(D){console.error("Failed to delete task:",D)}},H=Q=>{h(Q)},V=Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect="move"},te=async Q=>{if(!f)return;const D=k.find(ce=>ce.task_id===f);if(D&&D.stage_id!==Q)try{await yd.update(f,{stage_id:Q}),A()}catch(ce){console.error("Failed to update task stage:",ce)}h(null)},le=async(Q,D)=>{const ce=k.find(je=>je.task_id===Q);if(ce&&ce.stage_id!==D)try{await yd.update(Q,{stage_id:D}),A()}catch(je){console.error("Failed to update task stage:",je)}},xe=async()=>{if(p.task_name.trim())try{const Q=sc({task_name:p.task_name.trim(),stage_id:p.stage_id?parseInt(p.stage_id):null,assigned_to:p.assigned_to?parseInt(p.assigned_to):null,task_status:p.task_status,due_date:p.due_date?new Date(p.due_date).toISOString():null,description:p.description.trim()||null,userid:(t==null?void 0:t.id)||null},{task_name:"task_name",description:"description"});await yd.create(Q),A(),v({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),g(!1)}catch(Q){console.error("Failed to create task:",Q)}},ie=!0;return x.useEffect(()=>{if(R.length>0&&o===null){const Q=R.sort((D,ce)=>(D.stager_order_index??0)-(ce.stager_order_index??0));Q.length>0&&l(Q[0].stage_id)}},[R,o]),q||r||!t?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:n("common.loading"),size:"2xl"})}):Z?i.jsx(Tp,{message:Z}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:s?"rtl":"ltr",children:[i.jsx(lx,{title:n("tasks.title"),description:n("tasks.description","Manage and track all your tasks"),icon:i.jsx(I0,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.tasks")}],actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(de,{variant:c==="kanban"?"default":"ghost",size:"sm",onClick:()=>u("kanban"),className:"h-8 w-8 p-0",children:i.jsx(Mw,{className:"h-4 w-4"})}),i.jsx(de,{variant:c==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),className:"h-8 w-8 p-0",children:i.jsx(hm,{className:"h-4 w-4"})})]}),i.jsxs(de,{onClick:()=>g(!0),children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"})," ",n("tasks.addNewTask")]})]}),stats:[{label:n("tasks.totalTasks"),value:k.length,icon:i.jsx(I0,{className:"h-4 w-4 text-primary"})},{label:n("tasks.todo","To Do"),value:k.filter(Q=>Q.task_status==="todo").length,icon:i.jsx(Rw,{className:"h-4 w-4 text-gray-500"})},{label:n("tasks.inProgress","In Progress"),value:k.filter(Q=>Q.task_status==="in_progress").length,icon:i.jsx(Yd,{className:"h-4 w-4 text-blue-500"})},{label:n("tasks.done","Done"),value:k.filter(Q=>Q.task_status==="done").length,icon:i.jsx(Yl,{className:"h-4 w-4 text-green-500"})}]}),i.jsx(mP,{onSearch:b,onFilterStatus:j,onFilterAssignee:S,onFilterDateRange:C,users:T,statuses:[{value:"todo",label:n("tasks.todo")},{value:"in_progress",label:n("tasks.inProgress")},{value:"done",label:n("tasks.done")}]}),c==="kanban"?i.jsxs(X_,{stages:L,currentStageId:o||((G=L[0])==null?void 0:G.id),onStageChange:l,children:[i.jsx(vn,{open:m,onOpenChange:g,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:n("tasks.createTask")}),i.jsx(Da,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(Ue,{value:p.task_name,onChange:Q=>v(D=>({...D,task_name:Q.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(Dn,{value:p.description,onChange:Q=>v(D=>({...D,description:Q.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(ft,{value:p.assigned_to,onValueChange:Q=>v(D=>({...D,assigned_to:Q})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:n("tasks.selectUser")})}),i.jsx(dt,{children:T.map(Q=>{var D;return i.jsx(ke,{value:((D=Q.user_id)==null?void 0:D.toString())||"",children:Oe(Q,"user_name")},Q.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(ft,{value:p.stage_id,onValueChange:Q=>v(D=>({...D,stage_id:Q})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:n("tasks.selectStage")})}),i.jsx(dt,{children:R.map(Q=>{var D;return i.jsx(ke,{value:((D=Q.stage_id)==null?void 0:D.toString())||"",children:Oe(Q,"stage_name")},Q.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(ft,{value:p.task_status,onValueChange:Q=>v(D=>({...D,task_status:Q})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:n("tasks.selectStatus")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"todo",children:n("tasks.todo")}),i.jsx(ke,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(ke,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(Ue,{type:"date",value:p.due_date,onChange:Q=>v(D=>({...D,due_date:Q.target.value}))})]})]}),i.jsxs(Oa,{children:[i.jsx(de,{variant:"outline",onClick:()=>g(!1),children:n("buttons.cancel")}),i.jsxs(de,{onClick:xe,disabled:!p.task_name.trim(),children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:R.sort((Q,D)=>{const ce=Q.stager_order_index??0,je=D.stager_order_index??0;return ce-je}).filter(Q=>{var D;return a?Q.stage_id===(o||((D=L[0])==null?void 0:D.id)):!0}).map((Q,D)=>{var je,be;const ce=M.filter(Pe=>Pe.stage_id===Q.stage_id);return i.jsxs("div",{className:Ce("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${D*.1}s`},onDragOver:V,onDrop:()=>te(Q.stage_id),children:[i.jsx("div",{className:Ce("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",Q.color||"border-l-4 border-primary/50"),children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:Oe(Q,"stage_name")})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:ce.length})})]})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((je=R.sort((Pe,De)=>(Pe.stager_order_index||0)-(De.stager_order_index||0))[0])==null?void 0:je.stage_id)===Q.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(st,{className:Ce("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>g(!0),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Ut,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("tasks.addNewTask")})]})})}),ce.map(Pe=>{const De=T.find(Le=>Le.user_id===Pe.assigned_to);return i.jsx("div",{draggable:ie,onDragStart:()=>H(Pe.task_id),className:"cursor-move",children:i.jsx(lIe,{task:Pe,assignedUser:De||null,stages:R,onDelete:()=>B(Pe.task_id),onClick:()=>{console.log("Task clicked:",Pe.task_id)},onDragStart:H,onStageChange:le,isDragging:f===Pe.task_id})},Pe.task_id)}),((be=R.sort((Pe,De)=>(Pe.stager_order_index||0)-(De.stager_order_index||0))[0])==null?void 0:be.stage_id)!==Q.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(de,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>g(!0),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),n("tasks.addTask")]})})]})]},Q.stage_id)})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:[n("tasks.allTasks")," (",k.length,")"]}),i.jsx(vn,{open:m,onOpenChange:g,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:n("tasks.createTask")}),i.jsx(Da,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(Ue,{value:p.task_name,onChange:Q=>v(D=>({...D,task_name:Q.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(Dn,{value:p.description,onChange:Q=>v(D=>({...D,description:Q.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(ft,{value:p.assigned_to,onValueChange:Q=>v(D=>({...D,assigned_to:Q})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:n("tasks.selectUser")})}),i.jsx(dt,{children:T.map(Q=>{var D;return i.jsx(ke,{value:((D=Q.user_id)==null?void 0:D.toString())||"",children:Oe(Q,"user_name")},Q.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(ft,{value:p.stage_id,onValueChange:Q=>v(D=>({...D,stage_id:Q})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:n("tasks.selectStage")})}),i.jsx(dt,{children:R.map(Q=>{var D;return i.jsx(ke,{value:((D=Q.stage_id)==null?void 0:D.toString())||"",children:Oe(Q,"stage_name")},Q.stage_id)})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(ft,{value:p.task_status,onValueChange:Q=>v(D=>({...D,task_status:Q})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:n("tasks.selectStatus")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"todo",children:n("tasks.todo")}),i.jsx(ke,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(ke,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(Ue,{type:"date",value:p.due_date,onChange:Q=>v(D=>({...D,due_date:Q.target.value}))})]})]})]}),i.jsxs(Oa,{children:[i.jsx(de,{variant:"outline",onClick:()=>g(!1),children:n("buttons.cancel")}),i.jsxs(de,{onClick:xe,disabled:!p.task_name.trim(),children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})})]}),(()=>{const Q=[{key:"task",header:n("tasks.taskName"),render:ce=>i.jsx(pc,{title:ce.task_name,subtitle:ce.description})},{key:"assignee",header:n("tasks.assignedTo"),hideOnMobile:!0,render:ce=>{const je=T.find(be=>be.user_id===ce.assigned_to);return i.jsx(Hm,{name:je?Oe(je,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"status",header:n("tasks.status"),render:ce=>i.jsx(Sq,{variant:d(ce.task_status),children:ce.task_status||n("leads.unknown")})},{key:"due_date",header:n("tasks.dueDate"),hideOnMobile:!0,render:ce=>i.jsx(kf,{date:ce.due_date,fallback:n("leads.notSet")})},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:ce=>{const je=R.find(be=>be.stage_id===ce.stage_id);return je?Oe(je,"stage_name"):n("leads.unknown")}}],D=[{label:n("common.view"),icon:i.jsx(ei,{className:"h-4 w-4"}),onClick:ce=>console.log("View task:",ce.task_id)},{label:n("buttons.delete","Delete"),icon:i.jsx(Zt,{className:"h-4 w-4"}),onClick:ce=>B(ce.task_id),variant:"destructive"}];return i.jsx(mc,{data:M,columns:Q,actions:D,keyExtractor:ce=>ce.task_id,emptyState:i.jsx(vo,{icon:i.jsx(I0,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("tasks.noTasksYet"),description:n("tasks.createFirst","Create a task to get started"),action:i.jsxs(de,{onClick:()=>g(!0),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),n("tasks.addNewTask")]})})})})()]})]})}function YI(e){const[t,r]=x.useState(e),n=x.useCallback((s,o)=>{r(l=>({...l,[s]:o}))},[]),a=x.useCallback(s=>{r(s??e)},[e]);return{values:t,setValues:r,setField:n,reset:a}}const FC=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},uIe=(e,t)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):t,dIe=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return i.jsx(W2,{className:"h-3 w-3 text-red-500"});case"high":return i.jsx(W2,{className:"h-3 w-3 text-orange-500"});default:return null}};function XI({ticket:e,assignedUser:t,userRole:r,onDelete:n,onClick:a,onDragStart:s,onDragEnd:o,isDragging:l=!1,stageName:c}){const{t:u}=At(),d=Ur();return i.jsxs(st,{className:Ce("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",l&&"opacity-50 rotate-2 scale-105"),onClick:a,draggable:!!s,onDragStart:f=>{s&&(f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("text/plain",e.ticket_id.toString()),s(e.ticket_id))},onDragEnd:()=>{o&&o()},children:[i.jsx(Ht,{className:"pb-3 px-4 pt-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),dIe(e.priority)]}),i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||u("tickets.noSubject","No Subject")}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),n&&r==="admin"&&i.jsxs(Rs,{children:[i.jsx(ox,{asChild:!0,onClick:f=>f.stopPropagation(),children:i.jsx(de,{variant:"ghost",size:"sm",className:Ce("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(Zt,{className:"h-4 w-4"})})}),i.jsxs(ns,{onClick:f=>f.stopPropagation(),children:[i.jsxs(as,{children:[i.jsx(is,{children:u("tickets.deleteTicket","Delete Ticket")}),i.jsx(os,{children:u("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:u("buttons.cancel")}),i.jsx(ls,{onClick:f=>{f.stopPropagation(),n(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(xt,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c&&i.jsx(pt,{variant:"outline",className:"text-xs",children:c}),i.jsx(pt,{variant:FC(e.priority),className:"text-xs",children:e.priority||u("leads.unknown")}),e.ticket_type&&i.jsx(pt,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(On,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground truncate",children:Oe(t,"user_name")})]}),i.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(Oi,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:uIe(e.created_date,u("leads.unknown"))})]})})]})]})}function fIe(){const{isRTL:e}=ir(),[t,r]=x.useState([]),[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(""),[m,g]=x.useState("all"),[p,v]=x.useState("all"),[y,b]=x.useState("all"),[w,j]=x.useState(!1),[_,S]=x.useState(null),[N,C]=x.useState(!1),[k,E]=x.useState(!1),O=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),T=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:U,setField:W,reset:R,setValues:z}=YI(O),{values:P,setField:M,reset:L,setValues:q}=YI(T),[Z,A]=x.useState(null),[B,H]=x.useState(null),[V,te]=x.useState("kanban"),[le,xe]=x.useState(""),[ie,G]=x.useState(!1),{user:Q,loading:D}=hr(),{t:ce}=At(),je=Ur();x.useEffect(()=>{Q&&!D&&be()},[Q,D]),x.useEffect(()=>{if(s.length>0&&B===null){const _e=s.filter($e=>$e.stage_type==="tickets");_e.length>0&&H(_e[0].stage_id)}},[s,B]);const be=async()=>{try{c(!0),d(null);const[_e,$e,Be]=await Promise.all([a0.getAll().catch(He=>(console.error("[Tickets] Error fetching tickets:",He),[])),yn.getAll().catch(He=>(console.error("[Tickets] Error fetching users:",He),[])),Ca.getByType("tickets").catch(He=>(console.error("[Tickets] Error fetching stages:",He),[]))]);if(r(_e),a($e),o(Be),Be.length>0){const He=[...Be].sort((wt,Wt)=>(wt.stager_order_index||0)-(Wt.stager_order_index||0));z(wt=>{var Wt;return{...wt,stage_id:wt.stage_id||((Wt=He[0].stage_id)==null?void 0:Wt.toString())||""}})}}catch(_e){console.error("[Tickets] Failed to load data:",_e),d(_e.message||ce("common.error"))}finally{c(!1)}},Pe=_e=>_e&&n.find($e=>$e.userid===_e)||null,De=async _e=>{var $e,Be;if(_e.preventDefault(),!(ie||!Q)){xe(""),G(!0);try{const He=U.assigned_to?parseInt(U.assigned_to):null,wt=n.find(lr=>lr.userid===He),Wt={subject:U.subject,description:U.description||null,priority:U.priority,ticket_type:U.ticket_type,stage_id:U.stage_id?parseInt(U.stage_id):null,created_by:(($e=Q.profile)==null?void 0:$e.userid)||null,assigned_to:He,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},Bt=await a0.create(Wt);r([Bt,...t]);const mr=s.length>0&&((Be=[...s].sort((lr,zr)=>(lr.stager_order_index||0)-(zr.stager_order_index||0))[0].stage_id)==null?void 0:Be.toString())||"";R({...O,stage_id:mr}),j(!1)}catch(He){xe(He.message||ce("tickets.createError"))}finally{G(!1)}}},Le=_e=>{var $e,Be;S(_e),E(!1),q({...T,subject:_e.subject||"",description:_e.description||"",priority:_e.priority||"medium",ticket_type:_e.ticket_type||"request",assigned_to:(($e=_e.assigned_to)==null?void 0:$e.toString())||"unassigned",stage_id:((Be=_e.stage_id)==null?void 0:Be.toString())||""}),C(!0)},et=async()=>{if(!(!_||ie)){xe(""),G(!0);try{const _e=P.assigned_to&&P.assigned_to!=="unassigned"?parseInt(P.assigned_to):null,$e=n.find(Be=>Be.userid===_e);await a0.update(_.ticket_id,{subject:P.subject,description:P.description||null,priority:P.priority,ticket_type:P.ticket_type,assigned_to:_e,stage_id:P.stage_id?parseInt(P.stage_id):null}),r(t.map(Be=>Be.ticket_id===_.ticket_id?{...Be,subject:P.subject,description:P.description||null,priority:P.priority,ticket_type:P.ticket_type,assigned_to:_e,stage_id:P.stage_id?parseInt(P.stage_id):null}:Be)),S(Be=>Be?{...Be,subject:P.subject,description:P.description||null,priority:P.priority,ticket_type:P.ticket_type,assigned_to:_e,stage_id:P.stage_id?parseInt(P.stage_id):null}:null),E(!1)}catch(_e){xe(_e.message||ce("tickets.updateError","Failed to update ticket"))}finally{G(!1)}}},se=async _e=>{try{await a0.delete(_e),r(t.filter($e=>$e.ticket_id!==_e))}catch($e){console.error("[Tickets] Failed to delete ticket:",$e)}},ge=_e=>{A(_e)},re=()=>{A(null)},ae=_e=>{_e.preventDefault(),_e.dataTransfer.dropEffect="move"},fe=async _e=>{if(!Z)return;const $e=t.find(Be=>Be.ticket_id===Z);if($e&&$e.stage_id!==_e){r(Be=>Be.map(He=>He.ticket_id===Z?{...He,stage_id:_e}:He));try{await a0.moveToStage(Z,_e)}catch(Be){console.error("Failed to update ticket stage:",Be),r(He=>He.map(wt=>wt.ticket_id===Z?{...wt,stage_id:$e.stage_id}:wt))}}A(null)},Ee=x.useMemo(()=>t.filter(_e=>{var Wt,Bt,mr;const $e=((Wt=_e.subject)==null?void 0:Wt.toLowerCase().includes(f.toLowerCase()))||((Bt=_e.description)==null?void 0:Bt.toLowerCase().includes(f.toLowerCase())),Be=m==="all"||_e.priority===m,He=p==="all"||_e.ticket_type===p,wt=y==="all"||((mr=_e.stage_id)==null?void 0:mr.toString())===y;return $e&&Be&&He&&wt}),[t,f,m,p,y]),Re=x.useMemo(()=>s.filter(_e=>_e.stage_type==="tickets").sort((_e,$e)=>{const Be=_e.stager_order_index??0,He=$e.stager_order_index??0;return Be-He}),[s]),Je=x.useMemo(()=>Re.map(_e=>({id:_e.stage_id,name:Oe(_e,"stage_name"),color:_e.color,count:Ee.filter($e=>$e.stage_id===_e.stage_id).length})),[Re,Ee]),Xe=()=>{var _e;return Re.length===0?i.jsx(vo,{icon:i.jsx(Qf,{className:"h-12 w-12 text-muted-foreground/50"}),title:ce("tickets.noStages","No ticket stages found"),description:ce("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):i.jsxs(X_,{stages:Je,currentStageId:B||((_e=Je[0])==null?void 0:_e.id),onStageChange:H,children:[i.jsx("div",{className:Ce("flex gap-4 pb-4 overflow-x-auto",je?"hidden":"flex"),children:Re.map($e=>{const Be=Ee.filter(Wt=>Wt.stage_id===$e.stage_id),He=$e.color||"border-l-4 border-gray-400",wt=Oe($e,"stage_name");return i.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-full bg-background/50 border border-muted/50 rounded-lg",onDragOver:ae,onDrop:()=>fe($e.stage_id),children:[i.jsx("div",{className:Ce("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",He),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold text-sm",children:Oe($e,"stage_name")}),i.jsx(pt,{variant:"secondary",className:"text-xs",children:Be.length})]}),i.jsx(de,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{z(Wt=>{var Bt;return{...Wt,stage_id:((Bt=$e.stage_id)==null?void 0:Bt.toString())||""}}),j(!0)},children:i.jsx(Ut,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:i.jsxs("div",{className:"space-y-3",children:[Be.map(Wt=>i.jsx(XI,{ticket:Wt,assignedUser:Pe(Wt.assigned_to),userRole:Q==null?void 0:Q.role,onDelete:se,onClick:()=>Le(Wt),onDragStart:ge,onDragEnd:re,isDragging:Z===Wt.ticket_id,stageName:wt},Wt.ticket_id)),Be.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:ce("tickets.noTicketsInStage","No tickets in this stage")})]})})]},$e.stage_id)})}),je&&B&&i.jsxs("div",{className:"space-y-3 p-2",children:[Ee.filter($e=>$e.stage_id===B).map($e=>{var Be;return i.jsx(XI,{ticket:$e,assignedUser:Pe($e.assigned_to),userRole:Q==null?void 0:Q.role,onDelete:se,onClick:()=>Le($e),onDragStart:ge,onDragEnd:re,isDragging:Z===$e.ticket_id,stageName:((Be=Je.find(He=>He.id===B))==null?void 0:Be.name)||null},$e.ticket_id)}),Ee.filter($e=>$e.stage_id===B).length===0&&i.jsx(vo,{icon:i.jsx(Qf,{className:"h-12 w-12 text-muted-foreground/50"}),title:ce("tickets.noTicketsInStage","No tickets in this stage"),description:ce("tickets.createFirst","Create a ticket to get started"),action:i.jsxs(de,{onClick:()=>{z($e=>({...$e,stage_id:(B==null?void 0:B.toString())||""})),j(!0)},children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),ce("tickets.newTicket")]})})]})]})},_t=()=>{const _e=[{key:"ticket",header:ce("tickets.subject","Subject"),render:Be=>i.jsx(pc,{title:Be.subject||ce("tickets.noSubject","No Subject"),subtitle:Be.description})},{key:"priority",header:ce("tickets.priority","Priority"),render:Be=>i.jsx(Sq,{variant:FC(Be.priority),children:Be.priority||ce("leads.unknown")})},{key:"type",header:ce("tickets.ticketType","Type"),hideOnMobile:!0,render:Be=>i.jsx(pt,{variant:"outline",className:"text-xs",children:Be.ticket_type||ce("leads.unknown")})},{key:"assignee",header:ce("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:Be=>{const He=Pe(Be.assigned_to);return i.jsx(Hm,{name:He?Oe(He,"user_name"):null,fallback:ce("tickets.unassigned","Unassigned")})}},{key:"stage",header:ce("tickets.stage","Stage"),hideOnMobile:!0,render:Be=>{const He=Re.find(wt=>wt.stage_id===Be.stage_id);return He?Oe(He,"stage_name"):ce("tickets.noStage","No stage")}},{key:"created",header:ce("tickets.createdDate","Created"),hideOnMobile:!0,render:Be=>i.jsx(kf,{date:Be.created_date,fallback:ce("leads.notSet","Not set")})}],$e=[{label:ce("common.view","View"),icon:i.jsx(ei,{className:"h-4 w-4"}),onClick:Le},{label:ce("buttons.delete","Delete"),icon:i.jsx(Zt,{className:"h-4 w-4"}),onClick:Be=>se(Be.ticket_id),variant:"destructive",show:()=>!0}];return i.jsx(mc,{data:Ee,columns:_e,actions:$e,keyExtractor:Be=>Be.ticket_id,onRowClick:Le,emptyState:i.jsx(vo,{icon:i.jsx(Qf,{className:"h-12 w-12 text-muted-foreground/50"}),title:ce("tickets.noTicketsInPage"),description:ce("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:i.jsxs(de,{onClick:()=>j(!0),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),ce("tickets.newTicket","New Ticket")]})})})};return l||D?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:ce("common.loading"),size:"2xl"})}):Q?u?i.jsx(Tp,{title:ce("tickets.errorTitle","Error loading tickets"),message:u,onRetry:be}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:e?"rtl":"ltr",children:[i.jsx(lx,{title:ce("tickets.title"),description:ce("tickets.description","Manage and track support tickets"),icon:i.jsx(Qf,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(de,{variant:V==="kanban"?"default":"ghost",size:"sm",onClick:()=>te("kanban"),className:"h-8 w-8 p-0",children:i.jsx(Mw,{className:"h-4 w-4"})}),i.jsx(de,{variant:V==="list"?"default":"ghost",size:"sm",onClick:()=>te("list"),className:"h-8 w-8 p-0",children:i.jsx(hm,{className:"h-4 w-4"})})]}),i.jsxs(de,{onClick:()=>j(!0),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),ce("tickets.newTicket")]})]}),stats:[{label:ce("tickets.total","Total Tickets"),value:t.length,icon:i.jsx(Qf,{className:"h-4 w-4 text-primary"})},...Re.map(_e=>({label:Oe(_e,"stage_name"),value:t.filter($e=>$e.stage_id===_e.stage_id).length,icon:i.jsx(zo,{className:"h-4 w-4 text-muted-foreground"})}))]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ue,{placeholder:ce("tickets.searchPlaceholder","Search tickets..."),value:f,onChange:_e=>h(_e.target.value),className:"pl-10 h-9"})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs(ft,{value:y,onValueChange:b,children:[i.jsx(ut,{className:"w-[130px] h-9",children:i.jsx(ht,{placeholder:ce("tickets.allStages","All Stages")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:ce("tickets.allStages","All Stages")}),Re.map(_e=>{var $e;return i.jsx(ke,{value:(($e=_e.stage_id)==null?void 0:$e.toString())||"",children:Oe(_e,"stage_name")},_e.stage_id)})]})]}),i.jsxs(ft,{value:p,onValueChange:v,children:[i.jsx(ut,{className:"w-[130px] h-9",children:i.jsx(ht,{placeholder:ce("tickets.allTypes")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:ce("tickets.allTypes","All Types")}),i.jsx(ke,{value:"issue",children:ce("tickets.typeIssue","Issue")}),i.jsx(ke,{value:"request",children:ce("tickets.typeRequest","Request")}),i.jsx(ke,{value:"follow_up",children:ce("tickets.typeFollowUp","Follow Up")}),i.jsx(ke,{value:"internal_task",children:ce("tickets.typeInternalTask","Internal Task")})]})]}),i.jsxs(ft,{value:m,onValueChange:g,children:[i.jsx(ut,{className:"w-[130px] h-9",children:i.jsx(ht,{placeholder:ce("tickets.allPriorities")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:ce("tickets.allPriorities","All Priorities")}),i.jsx(ke,{value:"low",children:ce("tickets.priorityLow","Low")}),i.jsx(ke,{value:"medium",children:ce("tickets.priorityMedium","Medium")}),i.jsx(ke,{value:"high",children:ce("tickets.priorityHigh","High")}),i.jsx(ke,{value:"urgent",children:ce("tickets.priorityUrgent","Urgent")})]})]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:V==="kanban"?Xe():_t()}),i.jsx(vn,{open:w,onOpenChange:j,children:i.jsxs(an,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:ce("tickets.createNewTicket")}),i.jsx(Da,{children:ce("tickets.createTicketDesc")})]}),i.jsxs("form",{onSubmit:De,className:"space-y-4",children:[le&&i.jsx(vm,{variant:"destructive",children:i.jsx(xm,{children:le})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"subject",children:[ce("tickets.subject")," *"]}),i.jsx(Ue,{id:"subject",value:U.subject,onChange:_e=>W("subject",_e.target.value),placeholder:ce("tickets.subjectPlaceholder"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"description",children:ce("tickets.description")}),i.jsx(Dn,{id:"description",value:U.description,onChange:_e=>W("description",_e.target.value),placeholder:ce("tickets.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"stage",children:ce("tickets.stage","Stage")}),i.jsxs(ft,{value:U.stage_id,onValueChange:_e=>W("stage_id",_e),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:ce("tickets.selectStage","Select stage")})}),i.jsx(dt,{children:Re.map(_e=>{var $e;return i.jsx(ke,{value:(($e=_e.stage_id)==null?void 0:$e.toString())||"",children:Oe(_e,"stage_name")},_e.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"priority",children:[ce("tickets.priority")," *"]}),i.jsxs(ft,{value:U.priority,onValueChange:_e=>W("priority",_e),children:[i.jsx(ut,{children:i.jsx(ht,{})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"low",children:ce("tickets.priorityLow")}),i.jsx(ke,{value:"medium",children:ce("tickets.priorityMedium")}),i.jsx(ke,{value:"high",children:ce("tickets.priorityHigh")}),i.jsx(ke,{value:"urgent",children:ce("tickets.priorityUrgent")})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"ticket_type",children:[ce("tickets.ticketType")," *"]}),i.jsxs(ft,{value:U.ticket_type,onValueChange:_e=>W("ticket_type",_e),children:[i.jsx(ut,{children:i.jsx(ht,{})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"request",children:ce("tickets.typeRequest")}),i.jsx(ke,{value:"follow_up",children:ce("tickets.typeFollowUp")}),i.jsx(ke,{value:"issue",children:ce("tickets.typeIssue")}),i.jsx(ke,{value:"internal_task",children:ce("tickets.typeInternalTask")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"assigned_to",children:ce("tickets.assignTo")}),i.jsxs(ft,{value:U.assigned_to,onValueChange:_e=>W("assigned_to",_e),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:ce("tickets.selectAssignee")})}),i.jsx(dt,{children:n.map(_e=>{var $e;return i.jsx(ke,{value:(($e=_e.userid)==null?void 0:$e.toString())||"",children:Oe(_e,"user_name")},_e.userid)})})]})]})]}),i.jsxs(Oa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(de,{type:"button",variant:"outline",onClick:()=>j(!1),className:"w-full sm:w-auto",children:ce("buttons.cancel")}),i.jsx(de,{type:"submit",disabled:ie||!U.subject.trim(),className:"w-full sm:w-auto",children:ce(ie?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),i.jsx(vn,{open:N,onOpenChange:C,children:i.jsxs(an,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[i.jsxs(sn,{children:[i.jsx(on,{className:"text-lg sm:text-xl leading-tight",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[i.jsx("span",{className:"break-words",children:_==null?void 0:_.subject}),i.jsx(pt,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(_==null?void 0:_.status)||ce("leads.unknown")})]})}),i.jsxs(Da,{className:"text-sm",children:[ce("tickets.ticketId"),": #",_==null?void 0:_.ticket_id]})]}),_&&i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[le&&i.jsx(vm,{variant:"destructive",children:i.jsx(xm,{children:le})}),k?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"edit-subject",children:[ce("tickets.subject")," *"]}),i.jsx(Ue,{id:"edit-subject",value:P.subject,onChange:_e=>M("subject",_e.target.value),placeholder:ce("tickets.subjectPlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"edit-description",children:ce("tickets.description")}),i.jsx(Dn,{id:"edit-description",value:P.description,onChange:_e=>M("description",_e.target.value),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:ce("tickets.stage","Stage")}),i.jsxs(ft,{value:P.stage_id,onValueChange:_e=>M("stage_id",_e),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:ce("tickets.selectStage","Select stage")})}),i.jsx(dt,{children:Re.map(_e=>{var $e;return i.jsx(ke,{value:(($e=_e.stage_id)==null?void 0:$e.toString())||"",children:Oe(_e,"stage_name")},_e.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:ce("tickets.priority")}),i.jsxs(ft,{value:P.priority,onValueChange:_e=>M("priority",_e),children:[i.jsx(ut,{children:i.jsx(ht,{})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"low",children:ce("tickets.priorityLow")}),i.jsx(ke,{value:"medium",children:ce("tickets.priorityMedium")}),i.jsx(ke,{value:"high",children:ce("tickets.priorityHigh")}),i.jsx(ke,{value:"urgent",children:ce("tickets.priorityUrgent")})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:ce("tickets.ticketType")}),i.jsxs(ft,{value:P.ticket_type,onValueChange:_e=>M("ticket_type",_e),children:[i.jsx(ut,{children:i.jsx(ht,{})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"request",children:ce("tickets.typeRequest")}),i.jsx(ke,{value:"follow_up",children:ce("tickets.typeFollowUp")}),i.jsx(ke,{value:"issue",children:ce("tickets.typeIssue")}),i.jsx(ke,{value:"internal_task",children:ce("tickets.typeInternalTask")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:ce("tickets.assignTo")}),i.jsxs(ft,{value:P.assigned_to,onValueChange:_e=>M("assigned_to",_e),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:ce("tickets.selectAssignee")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"unassigned",children:ce("tickets.unassigned","Unassigned")}),n.map(_e=>{var $e;return i.jsx(ke,{value:(($e=_e.userid)==null?void 0:$e.toString())||"",children:Oe(_e,"user_name")},_e.userid)})]})]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:ce("tickets.priority")}),i.jsx("div",{className:"mt-1",children:i.jsx(pt,{variant:FC(_.priority),className:"text-xs",children:_.priority||ce("leads.unknown")})})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:ce("tickets.ticketType")}),i.jsx("div",{className:"mt-1",children:i.jsx(pt,{variant:"outline",className:"text-xs",children:_.ticket_type||ce("leads.unknown")})})]})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:ce("tickets.stage","Stage")}),i.jsx("div",{className:"mt-1 text-sm",children:Re.find(_e=>_e.stage_id===_.stage_id)?Oe(Re.find(_e=>_e.stage_id===_.stage_id),"stage_name"):ce("tickets.noStage","No stage")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:ce("tickets.assignedTo")}),i.jsx("div",{className:"mt-1 text-sm break-words",children:Pe(_.assigned_to)?Oe(Pe(_.assigned_to),"user_name"):ce("tickets.unassigned","Unassigned")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:ce("tickets.createdDate")}),i.jsx("div",{className:"mt-1 text-sm",children:_.created_date?new Date(_.created_date).toLocaleString():"N/A"})]})]}),_.description&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:ce("tickets.description")}),i.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:_.description})]})]}),i.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:ce("tickets.createdBy")}),i.jsx("div",{className:"mt-1 text-sm break-words",children:Pe(_.created_by)?Oe(Pe(_.created_by),"user_name"):ce("leads.unknown")})]}),_.resolved_date&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:ce("tickets.resolvedDate")}),i.jsx("div",{className:"mt-1 text-sm",children:new Date(_.resolved_date).toLocaleString()})]}),_.closed_at&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:ce("tickets.closedDate")}),i.jsx("div",{className:"mt-1 text-sm",children:new Date(_.closed_at).toLocaleString()})]})]})]}),i.jsx(Oa,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:k?i.jsxs(i.Fragment,{children:[i.jsx(de,{variant:"outline",onClick:()=>E(!1),className:"w-full sm:w-auto",children:ce("buttons.cancel")}),i.jsxs(de,{onClick:et,disabled:ie||!P.subject.trim(),className:"w-full sm:w-auto",children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),ie?ce("buttons.saving","Saving..."):ce("buttons.save","Save")]})]}):i.jsxs(i.Fragment,{children:[i.jsx(de,{variant:"outline",onClick:()=>C(!1),className:"w-full sm:w-auto",children:ce("buttons.close","Close")}),i.jsxs(de,{onClick:()=>E(!0),className:"w-full sm:w-auto",children:[i.jsx(Di,{className:"h-4 w-4 mr-2"}),ce("buttons.edit","Edit")]})]})})]})})]}):null}var jP="Progress",SP=100,[hIe,BHe]=ms(jP),[mIe,pIe]=hIe(jP),Nq=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=gIe,...o}=e;(a||a===0)&&!QI(a)&&console.error(vIe(`${a}`,"Progress"));const l=QI(a)?a:SP;n!==null&&!JI(n,l)&&console.error(xIe(`${n}`,"Progress"));const c=JI(n,l)?n:null,u=Wb(c)?s(c,l):void 0;return i.jsx(mIe,{scope:r,value:c,max:l,children:i.jsx(mt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Wb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Eq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Nq.displayName=jP;var kq="ProgressIndicator",Cq=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=pIe(kq,r);return i.jsx(mt.div,{"data-state":Eq(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});Cq.displayName=kq;function gIe(e,t){return`${Math.round(e/t*100)}%`}function Eq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Wb(e){return typeof e=="number"}function QI(e){return Wb(e)&&!isNaN(e)&&e>0}function JI(e,t){return Wb(e)&&!isNaN(e)&&e<=t&&e>=0}function vIe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${SP}\`.`}function xIe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${SP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Tq=Nq,yIe=Cq;const uf=x.forwardRef(({className:e,value:t,...r},n)=>i.jsx(Tq,{ref:n,className:Ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(yIe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));uf.displayName=Tq.displayName;function Aq({items:e,stages:t,stageType:r,renderItem:n,onItemUpdate:a,onItemDelete:s,onItemCreate:o,onStageCreate:l,onStageUpdate:c,onStageDelete:u,canManageStages:d=!0,canManageItems:f=!0,showAddButton:h=!0,addButtonText:m="Add New Item",addButtonDescription:g="Add a new item to this stage",className:p="",mobileSelectedStageId:v,onMobileStageChange:y}){var je;const{t:b}=At(),w=Ur();ir();const[j,_]=x.useState(null),[S,N]=x.useState(!1),[C,k]=x.useState(""),[E,O]=x.useState(null),[T,U]=x.useState(""),[W,R]=x.useState(null),[z,P]=x.useState(!1),[M,L]=x.useState(""),[q,Z]=x.useState({title:"",description:"",progress:0}),A=t.filter(be=>!r||be.stage_type===r).sort((be,Pe)=>{const De=be.order_index??be.stager_order_index??0,Le=Pe.order_index??Pe.stager_order_index??0;return De-Le}),B=A.map(be=>({id:be.id,name:Oe(be,"name"),color:be.color,count:e.filter(Pe=>Pe.stage===be.id).length})),H=be=>{_(be)},V=be=>{be.preventDefault(),be.dataTransfer.dropEffect="move"},te=async be=>{if(!j||!a)return;const Pe=e.find(De=>De.id===j);if(Pe&&Pe.stage!==be)try{await a(j,{stage:be})}catch(De){console.error("Failed to update item stage:",De)}_(null)},le=async(be,Pe)=>{if(!a)return;const De=e.find(Le=>Le.id===be);if(De&&De.stage!==Pe)try{await a(be,{stage:Pe})}catch(Le){console.error("Failed to update item stage:",Le)}},xe=async()=>{if(!(!C.trim()||!l))try{const be=A.length>0?Math.max(...A.map(Pe=>Pe.order_index??Pe.stager_order_index??0)):-1;await l({name:C.trim(),name_ar:null,order_index:be+1,stager_order_index:be+1,color:"border-s-4 border-gray-400",color_var:"--gray-400",stage_type:r}),k(""),N(!1)}catch(be){console.error("Failed to create stage:",be)}},ie=async be=>{if(!(!T.trim()||!c))try{await c(be,{name:T.trim()}),O(null),U("")}catch(Pe){console.error("Failed to update stage:",Pe)}},G=async be=>{if(e.filter(De=>De.stage===be).length>0){R(be);return}if(u)try{await u(be)}catch(De){console.error("Failed to delete stage:",De)}},Q=async()=>{if(!(!W||!u))try{await u(W),R(null)}catch(be){console.error("Failed to delete stage:",be)}},D=be=>{L(be),P(!0)},ce=async()=>{if(!(!q.title.trim()||!o))try{await o(M,{title:q.title.trim(),description:q.description.trim()||null,progress:q.progress}),Z({title:"",description:"",progress:0}),P(!1)}catch(be){console.error("Failed to create item:",be)}};return i.jsxs(i.Fragment,{children:[i.jsx(vn,{open:z,onOpenChange:P,children:i.jsxs(an,{className:"sm:max-w-[500px]",children:[i.jsxs(sn,{children:[i.jsx(on,{children:m}),i.jsx(Da,{children:g})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Title *"}),i.jsx(Ue,{value:q.title,onChange:be=>Z(Pe=>({...Pe,title:be.target.value})),placeholder:"Enter title"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Description"}),i.jsx(Dn,{value:q.description,onChange:be=>Z(Pe=>({...Pe,description:be.target.value})),placeholder:"Enter description",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Initial Progress"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"range",min:"0",max:"100",value:q.progress,onChange:be=>Z(Pe=>({...Pe,progress:parseInt(be.target.value)})),className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"0%"}),i.jsxs("span",{children:[q.progress,"%"]}),i.jsx("span",{children:"100%"})]})]})]})]}),i.jsxs(Oa,{children:[i.jsx(de,{variant:"outline",onClick:()=>P(!1),children:b("buttons.cancel")}),i.jsxs(de,{onClick:ce,disabled:!q.title.trim(),children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),"Create"]})]})]})}),i.jsx(X_,{stages:B,currentStageId:v||((je=B[0])==null?void 0:je.id),onStageChange:y||(()=>{}),children:i.jsx("div",{className:Ce("flex gap-6 pt-6 pb-6 max-w-full pl-6 rtl:pr-6 rtl:pl-0",p),children:A.filter(be=>{var Pe;return w?be.id===(v||((Pe=B[0])==null?void 0:Pe.id)):!0}).map((be,Pe)=>{var Le,et;const De=e.filter(se=>se.stage===be.id);return i.jsxs("div",{className:Ce("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",w?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${Pe*.1}s`},onDragOver:V,onDrop:()=>te(be.id),children:[!w&&i.jsx("div",{className:Ce("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",be.color||"border-s-4 border-primary/50"),children:i.jsx("div",{className:"flex items-center justify-between mb-2",children:E===be.id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(Ue,{value:T,onChange:se=>U(se.target.value),onKeyDown:se=>{se.key==="Enter"&&ie(be.id),se.key==="Escape"&&(O(null),U(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(de,{size:"sm",variant:"ghost",onClick:()=>ie(be.id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[d&&i.jsx(zo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:Oe(be,"name")})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:De.length}),d&&i.jsxs(i.Fragment,{children:[i.jsx(de,{size:"sm",variant:"ghost",onClick:()=>{O(be.id),U(Oe(be,"name"))},className:"h-6 w-6 p-0",title:b("buttons.edit"),children:i.jsx(Di,{className:"h-3 w-3"})}),i.jsx(de,{size:"sm",variant:"ghost",onClick:()=>G(be.id),className:"h-6 w-6 p-0 text-destructive",title:b("buttons.delete"),children:i.jsx(Zt,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[f&&h&&((Le=A.sort((se,ge)=>{const re=se.order_index??se.stager_order_index??0,ae=ge.order_index??ge.stager_order_index??0;return re-ae})[0])==null?void 0:Le.id)===be.id&&i.jsx("div",{className:"mb-4",children:i.jsx(st,{className:Ce("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-s-4 border-gray-300","flex items-center justify-center bg-muted/20",w?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>D(be.id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Ut,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:m})]})})}),De.map(se=>i.jsx("div",{children:n(se,{onDelete:f&&s?()=>s(se.id):void 0,onDragStart:f?H:void 0,onStageChange:w?le:void 0,isDragging:j===se.id,stages:A})},se.id)),f&&h&&((et=A.sort((se,ge)=>{const re=se.order_index??se.stager_order_index??0,ae=ge.order_index??ge.stager_order_index??0;return re-ae})[0])==null?void 0:et.id)!==be.id&&i.jsx("div",{className:"mt-2",children:i.jsxs(de,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>D(be.id),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),m]})})]})]},be.id)})})}),d&&!w&&i.jsx("div",{className:"flex-shrink-0 w-[280px] sm:w-[300px]",children:S?i.jsxs("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 shadow-soft",children:[i.jsx(Ue,{value:C,onChange:be=>k(be.target.value),onKeyDown:be=>{be.key==="Enter"&&xe(),be.key==="Escape"&&(N(!1),k(""))},placeholder:"Stage name...",className:"mb-2",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(de,{onClick:xe,size:"sm",className:"flex-1",children:"Add"}),i.jsx(de,{onClick:()=>{N(!1),k("")},size:"sm",variant:"ghost",children:i.jsx(Ri,{className:"h-4 w-4"})})]})]}):i.jsxs(de,{variant:"outline",size:"lg",className:"w-full h-24 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>N(!0),children:[i.jsx(Ut,{className:"h-5 w-5 mr-2"}),"Add Stage"]})}),i.jsx(Rs,{open:!!W,onOpenChange:()=>R(null),children:i.jsxs(ns,{children:[i.jsxs(as,{children:[i.jsx(is,{children:"Delete Stage"}),i.jsxs(os,{children:["This stage contains ",e.filter(be=>be.stage===W).length," item(s). Deleting this stage will also remove all items in it. This action cannot be undone."]})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:"Cancel"}),i.jsx(ls,{onClick:Q,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})}function bIe({projectId:e,onClose:t}){const{id:r}=Kte(),n=Ms(),{user:a}=hr(),[s,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,v]=x.useState(null),[y,b]=x.useState(null),[w,j]=x.useState([]),[_,S]=x.useState([]),N=e||(r?parseInt(r):null),C=!!e;x.useEffect(()=>{(async()=>{!N||!a||h(!0)})()},[N,a]),x.useEffect(()=>{N&&f&&k()},[N,f]);const k=async()=>{if(N)try{d(!0);const R=await ld.getById(N);if(g(R),R){if(R.created_by)try{const z=await yn.getByAuthId(R.created_by.toString());v(z)}catch(z){console.error("Failed to fetch client:",z)}if(R.created_by)try{const z=await yn.getByAuthId(R.created_by.toString());b(z)}catch(z){console.error("Failed to fetch manager:",z)}try{const P=(await O3e.getProjectUsers(N)).map(L=>L.userid),M=await Promise.all(P.map(L=>L?yn.getByAuthId(L.toString()).catch(()=>null):null));j(M.filter(L=>L!==null))}catch(z){console.error("Failed to fetch project users:",z)}try{const M=(await Ca.getAll()).filter(Z=>Z.project_id===N).map(Z=>Z.stage_id),q=(await Promise.all(M.map(Z=>yd.getByStage(Z)))).flat();S(q)}catch(z){console.error("Failed to fetch tasks:",z)}}}catch(R){console.error("Failed to load project data:",R)}finally{d(!1)}};x.useEffect(()=>{N&&m&&_.length>0&&E()},[N,m,_]);const E=async()=>{if(!(!N||!m||_.length===0))try{const R=[];for(const z of _){const P=await MC.getByTask(z.task_id);R.push(...P)}o(R)}catch(R){console.error("Failed to load comments:",R)}},O=async R=>{if(!(!l.trim()||!a))try{const z=await MC.create({task_id:R,userid:a.id.toString(),message:l.trim()});o(P=>[...P,z]),c("")}catch(z){console.error("Failed to add comment:",z)}},T=()=>{t?t():n("/projects")},U=({children:R})=>C?i.jsx("div",{className:"h-full overflow-y-auto p-1",children:R}):i.jsx(ik,{children:R});if(f===!1)return i.jsx(U,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),i.jsx(de,{onClick:T,children:"Back to Projects"})]})})});if(f===null||!m||!p||!y)return u?i.jsx(U,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):i.jsx(U,{children:i.jsx("div",{children:"Project not found"})});const W={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return i.jsx(U,{children:i.jsxs("div",{className:"space-y-6 pb-10",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(de,{variant:"ghost",size:"icon",onClick:T,children:i.jsx(pB,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:Oe(m,"project_name")}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:Oe(p,"company_name")})]})]}),i.jsx(de,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),i.jsx(st,{children:i.jsxs(xt,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),i.jsxs("span",{className:"text-sm font-bold",children:[m.progress||0,"%"]})]}),i.jsx(uf,{value:m.progress||0,className:"h-3"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:i.jsxs(Co,{defaultValue:"tasks",children:[i.jsxs(Fi,{className:"w-full sm:w-auto",children:[i.jsx(Er,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),i.jsx(Er,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),i.jsx(Er,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),i.jsxs(Jr,{value:"tasks",className:"space-y-3",children:[_.map(R=>{var P;const z=w.find(M=>M.user_id===R.assigned_to);return i.jsx(st,{children:i.jsx(xt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:Oe(R,"task_name")}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Oe(R,"description")}),i.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[i.jsx(pt,{className:Ce("text-xs",W[R.task_status]),children:((P=R.task_status)==null?void 0:P.replace("_"," "))||"todo"}),R.due_date&&i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Oi,{className:"h-3 w-3"}),"Due: ",new Date(R.due_date).toLocaleDateString()]})]})]}),z&&i.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[i.jsx("div",{className:"text-2xl mb-1",children:""}),Oe(z,"user_name")]})]})})},R.task_id)}),i.jsx(de,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),i.jsx(Jr,{value:"images",children:i.jsx(st,{children:i.jsxs(xt,{className:"pt-6",children:[i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(R=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},R))}),i.jsxs(de,{variant:"outline",className:"w-full mt-4",children:[i.jsx(Cg,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),i.jsxs(Jr,{value:"comments",className:"space-y-3",children:[s.map(R=>{const z=[...w,p,y].find(P=>{var M,L,q,Z;return P&&(((M=P.userid)==null?void 0:M.toString())===((L=R.userid)==null?void 0:L.toString())||((q=P.user_id)==null?void 0:q.toString())===((Z=R.userid)==null?void 0:Z.toString()))});return i.jsx(st,{children:i.jsx(xt,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"text-2xl",children:(z==null?void 0:z.avatar)||""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:z?Oe(z,"user_name"):"Unknown"}),i.jsx("p",{className:"text-sm mt-1",children:R.message}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(R.created_date||"").toLocaleString()})]})]})})},R.comment_id)}),_.length>0&&i.jsx(st,{children:i.jsx(xt,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ue,{placeholder:"Add a comment...",value:l,onChange:R=>c(R.target.value),onKeyDown:R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),O(_[0].task_id))}}),i.jsx(de,{size:"icon",onClick:()=>O(_[0].task_id),children:i.jsx(Mv,{className:"h-4 w-4"})})]})})})]})]})}),i.jsxs("div",{className:"space-y-4 lg:order-last",children:[i.jsxs(st,{children:[i.jsx(Ht,{children:i.jsx(vr,{className:"text-base sm:text-lg",children:"Project Summary"})}),i.jsxs(xt,{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:p.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold",children:Oe(p,"user_name")}),i.jsx("div",{className:"text-xs text-muted-foreground",children:Oe(p,"company_name")})]})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:y.avatar}),i.jsx("div",{className:"text-sm",children:Oe(y,"user_name")})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),i.jsx("div",{className:"space-y-2",children:w.map(R=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:R.avatar||""}),i.jsx("div",{className:"text-sm",children:Oe(R,"user_name")})]},R.user_id))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",m.created_date?new Date(m.created_date).toLocaleDateString():"Not set",m.end_date&&i.jsxs("div",{children:["End: ",new Date(m.end_date).toLocaleDateString()]})]})]})]})]}),i.jsxs(st,{children:[i.jsx(Ht,{children:i.jsx(vr,{className:"text-base sm:text-lg",children:"Recent Activity"})}),i.jsx(xt,{children:i.jsxs("div",{className:"space-y-3 text-xs",children:[i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"Task completed"}),i.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"New comment added"}),i.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Images uploaded"}),i.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function wIe({project:e,client:t,manager:r,onDelete:n,onClick:a,onDragStart:s,onStageChange:o,isDragging:l=!1,stages:c}){const{t:u}=At(),d=Ur(),f=e.progress||0,h=p=>p?new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.notSet","Not set"),m=p=>{if(!p)return null;const v=new Date,b=(new Date(p).getTime()-v.getTime())/(1e3*60*60);return b<0?"overdue":b<24?"urgent":b<72?"soon":null},g=p=>{switch(m(p)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return i.jsxs(st,{className:Ce("group relative hover:shadow-lg transition-all duration-200",d?"w-full border-s-4 border-blue-500":"w-[280px] sm:w-[300px] border-s-4",!d&&(f===100?"border-s-green-500":"border-s-blue-500"),g(e.end_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:p=>{s&&(p.dataTransfer.effectAllowed="move",p.dataTransfer.setData("text/plain",e.project_id.toString()),s(e.project_id))},children:[i.jsx(Ht,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Oe(e,"project_name")}),Oe(e,"project_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Oe(e,"project_description")})]}),n&&i.jsxs(Rs,{children:[i.jsx(ox,{asChild:!0,onClick:p=>p.stopPropagation(),children:i.jsx(de,{variant:"ghost",size:"sm",className:Ce("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(Zt,{className:"h-4 w-4"})})}),i.jsxs(ns,{onClick:p=>p.stopPropagation(),children:[i.jsxs(as,{children:[i.jsx(is,{children:u("projects.deleteProject")}),i.jsx(os,{children:u("projects.deleteConfirmation",{name:Oe(e,"project_name")})})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:u("buttons.cancel")}),i.jsx(ls,{onClick:p=>{p.stopPropagation(),n()},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(xt,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:u("projects.progress")}),i.jsxs("span",{className:"font-medium",children:[f,"%"]})]}),i.jsx(uf,{value:f,className:"h-2"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(zn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),i.jsx("p",{className:"text-xs font-medium truncate",children:t.name})]})]}),i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(On,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),i.jsx("p",{className:"text-xs font-medium truncate",children:r?r.name:u("common.all","Unassigned")})]})]})]}),d&&o&&i.jsx("div",{className:"pt-1",children:i.jsxs(ft,{value:e.stage.toString(),onValueChange:p=>o(e.project_id,parseInt(p)),children:[i.jsx(ut,{className:"h-7 text-xs",children:i.jsx(ht,{placeholder:u("projects.selectStage","Select stage")})}),i.jsx(dt,{children:c.filter(p=>["New","In Progress","Overdue","Completed"].includes(p.name)).map(p=>i.jsx(ke,{value:p.id.toString(),children:Oe(p,"name")},p.id))})]})}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(Oi,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:h(e.created_date)})]}),f===100?i.jsx(pt,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):f>0?i.jsx(pt,{variant:"default",className:"text-xs",children:"In Progress"}):i.jsx(pt,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function _Ie(){Ms();const{hasRole:e,user:t}=hr(),{currentLanguage:r,isRTL:n}=ir(),{t:a}=At();Ur();const{toast:s}=Li(),[o,l]=x.useState([]),c=async B=>{try{await ld.delete(B),l(o.filter(H=>H.project_id!==B)),s({title:a("common.success"),description:a("projects.deleteSuccess")})}catch(H){console.error("Failed to delete project:",H),s({variant:"destructive",title:a("common.error"),description:a("projects.deleteError")})}},[u,d]=x.useState([]),[f,h]=x.useState([]),[m,g]=x.useState([]),[p,v]=x.useState(!0),[y,b]=x.useState(null);x.useState(!1),x.useState(""),x.useState(null),x.useState(""),x.useState(null),x.useState(null);const[w,j]=x.useState(!1),[_,S]=x.useState(null),[N,C]=x.useState("kanban"),[k,E]=x.useState(null),[O,T]=x.useState(""),[U,W]=x.useState("all"),[R,z]=x.useState("all"),[P,M]=x.useState({from:void 0,to:void 0}),L=x.useMemo(()=>o.filter(B=>{const H=(B.project_name||"").toLowerCase().includes(O.toLowerCase())||(B.project_description||"").toLowerCase().includes(O.toLowerCase());let V=!0;U==="todo"?V=(B.progress||0)===0:U==="in_progress"?V=(B.progress||0)>0&&(B.progress||0)<100:U==="done"&&(V=(B.progress||0)===100);const te=R==="all"||B.created_by&&B.created_by.toString()===R;let le=!0;if(P.from&&B.end_date){const xe=new Date(B.end_date),ie=new Date(P.from);ie.setHours(0,0,0,0);const G=new Date(xe);if(G.setHours(0,0,0,0),le=G>=ie,le&&P.to){const Q=new Date(P.to);Q.setHours(23,59,59,999),le=G<=Q}}else P.from&&!B.end_date&&(le=!1);return H&&V&&te&&le}),[o,O,U,R,P]);x.useEffect(()=>{q()},[]),x.useEffect(()=>{if(m.length>0&&_===null){const B=m.find(H=>H.stage_id===5);B&&S(B.stage_id)}},[m,_]);const q=async()=>{try{v(!0),b(null);const[B,H,V,te]=await Promise.all([ld.getAll(),FH.getAll(),yn.getAll(),Ca.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:B.length,clients:H.length,users:V.length,stages:te.length}),console.log("[Projects] Projects data:",B),console.log("[Projects] Stages data:",te),l(B),d(H),h(V),g(te)}catch(B){console.error("Failed to load data:",B),b(a("projects.loadError","Failed to load projects. Please try again."))}finally{v(!1)}},Z=m.filter(B=>B.stage_type==="projects").sort((B,H)=>{const V=B.stager_order_index??0,te=H.stager_order_index??0;return V-te});if(p)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:a("common.loading"),size:"2xl"})});const A=()=>y?i.jsx(Tp,{title:a("projects.errorTitle","Error loading projects"),message:y,onRetry:q}):o.length===0&&!O&&U==="all"&&R==="all"?i.jsx(vo,{title:a("projects.emptyTitle","No projects found"),description:a("projects.emptyDescription","Get started by creating your first project."),icon:i.jsx(Rd,{className:"h-10 w-10 text-muted-foreground"}),action:i.jsxs(de,{onClick:()=>j(!0),children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"})," ",a("projects.createProject")]})}):i.jsxs(i.Fragment,{children:[i.jsx(mP,{onSearch:T,onFilterStatus:W,onFilterAssignee:z,onFilterDateRange:M,users:f,statuses:[{value:"todo",label:a("mprojects.notStarted")},{value:"in_progress",label:a("mprojects.inProgress")},{value:"done",label:a("mprojects.completed")}]}),N==="kanban"?i.jsx(Aq,{items:L.map(B=>({...B,id:B.project_id,title:Oe(B,"project_name")})),stages:Z.map(B=>({...B,id:B.stage_id,name:Oe(B,"stage_name")})),stageType:"projects",renderItem:(B,H)=>i.jsx(wIe,{project:B,client:u.find(V=>{var te,le;return((te=V.userid)==null?void 0:te.toString())===((le=B.MemberID)==null?void 0:le.toString())})||null,manager:f.find(V=>V.userid===Number(B.created_by)||V.userid===Number(B.created_by))||null,stages:H.stages,onDelete:()=>{var V;return(V=H.onDelete)==null?void 0:V.call(H,B.id)},onClick:()=>E(B.project_id),onDragStart:H.onDragStart,onStageChange:H.onStageChange,isDragging:H.isDragging}),onItemUpdate:async(B,H)=>{H.stage!==void 0&&(await ld.update(B,{stage:H.stage}),l(o.map(V=>V.project_id===B?{...V,stage:H.stage}:V)))},onItemDelete:async B=>{await ld.delete(B),l(o.filter(H=>H.project_id!==B))},onItemCreate:async(B,H)=>{var le;const V=sc({project_name:H.title,project_description:H.description,created_by:((le=t==null?void 0:t.profile)==null?void 0:le.userid)||1,progress:H.progress,stage:B,end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),te=await ld.create(V);l([...o,te])},onStageCreate:async B=>{const H=await Ca.create({stage_name:B.name,stage_name_ar:B.name_ar,stager_order_index:B.order_index,color:B.color,color_var:B.color_var,stage_type:"projects"});g([...m,H])},onStageUpdate:async(B,H)=>{await Ca.update(B,{stage_name:H.name}),g(m.map(V=>V.stage_id===B?{...V,stage_name:H.name}:V))},onStageDelete:async B=>{await Ca.delete(B),g(m.filter(H=>H.stage_id!==B)),q()},canManageStages:!0,canManageItems:!0,showAddButton:!0,addButtonText:a("projects.addNewProjectCard"),addButtonDescription:a("projects.createProjectDesc"),mobileSelectedStageId:_,onMobileStageChange:B=>S(Number(B))}):i.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:i.jsxs(vP,{children:[i.jsx(xP,{children:i.jsxs(hv,{children:[i.jsx(ao,{children:a("projects.projectName")}),i.jsx(ao,{children:a("projects.client")}),i.jsx(ao,{children:a("projects.manager")}),i.jsx(ao,{children:a("projects.stage")}),i.jsx(ao,{children:a("projects.progress")}),i.jsx(ao,{children:a("projects.dueDate")}),i.jsx(ao,{className:"w-[50px]"})]})}),i.jsx(yP,{children:L.map(B=>{const H=f.find(le=>le.userid===Number(B.created_by)||le.userid===Number(B.created_by)),V=u.find(le=>{var xe,ie;return((xe=le.userid)==null?void 0:xe.toString())===((ie=B.MemberID)==null?void 0:ie.toString())}),te=m.find(le=>le.stage_id===B.stage);return i.jsxs(hv,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>E(B.project_id),children:[i.jsx(so,{className:"font-medium",children:Oe(B,"project_name")}),i.jsx(so,{children:V?Oe(V,"name"):"-"}),i.jsx(so,{children:H?Oe(H,"name"):"-"}),i.jsx(so,{children:i.jsx(pt,{variant:"outline",className:"bg-background",children:te?Oe(te,"stage_name"):"-"})}),i.jsx(so,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(uf,{value:B.progress||0,className:"w-16 h-2"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[B.progress,"%"]})]})}),i.jsx(so,{className:"text-muted-foreground text-sm",children:B.end_date?new Date(B.end_date).toLocaleDateString():"-"}),i.jsx(so,{children:i.jsx(de,{variant:"ghost",size:"icon",onClick:le=>{le.stopPropagation(),c(B.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:i.jsx(Zt,{className:"h-4 w-4"})})})]},B.project_id)})})]})})]});return i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:n?"rtl":"ltr",children:[i.jsx(lx,{title:a("projects.title"),description:a("projects.subtitle"),icon:i.jsx(Rd,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(de,{variant:N==="kanban"?"default":"ghost",size:"sm",onClick:()=>C("kanban"),className:"h-8 w-8 p-0",children:i.jsx(Mw,{className:"h-4 w-4"})}),i.jsx(de,{variant:N==="list"?"default":"ghost",size:"sm",onClick:()=>C("list"),className:"h-8 w-8 p-0",children:i.jsx(hm,{className:"h-4 w-4"})})]}),i.jsxs(de,{onClick:()=>j(!0),children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"})," ",a("projects.newProject")]})]}),stats:[{label:a("projects.total","Total Projects"),value:o.length,icon:i.jsx(Rd,{className:"h-4 w-4 text-primary"})},{label:a("projects.inProgress","In Progress"),value:o.filter(B=>(B.progress||0)>0&&(B.progress||0)<100).length,icon:i.jsx(Oi,{className:"h-4 w-4 text-blue-500"})},{label:a("projects.completed","Completed"),value:o.filter(B=>(B.progress||0)===100).length,icon:i.jsx(zn,{className:"h-4 w-4 text-green-600"})},{label:a("projects.avgProgress","Avg Progress"),value:o.length>0?`${Math.round(o.reduce((B,H)=>B+(H.progress||0),0)/o.length)}%`:"0%",icon:i.jsx(uf,{className:"h-4 w-4 text-blue-500"})}]}),A(),i.jsx(vn,{open:w,onOpenChange:j,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:a("projects.createProject")}),i.jsx(Da,{children:a("projects.createProjectDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[a("projects.projectName")," *"]}),i.jsx(Ue,{value:"",onChange:B=>{},placeholder:a("projects.projectNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:a("projects.description")}),i.jsx(Dn,{value:"",onChange:B=>{},placeholder:a("projects.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:a("projects.client")}),i.jsxs(ft,{value:"",children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:a("projects.selectClient")})}),i.jsx(dt,{children:u.map(B=>{var H;return i.jsx(ke,{value:((H=B.userid)==null?void 0:H.toString())||"",children:Oe(B,"name")},B.userid)})})]})]})]}),i.jsxs(Oa,{children:[i.jsx(de,{variant:"outline",onClick:()=>j(!1),children:a("buttons.cancel")}),i.jsxs(de,{onClick:()=>j(!1),disabled:!0,children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),a("projects.createProject")]})]})]})}),i.jsx(fl,{open:!!k,onOpenChange:B=>!B&&E(null),children:i.jsxs(No,{side:n?"left":"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[i.jsxs(uc,{className:"sr-only",children:[i.jsx(hl,{children:"Project Details"}),i.jsx(ef,{children:"View and manage project information"})]}),k&&i.jsx(bIe,{projectId:k,onClose:()=>E(null)})]})})]})}function jIe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var NP="ScrollArea",[Pq,UHe]=ms(NP),[SIe,Ui]=Pq(NP),Oq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,v]=x.useState(null),[y,b]=x.useState(0),[w,j]=x.useState(0),[_,S]=x.useState(!1),[N,C]=x.useState(!1),k=$t(t,O=>c(O)),E=Iv(a);return i.jsx(SIe,{scope:r,type:n,dir:E,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:j,children:i.jsx(mt.div,{dir:E,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Oq.displayName=NP;var Dq="ScrollAreaViewport",Rq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,o=Ui(Dq,r),l=x.useRef(null),c=$t(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(mt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Rq.displayName=Dq;var Sl="ScrollAreaScrollbar",kP=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ui(Sl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(NIe,{...n,ref:t,forceMount:r}):a.type==="scroll"?i.jsx(kIe,{...n,ref:t,forceMount:r}):a.type==="auto"?i.jsx(Mq,{...n,ref:t,forceMount:r}):a.type==="always"?i.jsx(CP,{...n,ref:t}):null});kP.displayName=Sl;var NIe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ui(Sl,e.__scopeScrollArea),[s,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(Ma,{present:r||s,children:i.jsx(Mq,{"data-state":s?"visible":"hidden",...n,ref:t})})}),kIe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ui(Sl,e.__scopeScrollArea),s=e.orientation==="horizontal",o=ej(()=>c("SCROLL_END"),100),[l,c]=jIe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(Ma,{present:r||l!=="hidden",children:i.jsx(CP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ze(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ze(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Mq=x.forwardRef((e,t)=>{const r=Ui(Sl,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,o]=x.useState(!1),l=e.orientation==="horizontal",c=ej(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return qm(r.viewport,c),qm(r.content,c),i.jsx(Ma,{present:n||s,children:i.jsx(CP,{"data-state":s?"visible":"hidden",...a,ref:t})})}),CP=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ui(Sl,e.__scopeScrollArea),s=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Bq(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return OIe(h,o.current,l,m)}return r==="horizontal"?i.jsx(CIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=ZI(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?i.jsx(EIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=ZI(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),CIe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Ui(Sl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=$t(t,c,s.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Iq,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Z_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),zq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:qb(o.paddingLeft),paddingEnd:qb(o.paddingRight)}})}})}),EIe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Ui(Sl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=$t(t,c,s.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Iq,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Z_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),zq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:qb(o.paddingTop),paddingEnd:qb(o.paddingBottom)}})}})}),[TIe,Fq]=Pq(Sl),Iq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Ui(Sl,r),[g,p]=x.useState(null),v=$t(t,k=>p(k)),y=x.useRef(null),b=x.useRef(""),w=m.viewport,j=n.content-n.viewport,_=Vn(d),S=Vn(c),N=ej(f,10);function C(k){if(y.current){const E=k.clientX-y.current.left,O=k.clientY-y.current.top;u({x:E,y:O})}}return x.useEffect(()=>{const k=E=>{const O=E.target;(g==null?void 0:g.contains(O))&&_(E,j)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[w,g,j,_]),x.useEffect(S,[n,S]),qm(g,N),qm(m.content,N),i.jsx(TIe,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Vn(s),onThumbPointerUp:Vn(o),onThumbPositionChange:S,onThumbPointerDown:Vn(l),children:i.jsx(mt.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Ze(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),y.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(k))}),onPointerMove:Ze(e.onPointerMove,C),onPointerUp:Ze(e.onPointerUp,k=>{const E=k.target;E.hasPointerCapture(k.pointerId)&&E.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Hb="ScrollAreaThumb",Lq=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Fq(Hb,e.__scopeScrollArea);return i.jsx(Ma,{present:r||a.hasThumb,children:i.jsx(AIe,{ref:t,...n})})}),AIe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=Ui(Hb,r),o=Fq(Hb,r),{onThumbPositionChange:l}=o,c=$t(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=ej(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=DIe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),i.jsx(mt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ze(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Ze(e.onPointerUp,o.onThumbPointerUp)})});Lq.displayName=Hb;var EP="ScrollAreaCorner",$q=x.forwardRef((e,t)=>{const r=Ui(EP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(PIe,{...e,ref:t}):null});$q.displayName=EP;var PIe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ui(EP,r),[s,o]=x.useState(0),[l,c]=x.useState(0),u=!!(s&&l);return qm(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),qm(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(mt.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function qb(e){return e?parseInt(e,10):0}function Bq(e,t){const r=e/t;return isNaN(r)?0:r}function Z_(e){const t=Bq(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function OIe(e,t,r,n="ltr"){const a=Z_(r),s=a/2,o=t||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Uq([c,u],f)(e)}function ZI(e,t,r="ltr"){const n=Z_(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=q2(e,c);return Uq([0,o],[0,l])(u)}function Uq(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function zq(e,t){return e>0&&e<t}var DIe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function ej(e,t){const r=Vn(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function qm(e,t){const r=Vn(t);bn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var Vq=Oq,RIe=Rq,MIe=$q;const Ka=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Vq,{ref:n,className:Ce("relative overflow-hidden",e),...r,children:[i.jsx(RIe,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(Wq,{}),i.jsx(MIe,{})]}));Ka.displayName=Vq.displayName;const Wq=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(kP,{ref:n,orientation:t,className:Ce("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(Lq,{className:"relative flex-1 rounded-full bg-border"})}));Wq.displayName=kP.displayName;const Ky={async createApplication(e){return await X.partnerApply.create(e)},async getApplications(){return(await X.partnerApply.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async updateStatus(e,t){await X.partnerApply.update(e,{status:t})}},FIe=async e=>{const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")};function IIe(){const{user:e}=hr(),{currentLanguage:t,isRTL:r}=ir();Ur();const{t:n}=At(),[a,s]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(""),[h,m]=x.useState(!1),[g,p]=x.useState(""),[v,y]=x.useState(""),[b,w]=x.useState(""),[j,_]=x.useState("employee"),[S,N]=x.useState(""),[C,k]=x.useState(!1),[E,O]=x.useState(null),[T,U]=x.useState("all"),[W,R]=x.useState("employees"),[z,P]=x.useState(!1),[M,L]=x.useState(null),[q,Z]=x.useState(!1),[A,B]=x.useState({name:"",Email:"",mobile:"",permissions:""}),[H,V]=x.useState(!1),[te,le]=x.useState(""),[xe,ie]=x.useState(new Map);x.useEffect(()=>{Q(),G()},[]);const G=async()=>{try{const re=await vT(),ae=new Map;re.forEach(fe=>{ae.set(fe.permissions_ID,fe.permissions_Name)}),ie(ae)}catch(re){console.error("Failed to load permission names:",re)}},Q=async()=>{try{u(!0);const[re,ae]=await Promise.all([yn.getAll(),Ky.getApplications()]);s(re),l(ae)}catch(re){console.error("Failed to load users:",re)}finally{u(!1)}},D=a.filter(re=>{var _e,$e;const ae=W==="employees",fe=W==="clients",Ee=W==="partners";if(ae&&![1,2,3,4].includes(Number(re.permissions))||Ee&&![5,6].includes(Number(re.permissions)))return!1;const Re=((_e=re.name)==null?void 0:_e.toLowerCase())||"",Je=(($e=re.Email)==null?void 0:$e.toLowerCase())||"",Xe=String(re.permissions||""),_t=d.toLowerCase();return Re.includes(_t)||Je.includes(_t)||Xe.includes(_t)}),ce=re=>{const ae=["destructive","default","secondary","outline","default","secondary"];return re&&re>=1&&re<=ae.length?ae[re-1]:"secondary"},je=re=>{if(!re)return"User";const ae=xe.get(re);return ae||{1:"Admin",2:"Manager",3:"Employee",4:"Team Leader",5:"Partner Employee",6:"Partner Leader"}[re]||`Permission ${re}`},be=async re=>{if(re.preventDefault(),!C){N(""),k(!0);try{const ae=await FIe(b),fe={name:g,Email:v,user_pasword:ae,permissions:j==="admin"?1:j==="manager"||j==="employee"?2:j==="team_leader"?4:2},Ee=await X.Users.create(fe);E&&(await Ky.updateStatus(E,"approved"),O(null)),m(!1),p(""),y(""),w(""),_("employee"),Q()}catch(ae){N(ae.message||n("users.addUserError"))}finally{k(!1)}}},Pe=re=>{p(re.full_name),y(re.email),_("employee"),w(""),O(re.apply_id),m(!0),R("employees")},De=async re=>{if(confirm(n("users.rejectConfirmation")))try{await Ky.updateStatus(re,"rejected"),Q()}catch(ae){console.error("Failed to reject application:",ae)}},Le=async(re,ae)=>{if(confirm(n("users.deleteConfirmation",{name:ae})))try{await X.Users.delete(re),Q()}catch(fe){alert(`${n("users.deleteError")}: ${fe.message}`)}},et=async(re,ae)=>{try{const fe=ae==="1"?1:2;await X.Users.update(re,{permissions:fe}),Q()}catch(fe){alert(`${n("users.updateRoleError")}: ${fe.message}`)}},se=async re=>{var ae;if(re.preventDefault(),!(H||!M)){le(""),V(!0);try{const fe={};A.name!==Oe(M,"name")&&(fe.name=A.name),A.Email!==M.Email&&(fe.Email=A.Email),A.mobile!==((ae=M.mobile)==null?void 0:ae.toString())&&(fe.mobile=A.mobile?parseInt(A.mobile):null),A.permissions!==M.permissions&&(fe.permissions=A.permissions),Object.keys(fe).length>0?(await X.Users.update(M.userid,fe),Z(!1),Q()):Z(!1)}catch(fe){le(fe.message||n("users.updateUserError"))}finally{V(!1)}}},ge=re=>{var ae;L(re),B({name:re.name||"",Email:re.Email||"",mobile:((ae=re.mobile)==null?void 0:ae.toString())||"",permissions:re.permissions||""}),Z(!1),le(""),P(!0)};return c?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:n("users.title")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ya,{className:"h-5 w-5"}),i.jsxs("span",{className:"text-sm font-medium",children:[a.length," ",n("users.totalUsers")]})]}),i.jsx("p",{className:"hidden md:block text-muted-foreground",children:n("users.subtitle")})]}),i.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[i.jsxs(de,{variant:W==="employees"?"default":"ghost",size:"sm",onClick:()=>R("employees"),className:"h-8 px-3",children:[i.jsx(cR,{className:"h-4 w-4 mr-2"}),n("users.employees")]}),i.jsxs(de,{variant:W==="clients"?"default":"ghost",size:"sm",onClick:()=>R("clients"),className:"h-8 px-3",children:[i.jsx(On,{className:"h-4 w-4 mr-2"}),n("users.clients")]}),i.jsxs(de,{variant:W==="partners"?"default":"ghost",size:"sm",onClick:()=>R("partners"),className:"h-8 px-3",children:[i.jsx(Ya,{className:"h-4 w-4 mr-2"}),n("users.partners")]})]}),W==="employees"&&i.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&i.jsxs(vn,{open:h,onOpenChange:m,children:[i.jsx(B1,{asChild:!0,children:i.jsxs(de,{className:"w-full",children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),n("users.addUser")]})}),i.jsxs(an,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:n("users.addNewUser")}),i.jsx(Da,{children:n("users.addUserDescription")})]}),i.jsxs("form",{onSubmit:be,className:"space-y-4",children:[S&&i.jsx(vm,{variant:"destructive",children:i.jsx(xm,{children:S})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"formName",children:n("users.fullName")}),i.jsx(Ue,{id:"formName",value:g,onChange:re=>p(re.target.value),placeholder:n("users.fullName"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"formEmail",children:n("users.email")}),i.jsx(Ue,{id:"formEmail",type:"email",value:v,onChange:re=>y(re.target.value),placeholder:n("users.email"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"formPassword",children:n("users.password")}),i.jsx(Ue,{id:"formPassword",type:"password",value:b,onChange:re=>w(re.target.value),placeholder:n("users.password"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"formRole",children:n("users.role")}),i.jsxs(ft,{value:j,onValueChange:re=>_(re),children:[i.jsx(ut,{children:i.jsx(ht,{})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"employee",children:n("users.employee")}),i.jsx(ke,{value:"manager",children:n("users.manager")}),i.jsx(ke,{value:"admin",children:n("users.admin")}),i.jsx(ke,{value:"team_leader",children:n("users.team_leader")})]})]})]}),i.jsx(de,{type:"submit",className:"w-full",disabled:C,children:n(C?"users.addingUser":"users.addUser")})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ue,{placeholder:n("users.searchPlaceholder"),value:d,onChange:re=>f(re.target.value),className:"pl-10"})]}),i.jsxs(Ka,{className:"flex-1",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(re=>i.jsxs(st,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Ht,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(vr,{className:"text-lg truncate",children:Oe(re,"name")}),i.jsx(pt,{variant:ce(re.permissions),className:"mt-1",children:je(re.permissions)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(de,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>ge(re),children:i.jsx(ei,{className:"h-4 w-4"})}),i.jsx(de,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>Le(re.userid,Oe(re,"name")),children:i.jsx(Zt,{className:"h-4 w-4"})})]})]})}),i.jsxs(xt,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Xf,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:re.Email})]}),re.mobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Vl,{className:"h-4 w-4"}),i.jsx("span",{children:re.mobile})]}),(re.permissions===2||re.permissions===1)&&!0&&i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("div",{className:"text-xs font-medium mb-1",children:n("users.changeRole")}),i.jsxs(ft,{value:String(re.permissions),onValueChange:ae=>et(re.userid,ae),children:[i.jsx(ut,{className:"w-full h-8",children:i.jsx(ht,{})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"2",children:n("users.employee")}),i.jsx(ke,{value:"1",children:n("users.manager")})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",re.created_at?new Date(re.created_at).toLocaleDateString():"-"]})]})]},re.userid))}),D.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ya,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("users.noUsersFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(d?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),W==="clients"&&i.jsx("div",{className:"space-y-6",children:i.jsxs(Ka,{className:"flex-1",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(re=>i.jsxs(st,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Ht,{className:"pb-3",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(vr,{className:"text-lg truncate",children:Oe(re,"name")}),i.jsx(pt,{variant:"outline",className:"mt-1",children:n("users.client")})]})})}),i.jsxs(xt,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Xf,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:re.Email})]}),re.mobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Vl,{className:"h-4 w-4"}),i.jsx("span",{children:re.mobile})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",re.created_at?new Date(re.created_at).toLocaleDateString():"-"]})]})]},re.userid))}),D.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(On,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("clients.noClientsFound")}),i.jsx("p",{className:"text-muted-foreground",children:n("clients.noClientsYet")})]})]})}),W==="partners"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-280px)]",children:[i.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(cR,{className:"h-5 w-5"}),n("users.partnerUsers"),i.jsx(pt,{variant:"secondary",className:"ml-auto",children:a.filter(re=>[5,6].includes(Number(re.permissions))).length})]}),i.jsx(Ka,{className:"flex-1 pr-4",children:i.jsx("div",{className:"space-y-3",children:a.filter(re=>[5,6].includes(Number(re.permissions))).length>0?a.filter(re=>[5,6].includes(Number(re.permissions))).map(re=>i.jsx(st,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>ge(re),children:i.jsxs(xt,{className:"p-4 flex items-center gap-3",children:[i.jsxs(Os,{children:[i.jsx(_o,{src:re.avatar||""}),i.jsx(Ds,{children:Oe(re,"name").charAt(0).toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:Oe(re,"name")}),i.jsx("div",{className:"text-xs text-muted-foreground truncate",children:re.Email}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(pt,{variant:"outline",className:"text-xs py-0 h-5",children:re.permissions===5?n("users.partner_leader"):n("users.partner_employee")}),re.company_name&&i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(rae,{className:"h-3 w-3"}),re.company_name]})]})]})]})},re.userid)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Ya,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:n("users.noPartnerUsersFound")})]})})})]}),i.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(Xf,{className:"h-5 w-5"}),n("users.partnerApplications"),i.jsx(pt,{variant:"secondary",children:o.length})]}),i.jsx("div",{className:"w-[140px]",children:i.jsxs(ft,{value:T,onValueChange:re=>U(re),children:[i.jsx(ut,{className:"h-8",children:i.jsx(ht,{placeholder:n("common.filter")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:n("common.all")}),i.jsx(ke,{value:"pending",children:n("status.pending")}),i.jsx(ke,{value:"approved",children:n("status.approved")}),i.jsx(ke,{value:"rejected",children:n("status.rejected")})]})]})})]}),i.jsx(Ka,{className:"flex-1 pr-4",children:i.jsx("div",{className:"space-y-3",children:o.filter(re=>T==="all"||re.status===T).length>0?o.filter(re=>T==="all"||re.status===T).map(re=>i.jsx(st,{children:i.jsxs(xt,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[i.jsx("div",{className:"font-medium",children:re.company_name||re.full_name}),i.jsx(pt,{variant:re.status==="pending"?"outline":re.status==="approved"?"default":"destructive",className:"capitalize",children:n(`status.${re.status}`)})]}),i.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(On,{className:"h-3 w-3"}),re.full_name]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xf,{className:"h-3 w-3"}),re.email]}),re.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vl,{className:"h-3 w-3"}),re.phone]})]}),re.status==="pending"&&i.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[i.jsx(de,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>De(re.apply_id),children:n("users.reject")}),i.jsx(de,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>Pe(re),children:n("users.approve")})]})]})},re.apply_id)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Xf,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:n("users.noApplicationsFound")})]})})})]})]}),i.jsx(vn,{open:z,onOpenChange:P,children:i.jsxs(an,{className:"max-w-2xl max-h-[80vh]",children:[i.jsxs(sn,{children:[i.jsx(on,{children:n("users.userDetails")}),i.jsx(Da,{children:n("users.userDetailsDescription")})]}),M&&i.jsx(Ka,{className:"max-h-[60vh] pr-4",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold",children:Oe(M,"name")}),i.jsx(pt,{variant:ce(M.permissions),className:"mt-1",children:je(M.permissions)})]})}),q?i.jsxs("form",{onSubmit:se,className:"space-y-4",children:[te&&i.jsx(vm,{variant:"destructive",children:i.jsx(xm,{children:te})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"editName",children:n("users.fullName")}),i.jsx(Ue,{id:"editName",value:A.name,onChange:re=>B(ae=>({...ae,name:re.target.value})),placeholder:n("users.fullName")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"editEmail",children:n("users.email")}),i.jsx(Ue,{id:"editEmail",type:"email",value:A.Email,onChange:re=>B(ae=>({...ae,Email:re.target.value})),placeholder:n("users.email")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"editRole",children:n("users.role")}),i.jsxs(ft,{value:String(A.permissions),onValueChange:re=>B(ae=>({...ae,permissions:Number(re)})),children:[i.jsx(ut,{children:i.jsx(ht,{})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"2",children:n("users.employee")}),i.jsx(ke,{value:"1",children:n("users.manager")}),i.jsx(ke,{value:"3",children:n("users.client")}),i.jsx(ke,{value:"4",children:n("users.partner")}),i.jsx(ke,{value:"5",children:n("users.partner_employee")})]})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(ze,{className:"text-sm font-medium",children:n("users.joined")}),i.jsx("p",{className:"text-sm",children:new Date(M.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(ze,{className:"text-sm font-medium",children:n("users.updated")}),i.jsx("p",{className:"text-sm",children:M.updated_at?new Date(M.updated_at).toLocaleDateString():"-"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"editPhone",children:n("users.phone")}),i.jsx(Ue,{id:"editPhone",type:"tel",value:A.mobile,onChange:re=>B(ae=>({...ae,mobile:re.target.value})),placeholder:n("users.phone")})]}),M.client_contact&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(ze,{className:"text-sm font-medium",children:n("users.contact")}),i.jsx("p",{className:"text-sm",children:M.client_contact})]}),M.company_name&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(ze,{className:"text-sm font-medium",children:n("users.company")}),i.jsx("p",{className:"text-sm",children:Oe(M,"company_name")})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(ze,{className:"text-sm font-medium",children:n("users.userId")}),i.jsx("p",{className:"text-sm font-mono text-xs",children:M.userid})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(de,{type:"button",variant:"outline",onClick:()=>Z(!1),children:n("buttons.cancel")}),i.jsx(de,{type:"submit",disabled:H,children:n(H?"buttons.saving":"buttons.save")})]})]}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.fullName")}),i.jsx("p",{className:"text-sm",children:Oe(M,"name")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.email")}),i.jsx("p",{className:"text-sm",children:M.Email||n("common.na")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.role")}),i.jsx("p",{className:"text-sm",children:n(`users.${M.permissions===1?"admin":M.permissions===2?"employee":M.permissions===3?"client":"user"}`)})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.joined")}),i.jsx("p",{className:"text-sm",children:new Date(M.created_at).toLocaleDateString()})]}),M.updated_at&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.updated")}),i.jsx("p",{className:"text-sm",children:new Date(M.updated_at).toLocaleDateString()})]})]}),i.jsxs("div",{className:"space-y-3",children:[M.user_phone&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.phone")}),i.jsx("p",{className:"text-sm",children:M.mobile})]}),M.client_contact&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.contact")}),i.jsx("p",{className:"text-sm",children:M.client_contact})]}),M.company_name&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.company")}),i.jsx("p",{className:"text-sm",children:Oe(M,"company_name")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.userId")}),i.jsx("p",{className:"text-sm font-mono text-xs",children:M.userid})]})]})]}),M.userid&&i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:n("users.authId","Auth ID")}),i.jsx("p",{className:"text-sm font-mono text-xs break-all",children:M.userid})]})]})}),i.jsxs(Oa,{children:[!q&&!0&&i.jsx(de,{variant:"outline",onClick:()=>Z(!0),children:n("buttons.edit")}),i.jsx(de,{onClick:()=>P(!1),children:n("buttons.close")})]})]})})]})}function LIe(){hr();const{t:e}=At(),{isRTL:t}=ir();Ur();const r=Ms();console.log("Teams Page - isRTL:",t);const[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState({}),[u,d]=x.useState(!0),[f,h]=x.useState(""),[m,g]=x.useState(!1),[p,v]=x.useState(""),[y,b]=x.useState(""),[w,j]=x.useState(null),_=!0;x.useEffect(()=>{N(),C()},[]);const S=R=>{r("/chats",{state:{teamId:R}})},N=async()=>{try{d(!0);const R=await Gf.getAll(),z=await Gf.getAllTeamMembers();a(R),c(z)}catch(R){console.error("Failed to load teams:",R)}finally{d(!1)}},C=async()=>{try{const R=await yn.getAll();o(R)}catch(R){console.error("Failed to load users:",R)}},k=async()=>{if(p.trim())try{const R=sc({team_name:p.trim(),team_leader_id:(y==null?void 0:y.toString())||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await Gf.create(R),v(""),b(""),g(!1),await N()}catch(R){console.error("Failed to create team:",R)}},E=async(R,z)=>{try{await Gf.addMember(R,z),await N()}catch(P){console.error("Failed to add team member:",P)}},O=async(R,z)=>{try{await Gf.removeMember(R,z),await N()}catch(P){console.error("Failed to remove team member:",P)}},T=async R=>{try{await Gf.delete(R),a(z=>z.filter(P=>P.team_id!==R)),c(z=>{const P={...z};return delete P[R],P}),j(null)}catch(z){console.error("Failed to delete team:",z)}},U=n.filter(R=>(Oe(R,"team_name")||"").toLowerCase().includes(f.toLowerCase())),W=s;return u?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:e("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("teams.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("teams.subtitle")})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ya,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium",children:e("teams.memberCount_plural",{count:n.length})})]}),i.jsxs(vn,{open:m,onOpenChange:g,children:[i.jsx(B1,{asChild:!0,children:i.jsxs(de,{children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),e("teams.createTeam")]})}),i.jsxs(an,{className:"sm:max-w-[425px]",children:[i.jsxs(sn,{children:[i.jsx(on,{children:e("teams.createTeamTitle")}),i.jsx(Da,{children:e("teams.createTeamDesc")})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"team-name",className:"text-right rtl:text-left",children:e("teams.teamName")}),i.jsx(Ue,{id:"team-name",value:p,onChange:R=>v(R.target.value),className:"col-span-3",placeholder:e("teams.teamNamePlaceholder")})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:e("teams.teamLeader")}),i.jsxs(ft,{value:y,onValueChange:b,children:[i.jsx(ut,{className:"col-span-3",children:i.jsx(ht,{placeholder:e("teams.selectTeamLeader")})}),i.jsx(dt,{children:W.map(R=>i.jsx(ke,{value:R.userid.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:R.name})]})},R.userid))})]})]})]}),i.jsx(Oa,{children:i.jsx(de,{type:"submit",onClick:k,disabled:!p.trim(),children:e("teams.createTeam")})})]})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ue,{placeholder:e("teams.searchPlaceholder"),value:f,onChange:R=>h(R.target.value),className:"pl-10"})]}),i.jsxs(Ka,{className:"flex-1",dir:t?"rtl":"ltr",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:t?"rtl":"ltr",children:U.map(R=>{const z=l[R.team_id]||[];return i.jsxs(st,{className:"hover:shadow-md transition-shadow",children:[i.jsxs(Ht,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(vr,{className:"text-lg",children:Oe(R,"team_name")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>S(R.team_id),title:e("teams.chat","Chat"),children:i.jsx(Cu,{className:"h-4 w-4"})}),i.jsx(pt,{variant:"outline",children:e("teams.memberCount_plural",{count:z.length})}),i.jsxs(Rs,{children:[i.jsx(ox,{asChild:!0,children:i.jsx(de,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:P=>{P.stopPropagation(),j(R.team_id)},children:i.jsx(Zt,{className:"h-3 w-3"})})}),i.jsxs(ns,{onClick:P=>P.stopPropagation(),children:[i.jsxs(as,{children:[i.jsx(is,{children:e("teams.deleteTeam")}),i.jsx(os,{children:e("teams.deleteConfirmation",{name:Oe(R,"team_name")})})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:e("buttons.cancel")}),i.jsx(ls,{onClick:P=>{P.stopPropagation(),T(R.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]}),R.team_leader_id_name&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsxs("span",{children:[e("teams.teamLeader"),":"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),i.jsx("span",{children:R.team_leader_id_name})]})]})]}),i.jsxs(xt,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:e("teams.members")}),i.jsxs("div",{className:"space-y-2",children:[z.slice(0,4).map(P=>i.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Os,{className:"h-6 w-6",children:[i.jsx(_o,{src:""}),i.jsx(Ds,{className:"text-xs",children:(P.name||"").charAt(0).toUpperCase()})]}),i.jsx("span",{className:"text-sm",children:P.name})]}),i.jsx(de,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>{var M;return O(R.team_id,((M=P.userid)==null?void 0:M.toString())||"")},children:i.jsx(Nae,{className:"h-3 w-3"})})]},P.userid)),z.length>4&&i.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e("teams.moreMembers",{count:z.length-4})}),z.length===0&&i.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:e("teams.noMembersYet")})]})]}),i.jsx("div",{children:i.jsxs(ft,{onValueChange:P=>{P&&E(R.team_id,P)},children:[i.jsx(ut,{className:"w-full",children:i.jsx(ht,{placeholder:e("teams.addMember")})}),i.jsx(dt,{children:s.filter(P=>!z.some(M=>M.userid.toString()===P.userid.toString())).map(P=>i.jsx(ke,{value:P.userid.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:P.name})]})},P.userid))})]})}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[e("teams.created")," ",R.created_at?new Date(R.created_at).toLocaleDateString():"N/A"]})]})]},R.team_id)})}),U.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ya,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:e(f?"teams.noTeamsFound":"teams.noTeamsYet")}),i.jsx("p",{className:"text-muted-foreground mb-4",children:e(f?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!f&&_&&i.jsxs(de,{onClick:()=>g(!0),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),e("teams.createFirstTeam")]})]})]})]})}function $Ie({rooms:e,selectedRoom:t,onSelectRoom:r,currentUser:n,onNewChannel:a,onNewDM:s,className:o}){const{t:l}=At(),[c,u]=x.useState(""),d=e.filter(p=>{const v=p.is_private&&Oe(p.other_user||{},"user_name")||p.room_name;return v==null?void 0:v.toLowerCase().includes(c.toLowerCase())}),f=d.filter(p=>!p.is_private&&!p.team_id),h=d.filter(p=>p.is_private),m=d.filter(p=>p.team_id),g=p=>{var _;const v=(t==null?void 0:t.room_id)===p.room_id,y=p.is_private,b=y&&Oe(p.other_user||{},"user_name")||p.room_name,w=y?(_=p.other_user)==null?void 0:_.avatar:null,j=(b==null?void 0:b.charAt(0).toUpperCase())||"?";return i.jsxs("button",{onClick:()=>r(p),className:Ce("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",v?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[i.jsx("div",{className:"relative flex-shrink-0",children:y?i.jsxs(Os,{className:"h-6 w-6",children:[i.jsx(_o,{src:w}),i.jsx(Ds,{className:"text-[10px]",children:j})]}):i.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:i.jsx(Ya,{className:"h-3.5 w-3.5"})})}),i.jsx("span",{className:"truncate flex-1 text-left",children:b})]},p.room_id)};return i.jsxs("div",{className:Ce("flex flex-col h-full bg-background border-r",o),children:[i.jsxs("div",{className:"flex-shrink-0 p-3 border-b",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"font-semibold text-lg",children:l("chat.title","Messages")}),i.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(xB,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(hs,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ue,{placeholder:l("common.search","Jump to..."),value:c,onChange:p=>u(p.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),i.jsxs(Ka,{className:"flex-1 px-2 py-3 overflow-hidden",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.channels","Channels")}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&i.jsx(de,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:a,title:l("chat.createChannel","Create Channel"),children:i.jsx(Ut,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-0.5",children:[f.map(g),f.length===0&&i.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noChannels","No channels")})]})]}),m.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.teams","Teams")})}),i.jsx("div",{className:"space-y-0.5",children:m.map(g)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.directMessages","Direct Messages")}),i.jsx(de,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s,children:i.jsx(Ut,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-0.5",children:[h.map(g),h.length===0&&i.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noMessages","No messages")})]})]})]})]})}function BIe({room:e,messages:t,currentUser:r,onSendMessage:n,onBack:a,loading:s,onLoadMore:o,hasMoreMessages:l,isLoadingMore:c,onEditMessage:u,onDeleteMessage:d,className:f}){var V;const{t:h}=At(),[m,g]=x.useState(""),p=x.useRef(null),[v,y]=x.useState(!1),[b,w]=x.useState(null),[j,_]=x.useState(""),[S,N]=x.useState(!1),C=x.useRef(null),[k,E]=x.useState(null);x.useEffect(()=>{if(p.current&&!c){const te=p.current.querySelector("[data-radix-scroll-area-viewport]");te&&(te.scrollTop=te.scrollHeight)}},[t,c]);const O=te=>{const le=te.target;if(!le)return;const ie=le.scrollTop<100;y(ie),ie&&l&&o&&!c&&o()};x.useEffect(()=>{var le;const te=(le=p.current)==null?void 0:le.querySelector("[data-radix-scroll-area-viewport]");if(te)return te.addEventListener("scroll",O),()=>te.removeEventListener("scroll",O)},[l,c,o]),x.useEffect(()=>{e&&!e.is_private?(async()=>{try{if(console.log("[ChatArea] Room data:",e),e.member_count!==void 0){console.log("[ChatArea] Using room.member_count:",e.member_count),E(e.member_count);return}console.log("[ChatArea] Fetching room members for room:",e.room_id);const le=await Ji.getRoomMembers(e.room_id);console.log("[ChatArea] Fetched members:",le.length),E(le.length)}catch(le){console.error("Failed to fetch member count:",le),E(null)}})():(console.log("[ChatArea] Room is private or null, clearing member count"),E(null))},[e==null?void 0:e.room_id]);const T=te=>{w(te.message_id),_(te.content)},U=()=>{w(null),_("")},W=()=>{b&&j.trim()&&u&&(u(b,j),w(null),_(""))},R=()=>{m.trim()&&(n(m),g(""))},z=te=>{te.key==="Enter"&&!te.shiftKey&&(te.preventDefault(),R())},P=async te=>{var xe;const le=(xe=te.target.files)==null?void 0:xe[0];if(!(!le||!n))try{N(!0);const ie=await Wc.uploadAttachment(le),Q=le.type.startsWith("image/")?`![${le.name}](${ie})`:`[${le.name}](${ie})`;n(Q)}catch(ie){console.error("Failed to upload file:",ie),alert(h("chat.uploadError","Failed to upload file"))}finally{N(!1),C.current&&(C.current.value="")}},M=()=>{var te;(te=C.current)==null||te.click()},L=te=>{const le=/!\\[(.*?)\\]\((.*?)\)/g,xe=/\\[(.*?)\\]\((.*?)\)/g,ie=le.exec(te);if(ie)return i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("img",{src:ie[2],alt:ie[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(ie[2],"_blank")}),te.replace(ie[0],"").trim()&&i.jsx("span",{children:te.replace(ie[0],"").trim()})]});const G=xe.exec(te);return G?i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("a",{href:G[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[i.jsx(iR,{className:"h-4 w-4"}),G[1]]}),te.replace(G[0],"").trim()&&i.jsx("span",{children:te.replace(G[0],"").trim()})]}):te};if(s)return i.jsx("div",{className:Ce("flex items-center justify-center h-full bg-background",f),children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return i.jsxs("div",{className:Ce("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",f),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:i.jsx(Cu,{className:"h-8 w-8"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:h("chat.welcome","Welcome to Chat")}),i.jsx("p",{className:"max-w-xs",children:h("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const q=e.is_private,Z=q&&Oe(e.other_user||{},"user_name")||e.room_name,A=q?(V=e.other_user)==null?void 0:V.avatar:null,B=(Z==null?void 0:Z.charAt(0).toUpperCase())||"?",H=t.reduce((te,le)=>{const xe=new Date(le.created_at).toLocaleDateString();return te[xe]||(te[xe]=[]),te[xe].push(le),te},{});return i.jsxs("div",{className:Ce("flex flex-col h-full bg-background overflow-x-hidden",f),children:[i.jsxs("div",{className:"flex-shrink-0 h-16 border-b flex items-center justify-between px-4 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[a&&i.jsx(de,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:a,children:i.jsx(pB,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[q?i.jsxs(Os,{className:"h-9 w-9",children:[i.jsx(_o,{src:A}),i.jsx(Ds,{children:B})]}):i.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?i.jsx(Ya,{className:"h-5 w-5"}):i.jsx(dae,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[Z,q&&i.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!q&&i.jsx("p",{className:"text-xs text-muted-foreground",children:k!==null?h("chat.membersCount",{count:k}):h("chat.loadingMembers","Loading members...")})]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(de,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(Vl,{className:"h-5 w-5"})}),i.jsx(de,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(Cae,{className:"h-5 w-5"})}),i.jsx(de,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(fae,{className:"h-5 w-5"})})]})]}),i.jsx(Ka,{className:"flex-1 p-4 overflow-hidden",ref:p,children:i.jsxs("div",{className:"space-y-6 pb-4",children:[c&&i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!l&&t.length>10&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:h("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(H).map(([te,le])=>i.jsxs("div",{children:[i.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:te===new Date().toLocaleDateString()?h("common.today","Today"):te})})]}),i.jsx("div",{className:"space-y-4",children:le.map((xe,ie)=>{var je;const G=xe.auth_user_id===(r==null?void 0:r.id),Q=ie===0||le[ie-1].auth_user_id!==xe.auth_user_id,D=xe.sender,ce=b===xe.message_id;return i.jsxs("div",{className:Ce("flex gap-3 group",G?"flex-row-reverse":""),children:[Q?i.jsxs(Os,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[i.jsx(_o,{src:D==null?void 0:D.avatar}),i.jsx(Ds,{children:((je=D==null?void 0:D.user_name)==null?void 0:je.charAt(0))||"?"})]}):i.jsx("div",{className:"w-8 flex-shrink-0"}),i.jsxs("div",{className:Ce("flex flex-col max-w-[75%]",G?"items-end":"items-start"),children:[Q&&i.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-semibold",children:D==null?void 0:D.user_name}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:ts(new Date(xe.created_at),"h:mm a")})]}),i.jsx("div",{className:Ce("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",G?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",ce?"w-full min-w-[200px]":""),children:ce?i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("textarea",{value:j,onChange:be=>_(be.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(de,{size:"sm",variant:"ghost",onClick:U,className:"h-6 px-2 text-xs",children:h("common.cancel","Cancel")}),i.jsx(de,{size:"sm",variant:"secondary",onClick:W,className:"h-6 px-2 text-xs",children:h("common.save","Save")})]})]}):i.jsxs(i.Fragment,{children:[L(xe.content),G&&!ce&&i.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[i.jsxs(de,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>T(xe),children:[i.jsx("span",{className:"sr-only",children:"Edit"}),i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[i.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),i.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),i.jsxs(de,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>d&&d(xe.message_id),children:[i.jsx("span",{className:"sr-only",children:"Delete"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:i.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},`${xe.message_id}-${ie}`)})})]},te))]})}),i.jsxs("div",{className:"flex-shrink-0 p-4 bg-background border-t",children:[i.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[i.jsx(de,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:M,disabled:S,children:S?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):i.jsx(iR,{className:"h-5 w-5"})}),i.jsx("input",{type:"file",ref:C,className:"hidden",onChange:P,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),i.jsx("textarea",{value:m,onChange:te=>g(te.target.value),onKeyDown:z,placeholder:h("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:te=>{const le=te.target;le.style.height="auto",le.style.height=`${Math.min(le.scrollHeight,128)}px`}}),i.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[i.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:i.jsx(_ae,{className:"h-5 w-5"})}),i.jsx(de,{size:"icon",className:Ce("h-8 w-8 transition-all",m.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:R,disabled:!m.trim()&&!S,children:i.jsx(Mv,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:i.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function UIe({open:e,onOpenChange:t,onSelectUser:r,currentUserId:n}){const{t:a}=At(),[s,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!1);x.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{d(!0);const m=await yn.getAll();o(m.filter(g=>g.auth_user_id!==n))}catch(m){console.error("Failed to load users:",m)}finally{d(!1)}},h=s.filter(m=>{var g,p;return((g=m.user_name)==null?void 0:g.toLowerCase().includes(l.toLowerCase()))||((p=m.user_email)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))});return i.jsx(vn,{open:e,onOpenChange:t,children:i.jsxs(an,{className:"sm:max-w-[425px]",children:[i.jsx(sn,{children:i.jsx(on,{children:a("chat.newDirectMessage","New Direct Message")})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(hs,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Ue,{placeholder:a("chat.searchUsers","Search users..."),value:l,onChange:m=>c(m.target.value),className:"pl-8"})]}),i.jsx(Ka,{className:"h-[300px]",children:u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):h.length===0?i.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("chat.noUsersFound","No users found")}):i.jsx("div",{className:"space-y-1",children:h.map(m=>{var g;return i.jsxs("button",{onClick:()=>{r(m),t(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[i.jsxs(Os,{children:[i.jsx(_o,{src:m.avatar}),i.jsx(Ds,{children:((g=m.user_name)==null?void 0:g.charAt(0))||"?"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:m.user_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:m.user_email})]})]},m.user_id)})})})]})]})})}var tj="Switch",[zIe,zHe]=ms(tj),[VIe,WIe]=zIe(tj),Hq=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),g=$t(t,w=>m(w)),p=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,b]=cc({prop:a,defaultProp:s??!1,onChange:u,caller:tj});return i.jsxs(VIe,{scope:r,checked:y,disabled:l,children:[i.jsx(mt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":Yq(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Ze(e.onClick,w=>{b(j=>!j),v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),v&&i.jsx(Kq,{control:h,bubbles:!p.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Hq.displayName=tj;var qq="SwitchThumb",Gq=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=WIe(qq,r);return i.jsx(mt.span,{"data-state":Yq(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Gq.displayName=qq;var HIe="SwitchBubbleInput",Kq=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const o=x.useRef(null),l=$t(o,s),c=LT(r),u=OT(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Kq.displayName=HIe;function Yq(e){return e?"checked":"unchecked"}var Xq=Hq,qIe=Gq;const Qq=x.forwardRef(({className:e,...t},r)=>i.jsx(Xq,{className:Ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:i.jsx(qIe,{className:Ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qq.displayName=Xq.displayName;function GIe({open:e,onOpenChange:t,onCreate:r}){const{t:n}=At(),[a,s]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(!1),d=async f=>{if(f.preventDefault(),!!a.trim())try{u(!0),await r(a,o),t(!1),s(""),l(!1)}catch(h){console.error("Failed to create channel:",h)}finally{u(!1)}};return i.jsx(vn,{open:e,onOpenChange:t,children:i.jsxs(an,{children:[i.jsx(sn,{children:i.jsx(on,{children:n("chat.createRoomTitle","Create New Room")})}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"name",children:n("chat.roomName","Room Name")}),i.jsx(Ue,{id:"name",value:a,onChange:f=>s(f.target.value),placeholder:n("chat.roomNamePlaceholder","Enter room name"),disabled:c})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs(ze,{htmlFor:"private",className:"flex flex-col space-y-1",children:[i.jsx("span",{children:n("chat.privateRoom","Private Room")}),i.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:n("chat.privateRoomDesc","Only invited members can view this room.")})]}),i.jsx(Qq,{id:"private",checked:o,onCheckedChange:l,disabled:c})]}),i.jsxs(Oa,{children:[i.jsx(de,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:n("common.cancel","Cancel")}),i.jsx(de,{type:"submit",disabled:!a.trim()||c,children:c?n("common.creating","Creating..."):n("chat.createRoom","Create Room")})]})]})]})})}function KIe(){var M;const{user:e}=hr(),{t}=At(),{isRTL:r}=ir(),[n,a]=x.useState([]),[s,o]=x.useState(null),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(!1),[m,g]=x.useState(!0),[p,v]=x.useState(!0),[y,b]=x.useState(!1);x.useState([]);const[w,j]=x.useState(!1),[_,S]=x.useState(!1),N=x.useRef(!1),C=x.useRef(null);x.useRef(null),x.useRef(null),x.useEffect(()=>{const L=()=>{const q=window.innerWidth<768;h(q),q||g(!0)};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]),x.useEffect(()=>{e&&!N.current&&O()},[e]),x.useEffect(()=>{var q;const L=(q=window.history.state)==null?void 0:q.usr;if(L!=null&&L.teamId&&n.length>0){const Z=n.find(A=>A.team_id===L.teamId);Z&&o(Z)}},[n]),x.useEffect(()=>{s&&(C.current!==s.room_id&&(v(!0),b(!1),T(s.room_id),e&&(Ji.markAsRead(s.room_id,e.id.toString()),a(L=>L.map(q=>q.room_id===s.room_id?{...q,unreadCount:0}:q)))),f&&g(!1))},[s,f,e]),x.useEffect(()=>{var A;if(!e||!s)return;let L=((A=l[0])==null?void 0:A.message_id)||0;const q=async()=>{try{const B=await Wc.getByRoom(s.room_id.toString(),{limit:5});if(B.length>0){const H=B[0];H.message_id>L&&(console.log("New message detected, refreshing..."),await T(s.room_id.toString()),L=H.message_id)}}catch(B){console.warn("Failed to poll for new messages:",B)}},Z=setInterval(q,2e3);return q(),()=>{clearInterval(Z)}},[e,s,l]);const k=async(L,q)=>{try{await Wc.update(L,q)}catch(Z){console.error("Failed to edit message:",Z)}},E=async L=>{if(confirm(t("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await Wc.delete(L)}catch(q){console.error("Failed to delete message:",q)}},O=async()=>{try{d(!0);const L=await Ji.getUserRooms(e==null?void 0:e.id.toString()),q=L.filter(B=>B.is_private).map(B=>B.room_id),Z=new Map;if(q.length>0){const B=q.map(V=>Ji.getRoomMembers(V).catch(()=>[])),H=await Promise.all(B);q.forEach((V,te)=>{Z.set(V,H[te])})}const A=L.map(B=>{if(B.is_private){const V=(Z.get(B.room_id)||[]).find(te=>{var le;return((le=te.userid)==null?void 0:le.toString())!==(e==null?void 0:e.id.toString())});return{...B,other_user:V}}return B});a(A),N.current=!0}catch(L){console.error("Failed to load rooms:",L)}finally{d(!1)}},T=async(L,q=!1)=>{try{q&&b(!0);const Z=10,A=q&&l.length>0?l[0].created_at:void 0,B=await Wc.getByRoom(L,{limit:Z,before:A});q?(c(H=>[...B,...H]),v(B.length===Z)):(c(B),v(B.length===Z),C.current=L)}catch(Z){console.error("Failed to load messages:",Z)}finally{q&&b(!1)}},U=async()=>{!s||y||!p||await T(s.room_id,!0)},W=async L=>{if(!(!s||!e))try{const q={message_id:Date.now(),room_id:s.room_id,user_id:parseInt(e.id.toString()),content:L,metadata:null,created_at:new Date().toISOString(),sender:e.profile};c(Z=>[...Z,q]),await Wc.create({room_id:s.room_id,user_id:parseInt(e.id.toString()),content:L,metadata:null}),setTimeout(()=>{T(s.room_id.toString())},500)}catch(q){console.error("Failed to send message:",q),c(Z=>Z.filter(A=>A.message_id!==Date.now()))}},R=()=>{g(!0)},z=async(L,q)=>{if(e)try{const Z=await Ji.createRoom({name:L,is_private:q,created_by:e.profile.user_id||0,userid:e.id.toString()});await Ji.addMember(Z.room_id,e.id.toString()),await O();const A={...Z};o(A)}catch(Z){console.error("Failed to create channel:",Z)}},P=async L=>{if(!e)return;const q=n.find(Z=>{var A;return Z.is_private&&((A=Z.other_user)==null?void 0:A.userid)===L.userid});if(q){o(q);return}try{const Z=await Ji.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,userid:e.id.toString()});await Ji.addMember(Z.room_id,e.id.toString()),await Ji.addMember(Z.room_id,(L.userid||L.user_id||"").toString()),await O();const A={...Z,other_user:L};o(A)}catch(Z){console.error("Failed to create DM:",Z)}};return i.jsxs("div",{className:"flex w-full h-full overflow-hidden bg-background",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:Ce("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-full bg-background border-r overflow-hidden",m?"translate-x-0":"-translate-x-full md:translate-x-0",f&&!m&&"hidden"),children:i.jsx($Ie,{rooms:n,selectedRoom:s,onSelectRoom:o,currentUser:e,onNewChannel:()=>j(!0),onNewDM:()=>S(!0)})}),i.jsx("div",{className:Ce("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-full overflow-hidden",f&&m?"hidden":"flex"),children:i.jsx(BIe,{room:s,messages:l,currentUser:e,onSendMessage:W,onBack:R,loading:u,onLoadMore:U,hasMoreMessages:p,isLoadingMore:y,onEditMessage:k,onDeleteMessage:E})}),i.jsx(GIe,{open:w,onOpenChange:j,onCreate:z}),i.jsx(UIe,{open:_,onOpenChange:S,onSelectUser:P,currentUserId:(M=e==null?void 0:e.id)==null?void 0:M.toString()})]})}function Jq(e,t){return function(){return e.apply(t,arguments)}}const{toString:YIe}=Object.prototype,{getPrototypeOf:TP}=Object,{iterator:rj,toStringTag:Zq}=Symbol,nj=(e=>t=>{const r=YIe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ao=e=>(e=e.toLowerCase(),t=>nj(t)===e),aj=e=>t=>typeof t===e,{isArray:Ap}=Array,Gm=aj("undefined");function cx(e){return e!==null&&!Gm(e)&&e.constructor!==null&&!Gm(e.constructor)&&Ts(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const eG=Ao("ArrayBuffer");function XIe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&eG(e.buffer),t}const QIe=aj("string"),Ts=aj("function"),tG=aj("number"),ux=e=>e!==null&&typeof e=="object",JIe=e=>e===!0||e===!1,Yy=e=>{if(nj(e)!=="object")return!1;const t=TP(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Zq in e)&&!(rj in e)},ZIe=e=>{if(!ux(e)||cx(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},eLe=Ao("Date"),tLe=Ao("File"),rLe=Ao("Blob"),nLe=Ao("FileList"),aLe=e=>ux(e)&&Ts(e.pipe),sLe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ts(e.append)&&((t=nj(e))==="formdata"||t==="object"&&Ts(e.toString)&&e.toString()==="[object FormData]"))},iLe=Ao("URLSearchParams"),[oLe,lLe,cLe,uLe]=["ReadableStream","Request","Response","Headers"].map(Ao),dLe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dx(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Ap(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(cx(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function rG(e,t){if(cx(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const bd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nG=e=>!Gm(e)&&e!==bd;function IC(){const{caseless:e,skipUndefined:t}=nG(this)&&this||{},r={},n=(a,s)=>{const o=e&&rG(r,s)||s;Yy(r[o])&&Yy(a)?r[o]=IC(r[o],a):Yy(a)?r[o]=IC({},a):Ap(a)?r[o]=a.slice():(!t||!Gm(a))&&(r[o]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&dx(arguments[a],n);return r}const fLe=(e,t,r,{allOwnKeys:n}={})=>(dx(t,(a,s)=>{r&&Ts(a)?e[s]=Jq(a,r):e[s]=a},{allOwnKeys:n}),e),hLe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),mLe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},pLe=(e,t,r,n)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&TP(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},gLe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},vLe=e=>{if(!e)return null;if(Ap(e))return e;let t=e.length;if(!tG(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},xLe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&TP(Uint8Array)),yLe=(e,t)=>{const n=(e&&e[rj]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},bLe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},wLe=Ao("HTMLFormElement"),_Le=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),eL=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),jLe=Ao("RegExp"),aG=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};dx(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},SLe=e=>{aG(e,(t,r)=>{if(Ts(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ts(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},NLe=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Ap(e)?n(e):n(String(e).split(t)),r},kLe=()=>{},CLe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ELe(e){return!!(e&&Ts(e.append)&&e[Zq]==="FormData"&&e[rj])}const TLe=e=>{const t=new Array(10),r=(n,a)=>{if(ux(n)){if(t.indexOf(n)>=0)return;if(cx(n))return n;if(!("toJSON"in n)){t[a]=n;const s=Ap(n)?[]:{};return dx(n,(o,l)=>{const c=r(o,a+1);!Gm(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},ALe=Ao("AsyncFunction"),PLe=e=>e&&(ux(e)||Ts(e))&&Ts(e.then)&&Ts(e.catch),sG=((e,t)=>e?setImmediate:t?((r,n)=>(bd.addEventListener("message",({source:a,data:s})=>{a===bd&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),bd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ts(bd.postMessage)),OLe=typeof queueMicrotask<"u"?queueMicrotask.bind(bd):typeof process<"u"&&process.nextTick||sG,DLe=e=>e!=null&&Ts(e[rj]),Me={isArray:Ap,isArrayBuffer:eG,isBuffer:cx,isFormData:sLe,isArrayBufferView:XIe,isString:QIe,isNumber:tG,isBoolean:JIe,isObject:ux,isPlainObject:Yy,isEmptyObject:ZIe,isReadableStream:oLe,isRequest:lLe,isResponse:cLe,isHeaders:uLe,isUndefined:Gm,isDate:eLe,isFile:tLe,isBlob:rLe,isRegExp:jLe,isFunction:Ts,isStream:aLe,isURLSearchParams:iLe,isTypedArray:xLe,isFileList:nLe,forEach:dx,merge:IC,extend:fLe,trim:dLe,stripBOM:hLe,inherits:mLe,toFlatObject:pLe,kindOf:nj,kindOfTest:Ao,endsWith:gLe,toArray:vLe,forEachEntry:yLe,matchAll:bLe,isHTMLForm:wLe,hasOwnProperty:eL,hasOwnProp:eL,reduceDescriptors:aG,freezeMethods:SLe,toObjectSet:NLe,toCamelCase:_Le,noop:kLe,toFiniteNumber:CLe,findKey:rG,global:bd,isContextDefined:nG,isSpecCompliantForm:ELe,toJSONObject:TLe,isAsyncFn:ALe,isThenable:PLe,setImmediate:sG,asap:OLe,isIterable:DLe};function It(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Me.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}});const iG=It.prototype,oG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{oG[e]={value:e}});Object.defineProperties(It,oG);Object.defineProperty(iG,"isAxiosError",{value:!0});It.from=(e,t,r,n,a,s)=>{const o=Object.create(iG);Me.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return It.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const RLe=null;function LC(e){return Me.isPlainObject(e)||Me.isArray(e)}function lG(e){return Me.endsWith(e,"[]")?e.slice(0,-2):e}function tL(e,t,r){return e?e.concat(t).map(function(a,s){return a=lG(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function MLe(e){return Me.isArray(e)&&!e.some(LC)}const FLe=Me.toFlatObject(Me,{},null,function(t){return/^is[A-Z]/.test(t)});function sj(e,t,r){if(!Me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!Me.isUndefined(v[p])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(t);if(!Me.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Me.isDate(g))return g.toISOString();if(Me.isBoolean(g))return g.toString();if(!c&&Me.isBlob(g))throw new It("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(g)||Me.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,p,v){let y=g;if(g&&!v&&typeof g=="object"){if(Me.endsWith(p,"{}"))p=n?p:p.slice(0,-2),g=JSON.stringify(g);else if(Me.isArray(g)&&MLe(g)||(Me.isFileList(g)||Me.endsWith(p,"[]"))&&(y=Me.toArray(g)))return p=lG(p),y.forEach(function(w,j){!(Me.isUndefined(w)||w===null)&&t.append(o===!0?tL([p],j,s):o===null?p:p+"[]",u(w))}),!1}return LC(g)?!0:(t.append(tL(v,p,s),u(g)),!1)}const f=[],h=Object.assign(FLe,{defaultVisitor:d,convertValue:u,isVisitable:LC});function m(g,p){if(!Me.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(g),Me.forEach(g,function(y,b){(!(Me.isUndefined(y)||y===null)&&a.call(t,y,Me.isString(b)?b.trim():b,p,h))===!0&&m(y,p?p.concat(b):[b])}),f.pop()}}if(!Me.isObject(e))throw new TypeError("data must be an object");return m(e),t}function rL(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function AP(e,t){this._pairs=[],e&&sj(e,this,t)}const cG=AP.prototype;cG.append=function(t,r){this._pairs.push([t,r])};cG.toString=function(t){const r=t?function(n){return t.call(this,n,rL)}:rL;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function ILe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uG(e,t,r){if(!t)return e;const n=r&&r.encode||ILe;Me.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=Me.isURLSearchParams(t)?t.toString():new AP(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class nL{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Me.forEach(this.handlers,function(n){n!==null&&t(n)})}}const dG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LLe=typeof URLSearchParams<"u"?URLSearchParams:AP,$Le=typeof FormData<"u"?FormData:null,BLe=typeof Blob<"u"?Blob:null,ULe={isBrowser:!0,classes:{URLSearchParams:LLe,FormData:$Le,Blob:BLe},protocols:["http","https","file","blob","url","data"]},PP=typeof window<"u"&&typeof document<"u",$C=typeof navigator=="object"&&navigator||void 0,zLe=PP&&(!$C||["ReactNative","NativeScript","NS"].indexOf($C.product)<0),VLe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WLe=PP&&window.location.href||"http://localhost",HLe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PP,hasStandardBrowserEnv:zLe,hasStandardBrowserWebWorkerEnv:VLe,navigator:$C,origin:WLe},Symbol.toStringTag,{value:"Module"})),Na={...HLe,...ULe};function qLe(e,t){return sj(e,new Na.classes.URLSearchParams,{visitor:function(r,n,a,s){return Na.isNode&&Me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function GLe(e){return Me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function KLe(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function fG(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=r.length;return o=!o&&Me.isArray(a)?a.length:o,c?(Me.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!Me.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&Me.isArray(a[o])&&(a[o]=KLe(a[o])),!l)}if(Me.isFormData(e)&&Me.isFunction(e.entries)){const r={};return Me.forEachEntry(e,(n,a)=>{t(GLe(n),a,r,0)}),r}return null}function YLe(e,t,r){if(Me.isString(e))try{return(t||JSON.parse)(e),Me.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const fx={transitional:dG,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Me.isObject(t);if(s&&Me.isHTMLForm(t)&&(t=new FormData(t)),Me.isFormData(t))return a?JSON.stringify(fG(t)):t;if(Me.isArrayBuffer(t)||Me.isBuffer(t)||Me.isStream(t)||Me.isFile(t)||Me.isBlob(t)||Me.isReadableStream(t))return t;if(Me.isArrayBufferView(t))return t.buffer;if(Me.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qLe(t,this.formSerializer).toString();if((l=Me.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return sj(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),YLe(t)):t}],transformResponse:[function(t){const r=this.transitional||fx.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Me.isResponse(t)||Me.isReadableStream(t))return t;if(t&&Me.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?It.from(l,It.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Na.classes.FormData,Blob:Na.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],e=>{fx.headers[e]={}});const XLe=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QLe=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&XLe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},aL=Symbol("internals");function s0(e){return e&&String(e).trim().toLowerCase()}function Xy(e){return e===!1||e==null?e:Me.isArray(e)?e.map(Xy):String(e)}function JLe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const ZLe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function iN(e,t,r,n,a){if(Me.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Me.isString(t)){if(Me.isString(n))return t.indexOf(n)!==-1;if(Me.isRegExp(n))return n.test(t)}}function e5e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function t5e(e,t){const r=Me.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}class As{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=s0(c);if(!d)throw new Error("header name must be a non-empty string");const f=Me.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Xy(l))}const o=(l,c)=>Me.forEach(l,(u,d)=>s(u,d,c));if(Me.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Me.isString(t)&&(t=t.trim())&&!ZLe(t))o(QLe(t),r);else if(Me.isObject(t)&&Me.isIterable(t)){let l={},c,u;for(const d of t){if(!Me.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Me.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=s0(t),t){const n=Me.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return JLe(a);if(Me.isFunction(r))return r.call(this,a,n);if(Me.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=s0(t),t){const n=Me.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||iN(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=s0(o),o){const l=Me.findKey(n,o);l&&(!r||iN(n,n[l],l,r))&&(delete n[l],a=!0)}}return Me.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||iN(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return Me.forEach(this,(a,s)=>{const o=Me.findKey(n,s);if(o){r[o]=Xy(a),delete r[s];return}const l=t?e5e(s):String(s).trim();l!==s&&delete r[s],r[l]=Xy(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Me.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[aL]=this[aL]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=s0(o);n[l]||(t5e(a,o),n[l]=!0)}return Me.isArray(t)?t.forEach(s):s(t),this}}As.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(As.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Me.freezeMethods(As);function oN(e,t){const r=this||fx,n=t||r,a=As.from(n.headers);let s=n.data;return Me.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function hG(e){return!!(e&&e.__CANCEL__)}function Pp(e,t,r){It.call(this,e??"canceled",It.ERR_CANCELED,t,r),this.name="CanceledError"}Me.inherits(Pp,It,{__CANCEL__:!0});function mG(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new It("Request failed with status code "+r.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function r5e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function n5e(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];o||(o=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function a5e(e,t){let r=0,n=1e3/t,a,s;const o=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(a=u,s||(s=setTimeout(()=>{s=null,o(a)},n-f)))},()=>a&&o(a)]}const Gb=(e,t,r=3)=>{let n=0;const a=n5e(50,250);return a5e(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},sL=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},iL=e=>(...t)=>Me.asap(()=>e(...t)),s5e=Na.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Na.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Na.origin),Na.navigator&&/(msie|trident)/i.test(Na.navigator.userAgent)):()=>!0,i5e=Na.hasStandardBrowserEnv?{write(e,t,r,n,a,s,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Me.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Me.isString(n)&&l.push(`path=${n}`),Me.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),Me.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function o5e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function l5e(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pG(e,t,r){let n=!o5e(t);return e&&(n||r==!1)?l5e(e,t):t}const oL=e=>e instanceof As?{...e}:e;function df(e,t){t=t||{};const r={};function n(u,d,f,h){return Me.isPlainObject(u)&&Me.isPlainObject(d)?Me.merge.call({caseless:h},u,d):Me.isPlainObject(d)?Me.merge({},d):Me.isArray(d)?d.slice():d}function a(u,d,f,h){if(Me.isUndefined(d)){if(!Me.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!Me.isUndefined(d))return n(void 0,d)}function o(u,d){if(Me.isUndefined(d)){if(!Me.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>a(oL(u),oL(d),f,!0)};return Me.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);Me.isUndefined(h)&&f!==l||(r[d]=h)}),r}const gG=e=>{const t=df({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=As.from(o),t.url=uG(pG(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Me.isFormData(r)){if(Na.hasStandardBrowserEnv||Na.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Me.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Na.hasStandardBrowserEnv&&(n&&Me.isFunction(n)&&(n=n(t)),n||n!==!1&&s5e(t.url))){const c=a&&s&&i5e.read(s);c&&o.set(a,c)}return t},c5e=typeof XMLHttpRequest<"u",u5e=c5e&&function(e){return new Promise(function(r,n){const a=gG(e);let s=a.data;const o=As.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,g;function p(){m&&m(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const w=As.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};mG(function(N){r(N),p()},function(N){n(N),p()},_),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new It("Request aborted",It.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const _=j&&j.message?j.message:"Network Error",S=new It(_,It.ERR_NETWORK,e,v);S.event=j||null,n(S),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||dG;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new It(j,_.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,e,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&Me.forEach(o.toJSON(),function(j,_){v.setRequestHeader(_,j)}),Me.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,g]=Gb(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,m]=Gb(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=w=>{v&&(n(!w||w.type?new Pp(null,e,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=r5e(a.url);if(b&&Na.protocols.indexOf(b)===-1){n(new It("Unsupported protocol "+b+":",It.ERR_BAD_REQUEST,e));return}v.send(s||null)})},d5e=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof It?d:new Pp(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new It(`timeout ${t} of ms exceeded`,It.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Me.asap(l),c}},f5e=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},h5e=async function*(e,t){for await(const r of m5e(e))yield*f5e(r,t)},m5e=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},lL=(e,t,r,n)=>{const a=h5e(e,t);let s=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},cL=64*1024,{isFunction:my}=Me,p5e=(({Request:e,Response:t})=>({Request:e,Response:t}))(Me.global),{ReadableStream:uL,TextEncoder:dL}=Me.global,fL=(e,...t)=>{try{return!!e(...t)}catch{return!1}},g5e=e=>{e=Me.merge.call({skipUndefined:!0},p5e,e);const{fetch:t,Request:r,Response:n}=e,a=t?my(t):typeof fetch=="function",s=my(r),o=my(n);if(!a)return!1;const l=a&&my(uL),c=a&&(typeof dL=="function"?(g=>p=>g.encode(p))(new dL):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=s&&l&&fL(()=>{let g=!1;const p=new r(Na.origin,{body:new uL,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!p}),d=o&&l&&fL(()=>Me.isReadableStream(new n("").body)),f={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(p,v)=>{let y=p&&p[g];if(y)return y.call(p);throw new It(`Response type '${g}' is not supported`,It.ERR_NOT_SUPPORT,v)})});const h=async g=>{if(g==null)return 0;if(Me.isBlob(g))return g.size;if(Me.isSpecCompliantForm(g))return(await new r(Na.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Me.isArrayBufferView(g)||Me.isArrayBuffer(g))return g.byteLength;if(Me.isURLSearchParams(g)&&(g=g+""),Me.isString(g))return(await c(g)).byteLength},m=async(g,p)=>{const v=Me.toFiniteNumber(g.getContentLength());return v??h(p)};return async g=>{let{url:p,method:v,data:y,signal:b,cancelToken:w,timeout:j,onDownloadProgress:_,onUploadProgress:S,responseType:N,headers:C,withCredentials:k="same-origin",fetchOptions:E}=gG(g),O=t||fetch;N=N?(N+"").toLowerCase():"text";let T=d5e([b,w&&w.toAbortSignal()],j),U=null;const W=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let R;try{if(S&&u&&v!=="get"&&v!=="head"&&(R=await m(C,y))!==0){let Z=new r(p,{method:"POST",body:y,duplex:"half"}),A;if(Me.isFormData(y)&&(A=Z.headers.get("content-type"))&&C.setContentType(A),Z.body){const[B,H]=sL(R,Gb(iL(S)));y=lL(Z.body,cL,B,H)}}Me.isString(k)||(k=k?"include":"omit");const z=s&&"credentials"in r.prototype,P={...E,signal:T,method:v.toUpperCase(),headers:C.normalize().toJSON(),body:y,duplex:"half",credentials:z?k:void 0};U=s&&new r(p,P);let M=await(s?O(U,E):O(p,P));const L=d&&(N==="stream"||N==="response");if(d&&(_||L&&W)){const Z={};["status","statusText","headers"].forEach(V=>{Z[V]=M[V]});const A=Me.toFiniteNumber(M.headers.get("content-length")),[B,H]=_&&sL(A,Gb(iL(_),!0))||[];M=new n(lL(M.body,cL,B,()=>{H&&H(),W&&W()}),Z)}N=N||"text";let q=await f[Me.findKey(f,N)||"text"](M,g);return!L&&W&&W(),await new Promise((Z,A)=>{mG(Z,A,{data:q,headers:As.from(M.headers),status:M.status,statusText:M.statusText,config:g,request:U})})}catch(z){throw W&&W(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new It("Network Error",It.ERR_NETWORK,g,U),{cause:z.cause||z}):It.from(z,z&&z.code,g,U)}}},v5e=new Map,vG=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let o=s.length,l=o,c,u,d=v5e;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:g5e(t)),d=u;return u};vG();const OP={http:RLe,xhr:u5e,fetch:{get:vG}};Me.forEach(OP,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const hL=e=>`- ${e}`,x5e=e=>Me.isFunction(e)||e===null||e===!1;function y5e(e,t){e=Me.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!x5e(n)&&(a=OP[(l=String(n)).toLowerCase()],a===void 0))throw new It(`Unknown adapter '${l}'`);if(a&&(Me.isFunction(a)||(a=a.get(t))))break;s[l||"#"+o]=a}if(!a){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(hL).join(`
`):" "+hL(o[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const xG={getAdapter:y5e,adapters:OP};function lN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pp(null,e)}function mL(e){return lN(e),e.headers=As.from(e.headers),e.data=oN.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xG.getAdapter(e.adapter||fx.adapter,e)(e).then(function(n){return lN(e),n.data=oN.call(e,e.transformResponse,n),n.headers=As.from(n.headers),n},function(n){return hG(n)||(lN(e),n&&n.response&&(n.response.data=oN.call(e,e.transformResponse,n.response),n.response.headers=As.from(n.response.headers))),Promise.reject(n)})}const yG="1.13.2",ij={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ij[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const pL={};ij.transitional=function(t,r,n){function a(s,o){return"[Axios v"+yG+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new It(a(o," has been removed"+(r?" in "+r:"")),It.ERR_DEPRECATED);return r&&!pL[o]&&(pL[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};ij.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function b5e(e,t,r){if(typeof e!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new It("option "+s+" must be "+c,It.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new It("Unknown option "+s,It.ERR_BAD_OPTION)}}const Qy={assertOptions:b5e,validators:ij},Mo=Qy.validators;class Ld{constructor(t){this.defaults=t||{},this.interceptors={request:new nL,response:new nL}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=df(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Qy.assertOptions(n,{silentJSONParsing:Mo.transitional(Mo.boolean),forcedJSONParsing:Mo.transitional(Mo.boolean),clarifyTimeoutError:Mo.transitional(Mo.boolean)},!1),a!=null&&(Me.isFunction(a)?r.paramsSerializer={serialize:a}:Qy.assertOptions(a,{encode:Mo.function,serialize:Mo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Qy.assertOptions(r,{baseUrl:Mo.spelling("baseURL"),withXsrfToken:Mo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&Me.merge(s.common,s[r.method]);s&&Me.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=As.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,h;if(!c){const g=[mL.bind(this),void 0];for(g.unshift(...l),g.push(...u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let m=r;for(;f<h;){const g=l[f++],p=l[f++];try{m=g(m)}catch(v){p.call(this,v);break}}try{d=mL.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=df(this.defaults,t);const r=pG(t.baseURL,t.url,t.allowAbsoluteUrls);return uG(r,t.params,t.paramsSerializer)}}Me.forEach(["delete","get","head","options"],function(t){Ld.prototype[t]=function(r,n){return this.request(df(n||{},{method:t,url:r,data:(n||{}).data}))}});Me.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(df(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ld.prototype[t]=r(),Ld.prototype[t+"Form"]=r(!0)});class DP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new Pp(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new DP(function(a){t=a}),cancel:t}}}function w5e(e){return function(r){return e.apply(null,r)}}function _5e(e){return Me.isObject(e)&&e.isAxiosError===!0}const BC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(BC).forEach(([e,t])=>{BC[t]=e});function bG(e){const t=new Ld(e),r=Jq(Ld.prototype.request,t);return Me.extend(r,Ld.prototype,t,{allOwnKeys:!0}),Me.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return bG(df(e,a))},r}const $r=bG(fx);$r.Axios=Ld;$r.CanceledError=Pp;$r.CancelToken=DP;$r.isCancel=hG;$r.VERSION=yG;$r.toFormData=sj;$r.AxiosError=It;$r.Cancel=$r.CanceledError;$r.all=function(t){return Promise.all(t)};$r.spread=w5e;$r.isAxiosError=_5e;$r.mergeConfig=df;$r.AxiosHeaders=As;$r.formToJSON=e=>fG(Me.isHTMLForm(e)?new FormData(e):e);$r.getAdapter=xG.getAdapter;$r.HttpStatusCode=BC;$r.default=$r;const i0="https://app.chatwoot.com",Fo="",Io="",py={async getConversations(e="open",t=1){var r;try{if(!Fo||!Io)return console.warn("Chatwoot credentials missing. Please check .env file."),[];const a=(await $r.get(`${i0}/api/v1/accounts/${Io}/conversations`,{headers:{api_access_token:Fo},params:{status:e,page:t}})).data;return(r=a==null?void 0:a.data)!=null&&r.payload?a.data.payload:a!=null&&a.payload?a.payload:[]}catch(n){return console.error("[Chatwoot] Failed to fetch conversations:",n),[]}},async getMessages(e){try{return!Fo||!Io?[]:(await $r.get(`${i0}/api/v1/accounts/${Io}/conversations/${e}/messages`,{headers:{api_access_token:Fo}})).data.payload||[]}catch(t){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,t),[]}},async sendMessage(e,t,r=!1){try{return!Fo||!Io?null:(await $r.post(`${i0}/api/v1/accounts/${Io}/conversations/${e}/messages`,{content:t,message_type:r?"private":"outgoing",private:r},{headers:{api_access_token:Fo}})).data}catch(n){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,n),n}},async toggleStatus(e,t){try{if(!Fo||!Io)return;await $r.post(`${i0}/api/v1/accounts/${Io}/conversations/${e}/toggle_status`,{status:t},{headers:{api_access_token:Fo}})}catch(r){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,r),r}},async getInboxes(){try{return!Fo||!Io?[]:(await $r.get(`${i0}/api/v1/accounts/${Io}/inboxes`,{headers:{api_access_token:Fo}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function j5e(){const{t:e}=At();hr(),Li();const{isRTL:t}=ir(),[r,n]=x.useState([]),[a,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[g,p]=x.useState(""),[v,y]=x.useState("open"),b=x.useRef(null);x.useEffect(()=>{w(v);const k=setInterval(()=>{w(v,!0)},3e4);return()=>clearInterval(k)},[v]),x.useEffect(()=>{if(a){j(a.id);const k=setInterval(()=>j(a.id),1e4);return()=>clearInterval(k)}},[a]),x.useEffect(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[o]);const w=async(k,E=!1)=>{E||u(!0);try{const O=await py.getConversations(k);n(O||[])}catch(O){console.error("Failed to load conversations:",O),E||console.error("User notification skipped for load error")}finally{E||u(!1)}},j=async k=>{o.length===0&&f(!0);try{const E=await py.getMessages(k);l(E)}catch(E){console.error("Failed to load messages",E)}finally{f(!1)}},_=async()=>{if(!(!g.trim()||!a)){m(!0);try{const k=await py.sendMessage(a.id,g);k&&(l(E=>[...E,k]),p(""))}catch(k){console.error("Failed to send message",k)}finally{m(!1)}}},S=async k=>{try{const E=v==="open"?"resolved":"open";await py.toggleStatus(k,E),v!=="all"?(n(O=>O.filter(T=>T.id!==k)),(a==null?void 0:a.id)===k&&(s(null),l([]))):(n(O=>O.map(T=>T.id===k?{...T,status:E}:T)),w(v))}catch(E){console.error("Failed to toggle status",E)}},N=k=>k!=null&&k.includes("email")?i.jsx(Xf,{className:"h-4 w-4"}):k!=null&&k.includes("whatsapp")?i.jsx(Vl,{className:"h-4 w-4"}):i.jsx(Cu,{className:"h-4 w-4"}),C=k=>new Date(k*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg shadow-sm",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[i.jsxs("div",{className:"p-4 border-b space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),i.jsx(de,{variant:"ghost",size:"icon",onClick:()=>w(v),disabled:c,children:i.jsx(Ng,{className:`h-4 w-4 ${c?"animate-spin":""}`})})]}),i.jsx(Co,{defaultValue:"open",onValueChange:k=>y(k),className:"w-full",children:i.jsxs(Fi,{className:"grid w-full grid-cols-3",children:[i.jsx(Er,{value:"open",children:e("status.open")}),i.jsx(Er,{value:"resolved",children:e("status.closed")}),i.jsx(Er,{value:"all",children:e("common.all")})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(hs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Ue,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),i.jsx(Ka,{className:"flex-1",children:r.length===0&&!c?i.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):i.jsx("div",{className:"divide-y",children:r.map(k=>i.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(a==null?void 0:a.id)===k.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>s(k),children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Os,{className:"h-8 w-8",children:[i.jsx(_o,{src:k.meta.sender.thumbnail}),i.jsx(Ds,{children:k.meta.sender.name.charAt(0)})]}),i.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:k.meta.sender.name})]}),i.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:C(k.timestamp)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[N(k.meta.channel),i.jsx("span",{className:"capitalize",children:k.meta.channel.split(".")[1]||"Web"}),k.status==="resolved"&&i.jsx(pt,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),i.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:k.messages&&k.messages.length>0?k.messages[k.messages.length-1].content:e("common.noMessages")||"No messages"})]},k.id))})})]}),i.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Os,{children:[i.jsx(_o,{src:a.meta.sender.thumbnail}),i.jsx(Ds,{children:a.meta.sender.name.charAt(0)})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:a.meta.sender.name}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.meta.sender.email&&i.jsx("span",{children:a.meta.sender.email}),a.meta.sender.phone_number&&i.jsxs("span",{children:[" ",a.meta.sender.phone_number]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(de,{variant:a.status==="resolved"?"outline":"default",size:"sm",onClick:()=>S(a.id),children:a.status==="resolved"?i.jsxs(i.Fragment,{children:[i.jsx(Ng,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):i.jsxs(i.Fragment,{children:[i.jsx(sR,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),i.jsxs(GT,{children:[i.jsx(KT,{asChild:!0,children:i.jsx(de,{variant:"ghost",size:"icon",children:i.jsx(xB,{className:"h-4 w-4"})})}),i.jsxs(Xw,{align:"end",children:[i.jsx($l,{children:e("chats.viewContactDetails")}),i.jsx($l,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),i.jsx("div",{ref:b,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:d?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):o.map(k=>{const E=k.message_type==="outgoing"||k.sender&&k.sender.type==="user",O=k.private;return i.jsx("div",{className:`flex w-full ${E?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${O?"bg-yellow-50 border border-yellow-200":E?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[O&&i.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[i.jsx(Qne,{className:"h-3 w-3"})," ",e("chats.note")]}),i.jsx("div",{className:"text-sm whitespace-pre-wrap",children:k.content}),i.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${E?"text-primary-foreground/70":"text-muted-foreground"}`,children:[C(k.created_at),E&&i.jsx(sR,{className:"h-3 w-3"})]})]})},k.id)})}),i.jsxs("div",{className:"p-4 border-t bg-background",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ue,{placeholder:e("chats.typeMessage"),value:g,onChange:k=>p(k.target.value),onKeyDown:k=>k.key==="Enter"&&!k.shiftKey&&_(),disabled:h||a.status==="resolved",className:"flex-1"}),i.jsx(de,{onClick:_,disabled:h||!g.trim()||a.status==="resolved",children:h?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):i.jsx(Mv,{className:"h-4 w-4"})})]}),a.status==="resolved"&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[i.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:i.jsx(Cu,{className:"h-8 w-8 text-muted-foreground/50"})}),i.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),i.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}function S5e(){const{user:e}=hr(),{t}=At(),[r,n]=x.useState([]),[a,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(""),[h,m]=x.useState(!0),[g,p]=x.useState(!1),[v,y]=x.useState(null),[b,w]=x.useState(null),[j,_]=x.useState(!1),[S,N]=x.useState(!0),C=x.useRef(!1),k=x.useRef(null),E=x.useRef(null);x.useEffect(()=>{e&&!C.current&&O()},[e]),x.useEffect(()=>{a&&(E.current!==a.room_id&&U(),k.current!==a.room_id&&T())},[a]),x.useEffect(()=>{a&&(async()=>{try{console.log("Realtime not available - Supabase removed");return}catch(P){console.error("Failed to setup realtime:",P)}})()},[a]),x.useEffect(()=>{p(!1),y(null),w(null),C.current=!1,k.current=null,E.current=null},[e]);const O=async()=>{if(!C.current)try{m(!0);const z=await Ji.getUserRooms((e==null?void 0:e.id)||"");n(z),z.length>0&&s(z[0]),p(!0),C.current=!0}catch(z){console.error("Failed to load rooms:",z)}finally{m(!1)}},T=async()=>{if(!(!a||k.current===a.room_id))try{const z=await Wc.getByRoom(a.room_id);l(z),y(a.room_id),k.current=a.room_id}catch(z){console.error("Failed to load messages:",z)}},U=async()=>{if(!(!a||E.current===a.room_id))try{const z=await Ji.getRoomMembers(a.room_id);u(z),w(a.room_id),E.current=a.room_id}catch(z){console.error("Failed to load room members:",z)}},W=async()=>{if(!d.trim()||!a||!e)return;const z=d.trim(),P={message_id:`temp-${Date.now()}`,room_id:a.room_id,userid:e.id.toString(),content:z,created_at:new Date().toISOString(),metadata:null};l(M=>[...M,P]),f("");try{await Wc.create({room_id:a.room_id,userid:e.id.toString(),content:z,metadata:null})}catch(M){console.error("Failed to send message:",M),l(L=>L.filter(q=>q.message_id!==P.message_id)),f(z)}},R=z=>new Date(z).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return h?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{size:"xl"})}):i.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[i.jsxs("div",{className:`flex-col border rounded-lg ${S?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[i.jsx("div",{className:"p-4 border-b",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h2",{className:"text-xl font-semibold",children:t("chats.myChatRooms")})})}),i.jsx(Ka,{className:"flex-1 p-4",children:i.jsx("div",{className:"space-y-2",children:r.map(z=>i.jsx(st,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===z.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>s(z),children:i.jsx(xt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qx,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:z.room_name||`Room ${z.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:z.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},z.room_id))})})]}),a&&i.jsx("div",{className:"md:hidden mb-4",children:i.jsxs(fl,{open:j,onOpenChange:_,children:[i.jsx(N7,{asChild:!0,children:i.jsxs(de,{variant:"outline",className:"w-full justify-between",children:[i.jsx("span",{className:"truncate",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),i.jsx(qx,{className:"h-4 w-4 ml-2"})]})}),i.jsx(No,{side:"left",className:"w-80 p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:t("chats.myChatRooms")}),i.jsx(Ka,{className:"h-[60vh]",children:i.jsx("div",{className:"space-y-2",children:r.map(z=>i.jsx(st,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===z.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{s(z),_(!1)},children:i.jsx(xt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qx,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:z.room_name||`Room ${z.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:z.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},z.room_id))})})]})})]})}),i.jsx("div",{className:"flex-1 flex flex-col",children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Ya,{className:"h-4 w-4"}),i.jsxs("span",{children:[c.length," ",t("chats.members")]}),a.is_private&&i.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:t("chats.private")})]})]}),i.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>N(!S),children:i.jsx(yae,{className:"h-4 w-4"})})]}),i.jsx(Ka,{className:"flex-1 mb-4",children:i.jsx("div",{className:"space-y-4 p-4",children:b===a.room_id&&o.map(z=>{var M,L,q,Z,A;let P;return z.userid===((M=e==null?void 0:e.id)==null?void 0:M.toString())?P={userid:e.id.toString(),user_name:((L=e.profile)==null?void 0:L.user_name)||e.email||t("chats.you"),avatar:(q=e.profile)==null?void 0:q.avatar,user_id:((Z=e.profile)==null?void 0:Z.user_id)||0,user_email:e.email}:P=c.find(B=>B.userid===z.userid),P||(P={userid:z.userid,user_name:t("chats.unknownUser"),avatar:"",user_id:0}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(Os,{className:"h-8 w-8",children:[i.jsx(_o,{src:P.avatar||""}),i.jsx(Ds,{children:((A=P.user_name)==null?void 0:A.charAt(0))||"?"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-sm",children:P.user_name}),i.jsx("span",{className:"text-xs text-muted-foreground",children:R(z.created_at)})]}),i.jsx("p",{className:"text-sm",children:z.content})]})]},z.message_id)})})}),i.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[i.jsx(Ue,{value:d,onChange:z=>f(z.target.value),placeholder:t("chats.typeMessage"),onKeyPress:z=>z.key==="Enter"&&W(),className:"flex-1"}),i.jsx(de,{onClick:W,disabled:!d.trim(),children:i.jsx(Mv,{className:"h-4 w-4"})})]})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx(qx,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:t("chats.selectRoom")})]})})})]})}function N5e(){const{isRTL:e}=ir();Ur();const[t,r]=x.useState(null),[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0),{user:f,signOut:h}=hr();x.useEffect(()=>{(async()=>{if(f!=null&&f.id)try{d(!0);const p=await ld.getByUserAuthId(f.id);a(p)}catch(p){console.error("Failed to fetch user projects:",p)}finally{d(!1)}})()},[f==null?void 0:f.id]),x.useEffect(()=>{(async()=>{if(t)try{const[p,v]=await Promise.all([yd.getAll(),MC.getByTask(0)]),y=p.filter(b=>!0);o(y),c(v)}catch(p){console.error("Failed to fetch project data:",p)}})()},[t]);const m=t?n.find(g=>g.project_id===t):null;return i.jsxs("div",{className:"space-y-6",dir:e?"rtl":"ltr",children:[i.jsx("header",{className:"border-b bg-card",children:i.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),i.jsxs(de,{variant:"ghost",size:"sm",children:[i.jsx(pae,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),i.jsxs("div",{className:"container mx-auto px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",Oe((f==null?void 0:f.profile)||{},"user_name"),"! "]}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),m?i.jsxs("div",{children:[i.jsx(de,{variant:"ghost",className:"mb-4",onClick:()=>r(null),children:" Back to Projects"}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(st,{children:[i.jsx(Ht,{children:i.jsx(vr,{children:m.project_name})}),i.jsxs(xt,{children:[i.jsx("p",{className:"text-muted-foreground",children:m.project_description||"No description available"}),i.jsxs("div",{className:"mt-4",children:[i.jsx(uf,{value:m.progress||0,className:"h-3"}),i.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[m.progress||0,"% Complete"]})]})]})]}),i.jsxs(Co,{defaultValue:"tasks",children:[i.jsxs(Fi,{children:[i.jsx(Er,{value:"tasks",children:"Tasks"}),i.jsx(Er,{value:"images",children:"Gallery"}),i.jsx(Er,{value:"comments",children:"Comments"})]}),i.jsx(Jr,{value:"tasks",className:"space-y-3",children:s.filter(g=>g.stage_id!==null).map(g=>{var p;return i.jsx(st,{children:i.jsx(xt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:g.task_name}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.description||"No description"})]}),i.jsxs(pt,{variant:g.task_status==="completed"?"default":"secondary",children:[g.task_status==="completed"?"":""," ",((p=g.task_status)==null?void 0:p.replace("_"," "))||"pending"]})]})})},g.task_id)})}),i.jsx(Jr,{value:"images",children:i.jsx(st,{children:i.jsx(xt,{className:"pt-6",children:i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(g=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},g))})})})}),i.jsx(Jr,{value:"comments",children:i.jsx(st,{children:i.jsxs(xt,{className:"pt-6 space-y-4",children:[l.map(g=>i.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[i.jsx("div",{className:"text-2xl",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),i.jsx("p",{className:"text-sm mt-1",children:g.message||"No message"}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:g.created_date?new Date(g.created_date).toLocaleString():"Unknown date"})]})]},g.comment_id)),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx(Ue,{placeholder:"Add a comment..."}),i.jsx(de,{children:i.jsx(Cu,{className:"h-4 w-4"})})]})]})})})]})]}),i.jsx("div",{children:i.jsxs(st,{children:[i.jsx(Ht,{children:i.jsx(vr,{className:"text-lg",children:"Timeline"})}),i.jsxs(xt,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:m.created_date?new Date(m.created_date).toLocaleDateString():"N/A"})]}),m.end_date&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"End Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(m.end_date).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Project Kickoff"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Design Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-blue-500",children:""}),i.jsx("span",{children:"Development Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):u?i.jsx(Pa,{size:"xl"}):n.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),i.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(g=>i.jsxs(st,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(g.project_id),children:[i.jsxs(Ht,{children:[i.jsx(vr,{className:"text-lg",children:g.project_name}),i.jsxs(pt,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",g.stage||"N/A"]})]}),i.jsx(xt,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progress"}),i.jsxs("span",{className:"font-semibold",children:[g.progress||0,"%"]})]}),i.jsx(uf,{value:g.progress||0,className:"h-2"})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",g.created_date?new Date(g.created_date).toLocaleDateString():"N/A"]}),i.jsx(de,{className:"w-full",variant:"outline",children:"View Details "})]})})]},g.project_id))})]})]})}const k5e=()=>{const e=Ms(),{t}=At(),{toast:r}=Li(),{companyName:n}=RB(),a=[{icon:i.jsx(Rd,{className:"h-6 w-6"}),title:t("landing.features.projectManagement.title"),description:t("landing.features.projectManagement.description")},{icon:i.jsx(Ya,{className:"h-6 w-6"}),title:t("landing.features.leadManagement.title"),description:t("landing.features.leadManagement.description")},{icon:i.jsx(gB,{className:"h-6 w-6"}),title:t("landing.features.analytics.title"),description:t("landing.features.analytics.description")},{icon:i.jsx(Cu,{className:"h-6 w-6"}),title:t("landing.features.communication.title"),description:t("landing.features.communication.description")},{icon:i.jsx(I0,{className:"h-6 w-6"}),title:t("landing.features.taskManagement.title"),description:t("landing.features.taskManagement.description")},{icon:i.jsx(A1,{className:"h-6 w-6"}),title:t("landing.features.security.title"),description:t("landing.features.security.description")}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[i.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:(n==null?void 0:n.charAt(0))||"M"})}),i.jsx("span",{className:"text-xl font-bold text-gray-900",children:n})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(iU,{}),i.jsx(de,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:t("buttons.login")})]})]})}),i.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"text-center",children:[i.jsxs(pt,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[i.jsx(yB,{className:"h-3 w-3 mr-1"}),t("landing.badge")]}),i.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[t("landing.hero.title.line1"),i.jsx("span",{className:"text-primary block",children:t("landing.hero.title.line2")})]}),i.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:t("landing.hero.description")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[i.jsxs(de,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[t("landing.hero.cta.primary"),i.jsx(Zne,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),i.jsx(de,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:t("landing.hero.cta.secondary")})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.users")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.usersLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.projects")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.projectsLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.uptime")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.uptimeLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.support")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.supportLabel")})]})]})]})}),i.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:t("landing.features.title")}),i.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t("landing.features.subtitle")})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:a.map((s,o)=>i.jsx(st,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:i.jsxs(xt,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:s.icon}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.title})]}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.description})]})},o))})]})}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[i.jsx(st,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:i.jsxs(xt,{className:"p-8 sm:p-12 text-center",children:[i.jsx(Eae,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),i.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:t("landing.cta.title")}),i.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:t("landing.cta.description")}),i.jsxs(de,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[t("landing.cta.button"),i.jsx(Md,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),i.jsx(st,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:i.jsxs(xt,{className:"p-8 sm:p-12",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t("landing.partner.title")}),i.jsx("p",{className:"text-gray-600",children:t("landing.partner.subtitle")})]}),i.jsxs("form",{className:"space-y-4",onSubmit:async s=>{s.preventDefault();const o=s.target,l=new FormData(o);try{await Ky.createApplication({company_name:l.get("company_name"),full_name:l.get("full_name"),email:l.get("email"),phone:l.get("phone")}),r({title:t("landing.partner.success"),description:t("landing.partner.successMessage")}),o.reset()}catch{r({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[i.jsx("div",{className:"space-y-2",children:i.jsx(Ue,{name:"company_name",placeholder:t("landing.partner.companyName"),required:!0,className:"bg-white"})}),i.jsx("div",{className:"space-y-2",children:i.jsx(Ue,{name:"full_name",placeholder:t("landing.partner.fullName"),required:!0,className:"bg-white"})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(Ue,{name:"email",type:"email",placeholder:t("landing.partner.email"),required:!0,className:"bg-white"}),i.jsx(Ue,{name:"phone",type:"tel",placeholder:t("landing.partner.phone"),required:!0,className:"bg-white"})]}),i.jsx(de,{type:"submit",className:"w-full text-lg h-12",children:t("landing.partner.submit")})]})]})})]})})}),i.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:(n==null?void 0:n.charAt(0))||"M"})}),i.jsxs("span",{className:"font-semibold text-gray-900",children:[n," CRM"]})]}),i.jsx("p",{className:"text-sm text-gray-600",children:t("landing.footer.copyright",{brand:t("landing.brandName")})})]})})]})},C5e=()=>{const[e,t]=x.useState("loading"),[r,n]=x.useState("Processing authentication..."),a=Ms(),{user:s}=hr();return x.useEffect(()=>((async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),s){console.log("[AuthCallback] User already authenticated by auth context:",s.role),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{s.role==="client"?a("/client-portal"):s.role==="employee"||s.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] No user from context, checking localStorage..."),t("error"),n("OAuth authentication is not available. Please use email/password sign in."),setTimeout(()=>a("/login"),3e3)}catch(l){console.error("[AuthCallback] Error handling callback:",l),t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3)}})(),()=>{}),[s,a]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&i.jsxs(i.Fragment,{children:[i.jsx(Pa,{size:"xl",message:r}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),i.jsx("p",{className:"text-gray-600",children:r})]})]})})};function gL({data:e,columns:t,actions:r=[],keyExtractor:n,className:a="",gridClassName:s="grid gap-4 md:grid-cols-2 lg:grid-cols-3 pb-4",cardClassName:o="group relative overflow-hidden transition-all duration-300 hover:shadow-xl border-primary/5 hover:border-primary/20",emptyState:l,onCardClick:c,renderCardHeader:u,renderCardContent:d,renderCardFooter:f}){At();const{isRTL:h}=ir();return e.length===0&&l?i.jsx(st,{className:Ce("flex items-center justify-center h-64",a),children:i.jsxs(xt,{className:"text-center",children:[l.icon&&i.jsx("div",{className:"mb-4",children:l.icon}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:l.title}),i.jsx("p",{className:"text-muted-foreground",children:l.description})]})}):i.jsx("div",{className:Ce(s,a),dir:h?"rtl":"ltr",children:e.map((m,g)=>{var v,y,b,w,j,_;const p=n(m,g);return i.jsxs(st,{className:Ce(o,c&&"cursor-pointer"),children:[i.jsx("div",{className:"absolute top-0 inset-inline-start-0 w-1 h-full bg-primary/10 group-hover:bg-primary transition-colors"}),u?u(m,g):i.jsx(Ht,{className:"pb-3",children:i.jsx("div",{className:"flex items-start justify-between gap-2",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[(v=t.find(S=>S.key==="title"))!=null&&v.render?t.find(S=>S.key==="title").render(m,g):i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:String(m[(y=t.find(S=>S.key==="title"))==null?void 0:y.key]||"")}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.filter(S=>S.key!=="title"&&S.render).map((S,N)=>i.jsx(ue.Fragment,{children:S.render(m,g)},N))})]})})}),d?d(m,g):i.jsxs(xt,{className:"space-y-4",children:[(b=t.find(S=>S.key==="description"))!=null&&b.render?t.find(S=>S.key==="description").render(m,g):i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 min-h-[40px]",children:String(m[(w=t.find(S=>S.key==="description"))==null?void 0:w.key]||"")}),f?f(m,g):i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-primary/5",children:[(j=t.find(S=>S.key==="date"))!=null&&j.render?t.find(S=>S.key==="date").render(m,g):i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(Yd,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:new Date(String(m[(_=t.find(S=>S.key==="date"))==null?void 0:_.key]||Date.now())).toLocaleDateString()})]}),r.length>0&&i.jsx("div",{className:"flex items-center gap-1 opacity-80 group-hover:opacity-100 transition-opacity",children:r.filter(S=>!S.condition||S.condition(m)).map(S=>i.jsx(de,{variant:S.variant||"ghost",size:"icon",className:Ce("h-8 w-8",S.className),onClick:N=>{N.stopPropagation(),S.onClick(m,N)},title:S.title||S.label,children:S.icon},S.key))})]})]})]},p)})})}const vL=({children:e,className:t})=>i.jsx("h3",{className:Ce("font-semibold text-base truncate group-hover:text-primary transition-colors",t),children:e}),E5e=({children:e,className:t})=>i.jsx("p",{className:Ce("text-sm text-muted-foreground line-clamp-2 min-h-[40px]",t),children:e}),xL=({date:e,className:t})=>i.jsxs("div",{className:Ce("flex items-center gap-2 text-xs text-muted-foreground",t),children:[i.jsx(Yd,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:new Date(e).toLocaleDateString()})]}),cN=({children:e,variant:t="secondary",className:r})=>i.jsx(pt,{variant:t,className:Ce("text-[10px] uppercase tracking-wider font-bold",r),children:e}),Km=({className:e,...t})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:Ce("mx-auto flex w-full justify-center",e),...t});Km.displayName="Pagination";const Ym=x.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,className:Ce("flex flex-row items-center gap-1",e),...t}));Ym.displayName="PaginationContent";const Sa=x.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,className:Ce("",e),...t}));Sa.displayName="PaginationItem";const RP=({className:e,isActive:t,size:r="icon",...n})=>i.jsx("a",{"aria-current":t?"page":void 0,className:Ce(pm({variant:t?"outline":"ghost",size:r}),e),...n});RP.displayName="PaginationLink";const iu=({className:e,children:t,...r})=>i.jsx(RP,{"aria-label":"Go to previous page",size:"default",className:Ce("gap-1 pl-2.5",e),...r,children:i.jsx("span",{children:t||"Previous"})});iu.displayName="PaginationPrevious";const ou=({className:e,children:t,...r})=>i.jsx(RP,{"aria-label":"Go to next page",size:"default",className:Ce("gap-1 pr-2.5",e),...r,children:i.jsx("span",{children:t||"Next"})});ou.displayName="PaginationNext";/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var wG=1252,T5e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],MP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},FP=function(e){T5e.indexOf(e)!=-1&&(wG=MP[0]=e)};function A5e(){FP(1252)}var fo=function(e){FP(e)};function _G(){fo(1200),A5e()}function yL(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function P5e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function jG(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var b0=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?P5e(e.slice(2)):t==254&&r==255?jG(e.slice(2)):t==65279?e.slice(1):e},gy=function(t){return String.fromCharCode(t)},bL=function(t){return String.fromCharCode(t)},Hc,lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function wL(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=lu.charAt(s)+lu.charAt(o)+lu.charAt(l)+lu.charAt(c);return t}function ii(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=lu.indexOf(e.charAt(u++)),o=lu.indexOf(e.charAt(u++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=lu.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=lu.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Yt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Cf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Pu(e){return Yt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function _L(e){return Yt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var lo=function(t){return Yt?Cf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Ef(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function IP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return IP(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var qc=Yt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Cf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function O5e(e){for(var t=[],r=0,n=e.length+250,a=Pu(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Pu(65535),n=65530)}return t.push(a.slice(0,r)),qc(t)}var rs=/\u0000/g,w0=/[\u0001-\u0006]/g;function Uh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ho(e,t){var r=""+e;return r.length>=t?r:Qr("0",t-r.length)+r}function LP(e,t){var r=""+e;return r.length>=t?r:Qr(" ",t-r.length)+r}function Kb(e,t){var r=""+e;return r.length>=t?r:r+Qr(" ",t-r.length)}function D5e(e,t){var r=""+Math.round(e);return r.length>=t?r:Qr("0",t-r.length)+r}function R5e(e,t){var r=""+e;return r.length>=t?r:Qr("0",t-r.length)+r}var jL=Math.pow(2,32);function Kf(e,t){if(e>jL||e<-jL)return D5e(e,t);var r=Math.round(e);return R5e(r,t)}function Yb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var SL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],uN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function M5e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ft={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},NL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},F5e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Xb(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function wd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=z5e(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var SG=new Date(1899,11,31,0,0,0),I5e=SG.getTime(),L5e=new Date(1900,2,1,0,0,0);function NG(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=L5e&&(r+=24*60*60*1e3),(r-(I5e+(e.getTimezoneOffset()-SG.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function $P(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function $5e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function B5e(e){var t=e<0?12:11,r=$P(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function U5e(e){var t=$P(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function mv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=B5e(e):t===10?r=e.toFixed(10).substr(0,12):r=U5e(e),$P($5e(r.toUpperCase()))}function ff(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):mv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ii(14,NG(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function z5e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function V5e(e,t,r,n){var a="",s=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return uN[r.m-1][1];case 5:return uN[r.m-1][0];default:return uN[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return SL[r.q][0];default:return SL[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ho(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=ho(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?ho(c,u):"";return d}function cu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var kG=/%/g;function W5e(e,t,r){var n=t.replace(kG,""),a=t.length-n.length;return Zl(e,n,r*Math.pow(10,2*a))+Qr("%",a)}function H5e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Zl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function CG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+CG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var EG=/# (\?+)( ?)\/( ?)(\d+)/;function q5e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?Qr(" ",e[1].length+1+e[4].length):LP(o,e[1].length)+e[2]+"/"+e[3]+ho(l,e[4].length))}function G5e(e,t,r){return r+(t===0?"":""+t)+Qr(" ",e[1].length+2+e[4].length)}var TG=/^#*0*\.([0#]+)/,AG=/\).*[0#]/,PG=/\(###\) ###\\?-####/;function Wa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function kL(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function CL(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function K5e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Y5e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function gi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(AG)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?gi("n",n,r):"("+gi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return H5e(e,t,r);if(t.indexOf("%")!==-1)return W5e(e,t,r);if(t.indexOf("E")!==-1)return CG(t,r);if(t.charCodeAt(0)===36)return"$"+gi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Kf(c,t.length);if(t.match(/^[#?]+$/))return a=Kf(r,0),a==="0"&&(a=""),a.length>t.length?a:Wa(t.substr(0,t.length-a.length))+a;if(s=t.match(EG))return q5e(s,c,u);if(t.match(/^#+0+$/))return u+Kf(c,t.length-t.indexOf("0"));if(s=t.match(TG))return a=kL(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Wa(s[1])).replace(/\.$/,"."+Wa(s[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+Qr("0",Wa(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+kL(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+cu(Kf(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+gi(e,t,-r):cu(""+(Math.floor(r)+K5e(r,s[1].length)))+"."+ho(CL(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return gi(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Uh(gi(e,t.replace(/[\\-]/g,""),r)),o=0,Uh(Uh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(PG))return a=gi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=Xb(c,Math.pow(10,o)-1,!1),a=""+u,d=Zl("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Kb(l[2],o),d.length<s[4].length&&(d=Wa(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=Xb(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?LP(l[1],o)+s[2]+"/"+s[3]+Kb(l[2],o):Qr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Kf(r,0),t.length<=a.length?a:Wa(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Wa(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=CL(r,s[1].length),r<0?"-"+gi(e,t,-r):cu(Y5e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ho(0,3-g.length):"")+g})+"."+ho(o,s[1].length);switch(t){case"###,##0.00":return gi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=cu(Kf(c,0));return m!=="0"?u+m:"";case"###,###.00":return gi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return gi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function X5e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Zl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Q5e(e,t,r){var n=t.replace(kG,""),a=t.length-n.length;return Zl(e,n,r*Math.pow(10,2*a))+Qr("%",a)}function OG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+OG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function $o(e,t,r){if(e.charCodeAt(0)===40&&!t.match(AG)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?$o("n",n,r):"("+$o("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return X5e(e,t,r);if(t.indexOf("%")!==-1)return Q5e(e,t,r);if(t.indexOf("E")!==-1)return OG(t,r);if(t.charCodeAt(0)===36)return"$"+$o(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+ho(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Wa(t.substr(0,t.length-a.length))+a;if(s=t.match(EG))return G5e(s,c,u);if(t.match(/^#+0+$/))return u+ho(c,t.length-t.indexOf("0"));if(s=t.match(TG))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Wa(s[1])).replace(/\.$/,"."+Wa(s[1])),a=a.replace(/\.(\d*)$/,function(g,p){return"."+p+Qr("0",Wa(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+cu(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+$o(e,t,-r):cu(""+r)+"."+Qr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return $o(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Uh($o(e,t.replace(/[\\-]/g,""),r)),o=0,Uh(Uh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(PG))return a=$o(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=Xb(c,Math.pow(10,o)-1,!1),a=""+u,d=Zl("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Kb(l[2],o),d.length<s[4].length&&(d=Wa(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=Xb(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?LP(l[1],o)+s[2]+"/"+s[3]+Kb(l[2],o):Qr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Wa(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Wa(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+$o(e,t,-r):cu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ho(0,3-g.length):"")+g})+"."+ho(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=cu(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return $o(e,t.slice(0,t.lastIndexOf(".")),r)+Wa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Zl(e,t,r){return(r|0)===r?$o(e,t,r):gi(e,t,r)}function J5e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var DG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Op(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Yb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(DG))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Z5e(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Yb(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++o;break;case"\\":var m=e.charAt(++o),g=m==="("||m===")"?m:"t";a[a.length]={t:g,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=wd(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=wd(t,r),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(u==null&&(u=wd(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",o+=5,h="h"):(p.t="t",++o),u==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(DG)){if(u==null&&(u=wd(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Op(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,y=0,b;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",v<1&&(v=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",j;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=V5e(a[o].t.charCodeAt(0),a[o].v,u,y),a[o].t="t";break;case"n":case"?":for(j=o+1;a[j]!=null&&((l=a[j].t)==="?"||l==="D"||(l===" "||l==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[o].v+=a[j].v,a[j]={v:"",t:";"},++j;w+=a[o].v,o=j-1;break;case"G":a[o].t="t",a[o].v=ff(t,r);break}var _="",S,N;if(w.length>0){w.charCodeAt(0)==40?(S=t<0&&w.charCodeAt(0)===45?-t:t,N=Zl("n",w,S)):(S=t<0&&n>1?-t:t,N=Zl("n",w,S),S<0&&a[0]&&a[0].t=="t"&&(N=N.substr(1),a[0].v="-"+a[0].v)),j=N.length-1;var C=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){C=o;break}var k=a.length;if(C===a.length&&N.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(j>=a[o].v.length-1?(j-=a[o].v.length,a[o].v=N.substr(j+1,a[o].v.length)):j<0?a[o].v="":(a[o].v=N.substr(0,j+1),j=-1),a[o].t="t",k=o);j>=0&&k<a.length&&(a[k].v=N.substr(0,j+1)+a[k].v)}else if(C!==a.length&&N.indexOf("E")===-1){for(j=N.indexOf(".")-1,o=C;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===C?a[o].v.indexOf(".")-1:a[o].v.length-1,_=a[o].v.substr(d+1);d>=0;--d)j>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(_=N.charAt(j--)+_);a[o].v=_,a[o].t="t",k=o}for(j>=0&&k<a.length&&(a[k].v=N.substr(0,j+1)+a[k].v),j=N.indexOf(".")+1,o=C;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==C)){for(d=a[o].v.indexOf(".")>-1&&o===C?a[o].v.indexOf(".")+1:0,_=a[o].v.substr(0,d);d<a[o].v.length;++d)j<N.length&&(_+=N.charAt(j++));a[o].v=_,a[o].t="t",k=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(S=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Zl(a[o].t,a[o].v,S),a[o].t="t");var E="";for(o=0;o!==a.length;++o)a[o]!=null&&(E+=a[o].v);return E}var EL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function TL(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function e$e(e,t){var r=J5e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(EL),l=r[1].match(EL);return TL(t,o)?[n,r[0]]:TL(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function Ii(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ft)[e],n==null&&(n=r.table&&r.table[NL[e]]||Ft[NL[e]]),n==null&&(n=F5e[e]||"General");break}if(Yb(n,0))return ff(t,r);t instanceof Date&&(t=NG(t,r.date1904));var a=e$e(n,t);if(Yb(a[1]))return ff(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Z5e(a[1],t,r,a[0])}function $d(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ft[r]==null){t<0&&(t=r);continue}if(Ft[r]==e){t=r;break}}t<0&&(t=391)}return Ft[t]=e,t}function RG(){Ft=M5e()}var t$e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},MG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function r$e(e){var t=typeof e=="number"?Ft[e]:e;return t=t.replace(MG,"(\\d+)"),new RegExp("^"+t+"$")}function n$e(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match(MG)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var a$e=function(){var e={};e.version="1.2.0";function t(){for(var N=0,C=new Array(256),k=0;k!=256;++k)N=k,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,C[k]=N;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function n(N){var C=0,k=0,E=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(E=0;E!=256;++E)O[E]=N[E];for(E=0;E!=256;++E)for(k=N[E],C=256+E;C<4096;C+=256)k=O[C]=k>>>8^N[k&255];var T=[];for(E=1;E!=16;++E)T[E-1]=typeof Int32Array<"u"?O.subarray(E*256,E*256+256):O.slice(E*256,E*256+256);return T}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],g=a[9],p=a[10],v=a[11],y=a[12],b=a[13],w=a[14];function j(N,C){for(var k=C^-1,E=0,O=N.length;E<O;)k=k>>>8^r[(k^N.charCodeAt(E++))&255];return~k}function _(N,C){for(var k=C^-1,E=N.length-15,O=0;O<E;)k=w[N[O++]^k&255]^b[N[O++]^k>>8&255]^y[N[O++]^k>>16&255]^v[N[O++]^k>>>24]^p[N[O++]]^g[N[O++]]^m[N[O++]]^h[N[O++]]^f[N[O++]]^d[N[O++]]^u[N[O++]]^c[N[O++]]^l[N[O++]]^o[N[O++]]^s[N[O++]]^r[N[O++]];for(E+=15;O<E;)k=k>>>8^r[(k^N[O++])&255];return~k}function S(N,C){for(var k=C^-1,E=0,O=N.length,T=0,U=0;E<O;)T=N.charCodeAt(E++),T<128?k=k>>>8^r[(k^T)&255]:T<2048?(k=k>>>8^r[(k^(192|T>>6&31))&255],k=k>>>8^r[(k^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,U=N.charCodeAt(E++)&1023,k=k>>>8^r[(k^(240|T>>8&7))&255],k=k>>>8^r[(k^(128|T>>2&63))&255],k=k>>>8^r[(k^(128|U>>6&15|(T&3)<<4))&255],k=k>>>8^r[(k^(128|U&63))&255]):(k=k>>>8^r[(k^(224|T>>12&15))&255],k=k>>>8^r[(k^(128|T>>6&63))&255],k=k>>>8^r[(k^(128|T&63))&255]);return~k}return e.table=r,e.bstr=j,e.buf=_,e.str=S,e}(),Xt=function(){var t={};t.version="1.2.1";function r(K,oe){for(var J=K.split("/"),ne=oe.split("/"),F=0,Y=0,he=Math.min(J.length,ne.length);F<he;++F){if(Y=J[F].length-ne[F].length)return Y;if(J[F]!=ne[F])return J[F]<ne[F]?-1:1}return J.length-ne.length}function n(K){if(K.charAt(K.length-1)=="/")return K.slice(0,-1).indexOf("/")===-1?K:n(K.slice(0,-1));var oe=K.lastIndexOf("/");return oe===-1?K:K.slice(0,oe+1)}function a(K){if(K.charAt(K.length-1)=="/")return a(K.slice(0,-1));var oe=K.lastIndexOf("/");return oe===-1?K:K.slice(oe+1)}function s(K,oe){typeof oe=="string"&&(oe=new Date(oe));var J=oe.getHours();J=J<<6|oe.getMinutes(),J=J<<5|oe.getSeconds()>>>1,K.write_shift(2,J);var ne=oe.getFullYear()-1980;ne=ne<<4|oe.getMonth()+1,ne=ne<<5|oe.getDate(),K.write_shift(2,ne)}function o(K){var oe=K.read_shift(2)&65535,J=K.read_shift(2)&65535,ne=new Date,F=J&31;J>>>=5;var Y=J&15;J>>>=4,ne.setMilliseconds(0),ne.setFullYear(J+1980),ne.setMonth(Y-1),ne.setDate(F);var he=oe&31;oe>>>=5;var Ne=oe&63;return oe>>>=6,ne.setHours(oe),ne.setMinutes(Ne),ne.setSeconds(he<<1),ne}function l(K){Jn(K,0);for(var oe={},J=0;K.l<=K.length-4;){var ne=K.read_shift(2),F=K.read_shift(2),Y=K.l+F,he={};switch(ne){case 21589:J=K.read_shift(1),J&1&&(he.mtime=K.read_shift(4)),F>5&&(J&2&&(he.atime=K.read_shift(4)),J&4&&(he.ctime=K.read_shift(4))),he.mtime&&(he.mt=new Date(he.mtime*1e3));break}K.l=Y,oe[ne]=he}return oe}var c;function u(){return c||(c={})}function d(K,oe){if(K[0]==80&&K[1]==75)return sa(K,oe);if((K[0]|32)==109&&(K[1]|32)==105)return Bs(K,oe);if(K.length<512)throw new Error("CFB file size "+K.length+" < 512");var J=3,ne=512,F=0,Y=0,he=0,Ne=0,ye=0,Se=[],Ae=K.slice(0,512);Jn(Ae,0);var Ve=f(Ae);switch(J=Ve[0],J){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(Ve[1]==0)return sa(K,oe);default:throw new Error("Major Version: Expected 3 or 4 saw "+J)}ne!==512&&(Ae=K.slice(0,ne),Jn(Ae,28));var Ge=K.slice(0,ne);h(Ae,J);var ee=Ae.read_shift(4,"i");if(J===3&&ee!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ee);Ae.l+=4,he=Ae.read_shift(4,"i"),Ae.l+=4,Ae.chk("00100000","Mini Stream Cutoff Size: "),Ne=Ae.read_shift(4,"i"),F=Ae.read_shift(4,"i"),ye=Ae.read_shift(4,"i"),Y=Ae.read_shift(4,"i");for(var me=-1,Te=0;Te<109&&(me=Ae.read_shift(4,"i"),!(me<0));++Te)Se[Te]=me;var pe=m(K,ne);v(ye,Y,pe,ne,Se);var lt=b(pe,he,Se,ne);lt[he].name="!Directory",F>0&&Ne!==U&&(lt[Ne].name="!MiniFAT"),lt[Se[0]].name="!FAT",lt.fat_addrs=Se,lt.ssz=ne;var at={},qt=[],tt=[],rt=[];w(he,lt,pe,qt,F,at,tt,Ne),g(tt,rt,qt),qt.shift();var br={FileIndex:tt,FullPaths:rt};return oe&&oe.raw&&(br.raw={header:Ge,sectors:pe}),br}function f(K){if(K[K.l]==80&&K[K.l+1]==75)return[0,0];K.chk(W,"Header Signature: "),K.l+=16;var oe=K.read_shift(2,"u");return[K.read_shift(2,"u"),oe]}function h(K,oe){var J=9;switch(K.l+=2,J=K.read_shift(2)){case 9:if(oe!=3)throw new Error("Sector Shift: Expected 9 saw "+J);break;case 12:if(oe!=4)throw new Error("Sector Shift: Expected 12 saw "+J);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+J)}K.chk("0600","Mini Sector Shift: "),K.chk("000000000000","Reserved: ")}function m(K,oe){for(var J=Math.ceil(K.length/oe)-1,ne=[],F=1;F<J;++F)ne[F-1]=K.slice(F*oe,(F+1)*oe);return ne[J-1]=K.slice(J*oe),ne}function g(K,oe,J){for(var ne=0,F=0,Y=0,he=0,Ne=0,ye=J.length,Se=[],Ae=[];ne<ye;++ne)Se[ne]=Ae[ne]=ne,oe[ne]=J[ne];for(;Ne<Ae.length;++Ne)ne=Ae[Ne],F=K[ne].L,Y=K[ne].R,he=K[ne].C,Se[ne]===ne&&(F!==-1&&Se[F]!==F&&(Se[ne]=Se[F]),Y!==-1&&Se[Y]!==Y&&(Se[ne]=Se[Y])),he!==-1&&(Se[he]=ne),F!==-1&&ne!=Se[ne]&&(Se[F]=Se[ne],Ae.lastIndexOf(F)<Ne&&Ae.push(F)),Y!==-1&&ne!=Se[ne]&&(Se[Y]=Se[ne],Ae.lastIndexOf(Y)<Ne&&Ae.push(Y));for(ne=1;ne<ye;++ne)Se[ne]===ne&&(Y!==-1&&Se[Y]!==Y?Se[ne]=Se[Y]:F!==-1&&Se[F]!==F&&(Se[ne]=Se[F]));for(ne=1;ne<ye;++ne)if(K[ne].type!==0){if(Ne=ne,Ne!=Se[Ne])do Ne=Se[Ne],oe[ne]=oe[Ne]+"/"+oe[ne];while(Ne!==0&&Se[Ne]!==-1&&Ne!=Se[Ne]);Se[ne]=-1}for(oe[0]+="/",ne=1;ne<ye;++ne)K[ne].type!==2&&(oe[ne]+="/")}function p(K,oe,J){for(var ne=K.start,F=K.size,Y=[],he=ne;J&&F>0&&he>=0;)Y.push(oe.slice(he*T,he*T+T)),F-=T,he=ud(J,he*4);return Y.length===0?kn(0):qc(Y).slice(0,K.size)}function v(K,oe,J,ne,F){var Y=U;if(K===U){if(oe!==0)throw new Error("DIFAT chain shorter than expected")}else if(K!==-1){var he=J[K],Ne=(ne>>>2)-1;if(!he)return;for(var ye=0;ye<Ne&&(Y=ud(he,ye*4))!==U;++ye)F.push(Y);v(ud(he,ne-4),oe-1,J,ne,F)}}function y(K,oe,J,ne,F){var Y=[],he=[];F||(F=[]);var Ne=ne-1,ye=0,Se=0;for(ye=oe;ye>=0;){F[ye]=!0,Y[Y.length]=ye,he.push(K[ye]);var Ae=J[Math.floor(ye*4/ne)];if(Se=ye*4&Ne,ne<4+Se)throw new Error("FAT boundary crossed: "+ye+" 4 "+ne);if(!K[Ae])break;ye=ud(K[Ae],Se)}return{nodes:Y,data:$L([he])}}function b(K,oe,J,ne){var F=K.length,Y=[],he=[],Ne=[],ye=[],Se=ne-1,Ae=0,Ve=0,Ge=0,ee=0;for(Ae=0;Ae<F;++Ae)if(Ne=[],Ge=Ae+oe,Ge>=F&&(Ge-=F),!he[Ge]){ye=[];var me=[];for(Ve=Ge;Ve>=0;){me[Ve]=!0,he[Ve]=!0,Ne[Ne.length]=Ve,ye.push(K[Ve]);var Te=J[Math.floor(Ve*4/ne)];if(ee=Ve*4&Se,ne<4+ee)throw new Error("FAT boundary crossed: "+Ve+" 4 "+ne);if(!K[Te]||(Ve=ud(K[Te],ee),me[Ve]))break}Y[Ge]={nodes:Ne,data:$L([ye])}}return Y}function w(K,oe,J,ne,F,Y,he,Ne){for(var ye=0,Se=ne.length?2:0,Ae=oe[K].data,Ve=0,Ge=0,ee;Ve<Ae.length;Ve+=128){var me=Ae.slice(Ve,Ve+128);Jn(me,64),Ge=me.read_shift(2),ee=WP(me,0,Ge-Se),ne.push(ee);var Te={name:ee,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},pe=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);pe!==0&&(Te.ct=j(me,me.l-8));var lt=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);lt!==0&&(Te.mt=j(me,me.l-8)),Te.start=me.read_shift(4,"i"),Te.size=me.read_shift(4,"i"),Te.size<0&&Te.start<0&&(Te.size=Te.type=0,Te.start=U,Te.name=""),Te.type===5?(ye=Te.start,F>0&&ye!==U&&(oe[ye].name="!StreamData")):Te.size>=4096?(Te.storage="fat",oe[Te.start]===void 0&&(oe[Te.start]=y(J,Te.start,oe.fat_addrs,oe.ssz)),oe[Te.start].name=Te.name,Te.content=oe[Te.start].data.slice(0,Te.size)):(Te.storage="minifat",Te.size<0?Te.size=0:ye!==U&&Te.start!==U&&oe[ye]&&(Te.content=p(Te,oe[ye].data,(oe[Ne]||{}).data))),Te.content&&Jn(Te.content,0),Y[ee]=Te,he.push(Te)}}function j(K,oe){return new Date((Xs(K,oe+4)/1e7*Math.pow(2,32)+Xs(K,oe)/1e7-11644473600)*1e3)}function _(K,oe){return u(),d(c.readFileSync(K),oe)}function S(K,oe){var J=oe&&oe.type;switch(J||Yt&&Buffer.isBuffer(K)&&(J="buffer"),J||"base64"){case"file":return _(K,oe);case"base64":return d(lo(ii(K)),oe);case"binary":return d(lo(K),oe)}return d(K,oe)}function N(K,oe){var J=oe||{},ne=J.root||"Root Entry";if(K.FullPaths||(K.FullPaths=[]),K.FileIndex||(K.FileIndex=[]),K.FullPaths.length!==K.FileIndex.length)throw new Error("inconsistent CFB structure");K.FullPaths.length===0&&(K.FullPaths[0]=ne+"/",K.FileIndex[0]={name:ne,type:5}),J.CLSID&&(K.FileIndex[0].clsid=J.CLSID),C(K)}function C(K){var oe="Sh33tJ5";if(!Xt.find(K,"/"+oe)){var J=kn(4);J[0]=55,J[1]=J[3]=50,J[2]=54,K.FileIndex.push({name:oe,type:2,content:J,size:4,L:69,R:69,C:69}),K.FullPaths.push(K.FullPaths[0]+oe),k(K)}}function k(K,oe){N(K);for(var J=!1,ne=!1,F=K.FullPaths.length-1;F>=0;--F){var Y=K.FileIndex[F];switch(Y.type){case 0:ne?J=!0:(K.FileIndex.pop(),K.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(Y.R*Y.L*Y.C)&&(J=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(J=!0);break;default:J=!0;break}}if(!(!J&&!oe)){var he=new Date(1987,1,19),Ne=0,ye=Object.create?Object.create(null):{},Se=[];for(F=0;F<K.FullPaths.length;++F)ye[K.FullPaths[F]]=!0,K.FileIndex[F].type!==0&&Se.push([K.FullPaths[F],K.FileIndex[F]]);for(F=0;F<Se.length;++F){var Ae=n(Se[F][0]);ne=ye[Ae],ne||(Se.push([Ae,{name:a(Ae).replace("/",""),type:1,clsid:z,ct:he,mt:he,content:null}]),ye[Ae]=!0)}for(Se.sort(function(ee,me){return r(ee[0],me[0])}),K.FullPaths=[],K.FileIndex=[],F=0;F<Se.length;++F)K.FullPaths[F]=Se[F][0],K.FileIndex[F]=Se[F][1];for(F=0;F<Se.length;++F){var Ve=K.FileIndex[F],Ge=K.FullPaths[F];if(Ve.name=a(Ge).replace("/",""),Ve.L=Ve.R=Ve.C=-(Ve.color=1),Ve.size=Ve.content?Ve.content.length:0,Ve.start=0,Ve.clsid=Ve.clsid||z,F===0)Ve.C=Se.length>1?1:-1,Ve.size=0,Ve.type=5;else if(Ge.slice(-1)=="/"){for(Ne=F+1;Ne<Se.length&&n(K.FullPaths[Ne])!=Ge;++Ne);for(Ve.C=Ne>=Se.length?-1:Ne,Ne=F+1;Ne<Se.length&&n(K.FullPaths[Ne])!=n(Ge);++Ne);Ve.R=Ne>=Se.length?-1:Ne,Ve.type=1}else n(K.FullPaths[F+1]||"")==n(Ge)&&(Ve.R=F+1),Ve.type=2}}}function E(K,oe){var J=oe||{};if(J.fileType=="mad")return Us(K,J);switch(k(K),J.fileType){case"zip":return Fn(K,J)}var ne=function(ee){for(var me=0,Te=0,pe=0;pe<ee.FileIndex.length;++pe){var lt=ee.FileIndex[pe];if(lt.content){var at=lt.content.length;at>0&&(at<4096?me+=at+63>>6:Te+=at+511>>9)}}for(var qt=ee.FullPaths.length+3>>2,tt=me+7>>3,rt=me+127>>7,br=tt+Te+qt+rt,en=br+127>>7,zs=en<=109?0:Math.ceil((en-109)/127);br+en+zs+127>>7>en;)zs=++en<=109?0:Math.ceil((en-109)/127);var _n=[1,zs,en,rt,qt,Te,me,0];return ee.FileIndex[0].size=me<<6,_n[7]=(ee.FileIndex[0].start=_n[0]+_n[1]+_n[2]+_n[3]+_n[4]+_n[5])+(_n[6]+7>>3),_n}(K),F=kn(ne[7]<<9),Y=0,he=0;{for(Y=0;Y<8;++Y)F.write_shift(1,R[Y]);for(Y=0;Y<8;++Y)F.write_shift(2,0);for(F.write_shift(2,62),F.write_shift(2,3),F.write_shift(2,65534),F.write_shift(2,9),F.write_shift(2,6),Y=0;Y<3;++Y)F.write_shift(2,0);for(F.write_shift(4,0),F.write_shift(4,ne[2]),F.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),F.write_shift(4,0),F.write_shift(4,4096),F.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:U),F.write_shift(4,ne[3]),F.write_shift(-4,ne[1]?ne[0]-1:U),F.write_shift(4,ne[1]),Y=0;Y<109;++Y)F.write_shift(-4,Y<ne[2]?ne[1]+Y:-1)}if(ne[1])for(he=0;he<ne[1];++he){for(;Y<236+he*127;++Y)F.write_shift(-4,Y<ne[2]?ne[1]+Y:-1);F.write_shift(-4,he===ne[1]-1?U:he+1)}var Ne=function(ee){for(he+=ee;Y<he-1;++Y)F.write_shift(-4,Y+1);ee&&(++Y,F.write_shift(-4,U))};for(he=Y=0,he+=ne[1];Y<he;++Y)F.write_shift(-4,P.DIFSECT);for(he+=ne[2];Y<he;++Y)F.write_shift(-4,P.FATSECT);Ne(ne[3]),Ne(ne[4]);for(var ye=0,Se=0,Ae=K.FileIndex[0];ye<K.FileIndex.length;++ye)Ae=K.FileIndex[ye],Ae.content&&(Se=Ae.content.length,!(Se<4096)&&(Ae.start=he,Ne(Se+511>>9)));for(Ne(ne[6]+7>>3);F.l&511;)F.write_shift(-4,P.ENDOFCHAIN);for(he=Y=0,ye=0;ye<K.FileIndex.length;++ye)Ae=K.FileIndex[ye],Ae.content&&(Se=Ae.content.length,!(!Se||Se>=4096)&&(Ae.start=he,Ne(Se+63>>6)));for(;F.l&511;)F.write_shift(-4,P.ENDOFCHAIN);for(Y=0;Y<ne[4]<<2;++Y){var Ve=K.FullPaths[Y];if(!Ve||Ve.length===0){for(ye=0;ye<17;++ye)F.write_shift(4,0);for(ye=0;ye<3;++ye)F.write_shift(4,-1);for(ye=0;ye<12;++ye)F.write_shift(4,0);continue}Ae=K.FileIndex[Y],Y===0&&(Ae.start=Ae.size?Ae.start-1:U);var Ge=Y===0&&J.root||Ae.name;if(Se=2*(Ge.length+1),F.write_shift(64,Ge,"utf16le"),F.write_shift(2,Se),F.write_shift(1,Ae.type),F.write_shift(1,Ae.color),F.write_shift(-4,Ae.L),F.write_shift(-4,Ae.R),F.write_shift(-4,Ae.C),Ae.clsid)F.write_shift(16,Ae.clsid,"hex");else for(ye=0;ye<4;++ye)F.write_shift(4,0);F.write_shift(4,Ae.state||0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,Ae.start),F.write_shift(4,Ae.size),F.write_shift(4,0)}for(Y=1;Y<K.FileIndex.length;++Y)if(Ae=K.FileIndex[Y],Ae.size>=4096)if(F.l=Ae.start+1<<9,Yt&&Buffer.isBuffer(Ae.content))Ae.content.copy(F,F.l,0,Ae.size),F.l+=Ae.size+511&-512;else{for(ye=0;ye<Ae.size;++ye)F.write_shift(1,Ae.content[ye]);for(;ye&511;++ye)F.write_shift(1,0)}for(Y=1;Y<K.FileIndex.length;++Y)if(Ae=K.FileIndex[Y],Ae.size>0&&Ae.size<4096)if(Yt&&Buffer.isBuffer(Ae.content))Ae.content.copy(F,F.l,0,Ae.size),F.l+=Ae.size+63&-64;else{for(ye=0;ye<Ae.size;++ye)F.write_shift(1,Ae.content[ye]);for(;ye&63;++ye)F.write_shift(1,0)}if(Yt)F.l=F.length;else for(;F.l<F.length;)F.write_shift(1,0);return F}function O(K,oe){var J=K.FullPaths.map(function(ye){return ye.toUpperCase()}),ne=J.map(function(ye){var Se=ye.split("/");return Se[Se.length-(ye.slice(-1)=="/"?2:1)]}),F=!1;oe.charCodeAt(0)===47?(F=!0,oe=J[0].slice(0,-1)+oe):F=oe.indexOf("/")!==-1;var Y=oe.toUpperCase(),he=F===!0?J.indexOf(Y):ne.indexOf(Y);if(he!==-1)return K.FileIndex[he];var Ne=!Y.match(w0);for(Y=Y.replace(rs,""),Ne&&(Y=Y.replace(w0,"!")),he=0;he<J.length;++he)if((Ne?J[he].replace(w0,"!"):J[he]).replace(rs,"")==Y||(Ne?ne[he].replace(w0,"!"):ne[he]).replace(rs,"")==Y)return K.FileIndex[he];return null}var T=64,U=-2,W="d0cf11e0a1b11ae1",R=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",P={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:W,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function M(K,oe,J){u();var ne=E(K,J);c.writeFileSync(oe,ne)}function L(K){for(var oe=new Array(K.length),J=0;J<K.length;++J)oe[J]=String.fromCharCode(K[J]);return oe.join("")}function q(K,oe){var J=E(K,oe);switch(oe&&oe.type||"buffer"){case"file":return u(),c.writeFileSync(oe.filename,J),J;case"binary":return typeof J=="string"?J:L(J);case"base64":return wL(typeof J=="string"?J:L(J));case"buffer":if(Yt)return Buffer.isBuffer(J)?J:Cf(J);case"array":return typeof J=="string"?lo(J):J}return J}var Z;function A(K){try{var oe=K.InflateRaw,J=new oe;if(J._processChunk(new Uint8Array([3,0]),J._finishFlushFlag),J.bytesRead)Z=K;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function B(K,oe){if(!Z)return lr(K,oe);var J=Z.InflateRaw,ne=new J,F=ne._processChunk(K.slice(K.l),ne._finishFlushFlag);return K.l+=ne.bytesRead,F}function H(K){return Z?Z.deflateRawSync(K):_e(K)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(K){var oe=(K<<1|K<<11)&139536|(K<<5|K<<15)&558144;return(oe>>16|oe>>8|oe)&255}for(var ie=typeof Uint8Array<"u",G=ie?new Uint8Array(256):[],Q=0;Q<256;++Q)G[Q]=xe(Q);function D(K,oe){var J=G[K&255];return oe<=8?J>>>8-oe:(J=J<<8|G[K>>8&255],oe<=16?J>>>16-oe:(J=J<<8|G[K>>16&255],J>>>24-oe))}function ce(K,oe){var J=oe&7,ne=oe>>>3;return(K[ne]|(J<=6?0:K[ne+1]<<8))>>>J&3}function je(K,oe){var J=oe&7,ne=oe>>>3;return(K[ne]|(J<=5?0:K[ne+1]<<8))>>>J&7}function be(K,oe){var J=oe&7,ne=oe>>>3;return(K[ne]|(J<=4?0:K[ne+1]<<8))>>>J&15}function Pe(K,oe){var J=oe&7,ne=oe>>>3;return(K[ne]|(J<=3?0:K[ne+1]<<8))>>>J&31}function De(K,oe){var J=oe&7,ne=oe>>>3;return(K[ne]|(J<=1?0:K[ne+1]<<8))>>>J&127}function Le(K,oe,J){var ne=oe&7,F=oe>>>3,Y=(1<<J)-1,he=K[F]>>>ne;return J<8-ne||(he|=K[F+1]<<8-ne,J<16-ne)||(he|=K[F+2]<<16-ne,J<24-ne)||(he|=K[F+3]<<24-ne),he&Y}function et(K,oe,J){var ne=oe&7,F=oe>>>3;return ne<=5?K[F]|=(J&7)<<ne:(K[F]|=J<<ne&255,K[F+1]=(J&7)>>8-ne),oe+3}function se(K,oe,J){var ne=oe&7,F=oe>>>3;return J=(J&1)<<ne,K[F]|=J,oe+1}function ge(K,oe,J){var ne=oe&7,F=oe>>>3;return J<<=ne,K[F]|=J&255,J>>>=8,K[F+1]=J,oe+8}function re(K,oe,J){var ne=oe&7,F=oe>>>3;return J<<=ne,K[F]|=J&255,J>>>=8,K[F+1]=J&255,K[F+2]=J>>>8,oe+16}function ae(K,oe){var J=K.length,ne=2*J>oe?2*J:oe+5,F=0;if(J>=oe)return K;if(Yt){var Y=_L(ne);if(K.copy)K.copy(Y);else for(;F<K.length;++F)Y[F]=K[F];return Y}else if(ie){var he=new Uint8Array(ne);if(he.set)he.set(K);else for(;F<J;++F)he[F]=K[F];return he}return K.length=ne,K}function fe(K){for(var oe=new Array(K),J=0;J<K;++J)oe[J]=0;return oe}function Ee(K,oe,J){var ne=1,F=0,Y=0,he=0,Ne=0,ye=K.length,Se=ie?new Uint16Array(32):fe(32);for(Y=0;Y<32;++Y)Se[Y]=0;for(Y=ye;Y<J;++Y)K[Y]=0;ye=K.length;var Ae=ie?new Uint16Array(ye):fe(ye);for(Y=0;Y<ye;++Y)Se[F=K[Y]]++,ne<F&&(ne=F),Ae[Y]=0;for(Se[0]=0,Y=1;Y<=ne;++Y)Se[Y+16]=Ne=Ne+Se[Y-1]<<1;for(Y=0;Y<ye;++Y)Ne=K[Y],Ne!=0&&(Ae[Y]=Se[Ne+16]++);var Ve=0;for(Y=0;Y<ye;++Y)if(Ve=K[Y],Ve!=0)for(Ne=D(Ae[Y],ne)>>ne-Ve,he=(1<<ne+4-Ve)-1;he>=0;--he)oe[Ne|he<<Ve]=Ve&15|Y<<4;return ne}var Re=ie?new Uint16Array(512):fe(512),Je=ie?new Uint16Array(32):fe(32);if(!ie){for(var Xe=0;Xe<512;++Xe)Re[Xe]=0;for(Xe=0;Xe<32;++Xe)Je[Xe]=0}(function(){for(var K=[],oe=0;oe<32;oe++)K.push(5);Ee(K,Je,32);var J=[];for(oe=0;oe<=143;oe++)J.push(8);for(;oe<=255;oe++)J.push(9);for(;oe<=279;oe++)J.push(7);for(;oe<=287;oe++)J.push(8);Ee(J,Re,288)})();var _t=function(){for(var oe=ie?new Uint8Array(32768):[],J=0,ne=0;J<le.length-1;++J)for(;ne<le[J+1];++ne)oe[ne]=J;for(;ne<32768;++ne)oe[ne]=29;var F=ie?new Uint8Array(259):[];for(J=0,ne=0;J<te.length-1;++J)for(;ne<te[J+1];++ne)F[ne]=J;function Y(Ne,ye){for(var Se=0;Se<Ne.length;){var Ae=Math.min(65535,Ne.length-Se),Ve=Se+Ae==Ne.length;for(ye.write_shift(1,+Ve),ye.write_shift(2,Ae),ye.write_shift(2,~Ae&65535);Ae-- >0;)ye[ye.l++]=Ne[Se++]}return ye.l}function he(Ne,ye){for(var Se=0,Ae=0,Ve=ie?new Uint16Array(32768):[];Ae<Ne.length;){var Ge=Math.min(65535,Ne.length-Ae);if(Ge<10){for(Se=et(ye,Se,+(Ae+Ge==Ne.length)),Se&7&&(Se+=8-(Se&7)),ye.l=Se/8|0,ye.write_shift(2,Ge),ye.write_shift(2,~Ge&65535);Ge-- >0;)ye[ye.l++]=Ne[Ae++];Se=ye.l*8;continue}Se=et(ye,Se,+(Ae+Ge==Ne.length)+2);for(var ee=0;Ge-- >0;){var me=Ne[Ae];ee=(ee<<5^me)&32767;var Te=-1,pe=0;if((Te=Ve[ee])&&(Te|=Ae&-32768,Te>Ae&&(Te-=32768),Te<Ae))for(;Ne[Te+pe]==Ne[Ae+pe]&&pe<250;)++pe;if(pe>2){me=F[pe],me<=22?Se=ge(ye,Se,G[me+1]>>1)-1:(ge(ye,Se,3),Se+=5,ge(ye,Se,G[me-23]>>5),Se+=3);var lt=me<8?0:me-4>>2;lt>0&&(re(ye,Se,pe-te[me]),Se+=lt),me=oe[Ae-Te],Se=ge(ye,Se,G[me]>>3),Se-=3;var at=me<4?0:me-2>>1;at>0&&(re(ye,Se,Ae-Te-le[me]),Se+=at);for(var qt=0;qt<pe;++qt)Ve[ee]=Ae&32767,ee=(ee<<5^Ne[Ae])&32767,++Ae;Ge-=pe-1}else me<=143?me=me+48:Se=se(ye,Se,1),Se=ge(ye,Se,G[me]),Ve[ee]=Ae&32767,++Ae}Se=ge(ye,Se,0)-1}return ye.l=(Se+7)/8|0,ye.l}return function(ye,Se){return ye.length<8?Y(ye,Se):he(ye,Se)}}();function _e(K){var oe=kn(50+Math.floor(K.length*1.1)),J=_t(K,oe);return oe.slice(0,J)}var $e=ie?new Uint16Array(32768):fe(32768),Be=ie?new Uint16Array(32768):fe(32768),He=ie?new Uint16Array(128):fe(128),wt=1,Wt=1;function Bt(K,oe){var J=Pe(K,oe)+257;oe+=5;var ne=Pe(K,oe)+1;oe+=5;var F=be(K,oe)+4;oe+=4;for(var Y=0,he=ie?new Uint8Array(19):fe(19),Ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ye=1,Se=ie?new Uint8Array(8):fe(8),Ae=ie?new Uint8Array(8):fe(8),Ve=he.length,Ge=0;Ge<F;++Ge)he[V[Ge]]=Y=je(K,oe),ye<Y&&(ye=Y),Se[Y]++,oe+=3;var ee=0;for(Se[0]=0,Ge=1;Ge<=ye;++Ge)Ae[Ge]=ee=ee+Se[Ge-1]<<1;for(Ge=0;Ge<Ve;++Ge)(ee=he[Ge])!=0&&(Ne[Ge]=Ae[ee]++);var me=0;for(Ge=0;Ge<Ve;++Ge)if(me=he[Ge],me!=0){ee=G[Ne[Ge]]>>8-me;for(var Te=(1<<7-me)-1;Te>=0;--Te)He[ee|Te<<me]=me&7|Ge<<3}var pe=[];for(ye=1;pe.length<J+ne;)switch(ee=He[De(K,oe)],oe+=ee&7,ee>>>=3){case 16:for(Y=3+ce(K,oe),oe+=2,ee=pe[pe.length-1];Y-- >0;)pe.push(ee);break;case 17:for(Y=3+je(K,oe),oe+=3;Y-- >0;)pe.push(0);break;case 18:for(Y=11+De(K,oe),oe+=7;Y-- >0;)pe.push(0);break;default:pe.push(ee),ye<ee&&(ye=ee);break}var lt=pe.slice(0,J),at=pe.slice(J);for(Ge=J;Ge<286;++Ge)lt[Ge]=0;for(Ge=ne;Ge<30;++Ge)at[Ge]=0;return wt=Ee(lt,$e,286),Wt=Ee(at,Be,30),oe}function mr(K,oe){if(K[0]==3&&!(K[1]&3))return[Pu(oe),2];for(var J=0,ne=0,F=_L(oe||1<<18),Y=0,he=F.length>>>0,Ne=0,ye=0;!(ne&1);){if(ne=je(K,J),J+=3,ne>>>1)ne>>1==1?(Ne=9,ye=5):(J=Bt(K,J),Ne=wt,ye=Wt);else{J&7&&(J+=8-(J&7));var Se=K[J>>>3]|K[(J>>>3)+1]<<8;if(J+=32,Se>0)for(!oe&&he<Y+Se&&(F=ae(F,Y+Se),he=F.length);Se-- >0;)F[Y++]=K[J>>>3],J+=8;continue}for(;;){!oe&&he<Y+32767&&(F=ae(F,Y+32767),he=F.length);var Ae=Le(K,J,Ne),Ve=ne>>>1==1?Re[Ae]:$e[Ae];if(J+=Ve&15,Ve>>>=4,!(Ve>>>8&255))F[Y++]=Ve;else{if(Ve==256)break;Ve-=257;var Ge=Ve<8?0:Ve-4>>2;Ge>5&&(Ge=0);var ee=Y+te[Ve];Ge>0&&(ee+=Le(K,J,Ge),J+=Ge),Ae=Le(K,J,ye),Ve=ne>>>1==1?Je[Ae]:Be[Ae],J+=Ve&15,Ve>>>=4;var me=Ve<4?0:Ve-2>>1,Te=le[Ve];for(me>0&&(Te+=Le(K,J,me),J+=me),!oe&&he<ee&&(F=ae(F,ee+100),he=F.length);Y<ee;)F[Y]=F[Y-Te],++Y}}}return oe?[F,J+7>>>3]:[F.slice(0,Y),J+7>>>3]}function lr(K,oe){var J=K.slice(K.l||0),ne=mr(J,oe);return K.l+=ne[1],ne[0]}function zr(K,oe){if(K)typeof console<"u"&&console.error(oe);else throw new Error(oe)}function sa(K,oe){var J=K;Jn(J,0);var ne=[],F=[],Y={FileIndex:ne,FullPaths:F};N(Y,{root:oe.root});for(var he=J.length-4;(J[he]!=80||J[he+1]!=75||J[he+2]!=5||J[he+3]!=6)&&he>=0;)--he;J.l=he+4,J.l+=4;var Ne=J.read_shift(2);J.l+=6;var ye=J.read_shift(4);for(J.l=ye,he=0;he<Ne;++he){J.l+=20;var Se=J.read_shift(4),Ae=J.read_shift(4),Ve=J.read_shift(2),Ge=J.read_shift(2),ee=J.read_shift(2);J.l+=8;var me=J.read_shift(4),Te=l(J.slice(J.l+Ve,J.l+Ve+Ge));J.l+=Ve+Ge+ee;var pe=J.l;J.l=me+4,Gn(J,Se,Ae,Y,Te),J.l=pe}return Y}function Gn(K,oe,J,ne,F){K.l+=2;var Y=K.read_shift(2),he=K.read_shift(2),Ne=o(K);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var ye=K.read_shift(4),Se=K.read_shift(4),Ae=K.read_shift(4),Ve=K.read_shift(2),Ge=K.read_shift(2),ee="",me=0;me<Ve;++me)ee+=String.fromCharCode(K[K.l++]);if(Ge){var Te=l(K.slice(K.l,K.l+Ge));(Te[21589]||{}).mt&&(Ne=Te[21589].mt),((F||{})[21589]||{}).mt&&(Ne=F[21589].mt)}K.l+=Ge;var pe=K.slice(K.l,K.l+Se);switch(he){case 8:pe=B(K,Ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+he)}var lt=!1;Y&8&&(ye=K.read_shift(4),ye==134695760&&(ye=K.read_shift(4),lt=!0),Se=K.read_shift(4),Ae=K.read_shift(4)),Se!=oe&&zr(lt,"Bad compressed size: "+oe+" != "+Se),Ae!=J&&zr(lt,"Bad uncompressed size: "+J+" != "+Ae),wn(ne,ee,pe,{unsafe:!0,mt:Ne})}function Fn(K,oe){var J=oe||{},ne=[],F=[],Y=kn(1),he=J.compression?8:0,Ne=0,ye=0,Se=0,Ae=0,Ve=0,Ge=K.FullPaths[0],ee=Ge,me=K.FileIndex[0],Te=[],pe=0;for(ye=1;ye<K.FullPaths.length;++ye)if(ee=K.FullPaths[ye].slice(Ge.length),me=K.FileIndex[ye],!(!me.size||!me.content||ee=="Sh33tJ5")){var lt=Ae,at=kn(ee.length);for(Se=0;Se<ee.length;++Se)at.write_shift(1,ee.charCodeAt(Se)&127);at=at.slice(0,at.l),Te[Ve]=a$e.buf(me.content,0);var qt=me.content;he==8&&(qt=H(qt)),Y=kn(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Ne),Y.write_shift(2,he),me.mt?s(Y,me.mt):Y.write_shift(4,0),Y.write_shift(-4,Te[Ve]),Y.write_shift(4,qt.length),Y.write_shift(4,me.content.length),Y.write_shift(2,at.length),Y.write_shift(2,0),Ae+=Y.length,ne.push(Y),Ae+=at.length,ne.push(at),Ae+=qt.length,ne.push(qt),Y=kn(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Ne),Y.write_shift(2,he),Y.write_shift(4,0),Y.write_shift(-4,Te[Ve]),Y.write_shift(4,qt.length),Y.write_shift(4,me.content.length),Y.write_shift(2,at.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,lt),pe+=Y.l,F.push(Y),pe+=at.length,F.push(at),++Ve}return Y=kn(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Ve),Y.write_shift(2,Ve),Y.write_shift(4,pe),Y.write_shift(4,Ae),Y.write_shift(2,0),qc([qc(ne),qc(F),Y])}var Ia={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ls(K,oe){if(K.ctype)return K.ctype;var J=K.name||"",ne=J.match(/\.([^\.]+)$/);return ne&&Ia[ne[1]]||oe&&(ne=(J=oe).match(/[\.\\]([^\.\\])+$/),ne&&Ia[ne[1]])?Ia[ne[1]]:"application/octet-stream"}function Po(K){for(var oe=wL(K),J=[],ne=0;ne<oe.length;ne+=76)J.push(oe.slice(ne,ne+76));return J.join(`\r
`)+`\r
`}function $s(K){var oe=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Se){var Ae=Se.charCodeAt(0).toString(16).toUpperCase();return"="+(Ae.length==1?"0"+Ae:Ae)});oe=oe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),oe.charAt(0)==`
`&&(oe="=0D"+oe.slice(1)),oe=oe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var J=[],ne=oe.split(`\r
`),F=0;F<ne.length;++F){var Y=ne[F];if(Y.length==0){J.push("");continue}for(var he=0;he<Y.length;){var Ne=76,ye=Y.slice(he,he+Ne);ye.charAt(Ne-1)=="="?Ne--:ye.charAt(Ne-2)=="="?Ne-=2:ye.charAt(Ne-3)=="="&&(Ne-=3),ye=Y.slice(he,he+Ne),he+=Ne,he<Y.length&&(ye+="="),J.push(ye)}}return J.join(`\r
`)}function Oo(K){for(var oe=[],J=0;J<K.length;++J){for(var ne=K[J];J<=K.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+K[++J];oe.push(ne)}for(var F=0;F<oe.length;++F)oe[F]=oe[F].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return lo(oe.join(`\r
`))}function gs(K,oe,J){for(var ne="",F="",Y="",he,Ne=0;Ne<10;++Ne){var ye=oe[Ne];if(!ye||ye.match(/^\s*$/))break;var Se=ye.match(/^(.*?):\s*([^\s].*)$/);if(Se)switch(Se[1].toLowerCase()){case"content-location":ne=Se[2].trim();break;case"content-type":Y=Se[2].trim();break;case"content-transfer-encoding":F=Se[2].trim();break}}switch(++Ne,F.toLowerCase()){case"base64":he=lo(ii(oe.slice(Ne).join("")));break;case"quoted-printable":he=Oo(oe.slice(Ne));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+F)}var Ae=wn(K,ne.slice(J.length),he,{unsafe:!0});Y&&(Ae.ctype=Y)}function Bs(K,oe){if(L(K.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var J=oe&&oe.root||"",ne=(Yt&&Buffer.isBuffer(K)?K.toString("binary"):L(K)).split(`\r
`),F=0,Y="";for(F=0;F<ne.length;++F)if(Y=ne[F],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),J||(J=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,J.length)!=J))for(;J.length>0&&(J=J.slice(0,J.length-1),J=J.slice(0,J.lastIndexOf("/")+1),Y.slice(0,J.length)!=J););var he=(ne[1]||"").match(/boundary="(.*?)"/);if(!he)throw new Error("MAD cannot find boundary");var Ne="--"+(he[1]||""),ye=[],Se=[],Ae={FileIndex:ye,FullPaths:Se};N(Ae);var Ve,Ge=0;for(F=0;F<ne.length;++F){var ee=ne[F];ee!==Ne&&ee!==Ne+"--"||(Ge++&&gs(Ae,ne.slice(Ve,F),J),Ve=F)}return Ae}function Us(K,oe){var J=oe||{},ne=J.boundary||"SheetJS";ne="------="+ne;for(var F=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],Y=K.FullPaths[0],he=Y,Ne=K.FileIndex[0],ye=1;ye<K.FullPaths.length;++ye)if(he=K.FullPaths[ye].slice(Y.length),Ne=K.FileIndex[ye],!(!Ne.size||!Ne.content||he=="Sh33tJ5")){he=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(pe){return"_x"+pe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(pe){return"_u"+pe.charCodeAt(0).toString(16)+"_"});for(var Se=Ne.content,Ae=Yt&&Buffer.isBuffer(Se)?Se.toString("binary"):L(Se),Ve=0,Ge=Math.min(1024,Ae.length),ee=0,me=0;me<=Ge;++me)(ee=Ae.charCodeAt(me))>=32&&ee<128&&++Ve;var Te=Ve>=Ge*4/5;F.push(ne),F.push("Content-Location: "+(J.root||"file:///C:/SheetJS/")+he),F.push("Content-Transfer-Encoding: "+(Te?"quoted-printable":"base64")),F.push("Content-Type: "+Ls(Ne,he)),F.push(""),F.push(Te?$s(Ae):Po(Ae))}return F.push(ne+`--\r
`),F.join(`\r
`)}function ui(K){var oe={};return N(oe,K),oe}function wn(K,oe,J,ne){var F=ne&&ne.unsafe;F||N(K);var Y=!F&&Xt.find(K,oe);if(!Y){var he=K.FullPaths[0];oe.slice(0,he.length)==he?he=oe:(he.slice(-1)!="/"&&(he+="/"),he=(he+oe).replace("//","/")),Y={name:a(oe),type:2},K.FileIndex.push(Y),K.FullPaths.push(he),F||Xt.utils.cfb_gc(K)}return Y.content=J,Y.size=J?J.length:0,ne&&(ne.CLSID&&(Y.clsid=ne.CLSID),ne.mt&&(Y.mt=ne.mt),ne.ct&&(Y.ct=ne.ct)),Y}function di(K,oe){N(K);var J=Xt.find(K,oe);if(J){for(var ne=0;ne<K.FileIndex.length;++ne)if(K.FileIndex[ne]==J)return K.FileIndex.splice(ne,1),K.FullPaths.splice(ne,1),!0}return!1}function Cl(K,oe,J){N(K);var ne=Xt.find(K,oe);if(ne){for(var F=0;F<K.FileIndex.length;++F)if(K.FileIndex[F]==ne)return K.FileIndex[F].name=a(J),K.FullPaths[F]=J,!0}return!1}function Sc(K){k(K,!0)}return t.find=O,t.read=S,t.parse=d,t.write=q,t.writeFile=M,t.utils={cfb_new:ui,cfb_add:wn,cfb_del:di,cfb_mov:Cl,cfb_gc:Sc,ReadShift:q0,CheckField:nK,prep_blob:Jn,bconcat:qc,use_zlib:A,_deflateRaw:_e,_inflateRaw:lr,consts:P},t}();function s$e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function xl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function BP(e){for(var t=[],r=xl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var Qb=new Date(1899,11,30,0,0,0);function us(e,t){var r=e.getTime(),n=Qb.getTime()+(e.getTimezoneOffset()-Qb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var FG=new Date,i$e=Qb.getTime()+(FG.getTimezoneOffset()-Qb.getTimezoneOffset())*6e4,AL=FG.getTimezoneOffset();function oj(e){var t=new Date;return t.setTime(e*24*60*60*1e3+i$e),t.getTimezoneOffset()!==AL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-AL)*6e4),t}function o$e(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var PL=new Date("2017-02-19T19:06:09.000Z"),IG=isNaN(PL.getFullYear())?new Date("2/19/17"):PL,l$e=IG.getFullYear()==2017;function Hn(e,t){var r=new Date(e);if(l$e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(IG.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function hf(e,t){if(Yt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return j0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return j0(jG(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return j0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return j0(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ra(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ra(e[r]));return t}function Qr(e,t){for(var r="";r.length<t;)r+=e;return r}function xo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var c$e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Xm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&c$e.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var u$e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),o=[s[0]],l=1;l<s.length;++l)o.push(a),o.push(s[l]);return o}}();function LG(e){return e?e.content&&e.type?hf(e.content,!0):e.data?b0(e.data):e.asNodeBuffer&&Yt?b0(e.asNodeBuffer().toString("binary")):e.asBinary?b0(e.asBinary()):e._data&&e._data.getContent?b0(hf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function $G(e){if(!e)return null;if(e.data)return yL(e.data);if(e.asNodeBuffer&&Yt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?yL(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function d$e(e){return e&&e.name.slice(-4)===".bin"?$G(e):LG(e)}function vi(e,t){for(var r=e.FullPaths||xl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function UP(e,t){var r=vi(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function mn(e,t,r){if(!r)return d$e(UP(e,t));if(!t)return null;try{return mn(e,t)}catch{return null}}function Js(e,t,r){if(!r)return LG(UP(e,t));if(!t)return null;try{return Js(e,t)}catch{return null}}function f$e(e,t,r){return $G(UP(e,t))}function OL(e){for(var t=e.FullPaths||xl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function h$e(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Yt?n=Cf(r):n=O5e(r),Xt.utils.cfb_add(e,t,n)}Xt.utils.cfb_add(e,t,r)}else e.file(t,r)}function BG(e,t){switch(t.type){case"base64":return Xt.read(e,{type:"base64"});case"binary":return Xt.read(e,{type:"binary"});case"buffer":case"array":return Xt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function _0(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var UG=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,m$e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,DL=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,p$e=/<[^>]*>/g,Fa=UG.match(DL)?DL:p$e,g$e=/<\w*:/,v$e=/<(\/?)\w+:/;function kt(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(m$e),l=0,c="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[m]&&d.slice(l-3,l)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function Nl(e){return e.replace(v$e,"<$1")}var zG={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},x$e=BP(zG),tr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return zG[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,o)+r(a.slice(o+3))}}(),y$e=/[&<>'"]/g,b$e=/[\u0000-\u001f]/g;function zP(e){var t=e+"";return t.replace(y$e,function(r){return x$e[r]}).replace(/\n/g,"<br/>").replace(b$e,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var RL=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Ir(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function dN(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function ML(e){var t=Pu(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function FL(e){return Cf(e,"binary").toString("utf8")}var vy="foo bar baz",Tr=Yt&&(FL(vy)==dN(vy)&&FL||ML(vy)==dN(vy)&&ML)||dN,j0=Yt?function(e){return Cf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},pv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),VG=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),w$e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),_$e=/<\/?(?:vt:)?variant>/g,j$e=/<(?:vt:)([^>]*)>([\s\S]*)</;function IL(e,t){var r=kt(e),n=e.match(w$e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var o=s.replace(_$e,"").match(j$e);o&&a.push({v:Tr(o[2]),t:o[1]})}),a}var S$e=/(^\s|\s$|\n)/;function N$e(e){return xl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function k$e(e,t,r){return"<"+e+(r!=null?N$e(r):"")+(t!=null?(t.match(S$e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function VP(e){if(Yt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Tr(Ef(IP(e)));throw new Error("Bad input format: expected Buffer or string")}var gv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,C$e={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},E$e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function T$e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function A$e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var LL=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},$L=Yt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Cf(t)})):LL(e)}:LL,BL=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Gl(e,a)));return n.join("").replace(rs,"")},WP=Yt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(rs,""):BL(e,t,r)}:BL,UL=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},WG=Yt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):UL(e,t,r)}:UL,zL=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Zf(e,a)));return n.join("")},hx=Yt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):zL(t,r,n)}:zL,HG=function(e,t){var r=Xs(e,t);return r>0?hx(e,t+4,t+4+r-1):""},qG=HG,GG=function(e,t){var r=Xs(e,t);return r>0?hx(e,t+4,t+4+r-1):""},KG=GG,YG=function(e,t){var r=2*Xs(e,t);return r>0?hx(e,t+4,t+4+r-1):""},XG=YG,QG=function(t,r){var n=Xs(t,r);return n>0?WP(t,r+4,r+4+n):""},JG=QG,ZG=function(e,t){var r=Xs(e,t);return r>0?hx(e,t+4,t+4+r):""},eK=ZG,tK=function(e,t){return T$e(e,t)},Jb=tK,rK=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Yt&&(qG=function(t,r){if(!Buffer.isBuffer(t))return HG(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},KG=function(t,r){if(!Buffer.isBuffer(t))return GG(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},XG=function(t,r){if(!Buffer.isBuffer(t))return YG(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},JG=function(t,r){if(!Buffer.isBuffer(t))return QG(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},eK=function(t,r){if(!Buffer.isBuffer(t))return ZG(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Jb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):tK(t,r)},rK=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Zf=function(e,t){return e[t]},Gl=function(e,t){return e[t+1]*256+e[t]},P$e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Xs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},ud=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},O$e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function q0(e,t){var r="",n,a,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Yt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Gl(this,u)),u+=2;e*=2;break;case"utf8":r=hx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=WP(this,this.l,this.l+e);break;case"wstr":return q0.call(this,e,"dbcs");case"lpstr-ansi":r=qG(this,this.l),e=4+Xs(this,this.l);break;case"lpstr-cp":r=KG(this,this.l),e=4+Xs(this,this.l);break;case"lpwstr":r=XG(this,this.l),e=4+2*Xs(this,this.l);break;case"lpp4":e=4+Xs(this,this.l),r=JG(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Xs(this,this.l),r=eK(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Zf(this,this.l+e++))!==0;)s.push(gy(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=Gl(this,this.l+e))!==0;)s.push(gy(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Zf(this,u),this.l=u+1,l=q0.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(gy(Gl(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Zf(this,u),this.l=u+1,l=q0.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(gy(Zf(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=Zf(this,this.l),this.l++,n;case 2:return n=(t==="i"?P$e:Gl)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?ud:O$e)(this,this.l),this.l+=4,n):(a=Xs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Jb(this,this.l):a=Jb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=WG(this,this.l,e);break}}return this.l+=e,r}var D$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},R$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},M$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function F$e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)M$e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,D$e(this,t,this.l);break;case 8:if(n=8,r==="f"){A$e(this,t,this.l);break}case 16:break;case-4:n=4,R$e(this,t,this.l);break}return this.l+=n,this}function nK(e,t){var r=WG(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Jn(e,t){e.l=t,e.read_shift=q0,e.chk=nK,e.write_shift=F$e}function Ra(e,t){e.l+=t}function kn(e){var t=Pu(e);return Jn(t,0),t}function jc(e,t,r){if(e){var n,a,s;Jn(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=aw[l]||aw[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function UC(){var e=[],t=Yt?256:2048,r=function(u){var d=kn(u);return Jn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),qc(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function G0(e,t,r){var n=ra(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function VL(e,t,r){var n=ra(e);return n.s=G0(n.s,t.s,r),n.e=G0(n.e,t.s,r),n}function K0(e,t){if(e.cRel&&e.c<0)for(e=ra(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ra(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Pt(e);return!e.cRel&&e.cRel!=null&&(r=$$e(r)),!e.rRel&&e.rRel!=null&&(r=I$e(r)),r}function fN(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Pn(e.s.c)+":"+(e.e.cRel?"":"$")+Pn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+na(e.s.r)+":"+(e.e.rRel?"":"$")+na(e.e.r):K0(e.s,t.biff)+":"+K0(e.e,t.biff)}function HP(e){return parseInt(L$e(e),10)-1}function na(e){return""+(e+1)}function I$e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function L$e(e){return e.replace(/\$(\d+)$/,"$1")}function qP(e){for(var t=B$e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Pn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function $$e(e){return e.replace(/^([A-Z])/,"$$$1")}function B$e(e){return e.replace(/^\$([A-Z])/,"$1")}function U$e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Za(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Pt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Dp(e){var t=e.indexOf(":");return t==-1?{s:Za(e),e:Za(e)}:{s:Za(e.slice(0,t)),e:Za(e.slice(t+1))}}function Qt(e,t){return typeof t>"u"||typeof t=="number"?Qt(e.s,e.e):(typeof e!="string"&&(e=Pt(e)),typeof t!="string"&&(t=Pt(t)),e==t?e:e+":"+t)}function Zr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function WL(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ii(e.z,r?us(t):t)}catch{}try{return e.w=Ii((e.XF||{}).numFmtId||(r?14:0),r?us(t):t)}catch{return""+t}}function gc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Pf[e.v]||e.v:t==null?WL(e,e.v):WL(e,t))}function Ku(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function aK(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Za(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Zr(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},g=o+f,p=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Ft[14],n.cellDates?(m.t="d",m.w=Ii(m.z,us(m.v))):(m.t="n",m.v=us(m.v),m.w=Ii(m.z,m.v))):m.t="s";if(a)s[g]||(s[g]=[]),s[g][p]&&s[g][p].z&&(m.z=s[g][p].z),s[g][p]=m;else{var v=Pt({c:p,r:g});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=Qt(u)),s}function Rp(e,t){return aK(null,e,t)}function z$e(e){return e.read_shift(4,"i")}function Ta(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function V$e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function GP(e,t){var r=e.l,n=e.read_shift(1),a=Ta(e),s=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(V$e(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var W$e=GP;function zi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Tf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var H$e=Ta;function KP(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var q$e=Ta,zC=KP;function YP(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Jb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):ud(t,0)>>2;return r?a/100:a}function sK(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Af=sK;function ka(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function G$e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Bd[a];u&&(t.rgb=xv(u));break;case 2:t.rgb=xv([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function K$e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function iK(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Y$e(e){return iK(e,1)}function X$e(e){return iK(e,2)}var XP=2,ys=3,xy=11,HL=12,Zb=19,yy=64,Q$e=65,J$e=71,Z$e=4108,e8e=4126,$n=80,oK=81,t8e=[$n,oK],r8e={1:{n:"CodePage",t:XP},2:{n:"Category",t:$n},3:{n:"PresentationFormat",t:$n},4:{n:"ByteCount",t:ys},5:{n:"LineCount",t:ys},6:{n:"ParagraphCount",t:ys},7:{n:"SlideCount",t:ys},8:{n:"NoteCount",t:ys},9:{n:"HiddenCount",t:ys},10:{n:"MultimediaClipCount",t:ys},11:{n:"ScaleCrop",t:xy},12:{n:"HeadingPairs",t:Z$e},13:{n:"TitlesOfParts",t:e8e},14:{n:"Manager",t:$n},15:{n:"Company",t:$n},16:{n:"LinksUpToDate",t:xy},17:{n:"CharacterCount",t:ys},19:{n:"SharedDoc",t:xy},22:{n:"HyperlinksChanged",t:xy},23:{n:"AppVersion",t:ys,p:"version"},24:{n:"DigSig",t:Q$e},26:{n:"ContentType",t:$n},27:{n:"ContentStatus",t:$n},28:{n:"Language",t:$n},29:{n:"Version",t:$n},255:{},2147483648:{n:"Locale",t:Zb},2147483651:{n:"Behavior",t:Zb},1919054434:{}},n8e={1:{n:"CodePage",t:XP},2:{n:"Title",t:$n},3:{n:"Subject",t:$n},4:{n:"Author",t:$n},5:{n:"Keywords",t:$n},6:{n:"Comments",t:$n},7:{n:"Template",t:$n},8:{n:"LastAuthor",t:$n},9:{n:"RevNumber",t:$n},10:{n:"EditTime",t:yy},11:{n:"LastPrinted",t:yy},12:{n:"CreatedDate",t:yy},13:{n:"ModifiedDate",t:yy},14:{n:"PageCount",t:ys},15:{n:"WordCount",t:ys},16:{n:"CharCount",t:ys},17:{n:"Thumbnail",t:J$e},18:{n:"Application",t:$n},19:{n:"DocSecurity",t:ys},255:{},2147483648:{n:"Locale",t:Zb},2147483651:{n:"Behavior",t:Zb},1919054434:{}},qL={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},a8e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function s8e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var i8e=s8e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Bd=ra(i8e),Pf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},lK={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},GL={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function o8e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function l8e(e){var t=o8e();if(!e||!e.match)return t;var r={};if((e.match(Fa)||[]).forEach(function(n){var a=kt(n);switch(a[0].replace(g$e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[GL[a.ContentType]]!==void 0&&t[GL[a.ContentType]].push(a.PartName);break}}),t.xmlns!==C$e.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Sh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function VC(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Y0(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Fa)||[]).forEach(function(a){var s=kt(a);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:_0(s.Target,t);r[l]=o,n[s.Id]=o}}),r["!id"]=n,r}var c8e="application/vnd.oasis.opendocument.spreadsheet";function u8e(e,t){for(var r=VP(e),n,a;n=gv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=kt(n[0],!1),a.path=="/"&&a.type!==c8e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var X0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],d8e=function(){for(var e=new Array(X0.length),t=0;t<X0.length;++t){var r=X0[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function cK(e){var t={};e=Tr(e);for(var r=0;r<X0.length;++r){var n=X0[r],a=e.match(d8e[r]);a!=null&&a.length>0&&(t[n[1]]=tr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Hn(t[n[1]]))}return t}var f8e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function uK(e,t,r,n){var a=[];if(typeof e=="string")a=IL(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var o=typeof t=="string"?IL(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function h8e(e,t,r){var n={};return t||(t={}),e=Tr(e),f8e.forEach(function(a){var s=(e.match(pv(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=tr(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&uK(n.HeadingPairs,n.TitlesOfParts,t,r),t}var m8e=/<[^>]+>[^<]*/g;function p8e(e,t){var r={},n="",a=e.match(m8e);if(a)for(var s=0;s!=a.length;++s){var o=a[s],l=kt(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=tr(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=tr(d);break;case"bool":r[n]=Ir(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Hn(d);break;case"cy":case"error":r[n]=tr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}var g8e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},hN;function v8e(e,t,r){hN||(hN=BP(g8e)),t=hN[t]||t,e[t]=r}function QP(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function dK(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function fK(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function hK(e,t,r){return t===31?fK(e):dK(e,t,r)}function WC(e,t,r){return hK(e,t,r===!1?0:4)}function x8e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return hK(e,t,0)}function y8e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(rs,""),e.l-a&2&&(e.l+=2)}return r}function b8e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(rs,"");return r}function w8e(e){var t=e.l,r=ew(e,oK);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=ew(e,ys);return[r,n]}function _8e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(w8e(e));return r}function KL(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),o=e.read_shift(4);n[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(rs,"").replace(w0,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function mK(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function j8e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function ew(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==HL&&n!==t&&t8e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===HL?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return dK(e,n,4).replace(rs,"");case 31:return fK(e);case 64:return QP(e);case 65:return mK(e);case 71:return j8e(e);case 80:return WC(e,n,!s.raw).replace(rs,"");case 81:return x8e(e,n).replace(rs,"");case 4108:return _8e(e);case 4126:case 4127:return n==4127?y8e(e):b8e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function YL(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);s[o]=[d,f+r]}s.sort(function(b,w){return b[1]-w[1]});var h={};for(o=0;o!=a;++o){if(e.l!==s[o][1]){var m=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(m=!1,e.l=s[o][1]),m)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var g=t[s[o][0]];if(h[g.n]=ew(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:fo(l=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(s[o][0]===1){if(l=h.CodePage=ew(e,XP),fo(l),c!==-1){var p=e.l;e.l=s[c][1],u=KL(e,l),e.l=p}}else if(s[o][0]===0){if(l===0){c=o,e.l=s[o+1][1];continue}u=KL(e,l)}else{var v=u[s[o][0]],y;switch(e[e.l]){case 65:e.l+=4,y=mK(e);break;case 30:e.l+=4,y=WC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=WC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=tn(e,4);break;case 64:e.l+=4,y=Hn(QP(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function XL(e,t,r){var n=e.content;if(!n)return{};Jn(n,0);var a,s,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Xt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=YL(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var g;try{g=YL(n,null)}catch{}for(m in g)h[m]=g[m];return h.FMTID=[s,o],h}function Rc(e,t){return e.read_shift(t),null}function S8e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function tn(e,t){return e.read_shift(t)===1}function pn(e){return e.read_shift(2,"u")}function pK(e,t){return S8e(e,t,pn)}function N8e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function mx(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function k8e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function mf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function px(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):mf(e,n,r)}function Of(e,t,r){if(r.biff>5)return px(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function C8e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function E8e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(rs,"");return n&&(e.l+=24),a}function T8e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(rs,"");return r+o}function A8e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return E8e(e);case"0303000000000000c000000000000046":return T8e(e);default:throw new Error("Unsupported Moniker "+r)}}function by(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(rs,""):"";return r}function P8e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,o,l,c,u="",d,f;a&16&&(s=by(e,r-e.l)),a&128&&(o=by(e,r-e.l)),(a&257)===257&&(l=by(e,r-e.l)),(a&257)===1&&(c=A8e(e,r-e.l)),a&8&&(u=by(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=QP(e)),e.l=r;var h=o||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function gK(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function vK(e,t){var r=gK(e);return r[3]=0,r}function kl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function O8e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function D8e(e,t,r){return t===0?"":Of(e,t,r)}function R8e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function xK(e){var t=e.read_shift(2),r=YP(e);return[t,r]}function M8e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=mx(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function lj(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function yK(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var F8e=yK;function bK(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function I8e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function L8e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ca(e){e.l+=2,e.l+=e.read_shift(2)}var $8e={0:ca,4:ca,5:ca,6:ca,7:L8e,8:ca,9:ca,10:ca,11:ca,12:ca,13:I8e,14:ca,15:ca,16:ca,17:ca,18:ca,19:ca,20:ca,21:bK};function B8e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push($8e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function wy(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function U8e(e,t){return t===0||e.read_shift(2),1200}function z8e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Of(e,0,r);return e.read_shift(t+n-e.l),a}function V8e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function W8e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=mx(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:s,name:o}}function H8e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0;o!=a&&e.l<r;++o)s.push(k8e(e));return s.Count=n,s.Unique=a,s}function q8e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function G8e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function K8e(e){var t=O8e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Y8e(e){return e.read_shift(2),e.read_shift(4)}function QL(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function X8e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function Q8e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function J8e(){}function Z8e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=mx(e,0,r),n}function e6e(e){var t=kl(e);return t.isst=e.read_shift(4),t}function t6e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=kl(e);r.biff==2&&e.l++;var s=px(e,n-e.l,r);return a.val=s,a}function r6e(e,t,r){var n=e.read_shift(2),a=Of(e,0,r);return[n,a]}var n6e=Of;function JL(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:o,c}}}function a6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=xK(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function s6e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(xK(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:s}}function i6e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:s}}function o6e(e,t,r,n){var a={},s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=a8e[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function l6e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=o6e(e,t,n.fStyle,r),n}function c6e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function ZL(e,t,r){var n=kl(e);(r.biff==2||t==9)&&++e.l;var a=N8e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function u6e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=kl(e),a=ka(e);return n.val=a,n}var e5=D8e;function d6e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=mf(e,s),l=[];n>e.l;)l.push(px(e));return[s,a,o,l]}function t5(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=M8e(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var f6e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function r5(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=mf(e,o,r);a&32&&(u=f6e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:GUe(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:f}}function wK(e,t,r){if(r.biff<8)return h6e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(R8e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function h6e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=mx(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function m6e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=mf(e,n,r),o=mf(e,a,r);return[s,o]}function p6e(e,t,r){var n=yK(e);e.l++;var a=e.read_shift(1);return t-=8,[KUe(e,t,r),a,n]}function n5(e,t,r){var n=F8e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,HUe(e,t,r)]}function g6e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function v6e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=Of(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,s]}}function x6e(e,t,r){return v6e(e,t,r)}function y6e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(lj(e));return r}function b6e(e,t,r){if(r&&r.biff<8)return _6e(e,t,r);var n=bK(e),a=B8e(e,t-22,n[1]);return{cmo:n,ft:a}}var w6e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function _6e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((w6e[n]||Ra)(e,t,r)),{cmo:[a,n,s],ft:o}}function j6e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=C8e(e,6,r);var l=e.read_shift(2);e.read_shift(2),pn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=mf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function S6e(e,t){var r=lj(e);e.l+=16;var n=P8e(e,t-24);return[r,n]}function N6e(e,t){e.read_shift(2);var r=lj(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(rs,""),[r,n]}function k6e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=qL[r]||r,r=e.read_shift(2),t[1]=qL[r]||r,t}function C6e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(vK(e));return r}function E6e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(vK(e));return r}function T6e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function _K(e,t,r){if(!r.cellStyles)return Ra(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function A6e(e,t){var r={};return t<32||(e.l+=16,r.header=ka(e),r.footer=ka(e),e.l+=2),r}function P6e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var O6e=kl,D6e=pK,R6e=px;function M6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function F6e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=kl(e);++e.l;var a=Of(e,t-7,r);return n.t="str",n.val=a,n}function I6e(e){var t=kl(e);++e.l;var r=ka(e);return t.t="n",t.val=r,t}function L6e(e){var t=kl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function $6e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function B6e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function U6e(e,t,r){var n=e.l+t,a=kl(e),s=e.read_shift(2),o=mf(e,s,r);return e.l=n,a.t="str",a.val=o,a}var z6e=[2,3,48,49,131,139,140,245],a5=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=BP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Pu(1);switch(c.type){case"base64":d=lo(ii(l));break;case"binary":d=lo(l);break;case"buffer":case"array":d=l;break}Jn(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,v=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(v=d.read_shift(2));var y=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var w=[],j={},_=Math.min(d.length,f==2?521:v-10-(m?264:0)),S=g?32:11;d.l<_&&d[d.l]!=13;)switch(j={},j.name=Hc.utils.decode(b,d.slice(d.l,d.l+S)).replace(/[\u0000\r\n].*$/g,""),d.l+=S,j.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(j.offset=d.read_shift(4)),j.len=d.read_shift(1),f==2&&(j.offset=d.read_shift(2)),j.dec=d.read_shift(1),j.name.length&&w.push(j),f!=2&&(d.l+=g?13:14),j.type){case"B":(!m||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var N=0,C=0;for(u[0]=[],C=0;C!=w.length;++C)u[0][C]=w[C].name;for(;p-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++N]=[],C=0,C=0;C!=w.length;++C){var k=d.slice(d.l,d.l+w[C].len);d.l+=w[C].len,Jn(k,0);var E=Hc.utils.decode(b,k);switch(w[C].type){case"C":E.trim().length&&(u[N][C]=E.replace(/\s+$/,""));break;case"D":E.length===8?u[N][C]=new Date(+E.slice(0,4),+E.slice(4,6)-1,+E.slice(6,8)):u[N][C]=E;break;case"F":u[N][C]=parseFloat(E.trim());break;case"+":case"I":u[N][C]=g?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(E.trim().toUpperCase()){case"Y":case"T":u[N][C]=!0;break;case"N":case"F":u[N][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+E+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[N][C]="##MEMO##"+(g?parseInt(E.trim(),10):k.read_shift(4));break;case"N":E=E.replace(/\u0000/g,"").trim(),E&&E!="."&&(u[N][C]=+E||0);break;case"@":u[N][C]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":u[N][C]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":u[N][C]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][C]=-k.read_shift(-8,"f");break;case"B":if(m&&w[C].len==8){u[N][C]=k.read_shift(8,"f");break}case"G":case"P":k.l+=w[C].len;break;case"0":if(w[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[C].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Rp(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Ku(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&fo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=UC(),f=QC(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),g=l["!cols"]||[],p=0,v=0,y=0,b=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++y;continue}if(h[p]!=null){if(++y,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var w=Zr(l["!ref"]),j=[],_=[],S=[];for(p=0;p<=w.e.c-w.s.c;++p){var N="",C="",k=0,E=[];for(v=0;v<m.length;++v)m[v][p]!=null&&E.push(m[v][p]);if(E.length==0||h[p]==null){j[p]="?";continue}for(v=0;v<E.length;++v){switch(typeof E[v]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=E[v]instanceof Date?"D":"C";break;default:C="C"}k=Math.max(k,String(E[v]).length),N=N&&N!=C?"C":C}k>250&&(k=250),C=((g[p]||{}).DBF||{}).type,C=="C"&&g[p].DBF.len>k&&(k=g[p].DBF.len),N=="B"&&C=="N"&&(N="N",S[p]=g[p].DBF.dec,k=g[p].DBF.len),_[p]=N=="C"||C=="N"?k:s[N]||0,b+=_[p],j[p]=N}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,m.length),O.write_shift(2,296+32*y),O.write_shift(2,b),p=0;p<4;++p)O.write_shift(4,0);for(O.write_shift(4,0|(+t[wG]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var T=d.next(32),U=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,U,"sbcs"),T.write_shift(1,j[p]=="?"?"C":j[p],"sbcs"),T.write_shift(4,v),T.write_shift(1,_[p]||s[j[p]]||0),T.write_shift(1,S[p]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),v+=_[p]||s[j[p]]||0}var W=d.next(264);for(W.write_shift(4,13),p=0;p<65;++p)W.write_shift(4,0);for(p=0;p<m.length;++p){var R=d.next(b);for(R.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(j[v]){case"L":R.write_shift(1,m[p][v]==null?63:m[p][v]?84:70);break;case"B":R.write_shift(8,m[p][v]||0,"f");break;case"N":var z="0";for(typeof m[p][v]=="number"&&(z=m[p][v].toFixed(S[v]||0)),y=0;y<_[v]-z.length;++y)R.write_shift(1,32);R.write_shift(1,z,"sbcs");break;case"D":m[p][v]?(R.write_shift(4,("0000"+m[p][v].getFullYear()).slice(-4),"sbcs"),R.write_shift(2,("00"+(m[p][v].getMonth()+1)).slice(-2),"sbcs"),R.write_shift(2,("00"+m[p][v].getDate()).slice(-2),"sbcs")):R.write_shift(8,"00000000","sbcs");break;case"C":var P=String(m[p][v]!=null?m[p][v]:"").slice(0,_[v]);for(R.write_shift(1,P,"sbcs"),y=0;y<_[v]-P.length;++y)R.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),V6e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+xl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var g=e[m];return typeof g=="number"?bL(g):g},n=function(h,m,g){var p=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:bL(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(ii(h),m);case"binary":return s(h,m);case"buffer":return s(Yt&&Buffer.isBuffer(h)?h.toString("binary"):Ef(h),m);case"array":return s(hf(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var g=h.split(/[\n\r]+/),p=-1,v=-1,y=0,b=0,w=[],j=[],_=null,S={},N=[],C=[],k=[],E=0,O;for(+m.codepage>=0&&fo(+m.codepage);y!==g.length;++y){E=0;var T=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),U=T.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),W=U[0],R;if(T.length>0)switch(W){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&j.push(T.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,P=!1,M=!1,L=!1,q=-1,Z=-1;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"A":break;case"X":v=parseInt(U[b].slice(1))-1,P=!0;break;case"Y":for(p=parseInt(U[b].slice(1))-1,P||(v=0),O=w.length;O<=p;++O)w[O]=[];break;case"K":R=U[b].slice(1),R.charAt(0)==='"'?R=R.slice(1,R.length-1):R==="TRUE"?R=!0:R==="FALSE"?R=!1:isNaN(xo(R))?isNaN(Xm(R).getDate())||(R=Hn(R)):(R=xo(R),_!==null&&Op(_)&&(R=oj(R))),z=!0;break;case"E":L=!0;var A=zh(U[b].slice(1),{r:p,c:v});w[p][v]=[w[p][v],A];break;case"S":M=!0,w[p][v]=[w[p][v],"S5S"];break;case"G":break;case"R":q=parseInt(U[b].slice(1))-1;break;case"C":Z=parseInt(U[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}if(z&&(w[p][v]&&w[p][v].length==2?w[p][v][0]=R:w[p][v]=R,_=null),M){if(L)throw new Error("SYLK shared formula cannot have own formula");var B=q>-1&&w[q][Z];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");w[p][v][1]=OK(B[1],{r:p-q,c:v-Z})}break;case"F":var H=0;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"X":v=parseInt(U[b].slice(1))-1,++H;break;case"Y":for(p=parseInt(U[b].slice(1))-1,O=w.length;O<=p;++O)w[O]=[];break;case"M":E=parseInt(U[b].slice(1))/20;break;case"F":break;case"G":break;case"P":_=j[parseInt(U[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=U[b].slice(1).split(" "),O=parseInt(k[0],10);O<=parseInt(k[1],10);++O)E=parseInt(k[2],10),C[O-1]=E===0?{hidden:!0}:{wch:E},Qm(C[O-1]);break;case"C":v=parseInt(U[b].slice(1))-1,C[v]||(C[v]={});break;case"R":p=parseInt(U[b].slice(1))-1,N[p]||(N[p]={}),E>0?(N[p].hpt=E,N[p].hpx=yv(E)):E===0&&(N[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}H<1&&(_=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}}return N.length>0&&(S["!rows"]=N),C.length>0&&(S["!cols"]=C),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,S]}function o(h,m){var g=a(h,m),p=g[0],v=g[1],y=Rp(p,m);return xl(v).forEach(function(b){y[b]=v[b]}),y}function l(h,m){return Ku(o(h,m),m)}function c(h,m,g,p){var v="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+T9e(h.f,{r:g,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,m){m.forEach(function(g,p){var v="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=rw(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=nw(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,m){m.forEach(function(g,p){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*TK(g.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function f(h,m){var g=["ID;PWXL;N;E"],p=[],v=Zr(h["!ref"]),y,b=Array.isArray(h),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var j=v.s.r;j<=v.e.r;++j)for(var _=v.s.c;_<=v.e.c;++_){var S=Pt({r:j,c:_});y=b?(h[j]||[])[_]:h[S],!(!y||y.v==null&&(!y.f||y.F))&&p.push(c(y,h,j,_))}return g.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),W6e=function(){function e(s,o){switch(o.type){case"base64":return t(ii(s),o);case"binary":return t(s,o);case"buffer":return t(Yt&&Buffer.isBuffer(s)?s.toString("binary"):Ef(s),o);case"array":return t(hf(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],g=h[1];++d;for(var p=l[d]||"";(p.match(/["]/g)||[]).length&1&&d<l.length-1;)p+=`
`+l[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(xo(g))?isNaN(Xm(g).getDate())?f[c][u]=g:f[c][u]=Hn(g):f[c][u]=xo(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(s,o){return Rp(e(s,o),o)}function n(s,o){return Ku(r(s,o),o)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Zr(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var p=Pt({r:m,c:g});if(f=h?(c[m]||[])[g]:c[p],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ii(f.z||Ft[14],us(Hn(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var y=`\r
`,b=u.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),H6e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),g=-1,p=-1,v=0,y=[];v!==m.length;++v){var b=m[v].trim().split(":");if(b[0]==="cell"){var w=Za(b[1]);if(y.length<=w.r)for(g=y.length;g<=w.r;++g)y[g]||(y[g]=[]);switch(g=w.r,p=w.c,b[2]){case"t":y[g][p]=e(b[3]);break;case"v":y[g][p]=+b[3];break;case"vtf":var j=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[g][p]=!!+b[4];break;default:y[g][p]=+b[4];break}b[2]=="vtf"&&(y[g][p]=[y[g][p],j])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Rp(r(f,h),h)}function a(f,h){return Ku(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],g,p="",v=Dp(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var w=v.s.c;w<=v.e.c;++w)if(p=Pt({r:b,c:w}),g=y?(f[b]||[])[w]:f[p],!(!g||g.v==null||g.t==="z")){switch(m=["cell",p,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var j=us(Hn(g.v));m[2]="vtc",m[3]="nd",m[4]=""+j,m[5]=g.w||Ii(g.z||Ft[14],j);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),vv=function(){function e(d,f,h,m,g){g.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(xo(d))?isNaN(Xm(d).getDate())?f[h][m]=d:f[h][m]=Hn(d):f[h][m]=xo(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var g=d.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var v=10,y=0,b=0;b<=p;++b)y=g[b].indexOf(" "),y==-1?y=g[b].length:y++,v=Math.max(v,y);for(b=0;b<=p;++b){m[b]=[];var w=0;for(e(g[b].slice(0,v).trim(),m,b,w,h),w=1;w<=(g[b].length-v)/10+1;++w)e(g[b].slice(v+(w-1)*10,v+w*10).trim(),m,b,w,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,g=0;m<d.length;++m)(g=d.charCodeAt(m))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m]);if(!g.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m])}return g.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),r[g.pop()[1]]||44}function s(d,f){var h=f||{},m="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var v=0,y=0,b=0,w=0,j=0,_=m.charCodeAt(0),S=!1,N=0,C=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var k=h.dateNF!=null?r$e(h.dateNF):null;function E(){var O=d.slice(w,j),T={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)T.t="z";else if(h.raw)T.t="s",T.v=O;else if(O.trim().length===0)T.t="s",T.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(T.t="s",T.v=O.slice(2,-1).replace(/""/g,'"')):P9e(O)?(T.t="n",T.f=O.slice(1)):(T.t="s",T.v=O);else if(O=="TRUE")T.t="b",T.v=!0;else if(O=="FALSE")T.t="b",T.v=!1;else if(!isNaN(b=xo(O)))T.t="n",h.cellText!==!1&&(T.w=O),T.v=b;else if(!isNaN(Xm(O).getDate())||k&&O.match(k)){T.z=h.dateNF||Ft[14];var U=0;k&&O.match(k)&&(O=n$e(O,h.dateNF,O.match(k)||[]),U=1),h.cellDates?(T.t="d",T.v=Hn(O,U)):(T.t="n",T.v=us(Hn(O,U))),h.cellText!==!1&&(T.w=Ii(T.z,T.v instanceof Date?us(T.v):T.v)),h.cellNF||delete T.z}else T.t="s",T.v=O;if(T.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=T):g[Pt({c:y,r:v})]=T),w=j+1,C=d.charCodeAt(w),p.e.c<y&&(p.e.c=y),p.e.r<v&&(p.e.r=v),N==_)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;j<d.length;++j)switch(N=d.charCodeAt(j)){case 34:C===34&&(S=!S);break;case _:case 10:case 13:if(!S&&E())break e;break}return j-w>0&&E(),g["!ref"]=Qt(p),g}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Rp(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:sO(d,f);switch(f.type){case"base64":h=ii(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Hc<"u"?h=Hc.utils.decode(f.codepage,d):h=Yt&&Buffer.isBuffer(d)?d.toString("binary"):Ef(d);break;case"array":h=hf(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Tr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Tr(h):f.type=="binary"&&typeof Hc<"u"&&f.codepage&&(h=Hc.utils.decode(f.codepage,Hc.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?H6e.to_sheet(f.type=="string"?h:Tr(h),f):o(h,f)}function c(d,f){return Ku(l(d,f),f)}function u(d){for(var f=[],h=Zr(d["!ref"]),m,g=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=Pt({r:p,c:y});if(m=g?(d[p]||[])[y]:d[b],!m||m.v==null){v.push("          ");continue}for(var w=(m.w||(gc(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function q6e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=V6e.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return vv.to_workbook(e,t)}}var Q0=function(){function e(A,B,H){if(A){Jn(A,A.l||0);for(var V=H.Enum||q;A.l<A.length;){var te=A.read_shift(2),le=V[te]||V[65535],xe=A.read_shift(2),ie=A.l+xe,G=le.f&&le.f(A,xe,H);if(A.l=ie,B(G,le,te))return}}}function t(A,B){switch(B.type){case"base64":return r(lo(ii(A)),B);case"binary":return r(lo(A),B);case"buffer":case"array":return r(A,B)}throw"Unsupported type "+B.type}function r(A,B){if(!A)return A;var H=B||{},V=H.dense?[]:{},te="Sheet1",le="",xe=0,ie={},G=[],Q=[],D={s:{r:0,c:0},e:{r:0,c:0}},ce=H.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)H.Enum=q,e(A,function(De,Le,et){switch(et){case 0:H.vers=De,De>=4096&&(H.qpro=!0);break;case 6:D=De;break;case 204:De&&(le=De);break;case 222:le=De;break;case 15:case 51:H.qpro||(De[1].v=De[1].v.slice(1));case 13:case 14:case 16:et==14&&(De[2]&112)==112&&(De[2]&15)>1&&(De[2]&15)<15&&(De[1].z=H.dateNF||Ft[14],H.cellDates&&(De[1].t="d",De[1].v=oj(De[1].v))),H.qpro&&De[3]>xe&&(V["!ref"]=Qt(D),ie[te]=V,G.push(te),V=H.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},xe=De[3],te=le||"Sheet"+(xe+1),le="");var se=H.dense?(V[De[0].r]||[])[De[0].c]:V[Pt(De[0])];if(se){se.t=De[1].t,se.v=De[1].v,De[1].z!=null&&(se.z=De[1].z),De[1].f!=null&&(se.f=De[1].f);break}H.dense?(V[De[0].r]||(V[De[0].r]=[]),V[De[0].r][De[0].c]=De[1]):V[Pt(De[0])]=De[1];break}},H);else if(A[2]==26||A[2]==14)H.Enum=Z,A[2]==14&&(H.qpro=!0,A.l=0),e(A,function(De,Le,et){switch(et){case 204:te=De;break;case 22:De[1].v=De[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(De[3]>xe&&(V["!ref"]=Qt(D),ie[te]=V,G.push(te),V=H.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},xe=De[3],te="Sheet"+(xe+1)),ce>0&&De[0].r>=ce)break;H.dense?(V[De[0].r]||(V[De[0].r]=[]),V[De[0].r][De[0].c]=De[1]):V[Pt(De[0])]=De[1],D.e.c<De[0].c&&(D.e.c=De[0].c),D.e.r<De[0].r&&(D.e.r=De[0].r);break;case 27:De[14e3]&&(Q[De[14e3][0]]=De[14e3][1]);break;case 1537:Q[De[0]]=De[1],De[0]==xe&&(te=De[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(V["!ref"]=Qt(D),ie[le||te]=V,G.push(le||te),!Q.length)return{SheetNames:G,Sheets:ie};for(var je={},be=[],Pe=0;Pe<Q.length;++Pe)ie[G[Pe]]?(be.push(Q[Pe]||G[Pe]),je[Q[Pe]]=ie[Q[Pe]]||ie[G[Pe]]):(be.push(Q[Pe]),je[Q[Pe]]={"!ref":"A1"});return{SheetNames:be,Sheets:je}}function n(A,B){var H=B||{};if(+H.codepage>=0&&fo(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var V=UC(),te=Zr(A["!ref"]),le=Array.isArray(A),xe=[];Yi(V,0,s(1030)),Yi(V,6,c(te));for(var ie=Math.min(te.e.r,8191),G=te.s.r;G<=ie;++G)for(var Q=na(G),D=te.s.c;D<=te.e.c;++D){G===te.s.r&&(xe[D]=Pn(D));var ce=xe[D]+Q,je=le?(A[G]||[])[D]:A[ce];if(!(!je||je.t=="z"))if(je.t=="n")(je.v|0)==je.v&&je.v>=-32768&&je.v<=32767?Yi(V,13,m(G,D,je.v)):Yi(V,14,p(G,D,je.v));else{var be=gc(je);Yi(V,15,f(G,D,be.slice(0,239)))}}return Yi(V,1),V.end()}function a(A,B){var H=B||{};if(+H.codepage>=0&&fo(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var V=UC();Yi(V,0,o(A));for(var te=0,le=0;te<A.SheetNames.length;++te)(A.Sheets[A.SheetNames[te]]||{})["!ref"]&&Yi(V,27,L(A.SheetNames[te],le++));var xe=0;for(te=0;te<A.SheetNames.length;++te){var ie=A.Sheets[A.SheetNames[te]];if(!(!ie||!ie["!ref"])){for(var G=Zr(ie["!ref"]),Q=Array.isArray(ie),D=[],ce=Math.min(G.e.r,8191),je=G.s.r;je<=ce;++je)for(var be=na(je),Pe=G.s.c;Pe<=G.e.c;++Pe){je===G.s.r&&(D[Pe]=Pn(Pe));var De=D[Pe]+be,Le=Q?(ie[je]||[])[Pe]:ie[De];if(!(!Le||Le.t=="z"))if(Le.t=="n")Yi(V,23,E(je,Pe,xe,Le.v));else{var et=gc(Le);Yi(V,22,N(je,Pe,xe,et.slice(0,239)))}}++xe}}return Yi(V,1),V.end()}function s(A){var B=kn(2);return B.write_shift(2,A),B}function o(A){var B=kn(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var H=0,V=0,te=0,le=0;le<A.SheetNames.length;++le){var xe=A.SheetNames[le],ie=A.Sheets[xe];if(!(!ie||!ie["!ref"])){++te;var G=Dp(ie["!ref"]);H<G.e.r&&(H=G.e.r),V<G.e.c&&(V=G.e.c)}}return H>8191&&(H=8191),B.write_shift(2,H),B.write_shift(1,te),B.write_shift(1,V),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function l(A,B,H){var V={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&H.qpro?(V.s.c=A.read_shift(1),A.l++,V.s.r=A.read_shift(2),V.e.c=A.read_shift(1),A.l++,V.e.r=A.read_shift(2),V):(V.s.c=A.read_shift(2),V.s.r=A.read_shift(2),B==12&&H.qpro&&(A.l+=2),V.e.c=A.read_shift(2),V.e.r=A.read_shift(2),B==12&&H.qpro&&(A.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function c(A){var B=kn(8);return B.write_shift(2,A.s.c),B.write_shift(2,A.s.r),B.write_shift(2,A.e.c),B.write_shift(2,A.e.r),B}function u(A,B,H){var V=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(V[0].c=A.read_shift(1),V[3]=A.read_shift(1),V[0].r=A.read_shift(2),A.l+=2):(V[2]=A.read_shift(1),V[0].c=A.read_shift(2),V[0].r=A.read_shift(2)),V}function d(A,B,H){var V=A.l+B,te=u(A,B,H);if(te[1].t="s",H.vers==20768){A.l++;var le=A.read_shift(1);return te[1].v=A.read_shift(le,"utf8"),te}return H.qpro&&A.l++,te[1].v=A.read_shift(V-A.l,"cstr"),te}function f(A,B,H){var V=kn(7+H.length);V.write_shift(1,255),V.write_shift(2,B),V.write_shift(2,A),V.write_shift(1,39);for(var te=0;te<V.length;++te){var le=H.charCodeAt(te);V.write_shift(1,le>=128?95:le)}return V.write_shift(1,0),V}function h(A,B,H){var V=u(A,B,H);return V[1].v=A.read_shift(2,"i"),V}function m(A,B,H){var V=kn(7);return V.write_shift(1,255),V.write_shift(2,B),V.write_shift(2,A),V.write_shift(2,H,"i"),V}function g(A,B,H){var V=u(A,B,H);return V[1].v=A.read_shift(8,"f"),V}function p(A,B,H){var V=kn(13);return V.write_shift(1,255),V.write_shift(2,B),V.write_shift(2,A),V.write_shift(8,H,"f"),V}function v(A,B,H){var V=A.l+B,te=u(A,B,H);if(te[1].v=A.read_shift(8,"f"),H.qpro)A.l=V;else{var le=A.read_shift(2);j(A.slice(A.l,A.l+le),te),A.l+=le}return te}function y(A,B,H){var V=B&32768;return B&=-32769,B=(V?A:0)+(B>=8192?B-16384:B),(V?"":"$")+(H?Pn(B):na(B))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(A,B){Jn(A,0);for(var H=[],V=0,te="",le="",xe="",ie="";A.l<A.length;){var G=A[A.l++];switch(G){case 0:H.push(A.read_shift(8,"f"));break;case 1:le=y(B[0].c,A.read_shift(2),!0),te=y(B[0].r,A.read_shift(2),!1),H.push(le+te);break;case 2:{var Q=y(B[0].c,A.read_shift(2),!0),D=y(B[0].r,A.read_shift(2),!1);le=y(B[0].c,A.read_shift(2),!0),te=y(B[0].r,A.read_shift(2),!1),H.push(Q+D+":"+le+te)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(A.read_shift(2));break;case 6:{for(var ce="";G=A[A.l++];)ce+=String.fromCharCode(G);H.push('"'+ce.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:ie=H.pop(),xe=H.pop(),H.push(["AND","OR"][G-20]+"("+xe+","+ie+")");break;default:if(G<32&&w[G])ie=H.pop(),xe=H.pop(),H.push(xe+w[G]+ie);else if(b[G]){if(V=b[G][1],V==69&&(V=A[A.l++]),V>H.length){console.error("WK1 bad formula parse 0x"+G.toString(16)+":|"+H.join("|")+"|");return}var je=H.slice(-V);H.length-=V,H.push(b[G][0]+"("+je.join(",")+")")}else return G<=7?console.error("WK1 invalid opcode "+G.toString(16)):G<=24?console.error("WK1 unsupported op "+G.toString(16)):G<=30?console.error("WK1 invalid opcode "+G.toString(16)):G<=115?console.error("WK1 unsupported function opcode "+G.toString(16)):console.error("WK1 unrecognized opcode "+G.toString(16))}}H.length==1?B[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function _(A){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=A.read_shift(2),B[3]=A[A.l++],B[0].c=A[A.l++],B}function S(A,B){var H=_(A);return H[1].t="s",H[1].v=A.read_shift(B-4,"cstr"),H}function N(A,B,H,V){var te=kn(6+V.length);te.write_shift(2,A),te.write_shift(1,H),te.write_shift(1,B),te.write_shift(1,39);for(var le=0;le<V.length;++le){var xe=V.charCodeAt(le);te.write_shift(1,xe>=128?95:xe)}return te.write_shift(1,0),te}function C(A,B){var H=_(A);H[1].v=A.read_shift(2);var V=H[1].v>>1;if(H[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return H[1].v=V,H}function k(A,B){var H=_(A),V=A.read_shift(4),te=A.read_shift(4),le=A.read_shift(2);if(le==65535)return V===0&&te===3221225472?(H[1].t="e",H[1].v=15):V===0&&te===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var xe=le&32768;return le=(le&32767)-16446,H[1].v=(1-xe*2)*(te*Math.pow(2,le+32)+V*Math.pow(2,le)),H}function E(A,B,H,V){var te=kn(14);if(te.write_shift(2,A),te.write_shift(1,H),te.write_shift(1,B),V==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var le=0,xe=0,ie=0,G=0;return V<0&&(le=1,V=-V),xe=Math.log2(V)|0,V/=Math.pow(2,xe-31),G=V>>>0,G&2147483648||(V/=2,++xe,G=V>>>0),V-=G,G|=2147483648,G>>>=0,V*=Math.pow(2,32),ie=V>>>0,te.write_shift(4,ie),te.write_shift(4,G),xe+=16383+(le?32768:0),te.write_shift(2,xe),te}function O(A,B){var H=k(A);return A.l+=B-14,H}function T(A,B){var H=_(A),V=A.read_shift(4);return H[1].v=V>>6,H}function U(A,B){var H=_(A),V=A.read_shift(8,"f");return H[1].v=V,H}function W(A,B){var H=U(A);return A.l+=B-10,H}function R(A,B){return A[A.l+B-1]==0?A.read_shift(B,"cstr"):""}function z(A,B){var H=A[A.l++];H>B-1&&(H=B-1);for(var V="";V.length<H;)V+=String.fromCharCode(A[A.l++]);return V}function P(A,B,H){if(!(!H.qpro||B<21)){var V=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var te=A.read_shift(B-21,"cstr");return[V,te]}}function M(A,B){for(var H={},V=A.l+B;A.l<V;){var te=A.read_shift(2);if(te==14e3){for(H[te]=[0,""],H[te][0]=A.read_shift(2);A[A.l];)H[te][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return H}function L(A,B){var H=kn(5+A.length);H.write_shift(2,14e3),H.write_shift(2,B);for(var V=0;V<A.length;++V){var te=A.charCodeAt(V);H[H.l++]=te>127?95:te}return H[H.l++]=0,H}var q={0:{n:"BOF",f:pn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:R},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:M},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:W},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:R},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:P},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function G6e(e){var t={},r=e.match(Fa),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=kt(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=MP[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var K6e=function(){var e=pv("t"),t=pv("rPr");function r(s){var o=s.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:tr(o[1])},c=s.match(t);return c&&(l.s=G6e(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),Y6e=function(){var t=/(\r\n|\n)/g;function r(a,s,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),o.push("</b>")),a.i&&(s.push("<i>"),o.push("</i>")),a.strike&&(s.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),X6e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Q6e=/<(?:\w+:)?r>/,J6e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function JP(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=tr(Tr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Tr(e),r&&(n.h=zP(n.t))):e.match(Q6e)&&(n.r=Tr(e),n.t=tr(Tr((e.replace(J6e,"").match(X6e)||[]).join("").replace(Fa,""))),r&&(n.h=Y6e(K6e(n.r)))),n):{t:""}}var Z6e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,eBe=/<(?:\w+:)?(?:si|sstItem)>/g,tBe=/<\/(?:\w+:)?(?:si|sstItem)>/;function rBe(e,t){var r=[],n="";if(!e)return r;var a=e.match(Z6e);if(a){n=a[2].replace(eBe,"").split(tBe);for(var s=0;s!=n.length;++s){var o=JP(n[s].trim(),t);o!=null&&(r[r.length]=o)}a=kt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function nBe(e){return[e.read_shift(4),e.read_shift(4)]}function aBe(e,t){var r=[],n=!1;return jc(e,function(s,o,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function jK(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function ec(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function sBe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=ec(e,4),t.U=ec(e,4),t.W=ec(e,4),t}function iBe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function oBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(iBe(e));return t}function lBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function cBe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ec(e,4),t.U=ec(e,4),t.W=ec(e,4),t}function uBe(e){var t=cBe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function SK(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function NK(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function dBe(e){var t=ec(e);switch(t.Minor){case 2:return[t.Minor,fBe(e)];case 3:return[t.Minor,hBe()];case 4:return[t.Minor,mBe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function fBe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=SK(e,r),a=NK(e,e.length-e.l);return{t:"Std",h:n,v:a}}function hBe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function mBe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Fa,function(s){var o=kt(s);switch(Nl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function pBe(e,t){var r={},n=r.EncryptionVersionInfo=ec(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=SK(e,a),t-=a,r.EncryptionVerifier=NK(e,t),r}function gBe(e){var t={},r=t.EncryptionVersionInfo=ec(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function vBe(e){var t=0,r,n=jK(e),a=n.length+1,s,o,l,c,u;for(r=Pu(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var kK=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},s=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=jK(o),c=s(l),u=l.length,d=Pu(16),f=0;f!=16;++f)d[f]=0;var h,m,g;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=l[l.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,g=15-l.length;g>0;)h=c>>8,d[u]=a(e[g],h),--u,--g,h=c&255,d[u]=a(l[u],h),--u,--g;return d}}(),xBe=function(e,t,r,n,a){a||(a=t),n||(n=kK(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=n[r],o=(o>>5|o<<3)&255,a[s]=o,++r;return[a,r,n]},yBe=function(e){var t=0,r=kK(e);return function(n){var a=xBe("",n,t,r);return t=a[1],a[0]}};function bBe(e,t,r,n){var a={key:pn(e),verificationBytes:pn(e)};return r.password&&(a.verifier=vBe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=yBe(r.password)),a}function wBe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=gBe(e):n.Data=pBe(e,t),n}function _Be(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?wBe(e,t-2,n):bBe(e,r.biff>=8?t:t-2,r,n),n}var jBe=function(){function e(a,s){switch(s.type){case"base64":return t(ii(a),s);case"binary":return t(a,s);case"buffer":return t(Yt&&Buffer.isBuffer(a)?a.toString("binary"):Ef(a),s);case"array":return t(hf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,g,p=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var v=d.slice(m,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var y={v,t:"s"};Array.isArray(l)?l[f][p]=y:l[Pt({r:f,c:p})]=y}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=Qt(u),l}function r(a,s){return Ku(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=Zr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Pt({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(gc(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function SBe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function xv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function NBe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),o=a-s;if(o===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function kBe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,o=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function tw(e,t){if(t===0)return e;var r=NBe(SBe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),xv(kBe(r))}var CK=6,CBe=15,EBe=1,qa=CK;function rw(e){return Math.floor((e+Math.round(128/qa)/256)*qa)}function nw(e){return Math.floor((e-5)/qa*100+.5)/100}function HC(e){return Math.round((e*qa+5)/qa*256)/256}function mN(e){return HC(nw(rw(e)))}function ZP(e){var t=Math.abs(e-mN(e)),r=qa;if(t>.005)for(qa=EBe;qa<CBe;++qa)Math.abs(e-mN(e))<=t&&(t=Math.abs(e-mN(e)),r=qa);qa=r}function Qm(e){e.width?(e.wpx=rw(e.width),e.wch=nw(e.wpx),e.MDW=qa):e.wpx?(e.wch=nw(e.wpx),e.width=HC(e.wch),e.MDW=qa):typeof e.wch=="number"&&(e.width=HC(e.wch),e.wpx=rw(e.width),e.MDW=qa),e.customWidth&&delete e.customWidth}var TBe=96,EK=TBe;function TK(e){return e*96/EK}function yv(e){return e*EK/96}var ABe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function PBe(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Fa)||[]).forEach(function(o){var l=kt(o);switch(Nl(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Ir(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Ir(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function OBe(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Fa)||[]).forEach(function(o){var l=kt(o);switch(Nl(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function DBe(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Fa)||[]).forEach(function(o){var l=kt(o);switch(Nl(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Tr(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Ir(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Ir(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Ir(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Ir(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Ir(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Ir(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Ir(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=MP[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Ir(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Bd[a.color.index];a.color.index==81&&(c=Bd[1]),c||(c=Bd[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=tw(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function RBe(e,t,r){t.NumberFmt=[];for(var n=xl(Ft),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Ft[n[a]];var s=e[0].match(Fa);if(s)for(a=0;a<s.length;++a){var o=kt(s[a]);switch(Nl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=tr(Tr(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}$d(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var _y=["numFmtId","fillId","fontId","borderId","xfId"],jy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function MBe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Fa)||[]).forEach(function(s){var o=kt(s),l=0;switch(Nl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<_y.length;++l)n[_y[l]]&&(n[_y[l]]=parseInt(n[_y[l]],10));for(l=0;l<jy.length;++l)n[jy[l]]&&(n[jy[l]]=Ir(n[jy[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Ir(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var FBe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&RBe(f,d,u),(f=l.match(a))&&DBe(f,d,c,u),(f=l.match(n))&&OBe(f,d,c,u),(f=l.match(s))&&PBe(f,d,c,u),(f=l.match(r))&&MBe(f,d,u),d}}();function IBe(e,t){var r=e.read_shift(2),n=Ta(e);return[r,n]}function LBe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=K$e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=G$e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ta(e),n}var $Be=Ra;function BBe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var UBe=Ra;function zBe(e,t,r){var n={};n.NumberFmt=[];for(var a in Ft)n.NumberFmt[a]=Ft[a];n.CellXf=[],n.Fonts=[];var s=[],o=!1;return jc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],$d(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=tw(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var VBe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function WBe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Fa)||[]).forEach(function(a){var s=kt(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[VBe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function HBe(){}function qBe(){}var GBe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,KBe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,YBe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function XBe(e,t,r){t.themeElements={};var n;[["clrScheme",GBe,WBe],["fontScheme",KBe,HBe],["fmtScheme",YBe,qBe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var QBe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function AK(e,t){(!e||e.length===0)&&(e=JBe());var r,n={};if(!(r=e.match(QBe)))throw new Error("themeElements not found in theme");return XBe(r[0],n,t),n.raw=e,n}function JBe(e,t){var r=[UG];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function ZBe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var o;try{o=BG(s,{type:"array"})}catch{return}var l=Js(o,"theme/theme/theme1.xml",!0);if(l)return AK(l,r)}}function e9e(e){return e.read_shift(4)}function t9e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=r9e(e,4);break;case 2:t.xclrValue=gK(e);break;case 3:t.xclrValue=e9e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function r9e(e,t){return Ra(e,t)}function n9e(e,t){return Ra(e,t)}function a9e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=t9e(e);break;case 6:n[1]=n9e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function s9e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(a9e(e,r-e.l));return{ixfe:n,ext:s}}function i9e(e,t){t.forEach(function(r){switch(r[0]){}})}function o9e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ta(e)}}function l9e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function c9e(e){return e.l+=4,e.read_shift(4)!=0}function u9e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],o=!1,l=2;return jc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function d9e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,o;return e.replace(Fa,function(l){var c=kt(l);switch(Nl(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function f9e(e){var t=[];if(!e)return t;var r=1;return(e.match(Fa)||[]).forEach(function(n){var a=kt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function h9e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Pt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function m9e(e,t,r){var n=[];return jc(e,function(s,o,l){switch(l){case 63:n.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function p9e(e,t,r,n){if(!e)return e;var a=n||{},s=!1;jc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function g9e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function s5(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(o){var l=Za(o.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[o.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[o.ref]=s;var c=Zr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Qt(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function v9e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=kt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=Za(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&JP(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function x9e(e,t){var r=[],n=!1,a={},s=0;return e.replace(Fa,function(l,c){var u=kt(l);switch(Nl(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function y9e(e,t){var r=[],n=!1;return e.replace(Fa,function(s){var o=kt(s);switch(Nl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function b9e(e){var t={};t.iauthor=e.read_shift(4);var r=Af(e);return t.rfx=r.s,t.ref=Pt(r.s),e.l+=16,t}var w9e=Ta;function _9e(e,t){var r=[],n=[],a={},s=!1;return jc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var j9e="application/vnd.ms-office.vbaProject";function S9e(e){var t=Xt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Xt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Xt.write(t)}function N9e(){return{"!type":"dialog"}}function k9e(){return{"!type":"dialog"}}function C9e(){return{"!type":"macro"}}function E9e(){return{"!type":"macro"}}var zh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Pn(d)+(c?"":"$")+na(u)}return function(a,s){return t=s,a.replace(e,r)}}(),PK=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,T9e=function(){return function(t,r){return t.replace(PK,function(n,a,s,o,l,c){var u=qP(o)-(s?0:r.c),d=HP(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function OK(e,t){return e.replace(PK,function(r,n,a,s,o,l){return n+(a=="$"?a+s:Pn(qP(s)+t.c))+(o=="$"?o+l:na(HP(l)+t.r))})}function A9e(e,t,r){var n=Dp(t),a=n.s,s=Za(r),o={r:s.r-a.r,c:s.c-a.c};return OK(e,o)}function P9e(e){return e.length!=1}function i5(e){return e.replace(/_xlfn\./g,"")}function dn(e){e.l+=1}function Ou(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function DK(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return RK(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=Ou(e),l=Ou(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function RK(e){var t=Ou(e),r=Ou(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function O9e(e,t,r){if(r.biff<8)return RK(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Ou(e),o=Ou(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function MK(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return D9e(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Ou(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function D9e(e){var t=Ou(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function R9e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function M9e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return F9e(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function F9e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function I9e(e,t,r){var n=(e[e.l++]&96)>>5,a=DK(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function L9e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=DK(e,s,r);return[n,a,o]}function $9e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function B9e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function U9e(e,t,r){var n=(e[e.l++]&96)>>5,a=O9e(e,t-1,r);return[n,a]}function z9e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function o5(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function V9e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function W9e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function H9e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function q9e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function G9e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function FK(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function K9e(e){return e.read_shift(2),FK(e)}function Y9e(e){return e.read_shift(2),FK(e)}function X9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=MK(e,0,r);return[n,a]}function Q9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=M9e(e,0,r);return[n,a]}function J9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=MK(e,0,r);return[n,a,s]}function Z9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[e7e[a],$K[a],n]}function eUe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:tUe(e);return[a,(s[0]===0?$K:ZUe)[s[1]]]}function tUe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function rUe(e,t,r){e.l+=r&&r.biff==2?3:4}function nUe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function aUe(e){return e.l++,Pf[e.read_shift(1)]}function sUe(e){return e.l++,e.read_shift(2)}function iUe(e){return e.l++,e.read_shift(1)!==0}function oUe(e){return e.l++,ka(e)}function lUe(e,t,r){return e.l++,mx(e,t-1,r)}function cUe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=tn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Pf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ka(e);break;case 2:r[1]=Of(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function uUe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Af:lj)(e));return a}function dUe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=cUe(e,r.biff);return o}function fUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function hUe(e,t,r){if(r.biff==5)return mUe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function mUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function pUe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function gUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function vUe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function xUe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var yUe=Ra,bUe=Ra,wUe=Ra;function gx(e,t,r){return e.l+=2,[R9e(e)]}function eO(e){return e.l+=6,[]}var _Ue=gx,jUe=eO,SUe=eO,NUe=gx;function IK(e){return e.l+=2,[pn(e),e.read_shift(2)&1]}var kUe=gx,CUe=IK,EUe=eO,TUe=gx,AUe=gx,PUe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function OUe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=PUe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function DUe(e){return e.l+=2,[e.read_shift(4)]}function RUe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function MUe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function FUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function IUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function LUe(e){return e.l+=4,[0,0]}var l5={1:{n:"PtgExp",f:nUe},2:{n:"PtgTbl",f:wUe},3:{n:"PtgAdd",f:dn},4:{n:"PtgSub",f:dn},5:{n:"PtgMul",f:dn},6:{n:"PtgDiv",f:dn},7:{n:"PtgPower",f:dn},8:{n:"PtgConcat",f:dn},9:{n:"PtgLt",f:dn},10:{n:"PtgLe",f:dn},11:{n:"PtgEq",f:dn},12:{n:"PtgGe",f:dn},13:{n:"PtgGt",f:dn},14:{n:"PtgNe",f:dn},15:{n:"PtgIsect",f:dn},16:{n:"PtgUnion",f:dn},17:{n:"PtgRange",f:dn},18:{n:"PtgUplus",f:dn},19:{n:"PtgUminus",f:dn},20:{n:"PtgPercent",f:dn},21:{n:"PtgParen",f:dn},22:{n:"PtgMissArg",f:dn},23:{n:"PtgStr",f:lUe},26:{n:"PtgSheet",f:RUe},27:{n:"PtgEndSheet",f:MUe},28:{n:"PtgErr",f:aUe},29:{n:"PtgBool",f:iUe},30:{n:"PtgInt",f:sUe},31:{n:"PtgNum",f:oUe},32:{n:"PtgArray",f:z9e},33:{n:"PtgFunc",f:Z9e},34:{n:"PtgFuncVar",f:eUe},35:{n:"PtgName",f:fUe},36:{n:"PtgRef",f:X9e},37:{n:"PtgArea",f:I9e},38:{n:"PtgMemArea",f:pUe},39:{n:"PtgMemErr",f:yUe},40:{n:"PtgMemNoMem",f:bUe},41:{n:"PtgMemFunc",f:gUe},42:{n:"PtgRefErr",f:vUe},43:{n:"PtgAreaErr",f:$9e},44:{n:"PtgRefN",f:Q9e},45:{n:"PtgAreaN",f:U9e},46:{n:"PtgMemAreaN",f:FUe},47:{n:"PtgMemNoMemN",f:IUe},57:{n:"PtgNameX",f:hUe},58:{n:"PtgRef3d",f:J9e},59:{n:"PtgArea3d",f:L9e},60:{n:"PtgRefErr3d",f:xUe},61:{n:"PtgAreaErr3d",f:B9e},255:{}},$Ue={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},BUe={1:{n:"PtgElfLel",f:IK},2:{n:"PtgElfRw",f:TUe},3:{n:"PtgElfCol",f:_Ue},6:{n:"PtgElfRwV",f:AUe},7:{n:"PtgElfColV",f:NUe},10:{n:"PtgElfRadical",f:kUe},11:{n:"PtgElfRadicalS",f:EUe},13:{n:"PtgElfColS",f:jUe},15:{n:"PtgElfColSV",f:SUe},16:{n:"PtgElfRadicalLel",f:CUe},25:{n:"PtgList",f:OUe},29:{n:"PtgSxName",f:DUe},255:{}},UUe={0:{n:"PtgAttrNoop",f:LUe},1:{n:"PtgAttrSemi",f:G9e},2:{n:"PtgAttrIf",f:H9e},4:{n:"PtgAttrChoose",f:V9e},8:{n:"PtgAttrGoto",f:W9e},16:{n:"PtgAttrSum",f:rUe},32:{n:"PtgAttrBaxcel",f:o5},33:{n:"PtgAttrBaxcel",f:o5},64:{n:"PtgAttrSpace",f:K9e},65:{n:"PtgAttrSpaceSemi",f:Y9e},128:{n:"PtgAttrIfError",f:q9e},255:{}};function vx(e,t,r,n){if(n.biff<8)return Ra(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=dUe(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=uUe(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(Ra(e,t)),s}function xx(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=l5[s]||l5[$Ue[s]],(s===24||s===25)&&(a=(s===24?BUe:UUe)[e[e.l+1]]),!a||!a.f?Ra(e,t):o.push([a.n,a.f(e,t,r)]);return o}function zUe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var VUe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function WUe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function LK(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function c5(e,t,r){var n=LK(e,t,r);return n=="#REF"?n:WUe(n,r)}function wa(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,v="",y=0,b=e[0].length;y<b;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:v=Qr(" ",e[0][p][1][1]);break;case 1:v=Qr("\r",e[0][p][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+v,p=-1}l.push(u+VUe[w[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=G0(w[1][1],o,a),l.push(K0(d,s));break;case"PtgRefN":d=r?G0(w[1][1],r,a):w[1][1],l.push(K0(d,s));break;case"PtgRef3d":f=w[1][1],d=G0(w[1][2],o,a),g=c5(n,f,a),l.push(g+"!"+K0(d,s));break;case"PtgFunc":case"PtgFuncVar":var j=w[1][0],_=w[1][1];j||(j=0),j&=127;var S=j==0?[]:l.slice(-j);l.length-=j,_==="User"&&(_=S.shift()),l.push(_+"("+S.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":m=VL(w[1][1],r?{s:r}:o,a),l.push(fN(m,a));break;case"PtgArea":m=VL(w[1][1],o,a),l.push(fN(m,a));break;case"PtgArea3d":f=w[1][1],m=w[1][2],g=c5(n,f,a),l.push(g+"!"+fN(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var N=(n.names||[])[h-1]||(n[0]||[])[h],C=N?N.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),l.push(C);break;case"PtgNameX":var k=w[1][1];h=w[1][2];var E;if(a.biff<=5)k<0&&(k=-k),n[k]&&(E=n[k][h]);else{var O="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][h]&&n[k][h].itab>0&&(O=n.SheetNames[n[k][h].itab-1]+"!"):O=n.SheetNames[h-1]+"!"),n[k]&&n[k][h])O+=n[k][h].Name;else if(n[0]&&n[0][h])O+=n[0][h].Name;else{var T=(LK(n,k,a)||"").split(";;");T[h-1]?O=T[h-1]:O+="SH33TJSERRX"}l.push(O);break}E||(E={Name:"SH33TJSERRY"}),l.push(E.Name);break;case"PtgParen":var U="(",W=")";if(p>=0){switch(v="",e[0][p][1][0]){case 2:U=Qr(" ",e[0][p][1][1])+U;break;case 3:U=Qr("\r",e[0][p][1][1])+U;break;case 4:W=Qr(" ",e[0][p][1][1])+W;break;case 5:W=Qr("\r",e[0][p][1][1])+W;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(U+l.pop()+W);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var R={c:r.c,r:r.r};if(n.sharedf[Pt(d)]){var z=n.sharedf[Pt(d)];l.push(wa(z,o,R,n,a))}else{var P=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(wa(u[1],o,R,n,a)),P=!0;break}P||l.push(w[1])}break;case"PtgArray":l.push("{"+zUe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var M=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&M.indexOf(e[0][y][0])==-1){w=e[0][p];var L=!0;switch(w[1][0]){case 4:L=!1;case 0:v=Qr(" ",w[1][1]);break;case 5:L=!1;case 1:v=Qr("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((L?v:"")+l.pop()+(L?"":v)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function HUe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Ra(e,t-2)];var l=xx(e,o,r);return t!==o+a&&(s=vx(e,t-o-a,l,r)),e.l=n,[l,s]}function qUe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Ra(e,t-2)];var l=xx(e,o,r);return t!==o+a&&(s=vx(e,t-o-a,l,r)),e.l=n,[l,s]}function GUe(e,t,r,n){var a=e.l+t,s=xx(e,n,r),o;return a!==e.l&&(o=vx(e,a-e.l,s,r)),[s,o]}function KUe(e,t,r){var n=e.l+t,a,s=e.read_shift(2),o=xx(e,s,r);return s==65535?[[],Ra(e,t-2)]:(t!==s+2&&(a=vx(e,n-s-2,o,r)),[o,a])}function YUe(e){var t;if(Gl(e,e.l+6)!==65535)return[ka(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function pN(e,t,r){var n=e.l+t,a=kl(e);r.biff==2&&++e.l;var s=YUe(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=qUe(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:o>>3&1,tt:s[1]}}function cj(e,t,r){var n=e.read_shift(4),a=xx(e,n,r),s=e.read_shift(4),o=s>0?vx(e,s,a,r):null;return[a,o]}var XUe=cj,uj=cj,QUe=cj,JUe=cj,ZUe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},$K={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},e7e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function u5(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function gN(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var J0={},Vh={};function Z0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function BK(e,t,r,n,a,s){try{n.cellNF&&(e.z=Ft[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Hn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Ft[t]==null&&$d(t$e[t]||"General",t),e.t==="e")e.w=e.w||Pf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=mv(e.v);else if(e.t==="d"){var o=us(e.v);(o|0)===o?e.w=o.toString(10):e.w=mv(o)}else{if(e.v===void 0)return"";e.w=ff(e.v,Vh)}else e.t==="d"?e.w=Ii(t,us(e.v),Vh):e.w=Ii(t,e.v,Vh)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=tw(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=tw(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function t7e(e,t){var r=Zr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Qt(r))}var r7e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,n7e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,a7e=/<(?:\w:)?hyperlink [^>]*>/mg,s7e=/"(\w*:\w*)"/,i7e=/<(?:\w:)?col\b[^>]*[\/]?>/g,o7e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,l7e=/<(?:\w:)?pageMargins[^>]*\/>/g,UK=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,c7e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,u7e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function d7e(e,t,r,n,a,s,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(n7e);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(UK);h?tO(h[0],l,a,r):(h=u.match(c7e))&&f7e(h[0],h[1]||"",l,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var g=u.slice(m,m+50).match(s7e);g&&t7e(l,g[1])}var p=u.match(u7e);p&&p[1]&&x7e(p[1],a);var v=[];if(t.cellStyles){var y=u.match(i7e);y&&p7e(v,y)}f&&y7e(f[1],l,t,c,s,o);var b=d.match(o7e);b&&(l["!autofilter"]=g7e(b[0]));var w=[],j=d.match(r7e);if(j)for(m=0;m!=j.length;++m)w[m]=Zr(j[m].slice(j[m].indexOf('"')+1));var _=d.match(a7e);_&&h7e(l,_,n);var S=d.match(l7e);if(S&&(l["!margins"]=m7e(kt(S[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Qt(c)),t.sheetRows>0&&l["!ref"]){var N=Zr(l["!ref"]);t.sheetRows<=+N.e.r&&(N.e.r=t.sheetRows-1,N.e.r>c.e.r&&(N.e.r=c.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>c.e.c&&(N.e.c=c.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Qt(N))}return v.length>0&&(l["!cols"]=v),w.length>0&&(l["!merges"]=w),l}function tO(e,t,r,n){var a=kt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=tr(Tr(a.codeName)))}function f7e(e,t,r,n,a){tO(e.slice(0,e.indexOf(">")),r,n,a)}function h7e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=kt(Tr(t[a]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+tr(s.location))):(s.Target="#"+tr(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=Zr(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Pt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function m7e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function p7e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=kt(t[n],!0);a.hidden&&(a.hidden=Ir(a.hidden));var s=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,ZP(a.width)),Qm(a);s<=o;)e[s++]=ra(a)}}function g7e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var v7e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function x7e(e,t){t.Views||(t.Views=[{}]),(e.match(v7e)||[]).forEach(function(r,n){var a=kt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Ir(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var y7e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=pv("v"),o=pv("f");return function(c,u,d,f,h,m){for(var g=0,p="",v=[],y=[],b=0,w=0,j=0,_="",S,N,C=0,k=0,E,O,T=0,U=0,W=Array.isArray(m.CellXf),R,z=[],P=[],M=Array.isArray(u),L=[],q={},Z=!1,A=!!d.sheetStubs,B=c.split(t),H=0,V=B.length;H!=V;++H){p=B[H].trim();var te=p.length;if(te!==0){var le=0;e:for(g=0;g<te;++g)switch(p[g]){case">":if(p[g-1]!="/"){++g;break e}if(d&&d.cellStyles){if(N=kt(p.slice(le,g),!0),C=N.r!=null?parseInt(N.r,10):C+1,k=-1,d.sheetRows&&d.sheetRows<C)continue;q={},Z=!1,N.ht&&(Z=!0,q.hpt=parseFloat(N.ht),q.hpx=yv(q.hpt)),N.hidden=="1"&&(Z=!0,q.hidden=!0),N.outlineLevel!=null&&(Z=!0,q.level=+N.outlineLevel),Z&&(L[C-1]=q)}break;case"<":le=g;break}if(le>=g)break;if(N=kt(p.slice(le,g),!0),C=N.r!=null?parseInt(N.r,10):C+1,k=-1,!(d.sheetRows&&d.sheetRows<C)){f.s.r>C-1&&(f.s.r=C-1),f.e.r<C-1&&(f.e.r=C-1),d&&d.cellStyles&&(q={},Z=!1,N.ht&&(Z=!0,q.hpt=parseFloat(N.ht),q.hpx=yv(q.hpt)),N.hidden=="1"&&(Z=!0,q.hidden=!0),N.outlineLevel!=null&&(Z=!0,q.level=+N.outlineLevel),Z&&(L[C-1]=q)),v=p.slice(g).split(e);for(var xe=0;xe!=v.length&&v[xe].trim().charAt(0)=="<";++xe);for(v=v.slice(xe),g=0;g!=v.length;++g)if(p=v[g].trim(),p.length!==0){if(y=p.match(r),b=g,w=0,j=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,y!=null&&y.length===2){for(b=0,_=y[1],w=0;w!=_.length&&!((j=_.charCodeAt(w)-64)<1||j>26);++w)b=26*b+j;--b,k=b}else++k;for(w=0;w!=p.length&&p.charCodeAt(w)!==62;++w);if(++w,N=kt(p.slice(0,w),!0),N.r||(N.r=Pt({r:C-1,c:k})),_=p.slice(w),S={t:""},(y=_.match(s))!=null&&y[1]!==""&&(S.v=tr(y[1])),d.cellFormula){if((y=_.match(o))!=null&&y[1]!==""){if(S.f=tr(Tr(y[1])).replace(/\r\n/g,`
`),d.xlfn||(S.f=i5(S.f)),y[0].indexOf('t="array"')>-1)S.F=(_.match(a)||[])[1],S.F.indexOf(":")>-1&&z.push([Zr(S.F),S.F]);else if(y[0].indexOf('t="shared"')>-1){O=kt(y[0]);var ie=tr(Tr(y[1]));d.xlfn||(ie=i5(ie)),P[parseInt(O.si,10)]=[O,ie,N.r]}}else(y=_.match(/<f[^>]*\/>/))&&(O=kt(y[0]),P[O.si]&&(S.f=A9e(P[O.si][1],P[O.si][2],N.r)));var G=Za(N.r);for(w=0;w<z.length;++w)G.r>=z[w][0].s.r&&G.r<=z[w][0].e.r&&G.c>=z[w][0].s.c&&G.c<=z[w][0].e.c&&(S.F=z[w][1])}if(N.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(A)S.t="z";else continue;else S.t=N.t||"n";switch(f.s.c>k&&(f.s.c=k),f.e.c<k&&(f.e.c=k),S.t){case"n":if(S.v==""||S.v==null){if(!A)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!A)continue;S.t="z"}else E=J0[parseInt(S.v,10)],S.v=E.t,S.r=E.r,d.cellHTML&&(S.h=E.h);break;case"str":S.t="s",S.v=S.v!=null?Tr(S.v):"",d.cellHTML&&(S.h=zP(S.v));break;case"inlineStr":y=_.match(n),S.t="s",y!=null&&(E=JP(y[1]))?(S.v=E.t,d.cellHTML&&(S.h=E.h)):S.v="";break;case"b":S.v=Ir(S.v);break;case"d":d.cellDates?S.v=Hn(S.v,1):(S.v=us(Hn(S.v,1)),S.t="n");break;case"e":(!d||d.cellText!==!1)&&(S.w=S.v),S.v=lK[S.v];break}if(T=U=0,R=null,W&&N.s!==void 0&&(R=m.CellXf[N.s],R!=null&&(R.numFmtId!=null&&(T=R.numFmtId),d.cellStyles&&R.fillId!=null&&(U=R.fillId))),BK(S,T,U,d,h,m),d.cellDates&&W&&S.t=="n"&&Op(Ft[T])&&(S.t="d",S.v=oj(S.v)),N.cm&&d.xlmeta){var Q=(d.xlmeta.Cell||[])[+N.cm-1];Q&&Q.type=="XLDAPR"&&(S.D=!0)}if(M){var D=Za(N.r);u[D.r]||(u[D.r]=[]),u[D.r][D.c]=S}else u[N.r]=S}}}}L.length>0&&(u["!rows"]=L)}}();function b7e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var w7e=Af;function _7e(){}function j7e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=H$e(e),r}function S7e(e){var t=zi(e);return[t]}function N7e(e){var t=Tf(e);return[t]}function k7e(e){var t=zi(e),r=e.read_shift(1);return[t,r,"b"]}function C7e(e){var t=Tf(e),r=e.read_shift(1);return[t,r,"b"]}function E7e(e){var t=zi(e),r=e.read_shift(1);return[t,r,"e"]}function T7e(e){var t=Tf(e),r=e.read_shift(1);return[t,r,"e"]}function A7e(e){var t=zi(e),r=e.read_shift(4);return[t,r,"s"]}function P7e(e){var t=Tf(e),r=e.read_shift(4);return[t,r,"s"]}function O7e(e){var t=zi(e),r=ka(e);return[t,r,"n"]}function zK(e){var t=Tf(e),r=ka(e);return[t,r,"n"]}function D7e(e){var t=zi(e),r=YP(e);return[t,r,"n"]}function R7e(e){var t=Tf(e),r=YP(e);return[t,r,"n"]}function M7e(e){var t=zi(e),r=GP(e);return[t,r,"is"]}function F7e(e){var t=zi(e),r=Ta(e);return[t,r,"str"]}function I7e(e){var t=Tf(e),r=Ta(e);return[t,r,"str"]}function L7e(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=uj(e,n-e.l,r);o[3]=wa(l,null,a,r.supbooks,r)}else e.l=n;return o}function $7e(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=uj(e,n-e.l,r);o[3]=wa(l,null,a,r.supbooks,r)}else e.l=n;return o}function B7e(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=ka(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=uj(e,n-e.l,r);o[3]=wa(l,null,a,r.supbooks,r)}else e.l=n;return o}function U7e(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=Ta(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=uj(e,n-e.l,r);o[3]=wa(l,null,a,r.supbooks,r)}else e.l=n;return o}var z7e=Af;function V7e(e,t){var r=e.l+t,n=Af(e),a=KP(e),s=Ta(e),o=Ta(e),l=Ta(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function W7e(){}function H7e(e,t,r){var n=e.l+t,a=sK(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=XUe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function q7e(e,t,r){var n=e.l+t,a=Af(e),s=[a];if(r.cellFormula){var o=JUe(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}var G7e=["left","right","top","bottom","header","footer"];function K7e(e){var t={};return G7e.forEach(function(r){t[r]=ka(e)}),t}function Y7e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function X7e(){}function Q7e(){}function J7e(e,t,r,n,a,s,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,g,p,v,y,b,w,j,_,S=[];l.biff=12,l["!row"]=0;var N=0,C=!1,k=[],E={},O=l.supbooks||a.supbooks||[[]];if(O.sharedf=E,O.arrayf=k,O.SheetNames=a.SheetNames||a.Sheets.map(function(M){return M.name}),!l.supbooks&&(l.supbooks=O,a.Names))for(var T=0;T<a.Names.length;++T)O[0][T+1]=a.Names[T];var U=[],W=[],R=!1;aw[16]={n:"BrtShortReal",f:zK};var z;if(jc(e,function(L,q,Z){if(!h)switch(Z){case 148:u=L;break;case 0:m=L,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),j=na(v=m.r),l["!row"]=m.r,(L.hidden||L.hpt||L.level!=null)&&(L.hpt&&(L.hpx=yv(L.hpt)),W[L.r]=L);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:L[2]},L[2]){case"n":g.v=L[1];break;case"s":w=J0[L[1]],g.v=w.t,g.r=w.r;break;case"b":g.v=!!L[1];break;case"e":g.v=L[1],l.cellText!==!1&&(g.w=Pf[g.v]);break;case"str":g.t="s",g.v=L[1];break;case"is":g.t="s",g.v=L[1].t;break}if((p=o.CellXf[L[0].iStyleRef])&&BK(g,p.numFmtId,null,l,s,o),y=L[0].c==-1?y+1:L[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[Pn(y)+j]=g,l.cellFormula){for(C=!1,N=0;N<k.length;++N){var A=k[N];m.r>=A[0].s.r&&m.r<=A[0].e.r&&y>=A[0].s.c&&y<=A[0].e.c&&(g.F=Qt(A[0]),C=!0)}!C&&L.length>3&&(g.f=L[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),l.cellDates&&p&&g.t=="n"&&Op(Ft[p.numFmtId])){var B=wd(g.v);B&&(g.t="d",g.v=new Date(B.y,B.m-1,B.d,B.H,B.M,B.S,B.u))}z&&(z.type=="XLDAPR"&&(g.D=!0),z=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;g={t:"z",v:void 0},y=L[0].c==-1?y+1:L[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[Pn(y)+j]=g,d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),z&&(z.type=="XLDAPR"&&(g.D=!0),z=void 0);break;case 176:S.push(L);break;case 49:z=((l.xlmeta||{}).Cell||[])[L-1];break;case 494:var H=n["!id"][L.relId];for(H?(L.Target=H.Target,L.loc&&(L.Target+="#"+L.loc),L.Rel=H):L.relId==""&&(L.Target="#"+L.loc),v=L.rfx.s.r;v<=L.rfx.e.r;++v)for(y=L.rfx.s.c;y<=L.rfx.e.c;++y)l.dense?(c[v]||(c[v]=[]),c[v][y]||(c[v][y]={t:"z",v:void 0}),c[v][y].l=L):(b=Pt({c:y,r:v}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=L);break;case 426:if(!l.cellFormula)break;k.push(L),_=l.dense?c[v][y]:c[Pn(y)+j],_.f=wa(L[1],d,{r:m.r,c:y},O,l),_.F=Qt(L[0]);break;case 427:if(!l.cellFormula)break;E[Pt(L[0].s)]=L[1],_=l.dense?c[v][y]:c[Pn(y)+j],_.f=wa(L[1],d,{r:m.r,c:y},O,l);break;case 60:if(!l.cellStyles)break;for(;L.e>=L.s;)U[L.e--]={width:L.w/256,hidden:!!(L.flags&1),level:L.level},R||(R=!0,ZP(L.w/256)),Qm(U[L.e+1]);break;case 161:c["!autofilter"]={ref:Qt(L)};break;case 476:c["!margins"]=L;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),L.name&&(a.Sheets[r].CodeName=L.name),(L.above||L.left)&&(c["!outline"]={above:L.above,left:L.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),L.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!q.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Qt(u||d)),l.sheetRows&&c["!ref"]){var P=Zr(c["!ref"]);l.sheetRows<=+P.e.r&&(P.e.r=l.sheetRows-1,P.e.r>d.e.r&&(P.e.r=d.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>d.e.c&&(P.e.c=d.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Qt(P))}return S.length>0&&(c["!merges"]=S),U.length>0&&(c["!cols"]=U),W.length>0&&(c["!rows"]=W),c}function Z7e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=tr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function eze(e,t,r,n,a,s){var o=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Z7e(f);d.s.r=d.s.c=0,d.e.c=l,u=Pn(l),h[0].forEach(function(m,g){o[u+na(g)]={t:"n",v:m,z:h[1]},c=g}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=Qt(d)),o}function tze(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(UK);return l&&tO(l[0],s,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function rze(e,t){e.l+=10;var r=Ta(e);return{name:r}}function nze(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return jc(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var VK=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],aze=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],sze=[],ize=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function d5(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Ir(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function f5(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Ir(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function WK(e){f5(e.WBProps,VK),f5(e.CalcPr,ize),d5(e.WBView,aze),d5(e.Sheets,sze),Vh.date1904=Ir(e.WBProps.date1904)}var oze="][*?/\\".split("");function lze(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return oze.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var cze=/<\w+:workbook/;function uze(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},o=0;if(e.replace(Fa,function(c,u){var d=kt(c);switch(Nl(d[0])){case"<?xml":break;case"<workbook":c.match(cze)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":VK.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Ir(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Tr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=tr(Tr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Tr(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Ir(d.hidden||"0")&&(s.Hidden=!0),o=u+c.length;break;case"</definedName>":s.Ref=tr(Tr(e.slice(o,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),E$e.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return WK(r),r}function dze(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=zC(e),r.name=Ta(e),r}function fze(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ta(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function hze(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function mze(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=q$e(e),o=QUe(e,0,r),l=KP(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function pze(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],aw[16]={n:"BrtFRTArchID$",f:hze},jc(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=wa(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),WK(r),r.Names=s,r.supbooks=o,r}function gze(e,t,r){return t.slice(-4)===".bin"?pze(e,r):uze(e,r)}function vze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?J7e(e,n,r,a,s,o,l):d7e(e,n,r,a,s,o,l)}function xze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?nze(e,n,r,a,s):tze(e,n,r,a,s)}function yze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?C9e():E9e()}function bze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?N9e():k9e()}function wze(e,t,r,n){return t.slice(-4)===".bin"?zBe(e,r,n):FBe(e,r,n)}function _ze(e,t,r){return AK(e,r)}function jze(e,t,r){return t.slice(-4)===".bin"?aBe(e,r):rBe(e,r)}function Sze(e,t,r){return t.slice(-4)===".bin"?_9e(e,r):v9e(e,r)}function Nze(e,t,r){return t.slice(-4)===".bin"?m9e(e):f9e(e)}function kze(e,t,r,n){return r.slice(-4)===".bin"?p9e(e,t,r,n):void 0}function Cze(e,t,r){return t.slice(-4)===".bin"?u9e(e,t,r):d9e(e,t,r)}var HK=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,qK=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ki(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(HK),s,o,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(qK),(o=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(o+1),n[l]=s[2].slice(1,s[2].length-1));return n}function Eze(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(HK),a,s,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(qK),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}var eg;function Tze(e,t){var r=eg[e]||tr(e);return r==="General"?ff(t):Ii(r,t)}function Aze(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ir(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Hn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[tr(t)]=a}function Pze(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Pf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=mv(e.v):e.w=ff(e.v):e.w=Tze(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=eg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Op(n)){var a=wd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Oze(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=ABe[n.Pattern]||n.Pattern)}e[t.ID]=t}function Dze(e,t,r,n,a,s,o,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],g=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Ir(e);break;case"String":n.t="s",n.r=RL(tr(e)),n.v=e.indexOf("<")>-1?tr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Hn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=tr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=lK[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=RL(t||e));break}if(Pze(n,d,u),u.cellFormula!==!1)if(n.Formula){var p=tr(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=zh(p,a),delete n.Formula,n.ArrayRange=="RC"?n.F=zh("RC:RC",a):n.ArrayRange&&(n.F=zh(n.ArrayRange,a),c.push([Zr(n.F),n.F]))}else for(g=0;g<c.length;++g)a.r>=c[g][0].s.r&&a.r<=c[g][0].e.r&&a.c>=c[g][0].s.c&&a.c<=c[g][0].e.c&&(n.F=c[g][1]);u.cellStyles&&(m.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Rze(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function vN(e,t){var r=t||{};RG();var n=b0(VP(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Tr(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=ra(r);return o.type="string",vv.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Le){a.indexOf("<"+Le)>=0&&(s=!0)}),s)return Vze(n,r);eg={"General Number":"General","General Date":Ft[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ft[15],"Short Date":Ft[14],"Long Time":Ft[19],"Medium Time":Ft[18],"Short Time":Ft[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ft[2],Standard:Ft[4],Percent:Ft[10],Scientific:Ft[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},m="",g={},p={},v=Ki('<Data ss:Type="String">'),y=0,b=0,w=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},S={},N="",C=0,k=[],E={},O={},T=0,U=[],W=[],R={},z=[],P,M=!1,L=[],q=[],Z={},A=0,B=0,H={Sheets:[],WBProps:{date1904:!1}},V={};gv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var te="";l=gv.exec(n);)switch(l[3]=(te=l[3]).toLowerCase()){case"data":if(te=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?Dze(n.slice(y,l.index),N,v,c[c.length-1][0]=="comment"?R:g,{c:b,r:w},_,z[b],p,L,r):(N="",v=Ki(l[0]),y=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(W.length>0&&(g.c=W),(!r.sheetRows||r.sheetRows>w)&&g.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][b]=g):h[Pn(b)+na(w)]=g),g.HRef&&(g.l={Target:tr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(A=b+(parseInt(g.MergeAcross,10)|0),B=w+(parseInt(g.MergeDown,10)|0),k.push({s:{c:b,r:w},e:{c:A,r:B}})),!r.sheetStubs)g.MergeAcross?b=A+1:++b;else if(g.MergeAcross||g.MergeDown){for(var le=b;le<=A;++le)for(var xe=w;xe<=B;++xe)(le>b||xe>w)&&(r.dense?(h[xe]||(h[xe]=[]),h[xe][le]={t:"z"}):h[Pn(le)+na(xe)]={t:"z"});b=A+1}else++b;else g=Eze(l[0]),g.Index&&(b=+g.Index-1),b<j.s.c&&(j.s.c=b),b>j.e.c&&(j.e.c=b),l[0].slice(-2)==="/>"&&++b,W=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(w<j.s.r&&(j.s.r=w),w>j.e.r&&(j.e.r=w),l[0].slice(-2)==="/>"&&(p=Ki(l[0]),p.Index&&(w=+p.Index-1)),b=0,++w):(p=Ki(l[0]),p.Index&&(w=+p.Index-1),Z={},(p.AutoFitHeight=="0"||p.Height)&&(Z.hpx=parseInt(p.Height,10),Z.hpt=TK(Z.hpx),q[w]=Z),p.Hidden=="1"&&(Z.hidden=!0,q[w]=Z));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(m),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(h["!ref"]=Qt(j),r.sheetRows&&r.sheetRows<=j.e.r&&(h["!fullref"]=h["!ref"],j.e.r=r.sheetRows-1,h["!ref"]=Qt(j))),k.length&&(h["!merges"]=k),z.length>0&&(h["!cols"]=z),q.length>0&&(h["!rows"]=q),d[m]=h}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,c.push([l[3],!1]),u=Ki(l[0]),m=tr(u.Name),h=r.dense?[]:{},k=[],L=[],q=[],V={name:m,Hidden:0},H.Sheets.push(V);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),z=[],M=!1}break;case"style":l[1]==="/"?Oze(_,S,r):S=Ki(l[0]);break;case"numberformat":S.nf=tr(Ki(l[0]).Format||"General"),eg[S.nf]&&(S.nf=eg[S.nf]);for(var ie=0;ie!=392&&Ft[ie]!=S.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(Ft[ie]==null){$d(S.nf,ie);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(P=Ki(l[0]),P.Hidden&&(P.hidden=!0,delete P.Hidden),P.Width&&(P.wpx=parseInt(P.Width,10)),!M&&P.wpx>10){M=!0,qa=CK;for(var G=0;G<z.length;++G)z[G]&&Qm(z[G])}M&&Qm(P),z[P.Index-1||z.length]=P;for(var Q=0;Q<+P.Span;++Q)z[z.length]=ra(P);break;case"namedrange":if(l[1]==="/")break;H.Names||(H.Names=[]);var D=kt(l[0]),ce={Name:D.Name,Ref:zh(D.RefersTo.slice(1),{r:0,c:0})};H.Sheets.length>0&&(ce.Sheet=H.Sheets.length-1),H.Names.push(ce);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?N+=n.slice(C,l.index):C=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=Ki(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?v8e(E,te,n.slice(T,l.index)):T=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));Rze(R),W.push(R)}else c.push([l[3],!1]),u=Ki(l[0]),R={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var je=Ki(l[0]);h["!autofilter"]={ref:zh(je.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return x5(n,r);var be=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:be=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:be=!1}break;case"excelworkbook":switch(l[3]){case"date1904":H.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:be=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:be=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(T,l.index)){case"SheetHidden":V.Hidden=1;break;case"SheetVeryHidden":V.Hidden=2;break}else T=l.index+l[0].length;break;case"header":h["!margins"]||Z0(h["!margins"]={},"xlml"),isNaN(+kt(l[0]).Margin)||(h["!margins"].header=+kt(l[0]).Margin);break;case"footer":h["!margins"]||Z0(h["!margins"]={},"xlml"),isNaN(+kt(l[0]).Margin)||(h["!margins"].footer=+kt(l[0]).Margin);break;case"pagemargins":var Pe=kt(l[0]);h["!margins"]||Z0(h["!margins"]={},"xlml"),isNaN(+Pe.Top)||(h["!margins"].top=+Pe.Top),isNaN(+Pe.Left)||(h["!margins"].left=+Pe.Left),isNaN(+Pe.Right)||(h["!margins"].right=+Pe.Right),isNaN(+Pe.Bottom)||(h["!margins"].bottom=+Pe.Bottom);break;case"displayrighttoleft":H.Views||(H.Views=[]),H.Views[0]||(H.Views[0]={}),H.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:be=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:be=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:be=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:be=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:be=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:be=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:be=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:be=!1}break;case"smarttags":break;default:be=!1;break}if(be||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Aze(O,te,U,n.slice(T,l.index)):(U=l,T=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var De={};return!r.bookSheets&&!r.bookProps&&(De.Sheets=d),De.SheetNames=f,De.Workbook=H,De.SSF=ra(Ft),De.Props=E,De.Custprops=O,De}function qC(e,t){switch(aO(t=t||{}),t.type||"base64"){case"base64":return vN(ii(e),t);case"binary":case"buffer":case"file":return vN(e,t);case"array":return vN(Ef(e),t)}}function Mze(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Y$e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=X$e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Fze=[60,1084,2066,2165,2175];function Ize(e,t,r,n,a){var s=n,o=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=s;for(var c=Gl(r,r.l),u=GC[c],d=0;u!=null&&Fze.indexOf(c)>-1;)s=Gl(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),o.push(l),r.l+=4+s,u=GC[c=Gl(r,r.l)];var f=qc(o);Jn(f,0);var h=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(h),h+=o[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Lo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ft[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Pf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=mv(e.v):e.w=ff(e.v):e.w=Ii(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Op(Ft[n]||String(n))){var a=wd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Sy(e,t,r){return{v:e,ixfe:t,t:r}}function Lze(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},o={},l=null,c=[],u="",d={},f,h="",m,g,p,v,y={},b=[],w,j,_=[],S=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},k=function(_e){return _e<8?Bd[_e]:_e<64&&S[_e-8]||Bd[_e]},E=function(_e,$e,Be){var He=$e.XF.data;if(!(!He||!He.patternType||!Be||!Be.cellStyles)){$e.s={},$e.s.patternType=He.patternType;var wt;(wt=xv(k(He.icvFore)))&&($e.s.fgColor={rgb:wt}),(wt=xv(k(He.icvBack)))&&($e.s.bgColor={rgb:wt})}},O=function(_e,$e,Be){if(!(Z>1)&&!(Be.sheetRows&&_e.r>=Be.sheetRows)){if(Be.cellStyles&&$e.XF&&$e.XF.data&&E(_e,$e,Be),delete $e.ixfe,delete $e.XF,f=_e,h=Pt(_e),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),_e.r<o.s.r&&(o.s.r=_e.r),_e.c<o.s.c&&(o.s.c=_e.c),_e.r+1>o.e.r&&(o.e.r=_e.r+1),_e.c+1>o.e.c&&(o.e.c=_e.c+1),Be.cellFormula&&$e.f){for(var He=0;He<b.length;++He)if(!(b[He][0].s.c>_e.c||b[He][0].s.r>_e.r)&&!(b[He][0].e.c<_e.c||b[He][0].e.r<_e.r)){$e.F=Qt(b[He][0]),(b[He][0].s.c!=_e.c||b[He][0].s.r!=_e.r)&&delete $e.f,$e.f&&($e.f=""+wa(b[He][1],o,_e,L,T));break}}Be.dense?(a[_e.r]||(a[_e.r]=[]),a[_e.r][_e.c]=$e):a[h]=$e}},T={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var U,W=[],R=[],z=[],P=[],M=!1,L=[];L.SheetNames=T.snames,L.sharedf=T.sharedf,L.arrayf=T.arrayf,L.names=[],L.XTI=[];var q=0,Z=0,A=0,B=[],H=[],V;T.codepage=1200,fo(1200);for(var te=!1;e.l<e.length-1;){var le=e.l,xe=e.read_shift(2);if(xe===0&&q===10)break;var ie=e.l===e.length?0:e.read_shift(2),G=GC[xe];if(G&&G.f){if(t.bookSheets&&q===133&&xe!==133)break;if(q=xe,G.r===2||G.r==12){var Q=e.read_shift(2);if(ie-=2,!T.enc&&Q!==xe&&((Q&255)<<8|Q>>8)!==xe)throw new Error("rt mismatch: "+Q+"!="+xe);G.r==12&&(e.l+=10,ie-=10)}var D={};if(xe===10?D=G.f(e,ie,T):D=Ize(xe,G,e,ie,T),Z==0&&[9,521,1033,2057].indexOf(q)===-1)continue;switch(xe){case 34:r.opts.Date1904=N.WBProps.date1904=D;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=D,!t.password)throw new Error("File is password-protected");if(D.valid==null)throw new Error("Encryption scheme unsupported");if(!D.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=D;break;case 66:var ce=Number(D);switch(ce){case 21010:ce=1200;break;case 32768:ce=1e4;break;case 32769:ce=1252;break}fo(T.codepage=ce),te=!0;break;case 317:T.rrtabid=D;break;case 25:T.winlocked=D;break;case 439:r.opts.RefreshAll=D;break;case 12:r.opts.CalcCount=D;break;case 16:r.opts.CalcDelta=D;break;case 17:r.opts.CalcIter=D;break;case 13:r.opts.CalcMode=D;break;case 14:r.opts.CalcPrecision=D;break;case 95:r.opts.CalcSaveRecalc=D;break;case 15:T.CalcRefMode=D;break;case 2211:r.opts.FullCalc=D;break;case 129:D.fDialog&&(a["!type"]="dialog"),D.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),D.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:_.push(D);break;case 430:L.push([D]),L[L.length-1].XTI=[];break;case 35:case 547:L[L.length-1].push(D);break;case 24:case 536:V={Name:D.Name,Ref:wa(D.rgce,o,null,L,T)},D.itab>0&&(V.Sheet=D.itab-1),L.names.push(V),L[0]||(L[0]=[],L[0].XTI=[]),L[L.length-1].push(D),D.Name=="_xlnm._FilterDatabase"&&D.itab>0&&D.rgce&&D.rgce[0]&&D.rgce[0][0]&&D.rgce[0][0][0]=="PtgArea3d"&&(H[D.itab-1]={ref:Qt(D.rgce[0][0][1][2])});break;case 22:T.ExternCount=D;break;case 23:L.length==0&&(L[0]=[],L[0].XTI=[]),L[L.length-1].XTI=L[L.length-1].XTI.concat(D),L.XTI=L.XTI.concat(D);break;case 2196:if(T.biff<8)break;V!=null&&(V.Comment=D[1]);break;case 18:a["!protect"]=D;break;case 19:D!==0&&T.WTF&&console.error("Password verifier: "+D);break;case 133:s[D.pos]=D,T.snames.push(D.name);break;case 10:{if(--Z)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Qt(o),t.sheetRows&&t.sheetRows<=o.e.r){var je=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Qt(o),o.e.r=je}o.e.r++,o.e.c++}W.length>0&&(a["!merges"]=W),R.length>0&&(a["!objects"]=R),z.length>0&&(a["!cols"]=z),P.length>0&&(a["!rows"]=P),N.Sheets.push(C)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[D.BIFFVer]||8),T.biffguess=D.BIFFVer==0,D.BIFFVer==0&&D.dt==4096&&(T.biff=5,te=!0,fo(T.codepage=28591)),T.biff==8&&D.BIFFVer==0&&D.dt==16&&(T.biff=2),Z++)break;if(a=t.dense?[]:{},T.biff<8&&!te&&(te=!0,fo(T.codepage=t.codepage||1252)),T.biff<5||D.BIFFVer==0&&D.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var be={pos:e.l-ie,name:u};s[be.pos]=be,T.snames.push(u)}else u=(s[le]||{name:""}).name;D.dt==32&&(a["!type"]="chart"),D.dt==64&&(a["!type"]="macro"),W=[],R=[],T.arrayf=b=[],z=[],P=[],M=!1,C={Hidden:(s[le]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[D.r]||[])[D.c]:a[Pt({c:D.c,r:D.r})])&&++D.c,w={ixfe:D.ixfe,XF:_[D.ixfe]||{},v:D.val,t:"n"},A>0&&(w.z=B[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),O({c:D.c,r:D.r},w,t);break;case 5:case 517:w={ixfe:D.ixfe,XF:_[D.ixfe],v:D.val,t:D.t},A>0&&(w.z=B[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),O({c:D.c,r:D.r},w,t);break;case 638:w={ixfe:D.ixfe,XF:_[D.ixfe],v:D.rknum,t:"n"},A>0&&(w.z=B[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),O({c:D.c,r:D.r},w,t);break;case 189:for(var Pe=D.c;Pe<=D.C;++Pe){var De=D.rkrec[Pe-D.c][0];w={ixfe:De,XF:_[De],v:D.rkrec[Pe-D.c][1],t:"n"},A>0&&(w.z=B[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),O({c:Pe,r:D.r},w,t)}break;case 6:case 518:case 1030:{if(D.val=="String"){l=D;break}if(w=Sy(D.val,D.cell.ixfe,D.tt),w.XF=_[w.ixfe],t.cellFormula){var Le=D.formula;if(Le&&Le[0]&&Le[0][0]&&Le[0][0][0]=="PtgExp"){var et=Le[0][0][1][0],se=Le[0][0][1][1],ge=Pt({r:et,c:se});y[ge]?w.f=""+wa(D.formula,o,D.cell,L,T):w.F=((t.dense?(a[et]||[])[se]:a[ge])||{}).F}else w.f=""+wa(D.formula,o,D.cell,L,T)}A>0&&(w.z=B[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),O(D.cell,w,t),l=D}break;case 7:case 519:if(l)l.val=D,w=Sy(D,l.cell.ixfe,"s"),w.XF=_[w.ixfe],t.cellFormula&&(w.f=""+wa(l.formula,o,l.cell,L,T)),A>0&&(w.z=B[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),O(l.cell,w,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(D);var re=Pt(D[0].s);if(m=t.dense?(a[D[0].s.r]||[])[D[0].s.c]:a[re],t.cellFormula&&m){if(!l||!re||!m)break;m.f=""+wa(D[1],o,D[0],L,T),m.F=Qt(D[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;y[Pt(l.cell)]=D[0],m=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Pt(l.cell)],(m||{}).f=""+wa(D[0],o,f,L,T)}}break;case 253:w=Sy(c[D.isst].t,D.ixfe,"s"),c[D.isst].h&&(w.h=c[D.isst].h),w.XF=_[w.ixfe],A>0&&(w.z=B[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),O({c:D.c,r:D.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:D.ixfe,XF:_[D.ixfe],t:"z"},A>0&&(w.z=B[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),O({c:D.c,r:D.r},w,t));break;case 190:if(t.sheetStubs)for(var ae=D.c;ae<=D.C;++ae){var fe=D.ixfe[ae-D.c];w={ixfe:fe,XF:_[fe],t:"z"},A>0&&(w.z=B[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),O({c:ae,r:D.r},w,t)}break;case 214:case 516:case 4:w=Sy(D.val,D.ixfe,"s"),w.XF=_[w.ixfe],A>0&&(w.z=B[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),O({c:D.c,r:D.r},w,t);break;case 0:case 512:Z===1&&(o=D);break;case 252:c=D;break;case 1054:if(T.biff==4){B[A++]=D[1];for(var Ee=0;Ee<A+163&&Ft[Ee]!=D[1];++Ee);Ee>=163&&$d(D[1],A+163)}else $d(D[1],D[0]);break;case 30:{B[A++]=D;for(var Re=0;Re<A+163&&Ft[Re]!=D;++Re);Re>=163&&$d(D,A+163)}break;case 229:W=W.concat(D);break;case 93:R[D.cmo[0]]=T.lastobj=D;break;case 438:T.lastobj.TxO=D;break;case 127:T.lastobj.ImData=D;break;case 440:for(v=D[0].s.r;v<=D[0].e.r;++v)for(p=D[0].s.c;p<=D[0].e.c;++p)m=t.dense?(a[v]||[])[p]:a[Pt({c:p,r:v})],m&&(m.l=D[1]);break;case 2048:for(v=D[0].s.r;v<=D[0].e.r;++v)for(p=D[0].s.c;p<=D[0].e.c;++p)m=t.dense?(a[v]||[])[p]:a[Pt({c:p,r:v})],m&&m.l&&(m.l.Tooltip=D[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;m=t.dense?(a[D[0].r]||[])[D[0].c]:a[Pt(D[0])];var Je=R[D[2]];m||(t.dense?(a[D[0].r]||(a[D[0].r]=[]),m=a[D[0].r][D[0].c]={t:"z"}):m=a[Pt(D[0])]={t:"z"},o.e.r=Math.max(o.e.r,D[0].r),o.s.r=Math.min(o.s.r,D[0].r),o.e.c=Math.max(o.e.c,D[0].c),o.s.c=Math.min(o.s.c,D[0].c)),m.c||(m.c=[]),g={a:D[1],t:Je.TxO.t},m.c.push(g)}break;case 2173:i9e(_[D.ixfe],D.ext);break;case 125:{if(!T.cellStyles)break;for(;D.e>=D.s;)z[D.e--]={width:D.w/256,level:D.level||0,hidden:!!(D.flags&1)},M||(M=!0,ZP(D.w/256)),Qm(z[D.e+1])}break;case 520:{var Xe={};D.level!=null&&(P[D.r]=Xe,Xe.level=D.level),D.hidden&&(P[D.r]=Xe,Xe.hidden=!0),D.hpt&&(P[D.r]=Xe,Xe.hpt=D.hpt,Xe.hpx=yv(D.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Z0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=D;break;case 161:a["!margins"]||Z0(a["!margins"]={}),a["!margins"].header=D.header,a["!margins"].footer=D.footer;break;case 574:D.RTL&&(N.Views[0].RTL=!0);break;case 146:S=D;break;case 2198:U=D;break;case 140:j=D;break;case 442:u?C.CodeName=D||C.name:N.WBProps.CodeName=D||"ThisWorkbook";break}}else G||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),e.l+=ie}return r.SheetNames=xl(s).sort(function(_t,_e){return Number(_t)-Number(_e)}).map(function(_t){return s[_t].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&H.forEach(function(_t,_e){r.Sheets[r.SheetNames[_e]]["!autofilter"]=_t}),r.Strings=c,r.SSF=ra(Ft),T.enc&&(r.Encryption=T.enc),U&&(r.Themes=U),r.Metadata={},j!==void 0&&(r.Metadata.Country=j),L.names.length>0&&(N.Names=L.names),r.Workbook=N,r}var h5={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function $ze(e,t,r){var n=Xt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=XL(n,r8e,h5.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var o=Xt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=XL(o,n8e,h5.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(uK(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function GK(e,t){t||(t={}),aO(t),_G(),t.codepage&&FP(t.codepage);var r,n;if(e.FullPaths){if(Xt.find(e,"/encryption"))throw new Error("File is password-protected");r=Xt.find(e,"!CompObj"),n=Xt.find(e,"/Workbook")||Xt.find(e,"/Book")}else{switch(t.type){case"base64":e=lo(ii(e));break;case"binary":e=lo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Jn(e,0),n={content:e}}var a,s;if(r&&Mze(r),t.bookProps&&!t.bookSheets)a={};else{var o=Yt?"buffer":"array";if(n&&n.content)a=Lze(n.content,t);else if((s=Xt.find(e,"PerfectOffice_MAIN"))&&s.content)a=Q0.to_workbook(s.content,(t.type=o,t));else if((s=Xt.find(e,"NativeContent_MAIN"))&&s.content)a=Q0.to_workbook(s.content,(t.type=o,t));else throw(s=Xt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Xt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=S9e(e))}var l={};return e.FullPaths&&$ze(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var aw={0:{f:b7e},1:{f:S7e},2:{f:D7e},3:{f:E7e},4:{f:k7e},5:{f:O7e},6:{f:F7e},7:{f:A7e},8:{f:U7e},9:{f:B7e},10:{f:L7e},11:{f:$7e},12:{f:N7e},13:{f:R7e},14:{f:T7e},15:{f:C7e},16:{f:zK},17:{f:I7e},18:{f:P7e},19:{f:GP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:mze},40:{},42:{},43:{f:LBe},44:{f:IBe},45:{f:$Be},46:{f:UBe},47:{f:BBe},48:{},49:{f:z$e},50:{},51:{f:l9e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:_K},62:{f:M7e},63:{f:h9e},64:{f:X7e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ra,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Y7e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:j7e},148:{f:w7e,p:16},151:{f:W7e},152:{},153:{f:fze},154:{},155:{},156:{f:dze},157:{},158:{},159:{T:1,f:nBe},160:{T:-1},161:{T:1,f:Af},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:z7e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:o9e},336:{T:-1},337:{f:c9e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:zC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:wK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:H7e},427:{f:q7e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:K7e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:_7e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:V7e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:zC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:w9e},633:{T:1},634:{T:-1},635:{T:1,f:b9e},636:{T:-1},637:{f:W$e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:rze},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Q7e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},GC={6:{f:pN},10:{f:Rc},12:{f:pn},13:{f:pn},14:{f:tn},15:{f:tn},16:{f:ka},17:{f:tn},18:{f:tn},19:{f:pn},20:{f:e5},21:{f:e5},23:{f:wK},24:{f:r5},25:{f:tn},26:{},27:{},28:{f:x6e},29:{},34:{f:tn},35:{f:t5},38:{f:ka},39:{f:ka},40:{f:ka},41:{f:ka},42:{f:tn},43:{f:tn},47:{f:_Be},49:{f:Z8e},51:{f:pn},60:{},61:{f:X8e},64:{f:tn},65:{f:J8e},66:{f:pn},77:{},80:{},81:{},82:{},85:{f:pn},89:{},90:{},91:{},92:{f:z8e},93:{f:b6e},94:{},95:{f:tn},96:{},97:{},99:{f:tn},125:{f:_K},128:{f:c6e},129:{f:V8e},130:{f:pn},131:{f:tn},132:{f:tn},133:{f:W8e},134:{},140:{f:k6e},141:{f:pn},144:{},146:{f:E6e},151:{},152:{},153:{},154:{},155:{},156:{f:pn},157:{},158:{},160:{f:D6e},161:{f:A6e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:s6e},190:{f:i6e},193:{f:Rc},197:{},198:{},199:{},200:{},201:{},202:{f:tn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:pn},220:{},221:{f:tn},222:{},224:{f:l6e},225:{f:U8e},226:{f:Rc},227:{},229:{f:y6e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:H8e},253:{f:e6e},255:{f:q8e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:pK},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:tn},353:{f:Rc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:d6e},431:{f:tn},432:{},433:{},434:{},437:{},438:{f:j6e},439:{f:tn},440:{f:S6e},441:{},442:{f:px},443:{},444:{f:pn},445:{},446:{},448:{f:Rc},449:{f:Y8e,r:2},450:{f:Rc},512:{f:JL},513:{f:O6e},515:{f:u6e},516:{f:t6e},517:{f:ZL},519:{f:R6e},520:{f:G8e},523:{},545:{f:n5},549:{f:QL},566:{},574:{f:Q8e},638:{f:a6e},659:{},1048:{},1054:{f:r6e},1084:{},1212:{f:p6e},2048:{f:N6e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:wy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Rc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:T6e,r:12},2173:{f:s9e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:tn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:m6e,r:12},2197:{},2198:{f:ZBe,r:12},2199:{},2200:{},2201:{},2202:{f:g6e,r:12},2203:{f:Rc},2204:{},2205:{},2206:{},2207:{},2211:{f:K8e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:pn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:P6e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:C6e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:JL},1:{},2:{f:L6e},3:{f:I6e},4:{f:F6e},5:{f:ZL},7:{f:$6e},8:{},9:{f:wy},11:{},22:{f:pn},30:{f:n6e},31:{},32:{},33:{f:n5},36:{},37:{f:QL},50:{f:B6e},62:{},52:{},67:{},68:{f:pn},69:{},86:{},126:{},127:{f:M6e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:U6e},223:{},234:{},354:{},421:{},518:{f:pN},521:{f:wy},536:{f:r5},547:{f:t5},561:{},579:{},1030:{f:pN},1033:{f:wy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Yi(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&rK(r)&&e.push(r)}}function m5(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=a.index,l=s&&s.index||e.length,c=u$e(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(o=0;o<c.length;++o){var p=c[o].trim(),v=p.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var y=p.split(/<\/t[dh]>/i);for(l=0;l<y.length;++l){var b=y[l].trim();if(b.match(/<t[dh]/i)){for(var w=b,j=0;w.charAt(0)=="<"&&(j=w.indexOf(">"))>-1;)w=w.slice(j+1);for(var _=0;_<g.length;++_){var S=g[_];S.s.c==d&&S.s.r<u&&u<=S.e.r&&(d=S.e.c+1,_=-1)}var N=kt(b.slice(0,b.indexOf(">")));h=N.colspan?+N.colspan:1,((f=+N.rowspan)>1||h>1)&&g.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var C=N.t||N["data-t"]||"";if(!w.length){d+=h;continue}if(w=VG(w),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!w.length){d+=h;continue}var k={t:"s",v:w};r.raw||!w.trim().length||C=="s"||(w==="TRUE"?k={t:"b",v:!0}:w==="FALSE"?k={t:"b",v:!1}:isNaN(xo(w))?isNaN(Xm(w).getDate())||(k={t:"d",v:Hn(w)},r.cellDates||(k={t:"n",v:us(k.v)}),k.z=r.dateNF||Ft[14]):k={t:"n",v:xo(w)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=k):n[Pt({r:u,c:d})]=k,d+=h}}}}return n["!ref"]=Qt(m),g.length&&(n["!merges"]=g),n}function Bze(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Pt({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||zP(f.w||(gc(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(k$e("td",h,m))}}var g="<tr>";return g+s.join("")+"</tr>"}var Uze='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',zze="</body></html>";function Vze(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Ku(m5(r[0],t),t);var n=iO();return r.forEach(function(a,s){oO(n,m5(a,t),"Sheet"+(s+1))}),n}function Wze(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Hze(e,t){var r=t||{},n=r.header!=null?r.header:Uze,a=r.footer!=null?r.footer:zze,s=[n],o=Dp(e["!ref"]);r.dense=Array.isArray(e),s.push(Wze(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(Bze(e,o,l,r));return s.push("</table>"+a),s.join("")}function KK(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Za(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Dp(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),g=0,p=0,v=0,y=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&p<c;++g){var j=l[g];if(p5(j)){if(n.display)continue;m[p]={hidden:!0}}var _=j.children;for(v=y=0;v<_.length;++v){var S=_[v];if(!(n.display&&p5(S))){var N=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):VG(S.innerHTML),C=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var k=f[h];k.s.c==y+s&&k.s.r<p+a&&p+a<=k.e.r&&(y=k.e.c+1-s,h=-1)}w=+S.getAttribute("colspan")||1,((b=+S.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+a,c:y+s},e:{r:p+a+(b||1)-1,c:y+s+(w||1)-1}});var E={t:"s",v:N},O=S.getAttribute("data-t")||S.getAttribute("t")||"";N!=null&&(N.length==0?E.t=O||"z":n.raw||N.trim().length==0||O=="s"||(N==="TRUE"?E={t:"b",v:!0}:N==="FALSE"?E={t:"b",v:!1}:isNaN(xo(N))?isNaN(Xm(N).getDate())||(E={t:"d",v:Hn(N)},n.cellDates||(E={t:"n",v:us(E.v)}),E.z=n.dateNF||Ft[14]):E={t:"n",v:xo(N)})),E.z===void 0&&C!=null&&(E.z=C);var T="",U=S.getElementsByTagName("A");if(U&&U.length)for(var W=0;W<U.length&&!(U[W].hasAttribute("href")&&(T=U[W].getAttribute("href"),T.charAt(0)!="#"));++W);T&&T.charAt(0)!="#"&&(E.l={Target:T}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][y+s]=E):e[Pt({c:y+s,r:p+a})]=E,u.e.c<y+s&&(u.e.c=y+s),y+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=Qt(u),p>=c&&(e["!fullref"]=Qt((u.e.r=l.length-g+p-1+a,u))),e}function YK(e,t){var r=t||{},n=r.dense?[]:{};return KK(n,e,t)}function qze(e,t){return Ku(YK(e,t),t)}function p5(e){var t="",r=Gze(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Gze(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Kze(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=tr(t.replace(/<[^>]*>/g,""));return[r]}var g5={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function XK(e,t){var r=t||{},n=VP(e),a=[],s,o,l={name:""},c="",u=0,d,f,h={},m=[],g=r.dense?[]:{},p,v,y={value:""},b="",w=0,j=[],_=-1,S=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,k={},E=[],O={},T=0,U=0,W=[],R=1,z=1,P=[],M={Names:[]},L={},q=["",""],Z=[],A={},B="",H=0,V=!1,te=!1,le=0;for(gv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=gv.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?g["!ref"]=Qt(N):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(g["!fullref"]=g["!ref"],N.e.r=r.sheetRows-1,g["!ref"]=Qt(N)),E.length&&(g["!merges"]=E),W.length&&(g["!rows"]=W),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=g,te=!1):p[0].charAt(p[0].length-2)!=="/"&&(d=kt(p[0],!1),_=S=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,g=r.dense?[]:{},E=[],W=[],te=!0);break;case"table-row-group":p[1]==="/"?--C:++C;break;case"table-row":case"":if(p[1]==="/"){_+=R,R=1;break}if(f=kt(p[0],!1),f.?_=f.-1:_==-1&&(_=0),R=+f["number-rows-repeated"]||1,R<10)for(le=0;le<R;++le)C>0&&(W[_+le]={level:C});S=-1;break;case"covered-table-cell":p[1]!=="/"&&++S,r.sheetStubs&&(r.dense?(g[_]||(g[_]=[]),g[_][S]={t:"z"}):g[Pt({r:_,c:S})]={t:"z"}),b="",j=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++S,y=kt(p[0],!1),z=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=u5(tr(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=tr(y["string-value"]||""),r.dense?(g[_]||(g[_]=[]),g[_][S]=v):g[Pt({r:_,c:S})]=v),S+=z-1;else if(p[1]!=="/"){++S,b="",w=0,j=[],z=1;var xe=R?_+R-1:_;if(S>N.e.c&&(N.e.c=S),S<N.s.c&&(N.s.c=S),_<N.s.r&&(N.s.r=_),xe>N.e.r&&(N.e.r=xe),y=kt(p[0],!1),Z=[],A={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=tr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(T=parseInt(y["number-matrix-rows-spanned"],10)||0,U=parseInt(y["number-matrix-columns-spanned"],10)||0,O={s:{r:_,c:S},e:{r:_+T-1,c:S+U-1}},v.F=Qt(O),P.push([O,v.F])),y.formula)v.f=u5(y.formula);else for(le=0;le<P.length;++le)_>=P[le][0].s.r&&_<=P[le][0].e.r&&S>=P[le][0].s.c&&S<=P[le][0].e.c&&(v.F=P[le][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(T=parseInt(y["number-rows-spanned"],10)||0,U=parseInt(y["number-columns-spanned"],10)||0,O={s:{r:_,c:S},e:{r:_+T-1,c:S+U-1}},E.push(O)),y["number-columns-repeated"]&&(z=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Ir(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Hn(y["date-value"]),r.cellDates||(v.t="n",v.v=us(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=o$e(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=oj(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=tr(y["string-value"]),j=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(V=!1,v.t==="s"&&(v.v=b||"",j.length&&(v.R=j),V=w==0),L.Target&&(v.l=L),Z.length>0&&(v.c=Z,Z=[]),b&&r.cellText!==!1&&(v.w=b),V&&(v.t="z",delete v.v),(!V||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=_))for(var ie=0;ie<R;++ie){if(z=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[_+ie]||(g[_+ie]=[]),g[_+ie][S]=ie==0?v:ra(v);--z>0;)g[_+ie][S+z]=ra(v);else for(g[Pt({r:_+ie,c:S})]=v;--z>0;)g[Pt({r:_+ie,c:S+z})]=ra(v);N.e.c<=S&&(N.e.c=S)}z=parseInt(y["number-columns-repeated"]||"1",10),S+=z-1,z=0,v={},b="",j=[]}L={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s;A.t=b,j.length&&(A.R=j),A.a=B,Z.push(A)}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);B="",H=0,b="",w=0,j=[];break;case"creator":p[1]==="/"?B=n.slice(H,p.index):H=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);b="",w=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(k[l.name]=c,(s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&(c="",l=kt(p[0],!1),a.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=kt(p[0],!1),c+=g5[p[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=kt(p[0],!1),c+=g5[p[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,p.index);break}else u=p.index+p[0].length;break;case"named-range":o=kt(p[0],!1),q=gN(o["cell-range-address"]);var G={Name:o.name,Ref:q[0]+"!"+q[1]};te&&(G.Sheet=m.length),M.Names.push(G);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(p[1]==="/"&&(!y||!y["string-value"])){var Q=Kze(n.slice(w,p.index));b=(b.length>0?b+`
`:"")+Q[0]}else kt(p[0],!1),w=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{q=gN(kt(p[0])["target-range-address"]),h[q[0]]["!autofilter"]={ref:q[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(L=kt(p[0],!1),!L.href)break;L.Target=tr(L.href),delete L.href,L.Target.charAt(0)=="#"&&L.Target.indexOf(".")>-1?(q=gN(L.Target.slice(1)),L.Target="#"+q[0]+"!"+q[1]):L.Target.match(/^\.\.[\\\/]/)&&(L.Target=L.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var D={Sheets:h,SheetNames:m,Workbook:M};return r.bookSheets&&delete D.Sheets,D}function v5(e,t){t=t||{},vi(e,"META-INF/manifest.xml")&&u8e(mn(e,"META-INF/manifest.xml"),t);var r=Js(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=XK(Tr(r),t);return vi(e,"meta.xml")&&(n.Props=cK(mn(e,"meta.xml"))),n}function x5(e,t){return XK(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function rO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function KC(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Tr(Ef(e))}function YC(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function y5(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Yze(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function bv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Rn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ea(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=bv(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=bv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function nO(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Xze(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=bv(e,n),s=Ea(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Rn(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Ea(l.data),u=Rn(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=Rn(s[3][0].data)>>>0>0),r.push(o)}return r}function Qze(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=bv(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[YC(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=YC(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Jze(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Qze(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return YC(t)}function Zze(e,t,r,n){var a=rO(e),s=a.getUint32(4,!0),o=(n>1?12:8)+y5(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(o,!0),o+=4),o+=y5(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(o,!0),o+=4),s&32&&(u=a.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function eVe(e,t,r){var n=rO(e),a=n.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=Yze(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(o=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function tVe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Zze(e,t,r,e[0]);case 5:return eVe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ju(e){var t=Ea(e);return bv(t[1][0].data)}function b5(e,t){var r=Ea(t.data),n=Rn(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(o){var l=Ea(o.data),c=Rn(l[1][0].data)>>>0;switch(n){case 1:s[c]=KC(l[3][0].data);break;case 8:{var u=e[ju(l[9][0].data)][0],d=Ea(u.data),f=e[ju(d[1][0].data)][0],h=Rn(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Ea(f.data);s[c]=m[3].map(function(g){return KC(g.data)}).join("")}break}}),s}function rVe(e,t){var r,n,a,s,o,l,c,u,d,f,h,m,g,p,v=Ea(e),y=Rn(v[1][0].data)>>>0,b=Rn(v[2][0].data)>>>0,w=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Rn(v[8][0].data)>0||!1,j,_;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)j=(l=(o=v[7])==null?void 0:o[0])==null?void 0:l.data,_=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)j=(m=(h=v[4])==null?void 0:h[0])==null?void 0:m.data,_=(p=(g=v[3])==null?void 0:g[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var S=w?4:1,N=rO(j),C=[],k=0;k<j.length/2;++k){var E=N.getUint16(k*2,!0);E<65535&&C.push([k,E])}if(C.length!=b)throw"Expected ".concat(b," cells, found ").concat(C.length);var O=[];for(k=0;k<C.length-1;++k)O[C[k][0]]=_.subarray(C[k][1]*S,C[k+1][1]*S);return C.length>=1&&(O[C[C.length-1][0]]=_.subarray(C[C.length-1][1]*S)),{R:y,cells:O}}function nVe(e,t){var r,n=Ea(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Rn(n[7][0].data)>>>0>0?1:0:-1,s=nO(n[5],function(o){return rVe(o,a)});return{nrows:Rn(n[4][0].data)>>>0,data:s.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function aVe(e,t,r){var n,a=Ea(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Rn(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Rn(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Qt(s);var o=Ea(a[4][0].data),l=b5(e,e[ju(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?b5(e,e[ju(o[17][0].data)][0]):[],u=Ea(o[3][0].data),d=0;u[1].forEach(function(f){var h=Ea(f.data),m=e[ju(h[2][0].data)][0],g=Rn(m.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var p=nVe(e,m);p.data.forEach(function(v,y){v.forEach(function(b,w){var j=Pt({r:d+y,c:w}),_=tVe(b,l,c);_&&(r[j]=_)})}),d+=p.nrows})}function sVe(e,t){var r=Ea(t.data),n={"!ref":"A1"},a=e[ju(r[2][0].data)],s=Rn(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return aVe(e,a[0],n),n}function iVe(e,t){var r,n=Ea(t.data),a={name:(r=n[1])!=null&&r[0]?KC(n[1][0].data):"",sheets:[]},s=nO(n[2],ju);return s.forEach(function(o){e[o].forEach(function(l){var c=Rn(l.meta[1][0].data);c==6e3&&a.sheets.push(sVe(e,l))})}),a}function oVe(e,t){var r=iO(),n=Ea(t.data),a=nO(n[1],ju);if(a.forEach(function(s){e[s].forEach(function(o){var l=Rn(o.meta[1][0].data);if(l==2){var c=iVe(e,o);c.sheets.forEach(function(u,d){oO(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function xN(e){var t,r,n,a,s={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Jze(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Xze(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Rn(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||o.forEach(function(c){s[c].forEach(function(u){var d=Rn(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return oVe(s,l)}function lVe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function aO(e){lVe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function cVe(e){return Sh.WS.indexOf(e)>-1?"sheet":e==Sh.CS?"chart":e==Sh.DS?"dialog":e==Sh.MS?"macro":e&&e.length?e:"sheet"}function uVe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,cVe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function dVe(e,t,r,n,a,s,o,l,c,u,d,f){try{s[n]=Y0(Js(e,r,!0),t);var h=mn(e,t),m;switch(l){case"sheet":m=vze(h,t,a,c,s[n],u,d,f);break;case"chart":if(m=xze(h,t,a,c,s[n],u,d,f),!m||!m["!drawel"])break;var g=_0(m["!drawel"].Target,t),p=VC(g),v=g9e(Js(e,g,!0),Y0(Js(e,p,!0),g)),y=_0(v,g),b=VC(y);m=eze(Js(e,y,!0),y,c,Y0(Js(e,b,!0),y),u,m);break;case"macro":m=yze(h,t,a,c,s[n],u,d,f);break;case"dialog":m=bze(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=m;var w=[];s&&s[n]&&xl(s[n]).forEach(function(j){var _="";if(s[n][j].Type==Sh.CMNT){_=_0(s[n][j].Target,t);var S=Sze(mn(e,_,!0),_,c);if(!S||!S.length)return;s5(m,S,!1)}s[n][j].Type==Sh.TCMNT&&(_=_0(s[n][j].Target,t),w=w.concat(x9e(mn(e,_,!0),c)))}),w&&w.length&&s5(m,w,!0,c.people||[])}catch(j){if(c.WTF)throw j}}function pi(e){return e.charAt(0)=="/"?e.slice(1):e}function fVe(e,t){if(RG(),t=t||{},aO(t),vi(e,"META-INF/manifest.xml")||vi(e,"objectdata.xml"))return v5(e,t);if(vi(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof xN<"u"){if(e.FileIndex)return xN(e);var r=Xt.utils.cfb_new();return OL(e).forEach(function(W){h$e(r,W,f$e(e,W))}),xN(r)}throw new Error("Unsupported NUMBERS file")}if(!vi(e,"[Content_Types].xml"))throw vi(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):vi(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=OL(e),a=l8e(Js(e,"[Content_Types].xml")),s=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",mn(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!mn(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(J0=[],a.sst)try{J0=jze(mn(e,pi(a.sst)),a.sst,t)}catch(W){if(t.WTF)throw W}t.cellStyles&&a.themes.length&&(c=_ze(Js(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=wze(mn(e,pi(a.style)),a.style,c,t))}a.links.map(function(W){try{var R=Y0(Js(e,VC(pi(W))),W);return kze(mn(e,pi(W)),R,W,t)}catch{}});var d=gze(mn(e,pi(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=mn(e,pi(a.coreprops[0]),!0),h&&(f=cK(h)),a.extprops.length!==0&&(h=mn(e,pi(a.extprops[0]),!0),h&&h8e(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Js(e,pi(a.custprops[0]),!0),h&&(m=p8e(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(R){return R.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=m),t.bookSheets&&typeof o<"u"&&(g.SheetNames=o),t.bookSheets?g.SheetNames:t.bookProps))return g;o={};var p={};t.bookDeps&&a.calcchain&&(p=Nze(mn(e,pi(a.calcchain)),a.calcchain));var v=0,y={},b,w;{var j=d.Sheets;f.Worksheets=j.length,f.SheetNames=[];for(var _=0;_!=j.length;++_)f.SheetNames[_]=j[_].name}var S=s?"bin":"xml",N=a.workbooks[0].lastIndexOf("/"),C=(a.workbooks[0].slice(0,N+1)+"_rels/"+a.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");vi(e,C)||(C="xl/_rels/workbook."+S+".rels");var k=Y0(Js(e,C,!0),C.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Cze(mn(e,pi(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=y9e(mn(e,pi(a.people[0])),t)),k&&(k=uVe(k,d.Sheets));var E=mn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var O="sheet";if(k&&k[v]?(b="xl/"+k[v][1].replace(/[\/]?xl\//,""),vi(e,b)||(b=k[v][1]),vi(e,b)||(b=C.replace(/_rels\/.*$/,"")+k[v][1]),O=k[v][2]):(b="xl/worksheets/sheet"+(v+1-E)+"."+S,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,U=0;U!=t.sheets.length;++U)typeof t.sheets[U]=="number"&&t.sheets[U]==v&&(T=1),typeof t.sheets[U]=="string"&&t.sheets[U].toLowerCase()==f.SheetNames[v].toLowerCase()&&(T=1);if(!T)continue e}}dVe(e,b,w,f.SheetNames[v],v,y,o,O,t,d,c,u)}return g={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:p,Sheets:o,SheetNames:f.SheetNames,Strings:J0,Styles:u,Themes:c,SSF:ra(Ft)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(W,R){W=W.replace(/^Root Entry[\/]/,""),g.keys.push(W),g.files[W]=e.FileIndex[R]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=mn(e,pi(a.vba[0]),!0):a.defaults&&a.defaults.bin===j9e&&(g.vbaraw=mn(e,"xl/vbaProject.bin",!0))),g}function hVe(e,t){var r=t||{},n="Workbook",a=Xt.find(e,n);try{if(n="/!DataSpaces/Version",a=Xt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(sBe(a.content),n="/!DataSpaces/DataSpaceMap",a=Xt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=oBe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Xt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=lBe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Xt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);uBe(a.content)}catch{}if(n="/EncryptionInfo",a=Xt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=dBe(a.content);if(n="/EncryptedPackage",a=Xt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function sO(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ii(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function mVe(e,t){return Xt.find(e,"EncryptedPackage")?hVe(e,t):GK(e,t)}function pVe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Yt&&Buffer.isBuffer(e)?"buffer":"base64"),r=BG(n,a),fVe(r,a)}function QK(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return qC(e.slice(r),t);default:break e}return vv.to_workbook(e,t)}function gVe(e,t){var r="",n=sO(e,t);switch(t.type){case"base64":r=ii(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=hf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Tr(r)),t.type="binary",QK(r,t)}function vVe(e,t){var r=e;return t.type=="base64"&&(r=ii(r)),r=Hc.utils.decode(1200,r.slice(2),"str"),t.type="binary",QK(r,t)}function xVe(e){return e.match(/[^\x00-\x7F]/)?j0(e):e}function yN(e,t,r,n){return n?(r.type="string",vv.to_workbook(e,r)):vv.to_workbook(t,r)}function XC(e,t){_G();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return XC(new Uint8Array(e),(r=ra(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Vh={},r.dateNF&&(Vh.dateNF=r.dateNF),r.type||(r.type=Yt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Yt?"buffer":"binary",n=s$e(e),typeof Uint8Array<"u"&&!Yt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=xVe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=ra(r),r.type="array",XC(IP(n),r)}switch((a=sO(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return mVe(Xt.read(n,r),r);break;case 9:if(a[1]<=8)return GK(n,r);break;case 60:return qC(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return q6e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return W6e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?pVe(n,r):yN(e,n,r,s);case 239:return a[3]===60?qC(n,r):yN(e,n,r,s);case 255:if(a[1]===254)return vVe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Q0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Q0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return a5.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return jBe.to_workbook(n,r);break;case 10:case 13:case 32:return gVe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return z6e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?a5.to_workbook(n,r):yN(e,n,r,s)}function yVe(e,t,r,n,a,s,o,l){var c=na(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var g=o?e[r][m]:e[n[m]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[m]!=null){if(p==null)if(g.t=="e"&&p===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&p===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?p:gc(g,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function QC(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Zr(d);break;case"number":c=Zr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=na(c.s.r),h=[],m=[],g=0,p=0,v=Array.isArray(e),y=c.s.r,b=0,w={};v&&!e[y]&&(e[y]=[]);var j=u.skipHidden&&e["!cols"]||[],_=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(j[b]||{}).hidden)switch(h[b]=Pn(b),r=v?e[y][b]:e[h[b]+f],n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=gc(r,null,u),p=w[o]||0,!p)w[o]=1;else{do l=o+"_"+p++;while(w[l]);w[o]=p,w[l]=1}s[b]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(_[y]||{}).hidden){var S=yVe(e,c,y,h,n,s,v,u);(S.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[g++]=S.row)}return m.length=g,m}var w5=/"/g;function bVe(e,t,r,n,a,s,o,l){for(var c=!0,u=[],d="",f=na(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:gc(m,null,l));for(var g=0,p=0;g!==d.length;++g)if((p=d.charCodeAt(g))===a||p===s||p===34||l.forceQuotes){d='"'+d.replace(w5,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(w5,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function JK(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Zr(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Pn(g));for(var p=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(d=bVe(e,a,v,f,o,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?l:"")+d)));return delete n.dense,r.join("")}function wVe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=JK(e,t);return r}function _Ve(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Zr(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=Pn(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=na(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function ZK(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Za(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var f=Zr(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,v){xl(p).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var b=p[y],w="z",j="",_=Pt({c:l+m,r:o+v+a});u=wv(s,_),b&&typeof b=="object"&&!(b instanceof Date)?s[_]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",n.cellDates||(w="n",b=us(b)),j=n.dateNF||Ft[14]):b===null&&n.nullError&&(w="e",b=0),u?(u.t=w,u.v=b,delete u.w,delete u.R,j&&(u.z=j)):s[_]=u={t:w,v:b},j&&(u.z=j))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=na(o);if(a)for(m=0;m<h.length;++m)s[Pn(m+l)+g]={t:"s",v:h[m]};return s["!ref"]=Qt(d),s}function jVe(e,t){return ZK(null,e,t)}function wv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Za(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?wv(e,Pt(t)):wv(e,Pt({r:t,c:r||0}))}function SVe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function iO(){return{SheetNames:[],Sheets:{}}}function oO(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(lze(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function NVe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=SVe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function kVe(e,t){return e.z=t,e}function eY(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function CVe(e,t,r){return eY(e,"#"+t,r)}function EVe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function TVe(e,t,r,n){for(var a=typeof t!="string"?t:Zr(t),s=typeof t=="string"?t:Qt(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=wv(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var AVe={encode_col:Pn,encode_row:na,encode_cell:Pt,encode_range:Qt,decode_col:qP,decode_row:HP,split_cell:U$e,decode_cell:Za,decode_range:Dp,format_cell:gc,sheet_add_aoa:aK,sheet_add_json:ZK,sheet_add_dom:KK,aoa_to_sheet:Rp,json_to_sheet:jVe,table_to_sheet:YK,table_to_book:qze,sheet_to_csv:JK,sheet_to_txt:wVe,sheet_to_json:QC,sheet_to_html:Hze,sheet_to_formulae:_Ve,sheet_to_row_object_array:QC,sheet_get_cell:wv,book_new:iO,book_append_sheet:oO,book_set_sheet_visibility:NVe,cell_set_number_format:kVe,cell_set_hyperlink:eY,cell_set_internal_link:CVe,cell_add_comment:EVe,sheet_set_array_formula:TVe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const PVe=({permission:e,permissions:t=[],requireAll:r=!1,children:n,fallback:a=null})=>{const{hasPermission:s}=P1();let o=!1;return e?o=s(e):t.length>0&&(r?o=t.every(l=>s(l)):o=t.some(l=>s(l))),o?i.jsx(i.Fragment,{children:n}):i.jsx(i.Fragment,{children:a})};function OVe({templates:e,templateFields:t,onImportComplete:r,onClose:n}){var E,O;const{t:a}=At(),{user:s}=hr(),{toast:o}=Li(),[l,c]=x.useState("template"),[u,d]=x.useState(null),[f,h]=x.useState([]),[m,g]=x.useState({}),[p,v]=x.useState([]),[y,b]=x.useState(!1),[w,j]=x.useState(0),_=async T=>{var W;const U=(W=T.target.files)==null?void 0:W[0];if(U)try{const R=await U.arrayBuffer(),z=XC(R,{type:"array"}),P=z.Sheets[z.SheetNames[0]],M=AVe.sheet_to_json(P);if(M.length===0){o({title:a("common.error"),description:a("surveys.fileEmpty"),variant:"destructive"});return}h(M),S(M),c("preview")}catch(R){console.error("Error parsing file:",R),o({title:a("common.error"),description:a("surveys.fileParseError"),variant:"destructive"})}},S=T=>{if(!u)return;const U=t[u.template_id]||[],W=Object.keys(T[0]||{}),R=[],z={};for(const P of U){const M=P.field_label||"",L=W.find(q=>q.toLowerCase().trim()===M.toLowerCase().trim());L?z[M]=L:P.is_required&&R.push(a("surveys.requiredFieldNotFound",{field:`"${M}"`}))}g(z),v(R)},N=()=>f.slice(0,5),C=async()=>{if(!u||!s)return;const T=t[u.template_id]||[],U=[];for(const W of T)W.is_required&&!m[W.field_label||""]&&U.push(a("surveys.requiredFieldNotMapped",{field:`"${W.field_label}"`}));if(U.length>0){v(U);return}c("importing"),b(!0);try{const W=f.length,R=[];for(let P=0;P<f.length;P++){const M=f[P],L={};for(const Z of T){const A=Z.field_label||"",B=m[A];B&&M[B]!==void 0&&M[B]!==null&&M[B]!==""&&(L[A]=M[B])}const q={template_id:u.template_id,survey_name:M.survey_name||M["Survey Name"]||`Bulk Import ${P+1}`,survey_description:M.survey_description||M["Survey Description"]||null,client_name:M.client_name||M["Client Name"]||`Client ${P+1}`,client_name_ar:M.client_name_ar||M["Client Name AR"]||null,client_contact:M.client_contact||M["Client Contact"]||null,client_email:M.client_email||M["Client Email"]||null,client_address:M.client_address||M["Client Address"]||null,client_company:M.client_company||M["Client Company"]||null,client_company_ar:M.client_company_ar||M["Client Company AR"]||null,survey_responses:L,location_latitude:parseFloat(M.location_latitude||M.Latitude||"0"),location_longitude:parseFloat(M.location_longitude||M.Longitude||"0"),location_accuracy:M.location_accuracy?parseFloat(M.location_accuracy):null,location_address:M.location_address||M["Location Address"]||null,created_by:s.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:M.notes||null,notes_ar:M.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};R.push(q),j(Math.round((P+1)/W*50))}j(50);const z=await Jf.createBatch(R);j(100),o({title:a("common.success"),description:a("surveys.importSuccess",{count:z.length})}),r(z),k()}catch(W){console.error("Error importing surveys:",W),o({title:a("common.error"),description:W.message||a("surveys.importFailed"),variant:"destructive"}),c("preview")}finally{b(!1)}},k=()=>{c("template"),d(null),h([]),g({}),v([]),j(0),n()};return i.jsxs(i.Fragment,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:a("surveys.bulkImport")}),i.jsxs(Da,{children:[l==="template"&&a("surveys.selectTemplateForImport"),l==="upload"&&a("surveys.uploadFile"),l==="preview"&&a("surveys.reviewData"),l==="importing"&&a("surveys.importingData")]})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[l==="template"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx(ze,{className:"text-base font-medium",children:a("surveys.selectTemplate")}),i.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(T=>T.is_active).map(T=>i.jsx(st,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(u==null?void 0:u.template_id)===T.template_id?"ring-2 ring-primary":""}`,onClick:()=>d(T),children:i.jsxs(xt,{className:"p-4",children:[i.jsx("h4",{className:"font-medium text-sm",children:T.template_name}),T.template_description&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.template_description}),T.category&&i.jsx(pt,{variant:"outline",className:"mt-2 text-xs",children:T.category})]})},T.template_id||`template-${Math.random()}`))})]}),l==="upload"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Rw,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[i.jsx("p",{className:"font-medium mb-1",children:a("surveys.importInstructions")}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[i.jsx("li",{children:a("surveys.importInstruction1")}),i.jsx("li",{children:a("surveys.importInstruction2")}),i.jsx("li",{children:a("surveys.importInstruction3")})]})]})]})}),i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[i.jsx(Cg,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),i.jsx(ze,{className:"block text-sm font-medium mb-2",children:a("surveys.dragDropFile")}),i.jsx(Ue,{type:"file",accept:".xlsx,.xls,.csv",onChange:_,className:"hidden",id:"file-upload"}),i.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:i.jsx(de,{variant:"outline",asChild:!0,children:i.jsx("span",{children:a("surveys.selectFile")})})})]})]}),l==="preview"&&i.jsxs("div",{className:"space-y-4",children:[p.length>0&&i.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(W2,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[i.jsx("p",{className:"font-medium mb-2",children:a("surveys.validationErrors")}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:p.map((T,U)=>i.jsx("li",{children:T},U))})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-sm",children:a("surveys.columnMapping")}),i.jsxs(pt,{variant:"secondary",children:[Object.keys(m).length," / ",u&&((E=t[u.template_id])==null?void 0:E.length)||0]})]}),i.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:u?(O=t[u.template_id])==null?void 0:O.map(T=>i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:T.field_label}),T.is_required&&i.jsx(pt,{variant:"destructive",className:"text-xs mt-1",children:a("surveys.required")})]}),m[T.field_label||""]?i.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[i.jsx(Yl,{className:"h-4 w-4"}),i.jsx("span",{className:"text-xs font-medium",children:m[T.field_label||""]})]}):i.jsx("div",{className:"text-xs text-muted-foreground",children:T.is_required?i.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:a("surveys.notMapped")}):i.jsx("span",{children:a("surveys.optional")})})]},T.field_id)):i.jsx("div",{className:"text-center text-muted-foreground py-4",children:a("surveys.noTemplateSelected")})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-sm",children:a("surveys.previewFirstRows",{count:5})}),i.jsx("div",{className:"border rounded-lg",children:i.jsxs("table",{className:"w-full text-sm table-auto",children:[i.jsx("thead",{className:"bg-muted border-b",children:i.jsx("tr",{children:Object.keys(N()[0]||{}).map(T=>i.jsx("th",{className:"px-3 py-2 text-start font-medium text-xs",children:T},T))})}),i.jsx("tbody",{children:N().map((T,U)=>i.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.entries(T).map(([W,R],z)=>i.jsx("td",{className:"px-3 py-2 text-xs break-words max-w-xs",children:typeof R=="boolean"?W.toLowerCase().includes("is_default")?R?i.jsx(Yl,{className:"h-4 w-4 text-green-600"}):i.jsx("span",{className:"text-transparent",children:"-"}):R?i.jsx(Yl,{className:"h-4 w-4 text-green-600"}):i.jsx(sae,{className:"h-4 w-4 text-gray-400"}):String(R||"")},z))},U))})]})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:a("surveys.showingRows",{shown:Math.min(5,f.length),total:f.length})})]})]}),l==="importing"&&i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx(wT,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),i.jsx("p",{className:"font-medium mb-2",children:a("surveys.importingData")}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[a("surveys.processingRows",{progress:w}),"%"]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${w}%`}})})]})})})]}),i.jsxs(Oa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(de,{variant:"outline",onClick:k,disabled:y,className:"w-full sm:w-auto",children:a("buttons.cancel")}),l==="template"&&i.jsx(de,{onClick:()=>c("upload"),disabled:!u,className:"w-full sm:w-auto",children:a("common.next")}),l==="upload"&&i.jsx(de,{onClick:()=>c("template"),variant:"outline",className:"w-full sm:w-auto",children:a("common.back")}),l==="preview"&&i.jsxs(i.Fragment,{children:[i.jsx(de,{onClick:()=>c("upload"),variant:"outline",className:"w-full sm:w-auto",children:a("common.back")}),i.jsx(de,{onClick:C,disabled:p.length>0||y,className:"w-full sm:w-auto",children:a("surveys.startImport")})]})]})]})}function DVe(){var Se,Ae,Ve,Ge;const{user:e}=hr(),{currentLanguage:t,isRTL:r}=ir();Ur();const{t:n}=At(),{toast:a}=Li(),{canView:s,canEdit:o,canDelete:l,canViewAllData:c,canViewOwnData:u,canViewTeamData:d,hasPermission:f}=P1(),[h,m]=x.useState([]),[g,p]=x.useState([]),[v,y]=x.useState({}),[b,w]=x.useState(!0),[j,_]=x.useState(""),[S,N]=x.useState(null),[C,k]=x.useState(null),[E,O]=x.useState([]);x.useState(!1);const[T,U]=x.useState(!1),[W,R]=x.useState(null),[z,P]=x.useState({}),[M,L]=x.useState({}),[q,Z]=x.useState([]),[A,B]=x.useState(!1),[H,V]=x.useState(null),[te,le]=x.useState(null),[xe,ie]=x.useState(null),[G,Q]=x.useState("list"),[D,ce]=x.useState("list"),[je,be]=x.useState(1),[Pe,De]=x.useState(1),[Le,et]=x.useState(10),[se,ge]=x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});x.useEffect(()=>{be(1),De(1)},[j]);const[re,ae]=x.useState([]);x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[fe,Ee]=x.useState({}),[Re,Je]=x.useState(!1),[Xe,_t]=x.useState(!1),[_e,$e]=x.useState(new Set);x.useState(!1),x.useEffect(()=>{Be()},[]),x.useEffect(()=>{be(1)},[j,G]);const Be=async()=>{try{w(!0);const[ee,me,Te]=await Promise.all([Jf.getAll().catch(tt=>(console.error("[Surveys] Error fetching surveys:",tt),[])),Gi.getAll().catch(tt=>(console.error("[Surveys] Error fetching templates:",tt),[])),yn.getAll().catch(tt=>(console.error("[Surveys] Error fetching users:",tt),[]))]),pe=me.map(tt=>Gi.getFields(tt.template_id).catch(rt=>(console.error(`[Surveys] Error fetching fields for template ${tt.template_id}:`,rt),[]))),lt=await Promise.all(pe),at={};me.forEach((tt,rt)=>{at[tt.template_id]=lt[rt]||[]}),y(at),console.log(`[Surveys] Loaded template fields for ${Object.keys(at).length} templates`);const qt=ee.map(tt=>{try{let rt=tt.survey_responses;return typeof tt.survey_responses=="string"&&(rt=JSON.parse(tt.survey_responses)),{...tt,survey_responses:rt}}catch(rt){return console.error(`[Surveys] Error parsing survey_responses for survey ${tt.survey_id}:`,rt),tt}});m(qt),p(me),Z(Te),y(at)}catch(ee){console.error("Failed to load surveys data:",ee)}finally{w(!1)}},He=h.filter(ee=>j?ee.client_name&&ee.client_name.toLowerCase().includes(j.toLowerCase())||ee.client_company&&ee.client_company.toLowerCase().includes(j.toLowerCase())||ee.survey_name&&ee.survey_name.toLowerCase().includes(j.toLowerCase()):!0),wt=Math.ceil(He.length/Le),Wt=(je-1)*Le,Bt=Wt+Le,mr=He.slice(Wt,Bt),lr=g.filter(ee=>{if(!j)return!0;const me=Oe(ee,"template_name");return me&&me.toLowerCase().includes(j.toLowerCase())||ee.category&&ee.category.toLowerCase().includes(j.toLowerCase())}),zr=Math.ceil(lr.length/Le),sa=(Pe-1)*Le,Gn=sa+Le,Fn=lr.slice(sa,Gn),Ia=ee=>{if(!ee)return n("surveys.unknownCreator");const me=q.find(Te=>{var pe,lt;return((pe=Te.userid)==null?void 0:pe.toString())===ee||((lt=Te.user_id)==null?void 0:lt.toString())===ee});return me?Oe(me,"user_name"):n("surveys.unknownCreator")},Ls=ee=>{switch(ee.toLowerCase()){case"completed":return i.jsxs(pt,{variant:"default",className:"bg-green-500",children:[i.jsx(Yl,{className:"h-3 w-3 me-1"}),n("surveys.completed")]});case"in_progress":return i.jsxs(pt,{variant:"secondary",children:[i.jsx(Yd,{className:"h-3 w-3 me-1"}),n("surveys.inProgress")]});case"pending":return i.jsxs(pt,{variant:"outline",children:[i.jsx(Yd,{className:"h-3 w-3 me-1"}),n("surveys.pending")]});default:return i.jsx(pt,{variant:"outline",children:ee})}},Po=ee=>{const me=ee.filter(Te=>Te.survey_id);me.length!==ee.length&&console.warn("[Surveys] Some imported surveys are missing IDs and will be skipped"),m([...me,...h])},$s=async ee=>{k(ee);const me=v[ee.template_id]||[];O(me)},Oo=()=>{const ee={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};ae(me=>[...me,ee])},gs=ee=>{ae(me=>me.filter((Te,pe)=>pe!==ee))},Bs=(ee,me)=>{ae(Te=>Te.map((pe,lt)=>lt===ee?{...pe,...me}:pe))},Us=(ee,me)=>{ae(Te=>{const pe=[...Te],[lt]=pe.splice(ee,1);return pe.splice(me,0,lt),pe})},ui=()=>{ge({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),ae([]),V(null)},wn=async ee=>{ge({template_name:ee.template_name||"",template_name_ar:ee.template_name_ar||"",template_description:ee.template_description||"",template_description_ar:ee.template_description_ar||"",category:ee.category||"",is_active:ee.is_active,is_default:ee.is_default||!1});const Te=(v[ee.template_id]||[]).map(pe=>({field_type:pe.field_type,field_label:pe.field_label||"",field_label_ar:pe.field_label_ar||"",help_text:pe.help_text||"",help_text_ar:pe.help_text_ar||"",is_required:pe.is_required||!1,field_options:pe.field_options,validation_rules:pe.validation_rules,default_value:pe.default_value,conditional_logic:pe.conditional_logic,image_path:pe.image_path}));ae(Te),V(ee.template_id),B(!0)},di=()=>{const ee={};return se.template_name.trim()||(ee.template_name=n("surveys.templateNameRequired")),re.length===0?ee.fields=n("surveys.atLeastOneFieldRequired"):re.forEach((me,Te)=>{me.field_label.trim()||(ee[`field_${Te}`]=n("surveys.fieldLabelRequired",{number:Te+1}))}),Ee(ee),Object.keys(ee).length===0},Cl=async()=>{if(!di()){a({title:n("common.error"),description:n("surveys.templateValidationFailed"),variant:"destructive"});return}Je(!0);try{if(H){await Gi.update(H,se);const ee=v[H]||[];for(const me of ee)me.field_id&&await Gi.deleteField(me.field_id);for(let me=0;me<re.length;me++){const Te=re[me];await Gi.createField({template_id:H,field_order:me+1,field_type:Te.field_type,field_label:Te.field_label,field_label_ar:Te.field_label_ar||"",help_text:Te.help_text||null,help_text_ar:Te.help_text_ar||null,is_required:Te.is_required,field_options:Te.field_options,validation_rules:Te.validation_rules,default_value:Te.default_value||null,conditional_logic:Te.conditional_logic,image_path:Te.image_path||null})}a({title:n("common.success"),description:n("surveys.templateUpdated")})}else{const ee={...se,created_by:e==null?void 0:e.id},me=await Gi.create(ee);for(let Te=0;Te<re.length;Te++){const pe=re[Te];await Gi.createField({template_id:me.template_id,field_order:Te+1,field_type:pe.field_type,field_label:pe.field_label,field_label_ar:pe.field_label_ar||"",help_text:pe.help_text||null,help_text_ar:pe.help_text_ar||null,is_required:pe.is_required,field_options:pe.field_options,validation_rules:pe.validation_rules,default_value:pe.default_value||null,conditional_logic:pe.conditional_logic,image_path:pe.image_path||null})}a({title:n("common.success"),description:n("surveys.templateCreated")})}ui(),B(!1),Be()}catch(ee){console.error("Failed to save template:",ee),a({title:n("common.error"),description:n("surveys.templateSaveError",{action:n(H?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{Je(!1)}},Sc=async ee=>{R(ee);const me=v[ee.template_id]||[],Te={};me.forEach(pe=>{pe.default_value!==null&&pe.default_value!==void 0&&(Te[pe.field_id.toString()]=pe.default_value)}),P(Te),R(ee)},K=async ee=>{try{await Gi.delete(ee),p(me=>me.filter(Te=>Te.template_id!==ee)),le(null),y(me=>{const Te={...me};return delete Te[ee],Te})}catch(me){console.error("Failed to delete template:",me),alert("Failed to delete template. Please try again.")}},oe=async ee=>{try{await Jf.delete(ee),m(me=>me.filter(Te=>Te.survey_id!==ee)),ie(null)}catch(me){console.error("Failed to delete survey:",me),alert("Failed to delete survey. Please try again.")}},J=async ee=>{try{const me=g.filter(Te=>Te.is_default&&Te.template_id!==ee);for(const Te of me)await Gi.update(Te.template_id,{is_default:!1});await Gi.update(ee,{is_default:!0}),p(Te=>Te.map(pe=>({...pe,is_default:pe.template_id===ee}))),a({title:n("common.success"),description:n("surveys.templateSetAsDefault")})}catch(me){console.error("Failed to set default template:",me),a({title:n("common.error"),description:n("surveys.templateSetDefaultError"),variant:"destructive"})}},ne=()=>new Promise((ee,me)=>{if(!navigator.geolocation){me(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(Te=>{ee({latitude:Te.coords.latitude,longitude:Te.coords.longitude,accuracy:Te.coords.accuracy})},Te=>{me(Te)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),F=async()=>{if(!(!W||!e))try{let ee={latitude:0,longitude:0,accuracy:0};try{ee=await ne()}catch(ia){console.warn("Could not get location:",ia)}const me=v[W.template_id]||[],Te=new Map(me.map(ia=>[ia.field_id.toString(),ia.field_label])),pe={};for(const[ia,Wi]of Object.entries(z)){const El=Te.get(ia)||ia;pe[El]=Wi}const lt=pe["Customer Name"]||pe["Client Name"]||pe.client_name||pe.customer_name||"Anonymous",at=pe["Customer Company"]||pe["Client Company"]||pe.Company||pe.company||pe.client_company||null,qt=pe["Contact Number"]||pe["Contact Email"]||pe.Contact||pe.contact||pe.phone||null,tt=pe["Contact Email"]||pe.Email||pe.email||pe.client_email||null,rt=pe.Address||pe.address||pe.client_address||null,br=pe["Additional Notes"]||pe.Notes||pe.notes||null,en={},zs=Object.keys(M);for(const[ia,Wi]of Object.entries(z))zs.includes(ia)||(en[ia]=Array.isArray(Wi)?Wi.join(", "):Wi);const _n={template_id:W.template_id,survey_name:`${Oe(W,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:Oe(W,"template_description")||null,client_name:lt,client_name_ar:null,client_contact:qt,client_email:tt,client_address:rt,client_company:at,client_company_ar:null,survey_responses:en,location_latitude:ee.latitude,location_longitude:ee.longitude,location_accuracy:ee.accuracy,location_address:rt,status:"collected",created_by:e.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:br,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null},Df=await Jf.create(_n);if(Object.keys(M).length>0){const ia={...en};for(const[El,Rf]of Object.entries(M)){const Nc=await new Promise((wx,_x)=>{const Yu=new FileReader;Yu.onload=()=>{const Mp=Yu.result,pj=Mp.split(",")[1];wx(Mp)},Yu.onerror=_x,Yu.readAsDataURL(Rf)});ia[El]=Nc}const Wi=Object.entries(ia).reduce((El,[Rf,Nc])=>(El[Rf]=Array.isArray(Nc)?Nc.join(", "):Nc,El),{});await Jf.update(Df.survey_id,{survey_responses:Wi}),Df.survey_responses=Wi}m([Df,...h]),R(null),P({}),L({}),U(!1)}catch(ee){console.error("[Survey] Failed to create survey:",ee),alert(`Failed to create survey: ${ee.message}`)}},Y=ee=>ee.is_required===1||ee.is_required===!0,he=ee=>{const me=ee.field_id.toString(),Te=z[me]||"";switch(ee.field_type.toLowerCase()){case"text":return i.jsx(Ue,{id:me,value:Te,onChange:tt=>P(rt=>({...rt,[me]:tt.target.value})),placeholder:Oe(ee,"help_text")||ee.field_label,required:ee.is_required});case"textarea":return i.jsx(Dn,{id:me,value:Te,onChange:tt=>P(rt=>({...rt,[me]:tt.target.value})),placeholder:Oe(ee,"help_text")||ee.field_label,required:ee.is_required,rows:3});case"number":return i.jsx(Ue,{id:me,type:"number",value:Te,onChange:tt=>P(rt=>({...rt,[me]:tt.target.value})),placeholder:Oe(ee,"help_text")||ee.field_label,required:ee.is_required});case"email":return i.jsx(Ue,{id:me,type:"email",value:Te,onChange:tt=>P(rt=>({...rt,[me]:tt.target.value})),placeholder:Oe(ee,"help_text")||ee.field_label,required:ee.is_required});case"date":return i.jsx(Ue,{id:me,type:"date",value:Te,onChange:tt=>P(rt=>({...rt,[me]:tt.target.value})),required:ee.is_required});case"select":let pe=ee.field_options;if(typeof pe=="string")try{pe=JSON.parse(pe)}catch(tt){console.error("Failed to parse field_options:",tt),pe=null}if(pe&&typeof pe=="object"&&!Array.isArray(pe)&&"options"in pe&&Array.isArray(pe.options)){const tt=pe.options.filter(rt=>typeof rt=="string");return i.jsxs(ft,{value:Te,onValueChange:rt=>P(br=>({...br,[me]:rt})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:Oe(ee,"help_text")||`${n("common.select")} ${Oe(ee,"field_label")}`})}),i.jsx(dt,{children:tt.map((rt,br)=>i.jsx(ke,{value:rt,children:rt},br))})]})}return i.jsx(Ue,{id:me,value:Te,onChange:tt=>P(rt=>({...rt,[me]:tt.target.value})),placeholder:Oe(ee,"help_text")||ee.field_label,required:ee.is_required});case"radio":let lt=ee.field_options;if(typeof lt=="string")try{lt=JSON.parse(lt)}catch(tt){console.error("Failed to parse field_options:",tt),lt=null}if(lt&&typeof lt=="object"&&!Array.isArray(lt)&&"options"in lt&&Array.isArray(lt.options)){const tt=lt.options.filter(rt=>typeof rt=="string");return i.jsx("div",{className:"space-y-2",children:tt.map((rt,br)=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:me,value:rt,checked:Te===rt,onChange:en=>P(zs=>({...zs,[me]:en.target.value}))}),i.jsx("span",{className:"text-sm",children:rt})]},br))})}return i.jsx(Ue,{id:me,value:Te,onChange:tt=>P(rt=>({...rt,[me]:tt.target.value})),placeholder:Oe(ee,"help_text")||ee.field_label,required:ee.is_required});case"multiselect":case"checkbox":let at=ee.field_options;if(typeof at=="string")try{at=JSON.parse(at)}catch(tt){console.error("Failed to parse field_options:",tt),at=null}if(at&&typeof at=="object"&&!Array.isArray(at)&&"options"in at&&Array.isArray(at.options)){const tt=at.options.filter(rt=>typeof rt=="string");return i.jsx("div",{className:"space-y-2",children:tt.map((rt,br)=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:Array.isArray(Te)?Te.includes(rt):!1,onChange:en=>{const zs=Array.isArray(Te)?Te:[];en.target.checked?P(_n=>({..._n,[me]:[...zs,rt]})):P(_n=>({..._n,[me]:zs.filter(Df=>Df!==rt)}))}}),i.jsx("span",{className:"text-sm",children:rt})]},br))})}return i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:!!Te,onChange:tt=>P(rt=>({...rt,[me]:tt.target.checked}))}),i.jsx("span",{className:"text-sm",children:Oe(ee,"field_label")})]});case"image":const qt=z[me];return i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{id:me,type:"file",accept:"image/*",onChange:tt=>{var br;const rt=(br=tt.target.files)==null?void 0:br[0];rt&&(L(en=>({...en,[me]:rt})),P(en=>({...en,[me]:{preview:URL.createObjectURL(rt),filename:rt.name}})))},required:ee.is_required}),(qt==null?void 0:qt.preview)&&i.jsxs("div",{className:"relative w-full",children:[i.jsx("img",{src:qt.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),i.jsx(de,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 inset-inline-end-2",onClick:()=>{L(tt=>{const rt={...tt};return delete rt[me],rt}),P(tt=>{const rt={...tt};return delete rt[me],rt})},children:i.jsx(Zt,{className:"h-4 w-4"})})]})]});default:return i.jsx(Ue,{id:me,value:Te,onChange:tt=>P(rt=>({...rt,[me]:tt.target.value})),placeholder:Oe(ee,"help_text")||ee.field_label,required:ee.is_required})}},Ne=()=>{const ee=[{key:"survey",header:n("surveys.surveyName"),render:pe=>i.jsx(pc,{title:pe.survey_name||`${n("surveys.survey")} #${pe.survey_id||"Unknown"}`,subtitle:Oe(pe,"client_name")})},{key:"creator",header:n("surveys.createdBy"),render:pe=>i.jsx(Hm,{name:pe.created_by_name||Ia(pe.created_by),fallback:n("surveys.unknownCreator")})}],me=[{label:n("common.view"),icon:i.jsx(ei,{className:"h-4 w-4"}),onClick:pe=>N(pe)},{label:n("buttons.delete"),icon:i.jsx(Zt,{className:"h-4 w-4"}),onClick:pe=>ie(pe.survey_id),variant:"destructive",show:()=>f("surveys_DELETE")}],Te=[{label:n("buttons.delete"),icon:i.jsx(Zt,{className:"h-4 w-4"}),onClick:async pe=>{if(pe.length===0)return;if(window.confirm(n("surveys.confirmBulkDeleteDesc",{count:pe.length})))try{const at=pe.map(qt=>Jf.delete(qt.survey_id));await Promise.all(at),m(qt=>qt.filter(tt=>!pe.find(rt=>rt.survey_id===tt.survey_id))),$e(new Set),a({title:n("common.success"),description:n("surveys.bulkDeleteSuccess",{count:pe.length})})}catch(at){console.error("Failed to bulk delete surveys:",at),a({title:n("common.error"),description:n("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}].filter(pe=>f("surveys_DELETE"));return i.jsx(mc,{data:mr,columns:ee,actions:me,bulkActions:Te,keyExtractor:pe=>{var lt;return((lt=pe.survey_id)==null?void 0:lt.toString())||`survey-${Math.random()}`},onRowClick:pe=>N(pe),enableBulkSelect:!0,rowHeight:"h-26",rtl:r,emptyState:i.jsx(vo,{icon:i.jsx(ya,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("surveys.noSurveysFound"),description:n(j?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},ye=()=>{const ee=[{key:"template",header:n("surveys.templateName"),render:pe=>i.jsx(pc,{title:Oe(pe,"template_name"),subtitle:Oe(pe,"template_description")})},{key:"category",header:n("surveys.category"),render:pe=>pe.category||n("surveys.noCategory")},{key:"status",header:n("surveys.status"),render:pe=>i.jsxs("div",{className:"flex items-center gap-2",children:[pe.is_active?i.jsx(pt,{variant:"default",className:"bg-green-500",children:n("surveys.active")}):i.jsx(pt,{variant:"secondary",children:n("surveys.inactive")}),pe.is_default&&i.jsx(pt,{variant:"default",children:n("surveys.default")})]})},{key:"created",header:n("surveys.createdDate"),hideOnMobile:!0,render:pe=>i.jsx(kf,{date:pe.created_at,fallback:n("leads.notSet")})}],me=[{label:n("common.view"),icon:i.jsx(ei,{className:"h-4 w-4"}),onClick:pe=>$s(pe)},{label:n("surveys.setAsDefault"),icon:i.jsx(Yl,{className:"h-4 w-4"}),onClick:pe=>J(pe.template_id),show:pe=>!pe.is_default},{label:n("buttons.edit"),icon:i.jsx(z2,{className:"h-4 w-4"}),onClick:pe=>wn(pe),show:()=>f("survey_templates_UPDATE")},{label:n("buttons.delete"),icon:i.jsx(Zt,{className:"h-4 w-4"}),onClick:pe=>le(pe.template_id),variant:"destructive",show:()=>f("survey_templates_DELETE")}],Te=[{label:n("buttons.delete"),icon:i.jsx(Zt,{className:"h-4 w-4"}),onClick:async pe=>{if(window.confirm(n("surveys.bulkDeleteConfirm",{count:pe.length})))try{await Promise.all(pe.map(lt=>Gi.delete(lt.template_id))),await Be(),a({title:n("common.success"),description:n("surveys.bulkDeleteSuccess",{count:pe.length})})}catch(lt){console.error("Failed to bulk delete templates:",lt),a({title:n("common.error"),description:n("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}].filter(pe=>f("survey_templates_DELETE"));return i.jsx(mc,{data:Fn,columns:ee,actions:me,bulkActions:Te,keyExtractor:pe=>{var lt;return((lt=pe.template_id)==null?void 0:lt.toString())||`template-${Math.random()}`},onRowClick:pe=>$s(pe),enableBulkSelect:!0,rtl:r,emptyState:i.jsx(vo,{icon:i.jsx(ya,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("surveys.noTemplatesFound"),description:n(j?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return b?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"h-full flex flex-col overflow-hidden pb-4",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:"w-full flex-1 flex flex-col min-h-0 px-6",dir:r?"rtl":"ltr",children:i.jsxs(Co,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs(Fi,{className:"grid w-full grid-cols-2",children:[i.jsxs(Er,{value:"surveys",children:[n("surveys.surveys")," (",He.length,")"]}),i.jsxs(Er,{value:"templates",children:[n("surveys.templates")," (",lr.length,")"]})]}),i.jsxs(Jr,{value:"surveys",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"relative",children:[i.jsx(hs,{className:"absolute inset-inline-start-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ue,{placeholder:n("surveys.searchPlaceholder"),value:j,onChange:ee=>_(ee.target.value),className:"ps-10 pe-3"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(de,{variant:G==="list"?"default":"ghost",size:"sm",onClick:()=>Q("list"),className:"h-8 w-8 p-0",children:i.jsx(hm,{className:"h-4 w-4"})}),i.jsx(de,{variant:G==="card"?"default":"ghost",size:"sm",onClick:()=>Q("card"),className:"h-8 w-8 p-0",children:i.jsx(ya,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",dir:r?"rtl":"ltr",children:[i.jsxs(vn,{open:T,onOpenChange:U,children:[i.jsx(B1,{asChild:!0,children:i.jsxs(de,{size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[i.jsx(Ut,{className:"h-4 w-4 me-2"}),n("surveys.newSurvey")]})}),i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(sn,{children:i.jsx(on,{children:n("surveys.createNewSurvey")})}),i.jsx("div",{className:"space-y-6 py-4",children:W?i.jsxs("div",{className:"space-y-6",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:Oe(W,"template_name")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:n("surveys.fillSurveyDetails")})]}),i.jsx(de,{variant:"outline",size:"sm",onClick:()=>{R(null),P({})},children:n("surveys.changeTemplate")})]}),i.jsx("div",{className:"space-y-4",dir:r?"rtl":"ltr",children:(Se=v[W.template_id])==null?void 0:Se.map(ee=>i.jsxs("div",{className:"space-y-2",dir:r?"rtl":"ltr",children:[i.jsxs(ze,{className:"text-sm font-medium mb-1.5 block",children:[Oe(ee,"field_label"),Y(ee)&&i.jsx("span",{className:"text-red-500 ms-1",children:"*"})]}),he(ee),Oe(ee,"help_text")&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Oe(ee,"help_text")})]},ee.field_id))}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",dir:r?"rtl":"ltr",children:[i.jsx(mm,{className:"h-4 w-4"}),i.jsx("span",{children:n("surveys.locationWillBeCaptured")})]})})]}):i.jsxs("div",{children:[i.jsx(ze,{className:"text-base font-medium mb-4 block",children:n("surveys.selectTemplate")}),i.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:g.filter(ee=>ee.is_active).map(ee=>i.jsx(st,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(W==null?void 0:W.template_id)===ee.template_id?"ring-2 ring-primary":""}`,onClick:()=>Sc(ee),children:i.jsx(xt,{className:"p-4",dir:r?"rtl":"ltr",children:i.jsx("div",{className:"flex items-start gap-3",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-medium text-sm truncate",children:Oe(ee,"template_name")}),ee.category&&i.jsx(pt,{variant:"outline",className:"mt-1 text-xs",children:ee.category}),Oe(ee,"template_description")&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:Oe(ee,"template_description")})]})})})},ee.template_id||`template-${Math.random()}`))})]})}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",dir:r?"rtl":"ltr",children:[i.jsx(de,{variant:"outline",onClick:()=>{U(!1),R(null),P({})},className:"w-full sm:w-auto",children:n("buttons.cancel")}),W&&i.jsx(de,{onClick:F,disabled:!W,className:"w-full sm:w-auto",children:n("surveys.submitSurvey")})]})]})]}),i.jsxs(vn,{open:Xe,onOpenChange:_t,children:[i.jsx(B1,{asChild:!0,children:i.jsxs(de,{variant:"outline",size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all border-primary/20 hover:bg-primary/5 px-4 h-9",children:[i.jsx(Cg,{className:"h-4 w-4 me-2 text-primary"}),n("surveys.bulkImport")]})}),i.jsx(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:i.jsx(OVe,{templates:g,templateFields:v,onImportComplete:Po,onClose:()=>_t(!1)})})]})]})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:mr.length===0?i.jsx(st,{children:i.jsxs(xt,{className:"text-center py-12",children:[i.jsx(ya,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("surveys.noSurveysFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(j?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):G==="card"?i.jsx(gL,{data:mr,keyExtractor:ee=>ee.survey_id||`survey-${Math.random()}`,columns:[{key:"title",render:ee=>i.jsxs("div",{children:[i.jsx(vL,{children:ee.survey_name||`${n("surveys.survey")} #${ee.survey_id||"Unknown"}`}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Oe(ee,"client_name")})]})},{key:"status",render:ee=>Ls(ee.status)},{key:"details",render:ee=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(zn,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:ee.client_company||n("surveys.noCompany")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(mm,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:ee.location_address||(ee.location_latitude&&ee.location_longitude?`${ee.location_latitude.toFixed(4)}, ${ee.location_longitude.toFixed(4)}`:n("surveys.noLocation"))})]})]})},{key:"footer",render:ee=>i.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(On,{className:"h-4 w-4"}),i.jsxs("span",{children:[n("surveys.createdBy"),": ",Ia(ee.created_by)]})]}),i.jsx(xL,{date:ee.created_at})]})}],actions:[{key:"view",icon:i.jsx(ei,{className:"h-4 w-4"}),onClick:ee=>N(ee),title:n("common.view"),className:"text-muted-foreground hover:text-primary hover:bg-primary/5"},{key:"delete",icon:i.jsx(Zt,{className:"h-4 w-4"}),onClick:ee=>ie(ee.survey_id),title:n("buttons.delete"),className:"text-red-500 hover:text-red-700 hover:bg-red-50",condition:ee=>l("surveys")}],emptyState:{title:n(j?"surveys.noSurveysFound":"surveys.noSurveys"),description:n(j?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet"),icon:i.jsx(ya,{className:"h-12 w-12 text-muted-foreground"})},onCardClick:ee=>N(ee)}):i.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:Ne()})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:wt>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Km,{children:i.jsxs(Ym,{className:r?"flex-row-reverse":"",children:[i.jsx(Sa,{children:r?i.jsx(ou,{onClick:()=>be(Math.min(wt,je+1)),className:je===wt?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")}):i.jsx(iu,{onClick:()=>be(Math.max(1,je-1)),className:je===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[n("common.page")," ",je," ",n("common.of")," ",wt]})}),i.jsx(Sa,{children:r?i.jsx(iu,{onClick:()=>be(Math.max(1,je-1)),className:je===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")}):i.jsx(ou,{onClick:()=>be(Math.min(wt,je+1)),className:je===wt?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")})})]})})})})]}),i.jsxs(Jr,{value:"templates",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(de,{variant:D==="list"?"default":"ghost",size:"sm",onClick:()=>ce("list"),className:"h-8 w-8 p-0",children:i.jsx(hm,{className:"h-4 w-4"})}),i.jsx(de,{variant:D==="card"?"default":"ghost",size:"sm",onClick:()=>ce("card"),className:"h-8 w-8 p-0",children:i.jsx(ya,{className:"h-4 w-4"})})]}),i.jsx(PVe,{permission:"survey_templates_INSERT",children:i.jsxs(de,{onClick:()=>{ui(),B(!0)},size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[i.jsx(Ut,{className:"h-4 w-4 me-2"}),n("surveys.createTemplate")]})})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:lr.length===0?i.jsx(st,{className:"border-dashed",children:i.jsxs(xt,{className:"text-center py-16",children:[i.jsx("div",{className:"bg-muted/50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(ya,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("surveys.noTemplatesFound")}),i.jsx("p",{className:"text-muted-foreground max-w-sm mx-auto",children:n(j?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):D==="card"?i.jsx(gL,{data:Fn,keyExtractor:ee=>ee.template_id||`template-${Math.random()}`,columns:[{key:"title",render:ee=>i.jsx(vL,{children:Oe(ee,"template_name")})},{key:"badges",render:ee=>i.jsxs("div",{className:"flex flex-wrap gap-2",children:[ee.category&&i.jsx(cN,{variant:"secondary",className:"bg-muted/50",children:ee.category}),ee.is_default&&i.jsx(cN,{variant:"default",className:"bg-green-500 hover:bg-green-600",children:n("surveys.default")}),i.jsx(cN,{variant:ee.is_active?"outline":"secondary",children:ee.is_active?n("surveys.active"):n("surveys.inactive")})]})},{key:"description",render:ee=>i.jsx(E5e,{children:Oe(ee,"template_description")})},{key:"date",render:ee=>i.jsx(xL,{date:ee.created_at})}],actions:[{key:"view",icon:i.jsx(ei,{className:"h-4 w-4"}),onClick:ee=>$s(ee),title:n("common.view"),className:"text-muted-foreground hover:text-primary hover:bg-primary/5"},{key:"setDefault",icon:i.jsx(Yl,{className:"h-4 w-4"}),onClick:ee=>J(ee.template_id),title:n("surveys.setAsDefault"),className:"text-green-500 hover:bg-green-50",condition:ee=>!ee.is_default},{key:"edit",icon:i.jsx(z2,{className:"h-4 w-4"}),onClick:ee=>wn(ee),title:n("buttons.edit"),className:"text-blue-500 hover:bg-blue-50",condition:ee=>o("survey_templates")},{key:"delete",icon:i.jsx(Zt,{className:"h-4 w-4"}),onClick:ee=>le(ee.template_id),title:n("buttons.delete"),className:"text-red-500 hover:bg-red-50",condition:ee=>l("survey_templates")}],emptyState:{title:n(j?"surveys.noTemplatesFound":"surveys.noTemplates"),description:n(j?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet"),icon:i.jsx(ya,{className:"h-12 w-12 text-muted-foreground"})},onCardClick:ee=>$s(ee)}):i.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:ye()})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:zr>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Km,{children:i.jsxs(Ym,{className:r?"flex-row-reverse":"",children:[i.jsx(Sa,{children:r?i.jsx(ou,{onClick:()=>De(Math.min(zr,Pe+1)),className:Pe===zr?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")}):i.jsx(iu,{onClick:()=>De(Math.max(1,Pe-1)),className:Pe===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[n("common.page")," ",Pe," ",n("common.of")," ",zr]})}),i.jsx(Sa,{children:r?i.jsx(iu,{onClick:()=>De(Math.max(1,Pe-1)),className:Pe===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")}):i.jsx(ou,{onClick:()=>De(Math.min(zr,Pe+1)),className:Pe===zr?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")})})]})})})})]})]})}),i.jsx(vn,{open:!!S,onOpenChange:ee=>!ee&&N(null),children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(sn,{children:i.jsx(on,{children:(S==null?void 0:S.survey_name)||`${n("surveys.survey")} #${S==null?void 0:S.survey_id}`})}),S&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.clientName")}),i.jsx("p",{className:"text-sm",children:Oe(S,"client_name")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.clientCompany")}),i.jsx("p",{className:"text-sm",children:S.client_company||n("surveys.noCompany")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.contact")}),i.jsx("p",{className:"text-sm",children:S.client_contact||n("surveys.noContact")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.email")}),i.jsx("p",{className:"text-sm",children:S.client_email||n("surveys.noEmail")})]})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.location")}),i.jsx("p",{className:"text-sm",children:i.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${S.location_latitude},${S.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:S.location_address||`${(Ae=S.location_latitude)==null?void 0:Ae.toFixed(6)}, ${(Ve=S.location_longitude)==null?void 0:Ve.toFixed(6)}`})})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.responses")}),i.jsx("div",{className:"mt-2 space-y-2",children:S.survey_responses&&Object.keys(S.survey_responses).length>0?(()=>{const ee=v[S.template_id]||[],me=new Map(ee.map(Te=>[Te.field_id.toString(),Te.field_label]));return Object.entries(S.survey_responses).map(([Te,pe])=>{const lt=me.get(Te)||Te,at=typeof pe=="string"&&pe.startsWith("data:image/");return i.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[i.jsxs("div",{className:"font-medium text-sm text-primary",children:[lt,":"]}),at?i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:pe,alt:lt,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):i.jsx("div",{className:"text-sm text-muted-foreground break-words",children:(()=>{if(pe==null)return"N/A";if(Array.isArray(pe))return pe.join(", ");if(typeof pe=="object"){if("bucket"in pe&&"path"in pe&&"url"in pe)return"Image";try{const qt=JSON.stringify(pe,null,2);return i.jsx("pre",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded text-xs overflow-x-auto",children:qt})}catch{return String(pe)}}return String(pe)})()})]},Te)})})():i.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:n("surveys.noResponsesRecorded")})})]})]})]})}),i.jsx(Rs,{open:!!xe,onOpenChange:ee=>!ee&&ie(null),children:i.jsxs(ns,{children:[i.jsxs(as,{children:[i.jsx(is,{children:n("surveys.deleteSurvey")}),i.jsx(os,{children:n("surveys.deleteSurveyConfirmation",{name:((Ge=h.find(ee=>ee.survey_id===xe))==null?void 0:Ge.survey_name)||`${n("surveys.survey")} #${xe}`})})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:n("buttons.cancel")}),i.jsx(ls,{onClick:()=>{xe&&oe(xe)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("buttons.delete")})]})]})}),i.jsx(vn,{open:!!C,onOpenChange:ee=>!ee&&k(null),children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(sn,{children:i.jsx(on,{children:Oe(C||{},"template_name")})}),C&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.category")}),i.jsx("p",{className:"text-sm",children:C.category||n("surveys.noCategory")})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.status")}),i.jsxs("div",{className:"flex items-center gap-2",children:[C.is_active?i.jsx(pt,{variant:"default",className:"bg-green-500",children:n("surveys.active")}):i.jsx(pt,{variant:"secondary",children:n("surveys.inactive")}),C.is_default&&i.jsx(pt,{variant:"default",children:n("surveys.default")})]})]})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.description")}),i.jsx("p",{className:"text-sm mt-1",children:Oe(C,"template_description")||n("surveys.noDescription")})]}),i.jsxs("div",{children:[i.jsxs(ze,{className:"text-sm font-medium",children:[n("surveys.fields")," (",E.length,")"]}),i.jsx("div",{className:"mt-2 space-y-2",children:E.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:n("surveys.noFields")}):E.sort((ee,me)=>ee.field_order-me.field_order).map(ee=>i.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(pt,{variant:"outline",className:"text-xs",children:ee.field_type}),i.jsx("span",{className:"text-sm font-medium",children:Oe(ee,"field_label")}),Y(ee)&&i.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),Oe(ee,"help_text")&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Oe(ee,"help_text")})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",ee.field_order]})]})},ee.field_id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.created")}),i.jsx("p",{children:new Date(C.created_at).toLocaleString()})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:n("surveys.updated")}),i.jsx("p",{children:new Date(C.updated_at).toLocaleString()})]})]})]})]})}),i.jsx(Rs,{open:!!te,onOpenChange:ee=>!ee&&le(null),children:i.jsxs(ns,{children:[i.jsxs(as,{children:[i.jsx(is,{children:n("surveys.deleteTemplate")}),i.jsx(os,{children:n("surveys.deleteTemplateConfirmation",{name:g.find(ee=>ee.template_id===te)?Oe(g.find(ee=>ee.template_id===te),"template_name"):`${n("surveys.template")} #${te}`})})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:n("buttons.cancel")}),i.jsx(ls,{onClick:()=>{te&&K(te)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("buttons.delete")})]})]})}),i.jsx(vn,{open:A,onOpenChange:B,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:n(H?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),i.jsx(Da,{children:n("surveys.createTemplateDesc")})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"template_name",children:[n("surveys.templateName")," *"]}),i.jsx(Ue,{id:"template_name",value:se.template_name,onChange:ee=>ge(me=>({...me,template_name:ee.target.value})),placeholder:n("surveys.templateName"),className:fe.template_name?"border-red-500":""}),fe.template_name&&i.jsx("p",{className:"text-sm text-red-500",children:fe.template_name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"category",children:n("surveys.category")}),i.jsxs(ft,{value:se.category,onValueChange:ee=>ge(me=>({...me,category:ee})),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:n("surveys.selectCategory")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"customer_satisfaction",children:n("surveys.customerSatisfaction")}),i.jsx(ke,{value:"product_feedback",children:n("surveys.productFeedback")}),i.jsx(ke,{value:"service_quality",children:n("surveys.serviceQuality")}),i.jsx(ke,{value:"general",children:n("surveys.general")})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"template_description",children:n("surveys.description")}),i.jsx(Dn,{id:"template_description",value:se.template_description,onChange:ee=>ge(me=>({...me,template_description:ee.target.value})),placeholder:n("surveys.description"),rows:3})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"is_active",checked:se.is_active,onChange:ee=>ge(me=>({...me,is_active:ee.target.checked})),className:"rounded"}),i.jsx(ze,{htmlFor:"is_active",children:n("surveys.isActive")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h3",{className:"text-lg font-semibold",children:n("surveys.fields")})}),fe.fields&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600",children:fe.fields})}),i.jsx("div",{className:"space-y-3",children:re.map((ee,me)=>{var Te,pe,lt;return i.jsx(st,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[i.jsx(de,{variant:"ghost",size:"sm",onClick:()=>Us(me,Math.max(0,me-1)),disabled:me===0,children:i.jsx(eae,{className:"h-4 w-4"})}),i.jsx(de,{variant:"ghost",size:"sm",onClick:()=>Us(me,Math.min(re.length-1,me+1)),disabled:me===re.length-1,children:i.jsx(Jne,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{children:[n("surveys.fieldLabel")," *"]}),i.jsx(Ue,{value:ee.field_label,onChange:at=>Bs(me,{field_label:at.target.value}),placeholder:n("surveys.fieldLabel"),className:fe[`field_${me}`]?"border-red-500":""}),fe[`field_${me}`]&&i.jsx("p",{className:"text-sm text-red-500",children:fe[`field_${me}`]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{children:[n("surveys.fieldType")," *"]}),i.jsxs(ft,{value:ee.field_type,onValueChange:at=>Bs(me,{field_type:at}),children:[i.jsx(ut,{children:i.jsx(ht,{})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"text",children:n("surveys.text")}),i.jsx(ke,{value:"textarea",children:n("surveys.textarea")}),i.jsx(ke,{value:"email",children:n("surveys.email")}),i.jsx(ke,{value:"date",children:n("surveys.date")}),i.jsx(ke,{value:"select",children:n("surveys.select")}),i.jsx(ke,{value:"multiselect",children:n("surveys.multiselect")}),i.jsx(ke,{value:"radio",children:n("surveys.radio")}),i.jsx(ke,{value:"checkbox",children:n("surveys.checkbox")}),i.jsx(ke,{value:"image",children:n("surveys.image")})]})]})]})]}),(ee.field_type==="select"||ee.field_type==="multiselect"||ee.field_type==="radio")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:n("surveys.options")}),i.jsx(Dn,{defaultValue:((pe=(Te=ee.field_options)==null?void 0:Te.options)==null?void 0:pe.join(`
`))||"",onBlur:at=>{const qt=at.target.value.split(/[\n\s]+/).filter(tt=>tt.trim()).map(tt=>tt.trim());Bs(me,{field_options:{options:qt,allow_multiple:ee.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((lt=ee.field_options)==null?void 0:lt.options)&&ee.field_options.options.length>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[ee.field_options.options.length," option(s): ",ee.field_options.options.join(", ")]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`required-${me}`,checked:ee.is_required,onChange:at=>Bs(me,{is_required:at.target.checked}),className:"rounded"}),i.jsx(ze,{htmlFor:`required-${me}`,children:n("surveys.isRequired")})]})]}),i.jsx(de,{variant:"ghost",size:"sm",onClick:()=>gs(me),className:"text-red-500 hover:text-red-700",children:i.jsx(Zt,{className:"h-4 w-4"})})]})},me)})}),i.jsx("div",{className:"flex justify-center pt-4",children:i.jsxs(de,{onClick:Oo,size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:[i.jsx(Ut,{className:"h-4 w-4 me-2"}),n("surveys.addField")]})})]})]}),i.jsxs(Oa,{children:[i.jsx(de,{variant:"outline",onClick:()=>B(!1),disabled:Re,children:n("buttons.cancel")}),i.jsx(de,{onClick:Cl,disabled:!se.template_name.trim()||Re,children:n(Re?"buttons.saving":H?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function RVe(){const{t:e}=At();hr();const{isRTL:t}=ir(),r=Ur(),[n,a]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(""),[f,h]=x.useState(null),[m,g]=x.useState(!1),[p,v]=x.useState("leads"),[y,b]=x.useState(""),[w,j]=x.useState("");x.useEffect(()=>{_()},[]);const _=async()=>{try{o(!0);const O=await Ca.getAll();a(O)}catch(O){console.error("Failed to load stages:",O)}finally{o(!1)}},S=O=>n.filter(T=>T.stage_type===O).sort((T,U)=>(T.stager_order_index??0)-(U.stager_order_index??0)),N=async()=>{if(y.trim())try{const O=S(p),T=O.length>0?Math.max(...O.map(W=>W.stager_order_index||0)):-1,U={stage_name:y.trim(),stage_name_ar:w.trim()||null,stage_type:p,stager_order_index:T+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await Ca.create(U),await _(),b(""),j(""),g(!1)}catch(O){console.error("Failed to create stage:",O)}},C=async(O,T)=>{try{await Ca.update(O.stage_id,T),await _(),c(null),d("")}catch(U){console.error("Failed to update stage:",U)}},k=async O=>{try{await Ca.delete(O),await _(),h(null)}catch(T){console.error("Failed to delete stage:",T)}},E=O=>{const T=S(O);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 rtl:flex-row-reverse",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${O}`)}),i.jsxs(de,{size:r?"default":"sm",onClick:()=>{v(O),g(!0)},className:"w-full sm:w-auto",children:[i.jsx(Ut,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),T.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):i.jsx("div",{className:"space-y-2",children:T.map((U,W)=>i.jsx(st,{className:"p-3 md:p-4",children:i.jsxs("div",{className:Ce("flex gap-2 md:gap-3 rtl:flex-row-reverse",r?"flex-col":"items-center"),children:[!r&&i.jsx(zo,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(l==null?void 0:l.stage_id)===U.stage_id?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(Ue,{value:l.stage_name,onChange:R=>c({...l,stage_name:R.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),i.jsx(Ue,{value:u,onChange:R=>d(R.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),i.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[i.jsx(de,{size:"sm",variant:"ghost",onClick:()=>C(U,{stage_name:l.stage_name,stage_name_ar:u||null}),className:"flex-1 sm:flex-initial",children:i.jsx(wo,{className:"h-4 w-4"})}),i.jsx(de,{size:"sm",variant:"ghost",onClick:()=>{c(null),d("")},className:"flex-1 sm:flex-initial",children:i.jsx(Ri,{className:"h-4 w-4"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:Oe(U,"stage_name")}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",U.stager_order_index]})]}),i.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[i.jsx(de,{size:"sm",variant:"ghost",onClick:()=>{c(U),d(U.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:i.jsx(Di,{className:"h-4 w-4"})}),i.jsx(de,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>h(U.stage_id),children:i.jsx(Zt,{className:"h-4 w-4"})})]})]})]})},U.stage_id))})]})};return s?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:e("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),i.jsxs(Co,{defaultValue:"stages",className:"space-y-6",children:[i.jsx(Fi,{className:"bg-muted/50 p-1 w-full sm:w-auto overflow-x-auto overflow-y-hidden",dir:t?"rtl":"ltr",children:i.jsx(Er,{value:"stages",className:"px-6",children:e("settings.stageManagement")})}),i.jsx(Jr,{value:"stages",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",dir:t?"rtl":"ltr",children:[i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Ht,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(vr,{className:"text-lg flex items-center gap-2",children:[i.jsx(zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.leads")]})}),i.jsx(xt,{className:"p-4 md:p-6",children:E("leads")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Ht,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(vr,{className:"text-lg flex items-center gap-2",children:[i.jsx(zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.projects")]})}),i.jsx(xt,{className:"p-4 md:p-6",children:E("projects")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Ht,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(vr,{className:"text-lg flex items-center gap-2",children:[i.jsx(zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tasks")]})}),i.jsx(xt,{className:"p-4 md:p-6",children:E("tasks")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Ht,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(vr,{className:"text-lg flex items-center gap-2",children:[i.jsx(zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tickets")]})}),i.jsx(xt,{className:"p-4 md:p-6",children:E("tickets")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Ht,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(vr,{className:"text-lg flex items-center gap-2",children:[i.jsx(zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mleads")]})}),i.jsx(xt,{className:"p-4 md:p-6",children:E("mleads")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Ht,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(vr,{className:"text-lg flex items-center gap-2",children:[i.jsx(zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mprojects")]})}),i.jsx(xt,{className:"p-4 md:p-6",children:E("mprojects")})]})]})})]}),i.jsx(vn,{open:m,onOpenChange:g,children:i.jsxs(an,{className:"w-[95vw] sm:max-w-[425px]",children:[i.jsxs(sn,{children:[i.jsx(on,{children:e("settings.addStage")}),i.jsx(Da,{children:e("settings.addStageDesc",{type:e(`settings.${p}`)})})]}),i.jsxs("div",{className:"space-y-4 py-4",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),i.jsx(Ue,{id:"stage-name",value:y,onChange:O=>b(O.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),i.jsx(Ue,{id:"stage-name-ar",value:w,onChange:O=>j(O.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),i.jsxs(Oa,{className:"flex-col sm:flex-row gap-2",dir:t?"rtl":"ltr",children:[i.jsx(de,{variant:"outline",onClick:()=>g(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),i.jsx(de,{onClick:N,disabled:!y.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),i.jsx(Rs,{open:!!f,onOpenChange:O=>!O&&h(null),children:i.jsxs(ns,{children:[i.jsxs(as,{children:[i.jsx(is,{children:e("settings.deleteStage")}),i.jsx(os,{children:e("settings.deleteStageConfirmation")})]}),i.jsxs(ss,{dir:t?"rtl":"ltr",children:[i.jsx(cs,{children:e("buttons.cancel")}),i.jsx(ls,{onClick:()=>f&&k(f),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}const MVe={light:"",dark:".dark"},tY=x.createContext(null);function rY(){const e=x.useContext(tY);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Qo=x.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const o=x.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return i.jsx(tY.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:s,className:Ce("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[i.jsx(FVe,{id:l,config:n}),i.jsx(nf,{children:r})]})})});Qo.displayName="Chart";const FVe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(MVe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},dd=ba,Gc=x.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},m)=>{const{config:g}=rY(),p=x.useMemo(()=>{var _;if(a||!(t!=null&&t.length))return null;const[y]=t,b=`${h||y.dataKey||y.name||"value"}`,w=JC(g,y,b),j=!h&&typeof o=="string"?((_=g[o])==null?void 0:_.label)||o:w==null?void 0:w.label;return l?i.jsx("div",{className:Ce("font-medium",c),children:l(j,t)}):j?i.jsx("div",{className:Ce("font-medium",c),children:j}):null},[o,l,t,a,c,g,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return i.jsxs("div",{ref:m,className:Ce("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:p,i.jsx("div",{className:"grid gap-1.5",children:t.map((y,b)=>{const w=`${f||y.name||y.dataKey||"value"}`,j=JC(g,y,w),_=d||y.payload.fill||y.color;return i.jsx("div",{className:Ce("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,b,y.payload):i.jsxs(i.Fragment,{children:[j!=null&&j.icon?i.jsx(j.icon,{}):!s&&i.jsx("div",{className:Ce("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":_,"--color-border":_}}),i.jsxs("div",{className:Ce("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[v?p:null,i.jsx("span",{className:"text-muted-foreground",children:(j==null?void 0:j.label)||y.name})]}),y.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});Gc.displayName="ChartTooltip";const IVe=x.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:o}=rY();return r!=null&&r.length?i.jsx("div",{ref:s,className:Ce("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=JC(o,l,c);return i.jsxs("div",{className:Ce("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});IVe.displayName="ChartLegend";function JC(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function LVe({filteredLeads:e,statuses:t,systems:r,activities:n,cities:a,users:s}){const{t:o}=At(),{isRTL:l}=ir(),c=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"];return i.jsx("div",{className:"flex-shrink-0 px-4 pb-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),i.jsxs(Co,{defaultValue:"pie",className:"w-full",children:[i.jsxs(Fi,{className:`flex w-full ${l?"flex-row-reverse":""}`,children:[i.jsx(Er,{value:"pie",className:"flex-1",children:o("mleads.distributionCharts")}),i.jsx(Er,{value:"timeline",className:"flex-1",children:o("mleads.timeline")})]}),i.jsx(Jr,{value:"pie",className:"mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),i.jsx(Qo,{config:{},className:"h-[350px]",children:i.jsxs(od,{children:[i.jsx(Ga,{data:(()=>{const u=t.map(d=>({name:Oe(d,"status_name"),value:e.filter(f=>f.status_id===d.status_id).length})).filter(d=>d.value>0);return u.length>0?u:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:u,value:d})=>`${u}: ${d}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:c.map((u,d)=>i.jsx(Xo,{fill:u},`cell-${d}`))}),i.jsx(dd,{content:i.jsx(Gc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),i.jsx(Qo,{config:{},className:"h-[350px]",children:i.jsxs(od,{children:[i.jsx(Ga,{data:(()=>{const u=r.map(d=>({name:Oe(d,"system_name"),value:e.filter(f=>f.system_id===d.system_id).length})).filter(d=>d.value>0);return u.length>0?u:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:u,value:d})=>`${u}: ${d}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:c.map((u,d)=>i.jsx(Xo,{fill:u},`cell-${d}`))}),i.jsx(dd,{content:i.jsx(Gc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),i.jsx(Qo,{config:{},className:"h-[350px]",children:i.jsxs(od,{children:[i.jsx(Ga,{data:(()=>{const u=n.map(d=>({name:Oe(d,"activity_name"),value:e.filter(f=>f.activity_id===d.activity_id).length})).filter(d=>d.value>0);return u.length>0?u:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:u,value:d})=>`${u}: ${d}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:c.map((u,d)=>i.jsx(Xo,{fill:u},`cell-${d}`))}),i.jsx(dd,{content:i.jsx(Gc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),i.jsx(Qo,{config:{},className:"h-[350px]",children:i.jsxs(od,{children:[i.jsx(Ga,{data:(()=>{const u=a.map(d=>({name:Oe(d,"city_name"),value:e.filter(f=>f.city_id===d.city_id).length})).filter(d=>d.value>0);return u.length>0?u:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:u,value:d})=>`${u}: ${d}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:c.map((u,d)=>i.jsx(Xo,{fill:u},`cell-${d}`))}),i.jsx(dd,{content:i.jsx(Gc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),i.jsx(Qo,{config:{},className:"h-[350px]",children:i.jsxs(od,{children:[i.jsx(Ga,{data:(()=>{const u=s.map(d=>({name:d.name||d.user_name||"Unknown",value:e.filter(f=>f.assigned_to===d.userid).length})).filter(d=>d.value>0);return u.length>0?u:[{name:"Unassigned",value:e.filter(d=>!d.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:u,value:d})=>`${u}: ${d}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:c.map((u,d)=>i.jsx(Xo,{fill:u},`cell-${d}`))}),i.jsx(dd,{content:i.jsx(Gc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),i.jsx("div",{className:"text-4xl font-bold text-primary",children:e.length})]})]})})]})]})})}var _5=1,$Ve=.9,BVe=.8,UVe=.17,bN=.1,wN=.999,zVe=.9999,VVe=.99,WVe=/[\\\/_+.#"@\[\(\{&]/,HVe=/[\\\/_+.#"@\[\(\{&]/g,qVe=/[\s-]/,nY=/[\s-]/g;function ZC(e,t,r,n,a,s,o){if(s===t.length)return a===e.length?_5:VVe;var l=`${a},${s}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,m,g;u>=0;)f=ZC(e,t,r,n,u+1,s+1,o),f>d&&(u===a?f*=_5:WVe.test(e.charAt(u-1))?(f*=BVe,m=e.slice(a,u-1).match(HVe),m&&a>0&&(f*=Math.pow(wN,m.length))):qVe.test(e.charAt(u-1))?(f*=$Ve,g=e.slice(a,u-1).match(nY),g&&a>0&&(f*=Math.pow(wN,g.length))):(f*=UVe,a>0&&(f*=Math.pow(wN,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=zVe)),(f<bN&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=ZC(e,t,r,n,u+1,s+2,o),h*bN>f&&(f=h*bN)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function j5(e){return e.toLowerCase().replace(nY," ")}function GVe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ZC(e,t,j5(e),j5(t),0,0,{})}var o0='[cmdk-group=""]',_N='[cmdk-group-items=""]',KVe='[cmdk-group-heading=""]',aY='[cmdk-item=""]',S5=`${aY}:not([aria-disabled="true"])`,eE="cmdk-item-select",eh="data-value",YVe=(e,t,r)=>GVe(e,t,r),sY=x.createContext(void 0),yx=()=>x.useContext(sY),iY=x.createContext(void 0),lO=()=>x.useContext(iY),oY=x.createContext(void 0),lY=x.forwardRef((e,t)=>{let r=th(()=>{var A,B;return{search:"",value:(B=(A=e.value)!=null?A:e.defaultValue)!=null?B:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=th(()=>new Set),a=th(()=>new Map),s=th(()=>new Map),o=th(()=>new Set),l=cY(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:g,disablePointerSelection:p=!1,vimBindings:v=!0,...y}=e,b=ta(),w=ta(),j=ta(),_=x.useRef(null),S=iWe();pf(()=>{if(d!==void 0){let A=d.trim();r.current.value=A,N.emit()}},[d]),pf(()=>{S(6,U)},[]);let N=x.useMemo(()=>({subscribe:A=>(o.current.add(A),()=>o.current.delete(A)),snapshot:()=>r.current,setState:(A,B,H)=>{var V,te,le,xe;if(!Object.is(r.current[A],B)){if(r.current[A]=B,A==="search")T(),E(),S(1,O);else if(A==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ie=document.getElementById(j);ie?ie.focus():(V=document.getElementById(b))==null||V.focus()}if(S(7,()=>{var ie;r.current.selectedItemId=(ie=W())==null?void 0:ie.id,N.emit()}),H||S(5,U),((te=l.current)==null?void 0:te.value)!==void 0){let ie=B??"";(xe=(le=l.current).onValueChange)==null||xe.call(le,ie);return}}N.emit()}},emit:()=>{o.current.forEach(A=>A())}}),[]),C=x.useMemo(()=>({value:(A,B,H)=>{var V;B!==((V=s.current.get(A))==null?void 0:V.value)&&(s.current.set(A,{value:B,keywords:H}),r.current.filtered.items.set(A,k(B,H)),S(2,()=>{E(),N.emit()}))},item:(A,B)=>(n.current.add(A),B&&(a.current.has(B)?a.current.get(B).add(A):a.current.set(B,new Set([A]))),S(3,()=>{T(),E(),r.current.value||O(),N.emit()}),()=>{s.current.delete(A),n.current.delete(A),r.current.filtered.items.delete(A);let H=W();S(4,()=>{T(),(H==null?void 0:H.getAttribute("id"))===A&&O(),N.emit()})}),group:A=>(a.current.has(A)||a.current.set(A,new Set),()=>{s.current.delete(A),a.current.delete(A)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:b,inputId:j,labelId:w,listInnerRef:_}),[]);function k(A,B){var H,V;let te=(V=(H=l.current)==null?void 0:H.filter)!=null?V:YVe;return A?te(A,r.current.search,B):0}function E(){if(!r.current.search||l.current.shouldFilter===!1)return;let A=r.current.filtered.items,B=[];r.current.filtered.groups.forEach(V=>{let te=a.current.get(V),le=0;te.forEach(xe=>{let ie=A.get(xe);le=Math.max(ie,le)}),B.push([V,le])});let H=_.current;R().sort((V,te)=>{var le,xe;let ie=V.getAttribute("id"),G=te.getAttribute("id");return((le=A.get(G))!=null?le:0)-((xe=A.get(ie))!=null?xe:0)}).forEach(V=>{let te=V.closest(_N);te?te.appendChild(V.parentElement===te?V:V.closest(`${_N} > *`)):H.appendChild(V.parentElement===H?V:V.closest(`${_N} > *`))}),B.sort((V,te)=>te[1]-V[1]).forEach(V=>{var te;let le=(te=_.current)==null?void 0:te.querySelector(`${o0}[${eh}="${encodeURIComponent(V[0])}"]`);le==null||le.parentElement.appendChild(le)})}function O(){let A=R().find(H=>H.getAttribute("aria-disabled")!=="true"),B=A==null?void 0:A.getAttribute(eh);N.setState("value",B||void 0)}function T(){var A,B,H,V;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let te=0;for(let le of n.current){let xe=(B=(A=s.current.get(le))==null?void 0:A.value)!=null?B:"",ie=(V=(H=s.current.get(le))==null?void 0:H.keywords)!=null?V:[],G=k(xe,ie);r.current.filtered.items.set(le,G),G>0&&te++}for(let[le,xe]of a.current)for(let ie of xe)if(r.current.filtered.items.get(ie)>0){r.current.filtered.groups.add(le);break}r.current.filtered.count=te}function U(){var A,B,H;let V=W();V&&(((A=V.parentElement)==null?void 0:A.firstChild)===V&&((H=(B=V.closest(o0))==null?void 0:B.querySelector(KVe))==null||H.scrollIntoView({block:"nearest"})),V.scrollIntoView({block:"nearest"}))}function W(){var A;return(A=_.current)==null?void 0:A.querySelector(`${aY}[aria-selected="true"]`)}function R(){var A;return Array.from(((A=_.current)==null?void 0:A.querySelectorAll(S5))||[])}function z(A){let B=R()[A];B&&N.setState("value",B.getAttribute(eh))}function P(A){var B;let H=W(),V=R(),te=V.findIndex(xe=>xe===H),le=V[te+A];(B=l.current)!=null&&B.loop&&(le=te+A<0?V[V.length-1]:te+A===V.length?V[0]:V[te+A]),le&&N.setState("value",le.getAttribute(eh))}function M(A){let B=W(),H=B==null?void 0:B.closest(o0),V;for(;H&&!V;)H=A>0?aWe(H,o0):sWe(H,o0),V=H==null?void 0:H.querySelector(S5);V?N.setState("value",V.getAttribute(eh)):P(A)}let L=()=>z(R().length-1),q=A=>{A.preventDefault(),A.metaKey?L():A.altKey?M(1):P(1)},Z=A=>{A.preventDefault(),A.metaKey?z(0):A.altKey?M(-1):P(-1)};return x.createElement(mt.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:A=>{var B;(B=y.onKeyDown)==null||B.call(y,A);let H=A.nativeEvent.isComposing||A.keyCode===229;if(!(A.defaultPrevented||H))switch(A.key){case"n":case"j":{v&&A.ctrlKey&&q(A);break}case"ArrowDown":{q(A);break}case"p":case"k":{v&&A.ctrlKey&&Z(A);break}case"ArrowUp":{Z(A);break}case"Home":{A.preventDefault(),z(0);break}case"End":{A.preventDefault(),L();break}case"Enter":{A.preventDefault();let V=W();if(V){let te=new Event(eE);V.dispatchEvent(te)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:lWe},c),dj(e,A=>x.createElement(iY.Provider,{value:N},x.createElement(sY.Provider,{value:C},A))))}),XVe=x.forwardRef((e,t)=>{var r,n;let a=ta(),s=x.useRef(null),o=x.useContext(oY),l=yx(),c=cY(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;pf(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=uY(a,s,[e.value,e.children,s],e.keywords),f=lO(),h=Du(S=>S.value&&S.value===d.current),m=Du(S=>u||l.filter()===!1?!0:S.search?S.filtered.items.get(a)>0:!0);x.useEffect(()=>{let S=s.current;if(!(!S||e.disabled))return S.addEventListener(eE,g),()=>S.removeEventListener(eE,g)},[m,e.onSelect,e.disabled]);function g(){var S,N;p(),(N=(S=c.current).onSelect)==null||N.call(S,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:y,onSelect:b,forceMount:w,keywords:j,..._}=e;return x.createElement(mt.div,{ref:ic(s,t),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:p,onClick:v?void 0:g},e.children)}),QVe=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,o=ta(),l=x.useRef(null),c=x.useRef(null),u=ta(),d=yx(),f=Du(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);pf(()=>d.group(o),[]),uY(o,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:o,forceMount:a}),[a]);return x.createElement(mt.div,{ref:ic(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),dj(e,m=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(oY.Provider,{value:h},m))))}),JVe=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),s=Du(o=>!o.search);return!r&&!s?null:x.createElement(mt.div,{ref:ic(a,t),...n,"cmdk-separator":"",role:"separator"})}),ZVe=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=lO(),o=Du(u=>u.search),l=Du(u=>u.selectedItemId),c=yx();return x.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),x.createElement(mt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),eWe=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=x.useRef(null),o=x.useRef(null),l=Du(u=>u.selectedItemId),c=yx();return x.useEffect(()=>{if(o.current&&s.current){let u=o.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(mt.div,{ref:ic(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},dj(e,u=>x.createElement("div",{ref:ic(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),tWe=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:o,...l}=e;return x.createElement(Jw,{open:r,onOpenChange:n},x.createElement(Zw,{container:o},x.createElement(mp,{"cmdk-overlay":"",className:a}),x.createElement(pp,{"aria-label":e.label,"cmdk-dialog":"",className:s},x.createElement(lY,{ref:t,...l}))))}),rWe=x.forwardRef((e,t)=>Du(r=>r.filtered.count===0)?x.createElement(mt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),nWe=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return x.createElement(mt.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},dj(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),Is=Object.assign(lY,{List:eWe,Item:XVe,Input:ZVe,Group:QVe,Separator:JVe,Dialog:tWe,Empty:rWe,Loading:nWe});function aWe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function sWe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function cY(e){let t=x.useRef(e);return pf(()=>{t.current=e}),t}var pf=typeof window>"u"?x.useEffect:x.useLayoutEffect;function th(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Du(e){let t=lO(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function uY(e,t,r,n=[]){let a=x.useRef(),s=yx();return pf(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(o=t.current)==null||o.setAttribute(eh,l),a.current=l}),a}var iWe=()=>{let[e,t]=x.useState(),r=th(()=>new Map);return pf(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function oWe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function dj({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(oWe(t),{ref:t.ref},r(t.props.children)):r(t)}var lWe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const fa=x.forwardRef(({className:e,...t},r)=>i.jsx(Is,{ref:r,className:Ce("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));fa.displayName=Is.displayName;const ha=x.forwardRef(({className:e,...t},r)=>i.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[i.jsx(hs,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),i.jsx(Is.Input,{ref:r,className:Ce("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));ha.displayName=Is.Input.displayName;const ma=x.forwardRef(({className:e,...t},r)=>i.jsx(Is.List,{ref:r,className:Ce("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));ma.displayName=Is.List.displayName;const pa=x.forwardRef((e,t)=>i.jsx(Is.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));pa.displayName=Is.Empty.displayName;const ga=x.forwardRef(({className:e,...t},r)=>i.jsx(Is.Group,{ref:r,className:Ce("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ga.displayName=Is.Group.displayName;const cWe=x.forwardRef(({className:e,...t},r)=>i.jsx(Is.Separator,{ref:r,className:Ce("-mx-1 h-px bg-border",e),...t}));cWe.displayName=Is.Separator.displayName;const ur=x.forwardRef(({className:e,...t},r)=>i.jsx(Is.Item,{ref:r,className:Ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));ur.displayName=Is.Item.displayName;function uWe({lead:e,onDelete:t,onClick:r,onDragStart:n,onStageChange:a,isDragging:s=!1,stages:o}){var g;const{t:l}=At(),c=Ur(),u=p=>{const v=cities.find(y=>y.city_id===p.city_id);return v?Oe(v,"city_name"):l("mleads.notSet")},d=p=>{const v=activities.find(y=>y.activity_id===p.activity_id);return v?Oe(v,"activity_name"):l("mleads.notSet")},f=p=>{const v=systems.find(y=>y.system_id===p.system_id);return v?Oe(v,"system_name"):l("mleads.notSet")},h=p=>{const v=statuses.find(y=>y.status_id===p.status_id);return v?Oe(v,"status_name"):l("mleads.notSet")},m=p=>{switch(p){case 1:return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case 2:return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case 3:return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case 4:return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}};return i.jsxs(st,{className:Ce("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-s-4 border-s-blue-500",c?"w-full":"w-[300px]","min-h-[160px]",s&&"opacity-50 rotate-2 scale-105"),onClick:r,draggable:!0,onDragStart:p=>{p.dataTransfer.effectAllowed="move",p.dataTransfer.setData("text/plain",e.leads_id.toString()),n&&n(e.leads_id)},children:[i.jsx(Ht,{className:"pb-2 px-4 pt-3",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:e.company_name||"No Company"}),e.address&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:e.address})]})})}),i.jsxs(xt,{className:"px-4 pb-3 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(mm,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:u(e)})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(mB,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("p",{className:"text-xs truncate",children:d(e)})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(zn,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("p",{className:"text-xs truncate text-muted-foreground",children:f(e)})]})]}),i.jsx("div",{children:i.jsx(pt,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${m(e.status_id)}`,children:h(e)})})]}),(()=>{const p=dbContacts.filter(v=>Number(v.leads_id)===Number(e.leads_id));return p.length===0?null:i.jsxs("div",{className:"pt-2 border-t mt-2 flex flex-col gap-1",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wider",children:l("mleads.contacts")}),p.slice(0,1).map((v,y)=>i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(On,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("p",{className:"text-[11px] truncate",children:v.contact_name})]},y)),p.length>1&&i.jsxs("p",{className:"text-[10px] text-muted-foreground ps-4",children:["+",p.length-1," more"]})]})})(),i.jsxs("div",{className:"pt-2 border-t flex flex-col gap-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[i.jsx(On,{className:"h-2.5 w-2.5 flex-shrink-0"}),i.jsxs("span",{className:"truncate",children:["Assign: ",e.Users_name||"-"]})]}),i.jsx("div",{className:"flex items-center gap-1 min-w-0",children:i.jsxs("span",{className:"truncate opacity-70",children:["By: ",e.created_by_name||"-"]})})]}),i.jsx("div",{className:"text-[10px] text-muted-foreground italic opacity-60",children:new Date(e.created_at).toLocaleDateString()})]}),c&&a&&i.jsx("div",{className:"pt-1",children:i.jsxs(ft,{value:((g=e.stage_id)==null?void 0:g.toString())||"",onValueChange:p=>a(e.leads_id,parseInt(p)),children:[i.jsx(ut,{className:"h-7 text-xs",children:i.jsx(ht,{placeholder:l("mleads.selectStage","Select stage")})}),i.jsx(dt,{children:o.map(p=>i.jsx(ke,{value:p.id.toString(),children:Oe(p,"name")},p.id))})]})})]})]})}function dWe(){var r4,n4,a4,s4,i4;const{t:e}=At(),{user:t}=hr(),{currentLanguage:r,isRTL:n}=ir(),{toast:a}=Li();Ur();const{setBreadcrumbs:s}=Rv();Ms();const[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[g,p]=x.useState([]),[v,y]=x.useState([]),[b,w]=x.useState([]),[j,_]=x.useState([]),[S,N]=x.useState([]),[C,k]=x.useState([]),[E,O]=x.useState([]),[T,U]=x.useState([]),[W,R]=x.useState(!0),[z,P]=x.useState(null),[M,L]=x.useState(""),[q,Z]=x.useState(""),[A,B]=x.useState(!1),[H,V]=x.useState(!1),te=x.useRef(!1),le=x.useRef(1),xe=x.useRef(""),[ie,G]=x.useState(1),[Q]=x.useState(10),[D,ce]=x.useState(0),[je,be]=x.useState(0),[Pe,De]=x.useState(""),[Le,et]=x.useState(""),[se,ge]=x.useState(""),[re,ae]=x.useState(""),[fe,Ee]=x.useState(""),[Re,Je]=x.useState(""),[Xe,_t]=x.useState(null),[_e,$e]=x.useState(null),[Be,He]=x.useState(!1),[wt,Wt]=x.useState(!1),[Bt,mr]=x.useState({city_name_en:"",city_name_ar:"",country_id:null}),[lr,zr]=x.useState(!1),[sa,Gn]=x.useState({system_name_en:"",system_name_ar:""}),[Fn,Ia]=x.useState(!1),[Ls,Po]=x.useState({activity_name_en:"",activity_name_ar:""}),[$s,Oo]=x.useState(!1),[gs,Bs]=x.useState({status_name_en:"",status_name_ar:""}),[Us,ui]=x.useState([]),[wn,di]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Cl,Sc]=x.useState(!1),[K,oe]=x.useState(null),[J,ne]=x.useState(null),[F,Y]=x.useState(!1),[he,Ne]=x.useState([]),[ye,Se]=x.useState(!1),[Ae,Ve]=x.useState(window.innerWidth>=768),[Ge,ee]=x.useState("list"),[me,Te]=x.useState(!1),[pe,lt]=x.useState(null),[at,qt]=x.useState("leads_summary"),[tt,rt]=x.useState(!1),[br,en]=x.useState({}),[zs,_n]=x.useState(null),[Df,ia]=x.useState(!1),[Wi,El]=x.useState(!1),[Rf,Nc]=x.useState(!1),[wx,_x]=x.useState(!1),[Yu,Mp]=x.useState(!1),[pj,vO]=x.useState(!1),[xO,yO]=x.useState(!1),[bO,wO]=x.useState(!1),[_O,jO]=x.useState(!1);x.useState(null);const[TY,AY]=x.useState(null),[SO,gj]=x.useState(!1),[NO,vj]=x.useState(!1),[kO,xj]=x.useState(!1),[CO,yj]=x.useState(!1),[EO,bj]=x.useState(!1),[TO,wj]=x.useState(!1),[PY,AO]=x.useState(1),[OY,PO]=x.useState(1),[DY,OO]=x.useState(1),[RY,DO]=x.useState(1),[MY,RO]=x.useState(1),[FY,MO]=x.useState(1),[CHe,IY]=x.useState(1),[EHe,LY]=x.useState(1),[THe,$Y]=x.useState(1),[_j,FO]=x.useState(!1),[jj,IO]=x.useState(!1),[Sj,LO]=x.useState(!1),[Nj,$O]=x.useState(!1),[kj,BO]=x.useState(!1),[Cj,UO]=x.useState(!1);x.useState(!1),x.useState(!1),x.useState(!1);const[Jt,La]=x.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[s,e]),x.useEffect(()=>{Ej()},[]),x.useEffect(()=>{const I=setTimeout(()=>{Z(M)},500);return()=>clearTimeout(I)},[M]);const zO=x.useMemo(()=>!!(Pe||Le||se||re||fe||Re),[Pe,Le,se,re,fe,Re]),kc=x.useMemo(()=>zO||!!q,[zO,q]);x.useEffect(()=>{const I=JSON.stringify({debouncedSearchTerm:q,cityFilter:Pe,countryFilter:Le,systemFilter:se,statusFilter:re,activityFilter:fe,assignedToFilter:Re,currentLanguage:r}),we=I!==xe.current,Ie=te.current&&!we&&ie!==le.current;jx(q!=="",Ie),le.current=ie,xe.current=I,te.current=!0},[ie,q,Pe,Le,se,re,fe,Re,r]),x.useEffect(()=>{ye?qY():u([])},[ye,q,Pe,Le,se,re,fe,Re,r]);const Ej=async()=>{try{R(!0),P(null),AO(1),PO(1),OO(1),DO(1),RO(1),MO(1),IY(1),LY(1),$Y(1);const[I,we,Ie,gt,Pr,un,Tl,Tc,In]=await Promise.all([X.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"city_id,city_name_en,city_name_ar"}),X.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"activity_id,activity_name_en,activity_name_ar"}),X.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"status_id,status_name_en,status_name_ar"}),X.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"system_id,system_name_en,system_name_ar"}),X.stages.list({exact_filters:{stage_type:"mleads"},sort_by:"stager_order_index",sort_order:"asc",pageSize:10,page:0,select_fields:"stage_id,stage_name,stage_name_ar,stage_type,stager_order_index"}),X.mContacts.list({select_fields:"contact_id,contact_name,leads_id",sort_by:"contact_name",sort_order:"asc",pageSize:10,page:0}),X.Users.list({sort_by:"name",sort_order:"asc",pageSize:10,page:0,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),X.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"country_id,country_name_en,country_name_ar"}),X.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"jobtitle_id,jobtitle_name_en,jobtitle_name_ar"})]),Kn=Do=>Array.isArray(Do)?Do:Do!=null&&Do.data&&Array.isArray(Do.data)?Do.data:[];f(Kn(I)),m(Kn(we)),p(Kn(Ie)),y(Kn(gt)),w(Kn(Pr)),_(Kn(un)),k(Kn(Tl)),O(Kn(Tc)),U(Kn(In))}catch(I){const we=I instanceof Error?I.message:"Failed to load data";P(we),a({title:"Error",description:we,variant:"destructive"})}finally{R(!1)}},BY=async()=>{if(!_j)try{FO(!0);const I=PY+1,we=await X.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:I,select_fields:"city_id,city_name_en,city_name_ar"}),Ie=(we==null?void 0:we.data)||[];Ie.length>0&&(f(gt=>[...gt,...Ie]),AO(I))}catch(I){console.error("Failed to load more cities:",I)}finally{FO(!1)}},UY=async()=>{if(!jj)try{IO(!0);const I=OY+1,we=await X.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:10,page:I,select_fields:"activity_id,activity_name_en,activity_name_ar"}),Ie=(we==null?void 0:we.data)||[];Ie.length>0&&(m(gt=>[...gt,...Ie]),PO(I))}catch(I){console.error("Failed to load more activities:",I)}finally{IO(!1)}},zY=async()=>{if(!Sj)try{LO(!0);const I=DY+1,we=await X.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:10,page:I,select_fields:"status_id,status_name_en,status_name_ar"}),Ie=(we==null?void 0:we.data)||[];Ie.length>0&&(p(gt=>[...gt,...Ie]),OO(I))}catch(I){console.error("Failed to load more statuses:",I)}finally{LO(!1)}},VY=async()=>{if(!Nj)try{$O(!0);const I=RY+1,we=await X.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:10,page:I,select_fields:"system_id,system_name_en,system_name_ar"}),Ie=(we==null?void 0:we.data)||[];Ie.length>0&&(y(gt=>[...gt,...Ie]),DO(I))}catch(I){console.error("Failed to load more systems:",I)}finally{$O(!1)}},WY=async()=>{if(!kj)try{BO(!0);const I=MY+1,we=await X.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:10,page:I,select_fields:"country_id,country_name_en,country_name_ar"}),Ie=(we==null?void 0:we.data)||[];Ie.length>0&&(O(gt=>[...gt,...Ie]),RO(I))}catch(I){console.error("Failed to load more countries:",I)}finally{BO(!1)}},HY=async()=>{if(!Cj)try{UO(!0);const I=FY+1,we=await X.Users.list({sort_by:"name",sort_order:"asc",pageSize:10,page:I,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),Ie=(we==null?void 0:we.data)||[];Ie.length>0&&(k(gt=>[...gt,...Ie]),MO(I))}catch(I){console.error("Failed to load more users:",I)}finally{UO(!1)}},Mf=(I,we,Ie)=>{const{scrollTop:gt,scrollHeight:Pr,clientHeight:un}=I.currentTarget;gt+un>=Pr-50&&!Ie&&we()},jx=async(I=!1,we=!1)=>{try{we?V(!0):I?B(!0):R(!0),P(null);const Ie={};Pe&&(Ie.city_id=parseInt(Pe)),se&&(Ie.system_id=parseInt(se)),re&&(Ie.status_id=parseInt(re)),fe&&(Ie.activity_id=parseInt(fe)),Re&&(Ie.assigned_to=parseInt(Re)),Le&&(Ie.m_city_country_id=parseInt(Le));const In=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation","decision_maker",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),Kn={page:kc?0:ie-1,pageSize:kc?100:Q,sort_by:"created_at",sort_order:"desc",exact_filters:Ie,select_fields:In};q&&(Kn.search_fields="company_name",Kn.search=q);const Do=await X.mLeads.list(Kn);l(Do.data||[]),be(Do.total||0)}catch(Ie){const gt=Ie instanceof Error?Ie.message:"Failed to load data";P(gt),a({title:"Error",description:gt,variant:"destructive"})}finally{R(!1),B(!1),V(!1)}},qY=async()=>{try{const I={};Pe&&(I.city_id=parseInt(Pe)),se&&(I.system_id=parseInt(se)),re&&(I.status_id=parseInt(re)),fe&&(I.activity_id=parseInt(fe)),Re&&(I.assigned_to=parseInt(Re)),Le&&(I.m_city_country_id=parseInt(Le));const Tl=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),Tc={pageSize:200,exact_filters:I,select_fields:Tl};q&&(Tc.search=q);const In=await X.mLeads.list(Tc);u(In.data||[])}catch(I){console.error("Failed to load all filtered leads:",I)}},VO=x.useMemo(()=>{if(!kc)return o;const I=In=>In?parseInt(In,10):void 0,we=I(re),Ie=I(fe),gt=I(se),Pr=I(Pe),un=I(Le),Tl=I(Re),Tc=q.trim().toLowerCase();return o.filter(In=>{if(we!==void 0&&In.status_id!==we||Ie!==void 0&&In.activity_id!==Ie||gt!==void 0&&In.system_id!==gt||Pr!==void 0&&In.city_id!==Pr)return!1;if(un!==void 0){const Kn=In.m_city_country_id??null;if(Kn===null||Kn!==un)return!1}return!(Tl!==void 0&&(In.assigned_to===null||In.assigned_to===void 0||In.assigned_to!==Tl)||Tc&&!(In.company_name||"").toLowerCase().includes(Tc))})},[kc,o,re,fe,se,Pe,Le,Re,q]),Cc=x.useMemo(()=>ye?c:VO,[ye,c,VO]),GY=x.useMemo(()=>{if(ye){const I=(ie-1)*Q,we=I+Q;return Cc.slice(I,we)}if(kc){const I=(ie-1)*Q,we=I+Q;return Cc.slice(I,we)}return o},[ye,kc,Cc,o,ie,Q]),Xu=x.useMemo(()=>Math.max(1,Math.ceil(D/Q)),[D,Q]);x.useEffect(()=>{ce(kc?Cc.length:je)},[Cc,kc,je]),x.useEffect(()=>{ie>Xu&&G(Xu)},[ie,Xu]);const or=(I,we,Ie)=>{if(!I)return"-";let gt=r==="ar"&&(I==null?void 0:I[Ie])||(I==null?void 0:I[we]);if(!gt){const Pr=we.replace(/_en$/,""),un=Ie.replace(/_ar$/,"");gt=r==="ar"&&(I==null?void 0:I[un])||(I==null?void 0:I[Pr])}return gt||(I==null?void 0:I.name)||(I==null?void 0:I.label)||(I==null?void 0:I.title)||"-"},WO=I=>I&&(r==="ar"?I.m_city_city_name_ar||I.m_city_city_name_en:I.m_city_city_name_en||I.m_city_city_name_ar)||"-",HO=I=>I&&(r==="ar"?I.m_activity_activity_name_ar||I.m_activity_activity_name_en:I.m_activity_activity_name_en||I.m_activity_activity_name_ar)||"-",qO=I=>I&&(r==="ar"?I.m_status_status_name_ar||I.m_status_status_name_en:I.m_status_status_name_en||I.m_status_status_name_ar)||"-",GO=I=>I&&(r==="ar"?I.m_system_system_name_ar||I.m_system_system_name_en:I.m_system_system_name_en||I.m_system_system_name_ar)||"-",KO=I=>I&&(r==="ar"?I.stages_stage_name_ar||I.stages_stage_name:I.stages_stage_name||I.stages_stage_name_ar)||"-",YO=I=>{if(!I)return"-";const we=C.find(Ie=>{var gt,Pr;return((gt=Ie.userid)==null?void 0:gt.toString())===I||((Pr=Ie.user_id)==null?void 0:Pr.toString())===I});return(we==null?void 0:we.name)||(we==null?void 0:we.user_name)||(we==null?void 0:we.display_name)||"-"},KY=I=>{if(I==null||I==="")return"";const we=Number(I),Ie=d.find(gt=>Number(gt.city_id)===we);return or(Ie,"city_name_en","city_name_ar")},YY=I=>{if(I==null||I==="")return"";const we=Number(I),Ie=h.find(gt=>Number(gt.activity_id)===we);return or(Ie,"activity_name_en","activity_name_ar")},XY=I=>{if(I==null||I==="")return"";const we=Number(I),Ie=g.find(gt=>Number(gt.status_id)===we);return or(Ie,"status_name_en","status_name_ar")},QY=I=>{if(I==null||I==="")return"";const we=Number(I),Ie=v.find(gt=>Number(gt.system_id)===we);return or(Ie,"system_name_en","system_name_ar")},JY=I=>{if(!I)return"";const we=b.find(Ie=>Number(Ie.stage_id)===Number(I));return or(we,"stage_name","stage_name_ar")},XO=I=>{const Ie={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[I]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${Ie.bg} ${Ie.text} ${Ie.border}`},ZY=async(I,we)=>await new Promise((gt,Pr)=>{const un=new FileReader;un.onload=()=>{const Tl=un.result;gt(Tl)},un.onerror=Pr,un.readAsDataURL(I)}),QO=I=>I&&I!=="{}"&&I!==""&&typeof I=="string"&&I.startsWith("data:"),eX=async()=>{try{let I;if(_e)await X.mLeads.update(_e,Jt),I=_e,a({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")});else{const we={...Jt,created_by:t==null?void 0:t.id},Ie=await X.mLeads.create(we);if(Ie&&Ie.leads_id)I=Ie.leads_id;else if(I=Ie.id||Ie.leads_id,!I)throw new Error("Failed to create lead");a({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}if(Us.length>0&&await fX(I),zs&&Jt.status_id===7){ia(!0);try{const we=await ZY(zs,I);await X.mLeads.update(I,{lead_quotation:we})}catch(we){console.error("File upload failed:",we),a({title:"Warning",description:"Lead saved but file upload failed",variant:"destructive"})}finally{ia(!1),_n(null)}}He(!1),$e(null),La({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),ui([]),await jx()}catch(I){const we=I instanceof Error?I.message:"Failed to save";a({title:"Error",description:we,variant:"destructive"})}},tX=async I=>{try{await X.mLeads.delete(I),a({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),_t(null),await jx()}catch(we){const Ie=we instanceof Error?we.message:"Failed to delete";a({title:"Error",description:Ie,variant:"destructive"})}},JO=I=>{ne(I),ZO(I.leads_id),e4(I.leads_id),Y(!0)},ZO=async I=>{try{const we=await $h.getByRelated("mlead",I);Ne(we)}catch(we){console.error("Failed to load notes:",we),Ne([])}},e4=async I=>{try{const we=await X.mContacts.list({exact_filters:{leads_id:I},select_fields:"contact_id,contact_name,contact_mobile,contact_email,jobtitle_id,leads_id",sort_by:"contact_name",sort_order:"asc"});N(we.data||[])}catch(we){console.error("Failed to load contacts:",we),N([])}},t4=async I=>{$e(I.leads_id),La(I),await e4(I.leads_id);const we=S.filter(Ie=>Ie.leads_id===I.leads_id);ui(we.map(Ie=>{var gt;return{contact_name:Ie.contact_name||"",contact_email:Ie.contact_email||"",contact_mobile:((gt=Ie.contact_mobile)==null?void 0:gt.toString())||"",jobtitle_id:Ie.jobtitle_id}})),He(!0)},rX=async I=>{try{await Promise.all(I.map(we=>X.mLeads.delete(we))),a({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await jx()}catch(we){const Ie=we instanceof Error?we.message:"Failed to delete";a({title:"Error",description:Ie,variant:"destructive"})}},nX=async(I,we={})=>{try{rt(!0),lt(null);const Ie=await fetchAPI(`/api/v1/search?type=${I}&Filters=${encodeURIComponent(JSON.stringify(we))}&lang=${r}`);Ie?lt(Ie):a({title:"Error",description:"No data returned from report",variant:"destructive"})}catch(Ie){console.error("Failed to load report:",Ie),a({title:"Error",description:Ie instanceof Error?Ie.message:"Failed to load report",variant:"destructive"})}finally{rt(!1)}},Ec=(I,we)=>{en(Ie=>({...Ie,[I]:we}))},aX=()=>{nX(at,br)},sX=()=>{if(!pe||!pe.data)return;const I=[pe.columns.join(","),...pe.data.map(Pr=>pe.columns.map(un=>typeof Pr[un]=="string"&&Pr[un].includes(",")?`"${Pr[un]}"`:Pr[un]).join(","))].join(`
`),we=new Blob([I],{type:"text/csv"}),Ie=window.URL.createObjectURL(we),gt=document.createElement("a");gt.href=Ie,gt.download=`${at}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(gt),gt.click(),document.body.removeChild(gt),window.URL.revokeObjectURL(Ie),a({title:e("common.success"),description:"Report exported successfully"})},iX=async()=>{try{if(!Bt.city_name_en&&!Bt.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const I=await X.mCity.create(Bt);I&&(f([...d,I]),La({...Jt,city_id:I.city_id}),Wt(!1),mr({city_name_en:"",city_name_ar:"",country_id:null}),a({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")}))}catch(I){const we=I instanceof Error?I.message:"Failed to create city";a({title:"Error",description:we,variant:"destructive"})}},oX=async()=>{try{if(!sa.system_name_en&&!sa.system_name_ar){a({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const I=await X.mSystem.create(sa);I&&(y([...v,I]),La({...Jt,system_id:I.system_id}),zr(!1),Gn({system_name_en:"",system_name_ar:""}),a({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")}))}catch(I){const we=I instanceof Error?I.message:"Failed to create system";a({title:"Error",description:we,variant:"destructive"})}},lX=async()=>{try{if(!Ls.activity_name_en&&!Ls.activity_name_ar){a({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const I=await X.mActivity.create(Ls);I&&(m([...h,I]),La({...Jt,activity_id:I.activity_id}),Ia(!1),Po({activity_name_en:"",activity_name_ar:""}),a({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")}))}catch(I){const we=I instanceof Error?I.message:"Failed to create activity";a({title:"Error",description:we,variant:"destructive"})}},cX=async()=>{try{if(!gs.status_name_en&&!gs.status_name_ar){a({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const I=await X.mStatus.create(gs);I&&(p([...g,I]),La({...Jt,status_id:I.status_id}),Oo(!1),Bs({status_name_en:"",status_name_ar:""}),a({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")}))}catch(I){const we=I instanceof Error?I.message:"Failed to create status";a({title:"Error",description:we,variant:"destructive"})}},uX=()=>{if(!wn.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}ui([...Us,{...wn}]),di({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Sc(!1)},dX=I=>{ui(Us.filter((we,Ie)=>Ie!==I))},fX=async I=>{try{const we=Us.map(Ie=>({...Ie,leads_id:I,contact_mobile:Ie.contact_mobile?parseInt(Ie.contact_mobile):null}));if(we.length>0)for(const Ie of we)await X.mContacts.create(Ie)}catch(we){const Ie=we instanceof Error?we.message:"Failed to save contacts";a({title:"Error",description:Ie}),a({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")})}};if(z)return i.jsx(Tp,{message:z,onRetry:Ej});const hX=[{label:e("common.delete"),icon:i.jsx(Zt,{}),onClick:I=>{window.confirm(`Delete ${I.length} leads?`)&&rX(I.map(we=>we.leads_id))},variant:"destructive"}],mX=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:I=>i.jsx(pc,{title:I.company_name||"-",subtitle:I.address||"",icon:i.jsx(zn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:I=>i.jsx("span",{className:"text-sm text-foreground",children:WO(I)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:I=>i.jsx(pt,{variant:"outline",className:"text-xs truncate",children:HO(I)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:I=>{const we=qO(I);return i.jsx(pt,{variant:"outline",className:`text-xs truncate ${XO(I.status_id)}`,children:we})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:I=>i.jsx(pt,{variant:"outline",className:"text-xs truncate bg-blue-50 text-blue-700 border-blue-200",children:KO(I)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:I=>i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:GO(I)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:I=>i.jsx("div",{className:"truncate",children:i.jsx(Hm,{name:I.created_by_name||"-"})})},{key:"decision_maker",header:e("mleads.decisionMaker"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:I=>i.jsx("div",{className:"truncate",children:i.jsx("span",{className:"text-sm",children:I.decision_maker||"-"})})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:I=>i.jsx(kf,{date:I.created_at})}],pX=[{icon:i.jsx(Di,{}),label:e("common.edit"),onClick:I=>t4(I)},{icon:i.jsx(Zt,{}),label:e("common.delete"),onClick:I=>_t(I.leads_id),variant:"destructive"}];return i.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:n?"rtl":"ltr",children:[i.jsx("div",{className:"flex-shrink-0 pb-3",children:i.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[i.jsxs(de,{variant:"outline",size:"default",onClick:()=>ee(Ge==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[Ge==="list"?i.jsx(ei,{className:"h-4 w-4"}):i.jsx(zn,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e(Ge==="list"?"mleads.kanbanView":"mleads.listView")})]}),i.jsxs(de,{variant:ye?"default":"outline",size:"default",onClick:()=>Se(!ye),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(ei,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mleads.showChart")}),i.jsx(Oh,{className:`h-4 w-4 transition-transform ${ye?"rotate-180":""}`})]}),i.jsxs(de,{variant:me?"default":"outline",size:"default",onClick:()=>Te(!me),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(ya,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mleads.reports")}),i.jsx(Oh,{className:`h-4 w-4 transition-transform ${me?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[i.jsx(hs,{className:"absolute inset-inline-start-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(Ue,{placeholder:e("mleads.searchPlaceholder"),value:M,onChange:I=>{L(I.target.value),G(1)},className:"ps-10 pe-3 h-10 bg-background border-input"})]})]}),i.jsxs(de,{size:"default",onClick:()=>{$e(null),La({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),ui([]),oe(null),Wt(!1),zr(!1),Ia(!1),Oo(!1),mr({city_name_en:"",city_name_ar:"",country_id:null}),Gn({system_name_en:"",system_name_ar:""}),Po({activity_name_en:"",activity_name_ar:""}),Bs({status_name_en:"",status_name_ar:""}),_n(null),He(!0)},variant:"outline",className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:n?"rtl":"ltr",children:[i.jsx(Ut,{className:`w-4 h-4 ${n?"order-2":"order-1"}`}),i.jsx("span",{className:`${n?"order-1":"order-2"}`,children:e("common.add")})]})]})})}),i.jsx("div",{className:"flex-shrink-0 pb-4",children:i.jsxs("div",{className:"bg-card rounded-lg border shadow-sm",children:[i.jsx(de,{variant:"ghost",onClick:()=>Ve(!Ae),className:"w-full justify-between h-auto p-4 rounded-lg hover:bg-accent transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")}),i.jsxs("div",{className:"flex items-center gap-2",children:[(Pe||Le||se||re||fe||Re)&&i.jsxs(de,{variant:"outline",size:"sm",onClick:I=>{I.stopPropagation(),De(""),et(""),ge(""),ae(""),Ee(""),Je(""),G(1)},title:e("mleads.clearFilters"),className:"h-8 px-3 hover:bg-destructive/10 hover:border-destructive/30 hover:text-destructive transition-colors",children:[i.jsx(Ri,{className:`h-3 w-3 ${n?"ms-2":"me-2"}`}),e("mleads.clearFilters")]}),i.jsx(Oh,{className:`h-4 w-4 transition-transform ${Ae?"rotate-180":""}`})]})]})}),Ae&&i.jsx("div",{className:"px-4 pb-4 animate-in fade-in slide-in-from-top-2",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3",children:[i.jsxs(ua,{open:SO,onOpenChange:gj,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":SO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:re?or(g.find(I=>I.status_id.toString()===re),"status_name_en","status_name_ar"):e("mleads.allStatuses")}),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchStatus")}),i.jsxs(ma,{onScroll:I=>Mf(I,zY,Sj),children:[i.jsx(pa,{children:e("common.noResults")}),i.jsxs(ga,{children:[i.jsx(ur,{value:e("mleads.allStatuses"),onSelect:()=>{ae(""),G(1),gj(!1)},children:e("mleads.allStatuses")},"all-statuses"),g.map(I=>i.jsx(ur,{value:I.status_id.toString(),onSelect:()=>{ae(I.status_id.toString()),G(1),gj(!1)},children:or(I,"status_name_en","status_name_ar")},I.status_id)),Sj&&i.jsx(ur,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ua,{open:NO,onOpenChange:vj,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":NO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:fe?or(h.find(I=>I.activity_id.toString()===fe),"activity_name_en","activity_name_ar"):e("mleads.allActivities")}),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchActivity")}),i.jsxs(ma,{onScroll:I=>Mf(I,UY,jj),children:[i.jsx(pa,{children:e("common.noResults")}),i.jsxs(ga,{children:[i.jsx(ur,{value:e("mleads.allActivities"),onSelect:()=>{Ee(""),G(1),vj(!1)},children:e("mleads.allActivities")},"all-activities"),h.map(I=>i.jsx(ur,{value:I.activity_id.toString(),onSelect:()=>{Ee(I.activity_id.toString()),G(1),vj(!1)},children:or(I,"activity_name_en","activity_name_ar")},I.activity_id)),jj&&i.jsx(ur,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ua,{open:kO,onOpenChange:xj,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":kO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:se?or(v.find(I=>I.system_id.toString()===se),"system_name_en","system_name_ar"):e("mleads.allSystems")}),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchSystem")}),i.jsxs(ma,{onScroll:I=>Mf(I,VY,Nj),children:[i.jsx(pa,{children:e("common.noResults")}),i.jsxs(ga,{children:[i.jsx(ur,{value:e("mleads.allSystems"),onSelect:()=>{ge(""),G(1),xj(!1)},children:e("mleads.allSystems")},"all-systems"),v.map(I=>i.jsx(ur,{value:I.system_id.toString(),onSelect:()=>{ge(I.system_id.toString()),G(1),xj(!1)},children:or(I,"system_name_en","system_name_ar")},I.system_id)),Nj&&i.jsx(ur,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ua,{open:CO,onOpenChange:yj,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":CO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Le?or(E.find(I=>I.country_id.toString()===Le),"country_name_en","country_name_ar"):e("mleads.allCountries")}),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchCountry")}),i.jsxs(ma,{onScroll:I=>Mf(I,WY,kj),children:[i.jsx(pa,{children:e("common.noResults")}),i.jsxs(ga,{children:[i.jsx(ur,{value:e("mleads.allCountries"),onSelect:()=>{et(""),G(1),yj(!1)},children:e("mleads.allCountries")},"all-countries"),E.map(I=>i.jsx(ur,{value:I.country_id.toString(),onSelect:()=>{et(I.country_id.toString()),G(1),yj(!1)},children:or(I,"country_name_en","country_name_ar")},I.country_id)),kj&&i.jsx(ur,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ua,{open:EO,onOpenChange:bj,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":EO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Pe?or(d.find(I=>I.city_id.toString()===Pe),"city_name_en","city_name_ar"):e("mleads.allCities")}),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchCity")}),i.jsxs(ma,{onScroll:I=>Mf(I,BY,_j),children:[i.jsx(pa,{children:e("common.noResults")}),i.jsxs(ga,{children:[i.jsx(ur,{value:e("mleads.allCities"),onSelect:()=>{De(""),G(1),bj(!1)},children:e("mleads.allCities")},"all-cities"),d.map(I=>i.jsx(ur,{value:I.city_id.toString(),onSelect:()=>{De(I.city_id.toString()),G(1),bj(!1)},children:or(I,"city_name_en","city_name_ar")},I.city_id)),_j&&i.jsx(ur,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ua,{open:TO,onOpenChange:wj,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":TO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Re?YO(Re):e("mleads.allUsers")}),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchUser")}),i.jsxs(ma,{onScroll:I=>Mf(I,HY,Cj),children:[i.jsx(pa,{children:e("common.noResults")}),i.jsxs(ga,{children:[i.jsx(ur,{value:e("mleads.allUsers"),onSelect:()=>{Je(""),G(1),wj(!1)},children:e("mleads.allUsers")},"all-users"),C.map(I=>{var gt;const we=(gt=I.userid||I.user_id||I.id)==null?void 0:gt.toString(),Ie=I.name||I.user_name||I.display_name||"-";return i.jsx(ur,{value:we,onSelect:()=>{Je(we),G(1),wj(!1)},children:Ie},we)}),Cj&&i.jsx(ur,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]})]})})]})}),i.jsx(fl,{open:Be,onOpenChange:He,children:i.jsxs(No,{className:`w-full sm:max-w-[540px] flex flex-col h-full ${r==="ar"?"rtl":"ltr"}`,children:[i.jsxs(uc,{children:[i.jsx(hl,{children:e(_e?"mleads.editLead":"mleads.createNewLead")}),i.jsx(ef,{children:e(_e?"mleads.editLeadDescription":"mleads.createLeadDescription")})]}),i.jsxs("div",{className:"mt-6 space-y-4 px-4 flex-1 overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),i.jsx(Ue,{value:Jt.company_name||"",onChange:I=>La({...Jt,company_name:I.target.value}),placeholder:e("mleads.companyName")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),i.jsx(Dn,{value:Jt.address||"",onChange:I=>La({...Jt,address:I.target.value}),placeholder:e("mleads.address")})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),i.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>Sc(!Cl),className:"h-6 px-2 text-xs",children:e(Cl?"mleads.cancel":"mleads.addContact")})]}),Us.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:Us.map((I,we)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:I.contact_name}),i.jsxs("div",{className:"text-muted-foreground",children:[I.contact_email&&`${I.contact_email}  `,I.contact_mobile&&`${I.contact_mobile}`]})]}),i.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>dX(we),className:"h-6 w-6 p-0",children:i.jsx(Ri,{className:"h-3 w-3"})})]},we))}),Cl&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ue,{placeholder:e("mleads.contactName"),value:wn.contact_name,onChange:I=>di({...wn,contact_name:I.target.value})}),i.jsx(Ue,{placeholder:e("mleads.email"),type:"email",value:wn.contact_email,onChange:I=>di({...wn,contact_email:I.target.value})}),i.jsx(Ue,{placeholder:e("mleads.mobile"),value:wn.contact_mobile,onChange:I=>di({...wn,contact_mobile:I.target.value})}),i.jsxs(ua,{open:bO,onOpenChange:wO,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":bO,className:"w-full justify-between",children:[wn.jobtitle_id?(r4=T.find(I=>I.jobtitle_id===wn.jobtitle_id))==null?void 0:r4.jobtitle_name_en:e("mleads.selectJobTitle"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchJobTitle")}),i.jsxs(ma,{children:[i.jsx(pa,{children:e("common.noResults")}),i.jsx(ga,{children:T&&T.length>0?T.map(I=>i.jsx(ur,{value:or(I,"jobtitle_name_en","jobtitle_name_ar")||I.jobtitle_name_en||"Unknown",onSelect:()=>{di(we=>({...we,jobtitle_id:I.jobtitle_id})),wO(!1)},children:or(I,"jobtitle_name_en","jobtitle_name_ar")||I.jobtitle_name_en||"Unknown"},I.jobtitle_id)):i.jsx(ur,{disabled:!0,children:"No job titles available"},"no-job-titles")})]})]})})]}),i.jsx(de,{type:"button",onClick:uX,className:"w-full",children:e("mleads.addContactTitle")})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),i.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>Wt(!wt),className:"h-6 px-2 text-xs",children:e(wt?"mleads.cancel":"mleads.addNew")})]}),wt?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ue,{placeholder:e("mleads.cityNameEn"),value:Bt.city_name_en,onChange:I=>mr({...Bt,city_name_en:I.target.value})}),i.jsx(Ue,{placeholder:e("mleads.cityNameAr"),value:Bt.city_name_ar,onChange:I=>mr({...Bt,city_name_ar:I.target.value})}),i.jsxs(ua,{open:_O,onOpenChange:jO,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":_O,className:"w-full justify-between",children:[Bt.country_id?(n4=E.find(I=>I.country_id===Bt.country_id))==null?void 0:n4.country_name_en:e("mleads.selectCountry"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchCountry")}),i.jsxs(ma,{children:[i.jsx(pa,{children:e("common.noResults")}),i.jsx(ga,{children:E.map(I=>i.jsx(ur,{value:or(I,"country_name_en","country_name_ar"),onSelect:()=>{mr({...Bt,country_id:I.country_id}),jO(!1)},children:or(I,"country_name_en","country_name_ar")},I.country_id))})]})]})})]}),i.jsx(de,{type:"button",onClick:iX,className:"w-full",children:e("mleads.createCity")})]}):i.jsxs(ua,{open:Wi,onOpenChange:El,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":Wi,className:"w-full justify-between",children:[Jt.city_id?KY(Jt.city_id):e("mleads.city"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchCity")}),i.jsxs(ma,{children:[i.jsx(pa,{children:e("common.noResults")}),i.jsx(ga,{children:d.map(I=>i.jsx(ur,{value:or(I,"city_name_en","city_name_ar"),onSelect:()=>{La({...Jt,city_id:I.city_id}),El(!1)},children:or(I,"city_name_en","city_name_ar")},I.city_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),i.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ia(!Fn),className:"h-6 px-2 text-xs",children:e(Fn?"mleads.cancel":"mleads.addNew")})]}),Fn?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ue,{placeholder:e("mleads.activityNameEn"),value:Ls.activity_name_en,onChange:I=>Po({...Ls,activity_name_en:I.target.value})}),i.jsx(Ue,{placeholder:e("mleads.activityNameAr"),value:Ls.activity_name_ar,onChange:I=>Po({...Ls,activity_name_ar:I.target.value})}),i.jsx(de,{type:"button",onClick:lX,className:"w-full",children:e("mleads.createActivity")})]}):i.jsxs(ua,{open:Rf,onOpenChange:Nc,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":Rf,className:"w-full justify-between",children:[Jt.activity_id?YY(Jt.activity_id):e("mleads.selectActivity"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchActivity")}),i.jsxs(ma,{children:[i.jsx(pa,{children:e("common.noResults")}),i.jsx(ga,{children:h.map(I=>i.jsx(ur,{value:or(I,"activity_name_en","activity_name_ar"),onSelect:()=>{La({...Jt,activity_id:I.activity_id}),Nc(!1)},children:or(I,"activity_name_en","activity_name_ar")},I.activity_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),i.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>zr(!lr),className:"h-6 px-2 text-xs",children:e(lr?"mleads.cancel":"mleads.addNew")})]}),lr?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ue,{placeholder:e("mleads.systemNameEn"),value:sa.system_name_en,onChange:I=>Gn({...sa,system_name_en:I.target.value})}),i.jsx(Ue,{placeholder:e("mleads.systemNameAr"),value:sa.system_name_ar,onChange:I=>Gn({...sa,system_name_ar:I.target.value})}),i.jsx(de,{type:"button",onClick:oX,className:"w-full",children:e("mleads.createSystem")})]}):i.jsxs(ua,{open:wx,onOpenChange:_x,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":wx,className:"w-full justify-between",children:[Jt.system_id?QY(Jt.system_id):e("mleads.selectSystem"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchSystem")}),i.jsxs(ma,{children:[i.jsx(pa,{children:e("common.noResults")}),i.jsx(ga,{children:v.map(I=>i.jsx(ur,{value:or(I,"system_name_en","system_name_ar"),onSelect:()=>{La({...Jt,system_id:I.system_id}),_x(!1)},children:or(I,"system_name_en","system_name_ar")},I.system_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),i.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>Oo(!$s),className:"h-6 px-2 text-xs",children:e($s?"mleads.cancel":"mleads.addNew")})]}),$s?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ue,{placeholder:e("mleads.statusNameEn"),value:gs.status_name_en,onChange:I=>Bs({...gs,status_name_en:I.target.value})}),i.jsx(Ue,{placeholder:e("mleads.statusNameAr"),value:gs.status_name_ar,onChange:I=>Bs({...gs,status_name_ar:I.target.value})}),i.jsx(de,{type:"button",onClick:cX,className:"w-full",children:e("mleads.createStatus")})]}):i.jsxs(ua,{open:Yu,onOpenChange:Mp,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":Yu,className:"w-full justify-between",children:[Jt.status_id?XY(Jt.status_id):e("mleads.selectStatus"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchStatus")}),i.jsxs(ma,{children:[i.jsx(pa,{children:e("common.noResults")}),i.jsx(ga,{children:g.map(I=>i.jsx(ur,{value:or(I,"status_name_en","status_name_ar"),onSelect:()=>{La({...Jt,status_id:I.status_id}),Mp(!1)},children:or(I,"status_name_en","status_name_ar")},I.status_id))})]})]})})]})]}),Jt.status_id===7&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[i.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Cg,{className:"h-4 w-4 text-yellow-600"}),e("mleads.uploadQuotation")]}),i.jsx(Ue,{type:"file",onChange:I=>{var Ie;const we=(Ie=I.target.files)==null?void 0:Ie[0];we&&_n(we)},className:"cursor-pointer"}),QO(Jt.lead_quotation)&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:i.jsx("button",{onClick:()=>{const I=window.open();if(I)I.document.write(`
                          <html>
                            <body style="margin:0;padding:20px;">
                              <embed src="${Jt.lead_quotation}" width="100%" height="100%" />
                            </body>
                          </html>
                        `);else{const we=document.createElement("a");we.href=Jt.lead_quotation,we.download="quotation.pdf",we.click()}},className:"ms-1 text-blue-600 hover:underline font-medium bg-transparent border-none cursor-pointer",children:e("mleads.viewQuotation")})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),i.jsxs(ua,{open:pj,onOpenChange:vO,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":pj,className:"w-full justify-between",children:[Jt.stage_id?JY(Jt.stage_id):e("mleads.selectStage"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchStage")}),i.jsxs(ma,{children:[i.jsx(pa,{children:e("common.noResults")}),i.jsx(ga,{children:b.map(I=>i.jsx(ur,{value:I.stage_name,onSelect:()=>{La({...Jt,stage_id:I.stage_id}),vO(!1)},children:I.stage_name},I.stage_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),i.jsxs(ua,{open:xO,onOpenChange:yO,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":xO,className:"w-full justify-between",children:[Jt.assigned_to?YO(Jt.assigned_to):e("mleads.selectUser"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mleads.searchUser")}),i.jsxs(ma,{children:[i.jsx(pa,{children:e("common.noResults")}),i.jsx(ga,{children:C.map(I=>i.jsx(ur,{value:I.user_name,onSelect:()=>{La({...Jt,assigned_to:I.userid}),yO(!1)},children:I.user_name},I.user_id))})]})]})})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[i.jsx(de,{variant:"outline",onClick:()=>He(!1),children:e("common.cancel")}),i.jsx(de,{onClick:eX,children:e("common.save")})]})]})}),ye&&i.jsx(LVe,{filteredLeads:Cc,statuses:g,systems:v,activities:h,cities:d,users:C}),me&&i.jsx("div",{className:"flex-shrink-0 pb-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e("mleads.reports")}),i.jsxs(de,{variant:"outline",size:"sm",onClick:sX,disabled:!pe||tt,className:"flex items-center gap-2",children:[i.jsx(vB,{className:"h-4 w-4"}),e("common.export")]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.selectReport")}),i.jsxs(ft,{value:at,onValueChange:qt,children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:e("mleads.selectReport")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"leads_summary",children:e("mleads.leadsSummaryReport")}),i.jsx(ke,{value:"leads_by_city",children:e("mleads.leadsByCityReport")}),i.jsx(ke,{value:"leads_conversion",children:e("mleads.leadsConversionReport")}),i.jsx(ke,{value:"sales_performance",children:e("mleads.salesPerformanceReport")}),i.jsx(ke,{value:"leads_trend_simple",children:e("mleads.leadsTrendReport")})]})]})]}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.reportParameters")}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[at==="leads_summary"&&i.jsxs(ft,{value:br.status_id||"all",onValueChange:I=>Ec("status_id",I==="all"?null:I),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:e("mleads.allStatuses")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:e("mleads.allStatuses")}),g.map(I=>i.jsx(ke,{value:I.status_id.toString(),children:or(I,"status_name_en","status_name_ar")},I.status_id))]})]}),at==="leads_by_city"&&i.jsxs(i.Fragment,{children:[i.jsxs(ft,{value:br.city_id||"all",onValueChange:I=>Ec("city_id",I==="all"?null:I),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:e("mleads.allCities")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:e("mleads.allCities")}),d.map(I=>i.jsx(ke,{value:I.city_id.toString(),children:or(I,"city_name_en","city_name_ar")},I.city_id))]})]}),i.jsx(Ue,{type:"date",placeholder:e("mleads.startDate"),value:br.start_date||"",onChange:I=>Ec("start_date",I.target.value)})]}),(at==="leads_conversion"||at==="sales_performance"||at==="leads_trend_simple")&&i.jsxs(i.Fragment,{children:[i.jsx(Ue,{type:"date",placeholder:e("mleads.startDate"),value:br.start_date||"",onChange:I=>Ec("start_date",I.target.value)}),i.jsx(Ue,{type:"date",placeholder:e("mleads.endDate"),value:br.end_date||"",onChange:I=>Ec("end_date",I.target.value)})]}),at==="leads_conversion"&&i.jsxs(ft,{value:br.activity_id||"all",onValueChange:I=>Ec("activity_id",I==="all"?null:I),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:e("mleads.allActivities")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:e("mleads.allActivities")}),h.map(I=>i.jsx(ke,{value:I.activity_id.toString(),children:or(I,"activity_name_en","activity_name_ar")},I.activity_id))]})]}),at==="leads_conversion"&&i.jsxs(ft,{value:br.system_id||"all",onValueChange:I=>Ec("system_id",I==="all"?null:I),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:e("mleads.allSystems")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:e("mleads.allSystems")}),v.map(I=>i.jsx(ke,{value:I.system_id.toString(),children:or(I,"system_name_en","system_name_ar")},I.system_id))]})]}),at==="sales_performance"&&i.jsxs(ft,{value:br.assigned_to||"all",onValueChange:I=>Ec("assigned_to",I==="all"?null:I),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:e("mleads.allUsers")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:e("mleads.allUsers")}),C.map(I=>{var gt;const we=(gt=I.userid||I.user_id||I.id)==null?void 0:gt.toString(),Ie=I.name||I.user_name||I.display_name||"-";return i.jsx(ke,{value:we,children:Ie},we)})]})]})]})]})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx(de,{onClick:aX,disabled:tt,className:"flex items-center gap-2 px-6",children:tt?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e("common.loading")]}):i.jsxs(i.Fragment,{children:[i.jsx(bB,{className:"h-4 w-4"}),e("mleads.runReport")]})})}),pe&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-md font-medium",children:e("mleads.reportResults")}),i.jsxs(pt,{variant:"secondary",children:[((a4=pe.data)==null?void 0:a4.length)||0," ",e("mleads.records")]})]}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-96",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted",children:i.jsx("tr",{children:(s4=pe.columns)==null?void 0:s4.map((I,we)=>i.jsx("th",{className:"px-4 py-2 text-left font-medium border-b",children:I.replace(/_/g," ").replace(/\b\w/g,Ie=>Ie.toUpperCase())},we))})}),i.jsx("tbody",{children:(i4=pe.data)==null?void 0:i4.map((I,we)=>{var Ie;return i.jsx("tr",{className:"border-b hover:bg-muted/50",children:(Ie=pe.columns)==null?void 0:Ie.map((gt,Pr)=>i.jsx("td",{className:"px-4 py-2 border-b",children:I[gt]||"-"},Pr))},we)})})]})})}),at==="leads_by_city"&&pe.data&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.jsxs(Qo,{config:{},children:[i.jsx("h4",{className:"text-sm font-medium mb-3 text-center",children:e("mleads.leadsByCity")}),i.jsx(nf,{width:"100%",height:300,children:i.jsxs(VI,{data:pe.data,children:[i.jsx(cf,{strokeDasharray:"3 3"}),i.jsx(gl,{dataKey:"city_name"}),i.jsx(vl,{}),i.jsx(ba,{}),i.jsx(Ti,{}),i.jsx(_i,{dataKey:"total_leads",fill:"#3b82f6",name:e("mleads.totalLeads")}),i.jsx(_i,{dataKey:"won_leads",fill:"#10b981",name:e("mleads.wonLeads")}),i.jsx(_i,{dataKey:"lost_leads",fill:"#ef4444",name:e("mleads.lostLeads")})]})})]})}),at==="sales_performance"&&pe.data&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.jsxs(Qo,{config:{},children:[i.jsx("h4",{className:"text-sm font-medium mb-3 text-center",children:e("mleads.salesPerformance")}),i.jsx(nf,{width:"100%",height:300,children:i.jsxs(VI,{data:pe.data,children:[i.jsx(cf,{strokeDasharray:"3 3"}),i.jsx(gl,{dataKey:"sales_person"}),i.jsx(vl,{}),i.jsx(ba,{}),i.jsx(Ti,{}),i.jsx(_i,{dataKey:"won_deals",fill:"#10b981",name:e("mleads.wonDeals")}),i.jsx(_i,{dataKey:"lost_deals",fill:"#ef4444",name:e("mleads.lostDeals")}),i.jsx(_i,{dataKey:"pending_leads",fill:"#f59e0b",name:e("mleads.pendingLeads")})]})})]})})]})]})}),i.jsx(st,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:i.jsx(xt,{className:"h-full flex flex-col p-0 overflow-hidden",children:Ge==="kanban"?i.jsx(Aq,{items:Cc.map(I=>({...I,id:I.leads_id,title:I.company_name||"No Company"})),stages:b.map(I=>({...I,id:I.stage_id,name:I.stage_name})),stageType:"mleads",renderItem:(I,we)=>i.jsx(uWe,{lead:I,stages:we.stages,onDelete:we.onDelete,onClick:()=>JO(I),onDragStart:we.onDragStart,onStageChange:we.onStageChange,isDragging:we.isDragging}),onItemUpdate:async(I,we)=>{we.stage!==void 0&&(await X.mLeads.update(I,{stage_id:we.stage}),l(o.map(Ie=>Ie.leads_id===I?{...Ie,stage_id:we.stage}:Ie)))},onItemDelete:async I=>{await X.mLeads.delete(I),l(o.filter(we=>we.leads_id!==I))},onItemCreate:async(I,we)=>{const Ie={company_name:we.title,address:we.description,city_id:null,activity_id:null,system_id:null,stage_id:I,status_id:1,assigned_to:null},gt=await X.mLeads.create(Ie);l([...o,gt])},onStageCreate:async I=>{const we=await X.stages.create({stage_name:I.name,stage_name_ar:I.name_ar,stager_order_index:I.order_index,project_id:null,color:I.color,color_var:I.color_var,stage_type:"mleads"});w([...b,we])},onStageUpdate:async(I,we)=>{await X.stages.update(I,{stage_name:we.name}),w(b.map(Ie=>Ie.stage_id===I?{...Ie,stage_name:we.name}:Ie))},onStageDelete:async I=>{await X.stages.delete(I),w(b.filter(we=>we.stage_id!==I)),Ej()},canManageStages:!0,canManageItems:!0,showAddButton:!0,addButtonText:e("mleads.addNewLead"),addButtonDescription:e("mleads.addNewLeadDesc"),mobileSelectedStageId:TY,onMobileStageChange:AY}):i.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:Cc.length===0?i.jsx(vo,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:i.jsx(zn,{className:"h-12 w-12"})}):i.jsx(mc,{data:GY,columns:["kanban","timeline"].includes(Ge)?[]:mX,actions:pX,bulkActions:hX,enableBulkSelect:!0,keyExtractor:I=>I.leads_id.toString(),onRowClick:I=>JO(I),rowHeight:"h-26"},`leads-${re}-${fe}-${se}-${Pe}-${Le}-${Re}-${M}-${ie}`)}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:Xu>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Km,{children:i.jsxs(Ym,{children:[i.jsx(Sa,{children:i.jsx(iu,{onClick:()=>G(Math.max(1,ie-1)),className:ie===1||H?"pointer-events-none opacity-50":"cursor-pointer",disabled:H,children:e("common.previous")})}),i.jsx(Sa,{children:i.jsx("span",{className:"px-3 py-2 text-sm flex items-center gap-2",children:H?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e("common.loading")]}):i.jsxs(i.Fragment,{children:[e("common.page")," ",ie," ",e("common.of")," ",Xu]})})}),i.jsx(Sa,{children:i.jsx(ou,{onClick:()=>G(Math.min(Xu,ie+1)),className:ie===Xu||H?"pointer-events-none opacity-50":"cursor-pointer",disabled:H,children:e("common.next")})})]})})})})]})})}),i.jsx(Rs,{open:Xe!==null,onOpenChange:()=>_t(null),children:i.jsxs(ns,{children:[i.jsxs(as,{children:[i.jsx(is,{children:e("mleads.deleteLead")}),i.jsx(os,{children:e("mleads.deleteLeadConfirm")})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:e("common.cancel")}),i.jsx(ls,{onClick:()=>Xe&&tX(Xe),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),i.jsx(fl,{open:F,onOpenChange:Y,children:i.jsxs(No,{side:n?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[i.jsxs(uc,{children:[i.jsxs(hl,{className:"flex items-center gap-2 min-w-0",children:[i.jsx(zn,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:J==null?void 0:J.company_name})]}),i.jsx(ef,{children:e("mleads.leadDetailsDescription")})]}),J&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),i.jsxs(de,{onClick:()=>{t4(J),Y(!1)},variant:"outline",size:"sm",children:[i.jsx(Di,{className:"h-4 w-4 me-2"}),e("common.edit")]})]}),i.jsxs(Co,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Fi,{className:`flex w-full ${n?"flex-row-reverse":""}`,children:[i.jsx(Er,{value:"overview",className:"flex-1",children:e("common.overview")}),i.jsx(Er,{value:"notes",className:"flex-1",children:e("notes.title")})]}),i.jsxs(Jr,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:J.company_name||"-"}),J.address&&i.jsx("p",{className:"text-muted-foreground mt-1",children:J.address})]}),QO(J.lead_quotation)&&i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(Cg,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.quotation")}),i.jsx("button",{onClick:()=>{const I=window.open();if(I)I.document.write(`
                                <html>
                                  <body style="margin:0;padding:20px;">
                                    <embed src="${J.lead_quotation}" width="100%" height="100%" />
                                  </body>
                                </html>
                              `);else{const we=document.createElement("a");we.href=J.lead_quotation,we.download="quotation.pdf",we.click()}},className:"font-medium text-blue-600 hover:underline truncate block bg-transparent border-none cursor-pointer text-left",children:e("mleads.viewQuotation")})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(mm,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),i.jsx("p",{className:"font-medium",children:WO(J)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(mB,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),i.jsx("p",{className:"font-medium",children:HO(J)})]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),i.jsx(pt,{variant:"outline",className:`text-xs ${XO(J.status_id)}`,children:qO(J)})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),i.jsx(pt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:KO(J)})]})}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(zn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),i.jsx("p",{className:"font-medium",children:GO(J)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(On,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),i.jsx("p",{className:"font-medium",children:J.created_by_name||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(On,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),i.jsx("p",{className:"text-sm font-medium",children:J.Users_name||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(On,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.decisionMaker")}),i.jsx("p",{className:"text-sm font-medium",children:J.decision_maker||"-"})]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),i.jsx("p",{className:"text-sm font-medium",children:new Date(J.created_at).toLocaleDateString()})]})}),i.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),i.jsx("p",{className:"text-sm mt-1",children:J.notes||"-"})]})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const I=S.length>0?S:[];return I.length>0?i.jsx("div",{className:"space-y-2",children:I.map((we,Ie)=>{var gt;return i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:we.contact_name||"-"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[we.contact_email&&`${we.contact_email}  `,we.contact_mobile&&`${we.contact_mobile}`]})]}),i.jsx(pt,{variant:"outline",className:"text-xs",children:((gt=T.find(Pr=>Pr.jobtitle_id===we.jobtitle_id))==null?void 0:gt.jobtitle_name_en)||"-"})]},we.contact_id||Ie)})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),i.jsx(Jr,{value:"notes",className:"mt-4",children:i.jsx(gP,{relatedType:"mlead",relatedId:J.leads_id,notes:he,onNotesChange:()=>ZO(J.leads_id)})})]})]})]})})]})}async function jN(e,t,r={}){return new Promise((n,a)=>{const s=new FileReader;s.onload=()=>{try{const l=s.result.split(",")[1],c={bucket:"database",path:`projects/${t}/contract_${Date.now()}_${e.name}`,url:null,name:e.name,filename:e.name,mime:e.type,size:e.size,uploaded_by:"current_user",uploaded_at:new Date().toISOString()};console.log("File converted to base64, length:",l.length),n(c)}catch(o){a(o)}},s.onerror=()=>{a(new Error("Failed to read file"))},s.readAsDataURL(e)})}async function fWe(e){return new Promise(t=>{console.log(`Delete contract for project ${e} - setting contract_document to NULL`),t()})}function hWe(){var oe,J,ne;const{t:e}=At(),{user:t}=hr(),{currentLanguage:r,isRTL:n}=ir(),{toast:a}=Li();Ur();const{setBreadcrumbs:s}=Rv();Ms();const[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[g,p]=x.useState([]),[v,y]=x.useState([]),[b,w]=x.useState([]),[j,_]=x.useState(!0),[S,N]=x.useState(null),[C,k]=x.useState(""),[E,O]=x.useState(0),[T]=x.useState(9),[U,W]=x.useState(0),[R,z]=x.useState(""),[P,M]=x.useState(""),[L,q]=x.useState(null),[Z,A]=x.useState(null),[B,H]=x.useState(!1),[V,te]=x.useState(!1),[le,xe]=x.useState({city_name_en:"",city_name_ar:"",country_id:null});x.useState(null);const[ie,G]=x.useState(null),[Q,D]=x.useState(!1),[ce,je]=x.useState([]),[be,Pe]=x.useState(!1),[De,Le]=x.useState("list"),[et,se]=x.useState(null),[ge,re]=x.useState(""),[ae,fe]=x.useState([]),[Ee,Re]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Je,Xe]=x.useState(!1),[_t,_e]=x.useState(!1);x.useState(!1),x.useState(!1),x.useState(!1);const[$e,Be]=x.useState(!1),[He,wt]=x.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[s,e]),x.useEffect(()=>{Wt()},[]),x.useEffect(()=>{Bt()},[E,C,R,P,d]),x.useEffect(()=>{be&&mr()},[be,C,R,P,d]);const Wt=async()=>{try{_(!0),N(null);const[F,Y,he,Ne,ye]=await Promise.all([X.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"city_id,city_name_en,city_name_ar"}),X.mContacts.list({sort_by:"contact_name",sort_order:"asc"}),X.Users.list({sort_by:"user_name",sort_order:"asc"}),X.mCountry.list({sort_by:"country_name_en",sort_order:"asc"}),X.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc"})]),Se=Ae=>Array.isArray(Ae)?Ae:Ae!=null&&Ae.data&&Array.isArray(Ae.data)?Ae.data:[];f(Se(F)),m(Se(Y)),p(Se(he)),y(Se(Ne)),w(Se(ye))}catch(F){const Y=F instanceof Error?F.message:"Failed to load data";N(Y),a({title:"Error",description:Y,variant:"destructive"})}finally{_(!1)}},Bt=async()=>{try{_(!0),N(null);const F={};if(R&&(F.city_id=R),P){const Ne=d.filter(ye=>{var Se;return((Se=ye.country_id)==null?void 0:Se.toString())===P}).map(ye=>ye.city_id);Ne.length>0?F.city_id=Ne:F.city_id=-1}const Y={page:E,limit:T,sort_by:"created_at",sort_order:"desc",exact_filters:F};C&&(Y.search=C);const he=await X.mProjects.list(Y);l(he.data||[]),W(he.total||0)}catch(F){const Y=F instanceof Error?F.message:"Failed to load data";N(Y),a({title:"Error",description:Y,variant:"destructive"})}finally{_(!1)}},mr=async()=>{try{const F={};if(R&&(F.city_id=R),P){const Ne=d.filter(ye=>{var Se;return((Se=ye.country_id)==null?void 0:Se.toString())===P}).map(ye=>ye.city_id);Ne.length>0?F.city_id=Ne:F.city_id=-1}const Y={limit:1e3,exact_filters:F};C&&(Y.search=C);const he=await X.mProjects.list(Y);u(he.data||[])}catch(F){console.error("Failed to load all filtered projects:",F)}},lr=async()=>{try{const F=await X.mContacts.list({sort_by:"contact_name",sort_order:"asc"});m(F.data||[])}catch(F){console.error("Failed to load contacts:",F)}},zr=x.useMemo(()=>be?c:o,[be,c,o]),sa=x.useMemo(()=>{if(be){const F=E*T,Y=F+T;return zr.slice(F,Y)}else return o},[be,zr,o,E,T]),Gn=Math.ceil(U/T);x.useEffect(()=>{E>=Gn&&Gn>0&&O(Gn-1)},[E,Gn]);const Fn=(F,Y,he)=>{if(!F)return"-";let Ne=r==="ar"&&(F==null?void 0:F[he])||(F==null?void 0:F[Y]);if(!Ne){const ye=Y.replace(/_en$/,""),Se=he.replace(/_ar$/,"");Ne=r==="ar"&&(F==null?void 0:F[Se])||(F==null?void 0:F[ye])}return Ne||(F==null?void 0:F.name)||(F==null?void 0:F.label)||(F==null?void 0:F.title)||"-"},Ia=F=>{if(F==null||F==="")return"-";const Y=Number(F),he=d.find(Ne=>Number(Ne.city_id)===Y||Number(Ne.id)===Y);return Fn(he,"city_name_en","city_name_ar")},Ls=async()=>{if(!_t){_e(!0);try{let F;if(Z){if(await X.mProjects.update(Z,He),F=Z,et)try{const Y=await jN(et,F);await X.mProjects.update(F,{contract_document:Y.path}),a({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")})}catch(Y){console.error("Contract upload failed:",Y),a({title:e("common.error"),description:Y.message||"Failed to upload contract document"})}a({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")})}else{const Y={...He,created_by:t==null?void 0:t.id};let he=null;if(et)try{he=(await jN(et,"new")).path,a({title:e("common.success"),description:e("mprojects.contractUploaded")})}catch(ye){console.error("Contract upload failed:",ye),a({title:e("common.error"),description:ye.message||"Failed to upload contract document"})}const Ne=await X.mProjects.create({...Y,contract_document:he});if(F=Ne.id||Ne.project_id,!F)throw new Error("Failed to create project");a({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(Z){const Y=h.filter(he=>he.project_id===Z);for(const he of Y)await X.mContacts.delete(he.contact_id);ae.length>0&&await di(F)}else ae.length>0&&await di(F);if(et){re("Uploading contract document...");try{await jN(et,F,{bucket:"projects",publicBucket:!1}),re("Document uploaded successfully"),a({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(Y){console.error("File upload failed:",Y),re("Document upload failed"),a({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}H(!1),A(null),wt({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),fe([]),se(null),re(""),await Bt(),await lr()}catch(F){const Y=F instanceof Error?F.message:"Failed to save";a({title:"Error",description:Y,variant:"destructive"})}finally{_e(!1)}}},Po=async F=>{try{await X.mProjects.delete(F),a({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),q(null),await Bt()}catch(Y){const he=Y instanceof Error?Y.message:"Failed to delete";a({title:"Error",description:he,variant:"destructive"})}},$s=F=>{G(F),Oo(F.project_id),lr(),D(!0)},Oo=async F=>{try{const Y=await $h.getByRelated("mlead",F);je(Y)}catch(Y){console.error("Failed to load notes:",Y),je([])}},gs=F=>{A(F.project_id),wt(F);const Y=h.filter(he=>he.project_id===F.project_id);fe(Y.map(he=>{var Ne;return{contact_name:he.contact_name||"",contact_email:he.contact_email||"",contact_mobile:((Ne=he.contact_mobile)==null?void 0:Ne.toString())||"",jobtitle_id:he.jobtitle_id}})),H(!0)},Bs=async F=>{try{await Promise.all(F.map(Y=>X.mProjects.delete(Y))),a({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),await Bt()}catch(Y){const he=Y instanceof Error?Y.message:"Failed to delete";a({title:"Error",description:he,variant:"destructive"})}},Us=async()=>{try{if(!le.city_name_en&&!le.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const F=await X.mCity.create(le);F&&(f([...d,F]),wt({...He,city_id:F.city_id}),te(!1),xe({city_name_en:"",city_name_ar:"",country_id:null}),a({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")}))}catch(F){const Y=F instanceof Error?F.message:"Failed to create city";a({title:"Error",description:Y,variant:"destructive"})}},ui=()=>{if(!Ee.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(ae.some(Y=>Y.contact_name===Ee.contact_name&&Y.contact_email===Ee.contact_email&&Y.contact_mobile===Ee.contact_mobile)){a({title:"Warning",description:"This contact already exists",variant:"destructive"});return}fe([...ae,{...Ee}]),Re({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Xe(!1)},wn=F=>{fe(ae.filter((Y,he)=>he!==F))},di=async F=>{try{const Y=ae.map(he=>({contact_name:he.contact_name,contact_email:he.contact_email,contact_mobile:he.contact_mobile?parseInt(he.contact_mobile):null,jobtitle_id:he.jobtitle_id,project_id:F}));if(Y.length>0)for(const he of Y)await X.mContacts.create(he)}catch(Y){const he=Y instanceof Error?Y.message:"Failed to save contacts";a({title:"Error",description:he,variant:"destructive"})}};if(j)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:e("common.loading"),size:"2xl"})});if(S)return i.jsx(Tp,{message:S,onRetry:Wt});const Cl=[{label:e("common.delete"),icon:i.jsx(Zt,{}),onClick:F=>{window.confirm(`Delete ${F.length} projects?`)&&Bs(F.map(Y=>Y.project_id))},variant:"destructive"}],Sc=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:F=>i.jsx(pc,{title:F.company_name||"-",subtitle:F.contract_code||"",icon:i.jsx(zn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:F=>i.jsx("span",{className:"text-sm text-foreground",children:Ia(F.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:F=>i.jsx(pt,{variant:"outline",className:"text-xs",children:F.contract_amount?`$${F.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:F=>i.jsx("span",{className:"text-sm text-muted-foreground",children:F.cont_start_date?new Date(F.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:F=>i.jsx("span",{className:"text-sm text-muted-foreground",children:F.cont_end_date?new Date(F.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:F=>i.jsx(kf,{date:F.created_at})}],K=[{icon:i.jsx(Di,{}),label:e("common.edit"),onClick:F=>gs(F)},{icon:i.jsx(Zt,{}),label:e("common.delete"),onClick:F=>q(F.project_id),variant:"destructive"}];return i.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:n?"rtl":"ltr",children:[i.jsxs("div",{className:"flex-shrink-0 pb-3",children:[i.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4 mb-3",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[i.jsxs(de,{variant:"outline",size:"default",onClick:()=>Le(De==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[De==="list"?i.jsx(ei,{className:"h-4 w-4"}):i.jsx(zn,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e(De==="list"?"mprojects.kanbanView":"mprojects.listView")})]}),i.jsxs(de,{variant:be?"default":"outline",size:"default",onClick:()=>Pe(!be),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(ei,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mprojects.showChart")}),i.jsx(Oh,{className:`h-4 w-4 transition-transform ${be?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:n?"rtl":"ltr",children:[i.jsx(hs,{className:`absolute ${n?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),i.jsx(Ue,{placeholder:e("mprojects.searchPlaceholder"),value:C,onChange:F=>{k(F.target.value),O(1)},className:"ps-10 pe-3 h-10 bg-background border-input"})]})]}),i.jsxs(fl,{open:B,onOpenChange:H,children:[i.jsx(N7,{asChild:!0,children:i.jsxs(de,{size:"default",onClick:()=>{A(null),wt({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),fe([]),se(null),re(""),te(!1),Xe(!1),xe({city_name_en:"",city_name_ar:"",country_id:null}),Re({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),H(!0)},className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:n?"rtl":"ltr",children:[i.jsx(Ut,{className:`w-4 h-4 ${n?"order-2":"order-1"}`}),i.jsx("span",{className:`${n?"order-1":"order-2"}`,children:e("common.add")})]})}),i.jsxs(No,{side:n?"left":"right",className:"w-full sm:max-w-[540px] flex flex-col h-full p-0",children:[i.jsx(uc,{className:"p-6 pb-0",children:i.jsx(hl,{children:e(Z?"mprojects.editProject":"mprojects.createNewProject")})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),i.jsx(Ue,{value:He.company_name||"",onChange:F=>wt({...He,company_name:F.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),i.jsx(Ue,{value:He.contract_code||"",onChange:F=>wt({...He,contract_code:F.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),i.jsx(Ue,{type:"number",value:He.contract_amount||"",onChange:F=>wt({...He,contract_amount:parseFloat(F.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),i.jsx(Ue,{type:"date",value:He.cont_start_date||"",onChange:F=>wt({...He,cont_start_date:F.target.value}),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),i.jsx(Ue,{type:"date",value:He.cont_end_date||"",onChange:F=>wt({...He,cont_end_date:F.target.value}),className:"h-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),i.jsxs(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>te(!V),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[i.jsx(Ut,{className:"h-3 w-3 mr-1"}),e(V?"mprojects.cancel":"mprojects.addCity")]})]}),V?i.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[i.jsx(Ue,{placeholder:"City Name (English)",value:le.city_name_en,onChange:F=>xe({...le,city_name_en:F.target.value}),className:"h-9"}),i.jsx(Ue,{placeholder:"City Name (Arabic)",value:le.city_name_ar,onChange:F=>xe({...le,city_name_ar:F.target.value}),className:"h-9"}),i.jsxs(ft,{value:((oe=le.country_id)==null?void 0:oe.toString())||"",onValueChange:F=>xe({...le,country_id:parseInt(F)}),children:[i.jsx(ut,{className:"h-9",children:i.jsx(ht,{placeholder:"Select Country"})}),i.jsx(dt,{children:v.map(F=>i.jsx(ke,{value:F.country_id.toString(),children:Fn(F,"country_name_en","country_name_ar")},F.country_id))})]}),i.jsxs(de,{onClick:Us,size:"sm",className:"w-full h-9",children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):i.jsxs(ft,{value:((J=He.city_id)==null?void 0:J.toString())||"",onValueChange:F=>wt({...He,city_id:parseInt(F)||null}),children:[i.jsx(ut,{className:"h-10",children:i.jsx(ht,{placeholder:e("mprojects.selectCity")})}),i.jsx(dt,{children:d.map(F=>i.jsx(ke,{value:F.city_id.toString(),children:Fn(F,"city_name_en","city_name_ar")},F.city_id))})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),i.jsxs(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>Xe(!Je),className:"h-6 px-2 text-xs",children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),e(Je?"mprojects.cancel":"mprojects.addContact")]})]}),ae.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:ae.map((F,Y)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:F.contact_name}),i.jsxs("div",{className:"text-muted-foreground",children:[F.contact_email&&`${F.contact_email}  `,F.contact_mobile&&`${F.contact_mobile}`]})]}),i.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>wn(Y),className:"h-6 w-6 p-0",children:i.jsx(Ri,{className:"h-3 w-3"})})]},Y))}),Je&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ue,{placeholder:e("mprojects.contactName"),value:Ee.contact_name,onChange:F=>Re({...Ee,contact_name:F.target.value})}),i.jsx(Ue,{placeholder:e("mprojects.email"),type:"email",value:Ee.contact_email,onChange:F=>Re({...Ee,contact_email:F.target.value})}),i.jsx(Ue,{placeholder:e("mprojects.mobile"),value:Ee.contact_mobile,onChange:F=>Re({...Ee,contact_mobile:F.target.value})}),i.jsxs(ua,{open:$e,onOpenChange:Be,children:[i.jsx(da,{asChild:!0,children:i.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":$e,className:"w-full justify-between",children:[Ee.jobtitle_id?(ne=b.find(F=>F.jobtitle_id===Ee.jobtitle_id))==null?void 0:ne.jobtitle_name_en:e("mprojects.selectJobTitle"),i.jsx($a,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Yn,{className:"w-full p-0",children:i.jsxs(fa,{children:[i.jsx(ha,{placeholder:e("mprojects.searchJobTitle")}),i.jsxs(ma,{children:[i.jsx(pa,{children:e("common.noResults")}),i.jsx(ga,{children:b&&b.length>0?b.map(F=>i.jsx(ur,{value:Fn(F,"jobtitle_name_en","jobtitle_name_ar")||F.jobtitle_name_en||"Unknown",onSelect:()=>{Re(Y=>({...Y,jobtitle_id:F.jobtitle_id})),Be(!1)},children:Fn(F,"jobtitle_name_en","jobtitle_name_ar")||F.jobtitle_name_en||"Unknown"},F.jobtitle_id)):i.jsx(ur,{disabled:!0,children:"No job titles available"})})]})]})})]}),i.jsx(de,{type:"button",onClick:ui,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),i.jsx(Ue,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:F=>{var he;const Y=(he=F.target.files)==null?void 0:he[0];se(Y||null)},className:"file:hidden cursor-pointer"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),et&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[i.jsx(ya,{className:"h-5 w-5 text-primary flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:et.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(et.size/1024/1024).toFixed(2)," MB"]})]}),i.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>se(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:i.jsx(Ri,{className:"h-4 w-4"})})]}),ge&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx(Pa,{size:"sm"}),i.jsx("span",{className:"text-sm text-blue-700",children:ge})]})]})]})]}),i.jsx("div",{className:"p-6 border-t bg-muted/20",children:i.jsx(de,{onClick:Ls,className:"w-full",disabled:_t||!He.company_name,children:e(_t?"common.saving":Z?"common.save":"common.create")})})]})]})]})}),i.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")||"Filters"}),(R||P||C)&&i.jsx(de,{variant:"outline",size:"sm",onClick:()=>{z(""),M(""),k(""),O(1)},children:e("mprojects.clearFilters")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(ft,{value:P||"all",onValueChange:F=>{M(F==="all"?"":F),O(1)},children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:e("mprojects.country")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:e("mprojects.allCountries")}),v.map(F=>i.jsx(ke,{value:F.country_id.toString(),children:Fn(F,"country_name_en","country_name_ar")},F.country_id))]})]}),i.jsxs(ft,{value:R||"all",onValueChange:F=>{z(F==="all"?"":F),O(1)},children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:e("mprojects.city")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:e("mprojects.allCities")}),d.map(F=>i.jsx(ke,{value:F.city_id.toString(),children:Fn(F,"city_name_en","city_name_ar")},F.city_id))]})]})]})]})]}),be&&i.jsxs(st,{children:[i.jsx(Ht,{children:i.jsx(vr,{children:e("mprojects.analytics")})}),i.jsx(xt,{children:i.jsxs(Co,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Fi,{className:"grid w-full grid-cols-2",children:[i.jsx(Er,{value:"overview",children:"Overview"}),i.jsx(Er,{value:"timeline",children:"Timeline"})]}),i.jsx(Jr,{value:"overview",className:"mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),i.jsx(Qo,{config:{},className:"h-[350px]",children:i.jsxs(od,{children:[i.jsx(Ga,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(he=>({name:he.name,value:zr.filter(Ne=>Ne.contract_amount&&Ne.contract_amount>=he.min&&Ne.contract_amount<he.max).length})).filter(he=>he.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:F,value:Y})=>`${F}: ${Y}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((F,Y)=>i.jsx(Xo,{fill:F},`cell-${Y}`))}),i.jsx(dd,{content:i.jsx(Gc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),i.jsx(Qo,{config:{},className:"h-[350px]",children:i.jsxs(od,{children:[i.jsx(Ga,{data:(()=>{const F=d.map(Y=>({name:Fn(Y,"city_name_en","city_name_ar"),value:zr.filter(he=>he.city_id===Y.city_id).length})).filter(Y=>Y.value>0);return F.length>0?F:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:F,value:Y})=>`${F}: ${Y}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((F,Y)=>i.jsx(Xo,{fill:F},`cell-${Y}`))}),i.jsx(dd,{content:i.jsx(Gc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),i.jsx("div",{className:"text-5xl font-bold text-primary",children:zr.length}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),i.jsx(Jr,{value:"timeline",className:"mt-4",children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(nf,{width:"100%",height:"100%",children:i.jsxs(G_,{data:(()=>{const F=new Map;return zr.forEach(he=>{const Ne=new Date(he.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});F.set(Ne,(F.get(Ne)||0)+1)}),Array.from(F.entries()).sort((he,Ne)=>new Date(he[0]).getTime()-new Date(Ne[0]).getTime()).map(([he,Ne])=>({date:he,count:Ne}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[i.jsx(cf,{strokeDasharray:"3 3"}),i.jsx(gl,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),i.jsx(vl,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),i.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:F=>[`${F} projects`,"Total"]}),i.jsx(Ti,{}),i.jsx(qu,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),i.jsx(st,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:i.jsx(xt,{className:"h-full flex flex-col p-0",children:i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-4",children:De==="kanban"?i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:sa.map(F=>{var Y;return i.jsxs(st,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>$s(F),children:[i.jsx(Ht,{className:"pb-2 px-4 pt-3",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:F.company_name||"No Company"}),F.contract_code&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:F.contract_code})]})})}),i.jsxs(xt,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(mm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:Ia(F.city_id)})]})}),i.jsx("div",{children:i.jsxs(pt,{variant:"outline",className:"text-xs",children:["$",((Y=F.contract_amount)==null?void 0:Y.toLocaleString())||"0"]})})]}),i.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("span",{children:["Created: ",new Date(F.created_at).toLocaleDateString()]})})})]})]},F.project_id)})})}):i.jsx(i.Fragment,{children:zr.length===0?i.jsx(vo,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:i.jsx(zn,{className:"h-12 w-12"})}):i.jsx(mc,{data:sa,columns:Sc,actions:K,bulkActions:Cl,enableBulkSelect:!0,keyExtractor:F=>F.project_id.toString(),onRowClick:F=>$s(F),rowHeight:"h-26"})})})})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:Gn>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Km,{children:i.jsxs(Ym,{children:[i.jsx(Sa,{children:i.jsx(iu,{onClick:()=>O(Math.max(0,E-1)),className:E===0?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",E+1," ",e("common.of")," ",Gn]})}),i.jsx(Sa,{children:i.jsx(ou,{onClick:()=>O(Math.min(Gn-1,E+1)),className:E===Gn-1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})}),i.jsx(Rs,{open:L!==null,onOpenChange:()=>q(null),children:i.jsxs(ns,{children:[i.jsxs(as,{children:[i.jsx(is,{children:e("mprojects.deleteProject")}),i.jsx(os,{children:e("mprojects.deleteProjectConfirmation")})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:e("common.cancel")}),i.jsx(ls,{onClick:()=>L&&Po(L),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),i.jsx(fl,{open:Q,onOpenChange:D,children:i.jsxs(No,{side:n?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[i.jsx(uc,{children:i.jsxs(hl,{className:"flex items-center gap-2 min-w-0",children:[i.jsx(zn,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:ie==null?void 0:ie.company_name})]})}),ie&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),i.jsxs(de,{onClick:()=>{gs(ie),D(!1)},variant:"outline",size:"sm",children:[i.jsx(Di,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),i.jsxs(Co,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Fi,{className:"grid w-full grid-cols-2",children:[i.jsx(Er,{value:"overview",children:e("common.overview")}),i.jsx(Er,{value:"notes",children:e("notes.title")})]}),i.jsxs(Jr,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:ie.company_name||"-"}),ie.contract_code&&i.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",ie.contract_code]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),i.jsx("p",{className:"font-medium",children:ie.contract_amount?`$${ie.contract_amount.toLocaleString()}`:"-"})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),i.jsx("p",{className:"font-medium",children:ie.cont_start_date?new Date(ie.cont_start_date).toLocaleDateString():"-"})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),i.jsx("p",{className:"font-medium",children:ie.cont_end_date?new Date(ie.cont_end_date).toLocaleDateString():"-"})]})})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(mm,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),i.jsx("p",{className:"font-medium",children:Ia(ie.city_id)})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const F=h.filter(Y=>Y.project_id===ie.project_id);return F.length>0?i.jsx("div",{className:"space-y-2",children:F.map((Y,he)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:Y.contact_name||"-"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[Y.contact_email&&`${Y.contact_email}  `,Y.contact_mobile&&`${Y.contact_mobile}`]})]}),i.jsx(pt,{variant:"outline",className:"text-xs",children:b.find(Ne=>Ne.jobtitle_id===Y.jobtitle_id)?Fn(b.find(Ne=>Ne.jobtitle_id===Y.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},Y.contact_id||he))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),i.jsx("p",{className:"text-sm font-medium",children:new Date(ie.created_at).toLocaleDateString()})]})}),ie.contract_document&&(()=>{const F=ie.contract_document;return i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(ya,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),i.jsx("button",{onClick:()=>{const Y=`data:${F.mime||"application/pdf"};base64,${F.path}`,he=window.open();if(he)he.document.write(`
                                  <html>
                                    <body style="margin:0;padding:20px;">
                                      <embed src="${Y}" width="100%" height="100%" />
                                    </body>
                                  </html>
                                `);else{const Ne=document.createElement("a");Ne.href=Y,Ne.download=F.name||"contract.pdf",Ne.click()}},className:"font-medium text-blue-600 hover:underline truncate block bg-transparent border-none cursor-pointer text-left",children:e("mprojects.viewContract")})]}),i.jsxs("div",{className:"flex gap-1",children:[F.url&&i.jsx(de,{variant:"ghost",size:"sm",onClick:()=>window.open(F.url,"_blank"),className:"h-8 w-8 p-0",children:i.jsx(lae,{className:"h-4 w-4"})}),i.jsx(de,{variant:"ghost",size:"sm",onClick:async()=>{try{await fWe(ie.project_id),a({title:e("common.success"),description:"Contract document deleted successfully"}),await Bt(),D(!1)}catch{a({title:"Error",description:"Failed to delete contract document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:i.jsx(Zt,{className:"h-4 w-4"})})]})]})})()]}),i.jsx(Jr,{value:"notes",className:"mt-4",children:i.jsx(gP,{relatedType:"mlead",relatedId:ie.project_id,notes:ce,onNotesChange:()=>Oo(ie.project_id)})})]})]})]})})]})}function mWe(){var W,R,z;const{t:e}=At(),{toast:t}=Li(),[r,n]=x.useState("list"),[a,s]=x.useState([]),[o,l]=x.useState(null),[c,u]=x.useState([]),[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,p]=x.useState([]),[v,y]=x.useState("");x.useEffect(()=>{b()},[]);const b=async()=>{try{const P=["leads_summary_report","leads_by_city_report","leads_conversion_report","sales_performance_report"],M=[];for(let L=0;L<P.length;L++)try{const q=await Uo(`/api/v1/report/${P[L]}`);q&&q.data&&(M.push({report_id:L+1,report_name:P[L],report_title_en:P[L].replace(/_/g," ").replace(/\b\w/g,Z=>Z.toUpperCase())+" Report",report_title_ar:w(P[L]),report_description_en:j(P[L]),report_description_ar:_(P[L]),report_type:S(P[L]),is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1}),console.log(` Report ${P[L]} loaded successfully`))}catch(q){console.warn(` Report ${P[L]} not available:`,q)}if(M.length>0)console.log(` Loaded ${M.length} reports:`,M.map(L=>L.report_name)),s(M);else{console.warn(" No reports loaded from API, using fallback");const L=[{report_id:1,report_name:"leads_summary_report",report_title_en:"Leads Summary Report",report_title_ar:"   ",report_description_en:"Comprehensive overview of all leads with status breakdown",report_description_ar:"        ",report_type:"summary",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:2,report_name:"leads_by_city_report",report_title_en:"Leads by City Report",report_title_ar:"   ",report_description_en:"Geographic distribution of leads across different cities",report_description_ar:"      ",report_type:"analytics",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:3,report_name:"leads_conversion_report",report_title_en:"Leads Conversion Report",report_title_ar:"  ",report_description_en:"Analysis of lead conversion rates by activity and system sources",report_description_ar:"       ",report_type:"conversion",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:4,report_name:"sales_performance_report",report_title_en:"Sales Performance Report",report_title_ar:"  ",report_description_en:"Sales team performance metrics and achievements",report_description_ar:"    ",report_type:"performance",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1}];s(L)}}catch(P){console.error("Failed to load reports:",P),t({title:e("reports.errorLoading"),description:e("reports.errorLoading"),variant:"destructive"})}},w=P=>({leads_summary_report:"   ",leads_by_city_report:"   ",leads_conversion_report:"  ",sales_performance_report:"  "})[P]||"",j=P=>({leads_summary_report:"Comprehensive overview of all leads with status breakdown",leads_by_city_report:"Geographic distribution of leads across different cities",leads_conversion_report:"Analysis of lead conversion rates by activity and system sources",sales_performance_report:"Sales team performance metrics and achievements"})[P]||"Report description",_=P=>({leads_summary_report:"        ",leads_by_city_report:"      ",leads_conversion_report:"       ",sales_performance_report:"    "})[P]||" ",S=P=>({leads_summary_report:"summary",leads_by_city_report:"analytics",leads_conversion_report:"conversion",sales_performance_report:"performance"})[P]||"summary",N=async P=>{try{const M=a.find(q=>q.report_id===P);if(!M)return;const L=C(M.report_name);u(L)}catch(M){console.error("Failed to load report parameters:",M),t({title:"Error",description:"Failed to load report parameters",variant:"destructive"})}},C=P=>({leads_summary:[{param_id:1,report_id:1,param_name:"status_id",param_label_en:"Status",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:2,report_id:1,param_name:"activity_id",param_label_en:"Activity",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0},{param_id:3,report_id:1,param_name:"system_id",param_label_en:"System",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:3,is_active:!0},{param_id:4,report_id:1,param_name:"assigned_to",param_label_en:"Assigned To",param_label_ar:" ",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:4,is_active:!0}],leads_by_city:[{param_id:5,report_id:2,param_name:"city_id",param_label_en:"City",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:6,report_id:2,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0}],leads_conversion:[{param_id:7,report_id:3,param_name:"activity_id",param_label_en:"Activity",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:8,report_id:3,param_name:"system_id",param_label_en:"System",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0},{param_id:9,report_id:3,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:3,is_active:!0},{param_id:10,report_id:3,param_name:"end_date",param_label_en:"End Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:4,is_active:!0}],sales_performance:[{param_id:11,report_id:4,param_name:"assigned_to",param_label_en:"Sales Person",param_label_ar:" ",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:12,report_id:4,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0},{param_id:13,report_id:4,param_name:"end_date",param_label_en:"End Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:3,is_active:!0}],leads_trend_simple:[{param_id:14,report_id:5,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:15,report_id:5,param_name:"end_date",param_label_en:"End Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0}]})[P]||[],k=async()=>{if(o)try{m(!0),f(null);const P={};c.forEach(L=>{const q=document.getElementById(`param_${L.param_name}`);q&&(P[L.param_name]=q.value)});const M=await Uo(`/api/v1/report/${o.report_name}`);f({data:M.data||[],columns:M.columns||(M.data&&M.data.length>0?Object.keys(M.data[0]):[]),report_type:o.report_name,execution_time:new Date().toISOString()})}catch(P){console.error("Failed to execute report:",P),t({title:e("reports.errorLoading"),description:e("reports.errorLoading"),variant:"destructive"})}finally{m(!1)}},E=async P=>{if(!(!d||!d.data))try{const M=[d.columns.join(","),...d.data.map(A=>d.columns.map(B=>`"${A[B]||""}"`).join(","))].join(`
`),L=new Blob([M],{type:"text/csv"}),q=window.URL.createObjectURL(L),Z=document.createElement("a");Z.href=q,Z.download=`${o.report_name}.csv`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),window.URL.revokeObjectURL(q),t({title:e("reports.downloadSuccess"),description:e("reports.downloadSuccess")})}catch(M){console.error("Failed to export report:",M),t({title:e("reports.exportError"),description:e("reports.exportError"),variant:"destructive"})}},O=async()=>{t({title:"Info",description:"Reports are predefined. Contact admin to add new reports.",variant:"default"})},T=async P=>{try{s(M=>M.filter(L=>L.report_id!==P)),t({title:"Success",description:"Report removed from list"})}catch(M){console.error("Failed to delete report:",M),t({title:"Error",description:"Failed to delete report",variant:"destructive"})}},U=a.filter(P=>P.report_name.toLowerCase().includes(v.toLowerCase())||P.report_title_en.toLowerCase().includes(v.toLowerCase())||P.report_title_ar.toLowerCase().includes(v.toLowerCase()));return i.jsxs("div",{className:"container mx-auto py-6 px-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:e("navigation.reports")}),i.jsx("p",{className:"text-muted-foreground mb-6",children:e("reports.description")})]}),i.jsxs(Co,{value:r,onValueChange:n,children:[i.jsxs(Fi,{className:"grid w-full grid-cols-3",children:[i.jsx(Er,{value:"list",children:e("reports.list")}),i.jsx(Er,{value:"create",children:e("reports.create")}),i.jsx(Er,{value:"schedule",children:e("reports.schedule")})]}),i.jsxs(Jr,{value:"list",className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(hs,{className:"h-4 w-4"}),i.jsx(Ue,{placeholder:e("reports.searchReports"),value:v,onChange:P=>y(P.target.value),className:"max-w-sm"})]}),i.jsxs(de,{onClick:O,children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),e("reports.createNew")]})]}),U.length===0?i.jsx(vo,{icon:i.jsx(Oi,{className:"h-12 w-12"}),title:e("reports.noReports"),description:e("reports.noReportsDesc")}):i.jsx("div",{className:"grid gap-4",children:U.map(P=>i.jsxs(st,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[i.jsx(Ht,{children:i.jsxs(vr,{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold",children:[e("reports.title"),": ",P.report_title_en]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("reports.description"),": ",P.report_description_en]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(de,{variant:"outline",size:"sm",onClick:()=>N(P.report_id),children:i.jsx(kg,{className:"h-4 w-4"})}),i.jsx(de,{variant:"outline",size:"sm",onClick:()=>l(P),children:i.jsx(V2,{className:"h-4 w-4"})}),i.jsx(de,{variant:"destructive",size:"sm",onClick:()=>T(P.report_id),children:i.jsx(Zt,{className:"h-4 w-4"})})]})]})}),i.jsx(xt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(pt,{variant:P.is_active?"default":"secondary",children:P.report_type}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("reports.lastModified"),": ",new Date(P.updated_at).toLocaleDateString()]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("reports.createdBy"),": ",P.created_by]})})]})})]},P.report_id))})]}),i.jsx(Jr,{value:"create",className:"space-y-6",children:i.jsxs(st,{children:[i.jsx(Ht,{children:i.jsx(vr,{children:e("reports.createNew")})}),i.jsxs(xt,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_name",children:e("reports.reportName")}),i.jsx(Ue,{id:"report_name",placeholder:e("reports.reportNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_title_en",children:e("reports.titleEn")}),i.jsx(Ue,{id:"report_title_en",placeholder:e("reports.titleEnPlaceholder")})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_title_ar",children:e("reports.titleAr")}),i.jsx(Ue,{id:"report_title_ar",placeholder:e("reports.titleArPlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_type",children:e("reports.reportType")}),i.jsxs(ft,{onValueChange:P=>console.log("Report type:",P),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:e("reports.selectType")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"summary",children:e("reports.types.summary")}),i.jsx(ke,{value:"analytics",children:e("reports.types.analytics")}),i.jsx(ke,{value:"trend",children:e("reports.types.trend")}),i.jsx(ke,{value:"conversion",children:e("reports.types.conversion")}),i.jsx(ke,{value:"performance",children:e("reports.types.performance")})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_description_en",children:e("reports.descriptionEn")}),i.jsx(Dn,{id:"report_description_en",placeholder:e("reports.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_description_ar",children:e("reports.descriptionAr")}),i.jsx(Dn,{id:"report_description_ar",placeholder:e("reports.descriptionPlaceholder"),rows:3})]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsxs(de,{onClick:O,children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),e("reports.createReport")]})})]})]})}),i.jsx(Jr,{value:"schedule",className:"space-y-6",children:i.jsxs(st,{children:[i.jsx(Ht,{children:i.jsx(vr,{children:e("reports.scheduling")})}),i.jsxs(xt,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Create New Schedule"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"schedule_name",children:"Schedule Name"}),i.jsx(Ue,{id:"schedule_name",placeholder:"e.g., Weekly Sales Report"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"report_select",children:"Report"}),i.jsxs(ft,{children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:"Select a report"})}),i.jsx(dt,{children:a.map(P=>i.jsx(ke,{value:P.report_name,children:P.report_title_en},P.report_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"schedule_type",children:"Frequency"}),i.jsxs(ft,{children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:"Select frequency"})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"daily",children:"Daily"}),i.jsx(ke,{value:"weekly",children:"Weekly"}),i.jsx(ke,{value:"monthly",children:"Monthly"}),i.jsx(ke,{value:"quarterly",children:"Quarterly"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"recipients",children:"Recipients (comma-separated emails)"}),i.jsx(Ue,{id:"recipients",placeholder:"email1@example.com, email2@example.com"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(de,{onClick:()=>{t({title:"Schedule Created",description:"Report schedule has been created successfully."})},children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Create Schedule"]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Existing Schedules"}),g.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No Schedules Yet"}),i.jsx("p",{className:"text-muted-foreground",children:"Create your first report schedule above."})]}):i.jsx("div",{className:"space-y-3",children:g.map(P=>i.jsx(st,{children:i.jsx(xt,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:P.schedule_name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.schedule_type,"  Last run: ",new Date(P.last_run).toLocaleDateString()]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Next run: ",new Date(P.next_run).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(de,{variant:"outline",size:"sm",children:i.jsx(kg,{className:"h-4 w-4"})}),i.jsx(de,{variant:"destructive",size:"sm",children:i.jsx(Zt,{className:"h-4 w-4"})})]})]})})},P.schedule_id))})]})]})]})})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:o.report_title_en}),i.jsx(de,{variant:"ghost",size:"sm",onClick:()=>l(null),children:""})]}),c.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("reports.parameters")}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(P=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:`param_${P.param_name}`,children:[P.param_label_en,P.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),P.param_type==="text"&&i.jsx(Ue,{id:`param_${P.param_name}`,placeholder:P.param_default||"",defaultValue:P.param_default||""}),P.param_type==="number"&&i.jsx(Ue,{id:`param_${P.param_name}`,type:"number",placeholder:P.param_default||"",defaultValue:P.param_default||""}),P.param_type==="date"&&i.jsx(Ue,{id:`param_${P.param_name}`,type:"date",placeholder:P.param_default||"",defaultValue:P.param_default||""}),P.param_type==="select"&&P.param_options&&i.jsxs(ft,{onValueChange:M=>console.log("Selected:",M),children:[i.jsx(ut,{children:i.jsx(ht,{placeholder:P.param_default||""})}),i.jsx(dt,{children:JSON.parse(P.param_options||"[]").map(M=>i.jsx(ke,{value:M.value,children:M.label},M.value))})]})]},P.param_id))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(de,{onClick:k,disabled:h,className:"flex-1",children:h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),e("reports.executing")]}):i.jsxs(i.Fragment,{children:[i.jsx(V2,{className:"h-4 w-4 mr-2"}),e("reports.executeReport")]})}),d&&i.jsxs(de,{variant:"outline",onClick:()=>E(),children:[i.jsx(vB,{className:"h-4 w-4 mr-2"}),e("reports.exportCSV")]})]}),d&&i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e("reports.results")}),i.jsxs(pt,{variant:"secondary",children:[d.totalCount||((W=d.data)==null?void 0:W.length)," ",e("reports.records")]})]}),d.message&&i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:i.jsx("p",{className:"text-blue-700",children:d.message})}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-96",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted",children:i.jsx("tr",{children:(R=d.columns)==null?void 0:R.map(P=>i.jsx("th",{className:"px-4 py-2 text-left font-medium border-b",children:P.replace(/_/g," ").replace(/\b\w/g,M=>M.toUpperCase())},P))})}),i.jsx("tbody",{children:(z=d.data)==null?void 0:z.map((P,M)=>{var L;return i.jsx("tr",{className:"border-b hover:bg-muted/50",children:(L=d.columns)==null?void 0:L.map(q=>i.jsx("td",{className:"px-4 py-2 border-b",children:P[q]||"-"},q))},M)})})]})})})]})]})})]})}const l0={async getRequests(){return(await X.requests.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async getRequestById(e){return await X.requests.get(e)},async createRequest(e){return await X.requests.create(e)},async updateRequest(e,t){return await X.requests.update(e,t)},async deleteRequest(e){await X.requests.delete(e)}};var bx=e=>e.type==="checkbox",_d=e=>e instanceof Date,Ha=e=>e==null;const dY=e=>typeof e=="object";var cn=e=>!Ha(e)&&!Array.isArray(e)&&dY(e)&&!_d(e),fY=e=>cn(e)&&e.target?bx(e.target)?e.target.checked:e.target.value:e,pWe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hY=(e,t)=>e.has(pWe(t)),gWe=e=>{const t=e.constructor&&e.constructor.prototype;return cn(t)&&t.hasOwnProperty("isPrototypeOf")},cO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Nn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(cO&&(e instanceof Blob||n))&&(r||cn(e)))if(t=r?[]:{},!r&&!gWe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Nn(e[a]));else return e;return t}var fj=e=>/^\w*$/.test(e),rn=e=>e===void 0,uO=e=>Array.isArray(e)?e.filter(Boolean):[],dO=e=>uO(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Qe=(e,t,r)=>{if(!t||!cn(e))return r;const n=(fj(t)?[t]:dO(t)).reduce((a,s)=>Ha(a)?a:a[s],e);return rn(n)||n===e?rn(e[t])?r:e[t]:n},Gs=e=>typeof e=="boolean",pr=(e,t,r)=>{let n=-1;const a=fj(t)?[t]:dO(t),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=cn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const sw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},co={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Dl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fO=ue.createContext(null);fO.displayName="HookFormContext";const hj=()=>ue.useContext(fO),vWe=e=>{const{children:t,...r}=e;return ue.createElement(fO.Provider,{value:r},t)};var mY=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const o=s;return t._proxyFormState[o]!==co.all&&(t._proxyFormState[o]=!n||co.all),r&&(r[o]=!0),e[o]}});return a};const hO=typeof window<"u"?ue.useLayoutEffect:ue.useEffect;function xWe(e){const t=hj(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[o,l]=ue.useState(r._formState),c=ue.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return hO(()=>r._subscribe({name:a,formState:c.current,exact:s,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,s]),ue.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ue.useMemo(()=>mY(o,r,c.current,!1),[o,r])}var rl=e=>typeof e=="string",pY=(e,t,r,n,a)=>rl(e)?(n&&t.watch.add(e),Qe(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Qe(r,s))):(n&&(t.watchAll=!0),r),tE=e=>Ha(e)||!dY(e);function Bl(e,t,r=new WeakSet){if(tE(e)||tE(t))return e===t;if(_d(e)&&_d(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const o=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(_d(o)&&_d(l)||cn(o)&&cn(l)||Array.isArray(o)&&Array.isArray(l)?!Bl(o,l,r):o!==l)return!1}}return!0}function yWe(e){const t=hj(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:o,compute:l}=e||{},c=ue.useRef(a),u=ue.useRef(l),d=ue.useRef(void 0);u.current=l;const f=ue.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=ue.useState(u.current?u.current(f):f);return hO(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:g=>{if(!s){const p=pY(n,r._names,g.values||r._formValues,!1,c.current);if(u.current){const v=u.current(p);Bl(v,d.current)||(m(v),d.current=v)}else m(p)}}}),[r,s,n,o]),ue.useEffect(()=>r._removeUnmounted()),h}function bWe(e){const t=hj(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s,defaultValue:o}=e,l=hY(a._names.array,r),c=ue.useMemo(()=>Qe(a._formValues,r,Qe(a._defaultValues,r,o)),[a,r,o]),u=yWe({control:a,name:r,defaultValue:c,exact:!0}),d=xWe({control:a,name:r,exact:!0}),f=ue.useRef(e),h=ue.useRef(a.register(r,{...e.rules,value:u,...Gs(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=ue.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Qe(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Qe(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Qe(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Qe(d.validatingFields,r)},error:{enumerable:!0,get:()=>Qe(d.errors,r)}}),[d,r]),g=ue.useCallback(b=>h.current.onChange({target:{value:fY(b),name:r},type:sw.CHANGE}),[r]),p=ue.useCallback(()=>h.current.onBlur({target:{value:Qe(a._formValues,r),name:r},type:sw.BLUR}),[r,a._formValues]),v=ue.useCallback(b=>{const w=Qe(a._fields,r);w&&b&&(w._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:j=>b.setCustomValidity(j),reportValidity:()=>b.reportValidity()})},[a._fields,r]),y=ue.useMemo(()=>({name:r,value:u,...Gs(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:p,ref:v}),[r,n,d.disabled,g,p,v,u]);return ue.useEffect(()=>{const b=a._options.shouldUnregister||s;a.register(r,{...f.current.rules,...Gs(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(j,_)=>{const S=Qe(a._fields,j);S&&S._f&&(S._f.mount=_)};if(w(r,!0),b){const j=Nn(Qe(a._options.defaultValues,r));pr(a._defaultValues,r,j),rn(Qe(a._formValues,r))&&pr(a._formValues,r,j)}return!l&&a.register(r),()=>{(l?b&&!a._state.action:b)?a.unregister(r):w(r,!1)}},[r,a,l,s]),ue.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ue.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const wWe=e=>e.render(bWe(e));var gY=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},tg=e=>Array.isArray(e)?e:[e],N5=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},xs=e=>cn(e)&&!Object.keys(e).length,mO=e=>e.type==="file",uo=e=>typeof e=="function",iw=e=>{if(!cO)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},vY=e=>e.type==="select-multiple",pO=e=>e.type==="radio",_We=e=>pO(e)||bx(e),SN=e=>iw(e)&&e.isConnected;function jWe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=rn(e)?n++:e[t[n++]];return e}function SWe(e){for(const t in e)if(e.hasOwnProperty(t)&&!rn(e[t]))return!1;return!0}function fn(e,t){const r=Array.isArray(t)?t:fj(t)?[t]:dO(t),n=r.length===1?e:jWe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(cn(n)&&xs(n)||Array.isArray(n)&&SWe(n))&&fn(e,r.slice(0,-1)),e}var xY=e=>{for(const t in e)if(uo(e[t]))return!0;return!1};function ow(e,t={}){const r=Array.isArray(e);if(cn(e)||r)for(const n in e)Array.isArray(e[n])||cn(e[n])&&!xY(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ow(e[n],t[n])):Ha(e[n])||(t[n]=!0);return t}function yY(e,t,r){const n=Array.isArray(e);if(cn(e)||n)for(const a in e)Array.isArray(e[a])||cn(e[a])&&!xY(e[a])?rn(t)||tE(r[a])?r[a]=Array.isArray(e[a])?ow(e[a],[]):{...ow(e[a])}:yY(e[a],Ha(t)?{}:t[a],r[a]):r[a]=!Bl(e[a],t[a]);return r}var c0=(e,t)=>yY(e,t,ow(t));const k5={value:!1,isValid:!1},C5={value:!0,isValid:!0};var bY=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!rn(e[0].attributes.value)?rn(e[0].value)||e[0].value===""?C5:{value:e[0].value,isValid:!0}:C5:k5}return k5},wY=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>rn(e)?e:t?e===""?NaN:e&&+e:r&&rl(e)?new Date(e):n?n(e):e;const E5={isValid:!1,value:null};var _Y=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,E5):E5;function T5(e){const t=e.ref;return mO(t)?t.files:pO(t)?_Y(e.refs).value:vY(t)?[...t.selectedOptions].map(({value:r})=>r):bx(t)?bY(e.refs).value:wY(rn(t.value)?e.ref.value:t.value,e)}var NWe=(e,t,r,n)=>{const a={};for(const s of e){const o=Qe(t,s);o&&pr(a,s,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},lw=e=>e instanceof RegExp,u0=e=>rn(e)?e:lw(e)?e.source:cn(e)?lw(e.value)?e.value.source:e.value:e,A5=e=>({isOnSubmit:!e||e===co.onSubmit,isOnBlur:e===co.onBlur,isOnChange:e===co.onChange,isOnAll:e===co.all,isOnTouch:e===co.onTouched});const P5="AsyncFunction";var kWe=e=>!!e&&!!e.validate&&!!(uo(e.validate)&&e.validate.constructor.name===P5||cn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===P5)),CWe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),O5=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const rg=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=Qe(e,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(rg(l,t))break}else if(cn(l)&&rg(l,t))break}}};function D5(e,t,r){const n=Qe(e,r);if(n||fj(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=Qe(t,s),l=Qe(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var EWe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return xs(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||co.all))},TWe=(e,t,r)=>!e||!t||e===t||tg(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),AWe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,PWe=(e,t)=>!uO(Qe(e,t)).length&&fn(e,t),OWe=(e,t,r)=>{const n=tg(Qe(e,r));return pr(n,"root",t[r]),pr(e,r,n),e},Jy=e=>rl(e);function R5(e,t,r="validate"){if(Jy(e)||Array.isArray(e)&&e.every(Jy)||Gs(e)&&!e)return{type:r,message:Jy(e)?e:"",ref:t}}var Yf=e=>cn(e)&&!lw(e)?e:{value:e,message:""},M5=async(e,t,r,n,a,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:v,mount:y}=e._f,b=Qe(r,p);if(!y||t.has(p))return{};const w=l?l[0]:o,j=T=>{a&&w.reportValidity&&(w.setCustomValidity(Gs(T)?"":T||""),w.reportValidity())},_={},S=pO(o),N=bx(o),C=S||N,k=(v||mO(o))&&rn(o.value)&&rn(b)||iw(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,E=gY.bind(null,p,n,_),O=(T,U,W,R=Dl.maxLength,z=Dl.minLength)=>{const P=T?U:W;_[p]={type:T?R:z,message:P,ref:o,...E(T?R:z,P)}};if(s?!Array.isArray(b)||!b.length:c&&(!C&&(k||Ha(b))||Gs(b)&&!b||N&&!bY(l).isValid||S&&!_Y(l).isValid)){const{value:T,message:U}=Jy(c)?{value:!!c,message:c}:Yf(c);if(T&&(_[p]={type:Dl.required,message:U,ref:w,...E(Dl.required,U)},!n))return j(U),_}if(!k&&(!Ha(f)||!Ha(h))){let T,U;const W=Yf(h),R=Yf(f);if(!Ha(b)&&!isNaN(b)){const z=o.valueAsNumber||b&&+b;Ha(W.value)||(T=z>W.value),Ha(R.value)||(U=z<R.value)}else{const z=o.valueAsDate||new Date(b),P=q=>new Date(new Date().toDateString()+" "+q),M=o.type=="time",L=o.type=="week";rl(W.value)&&b&&(T=M?P(b)>P(W.value):L?b>W.value:z>new Date(W.value)),rl(R.value)&&b&&(U=M?P(b)<P(R.value):L?b<R.value:z<new Date(R.value))}if((T||U)&&(O(!!T,W.message,R.message,Dl.max,Dl.min),!n))return j(_[p].message),_}if((u||d)&&!k&&(rl(b)||s&&Array.isArray(b))){const T=Yf(u),U=Yf(d),W=!Ha(T.value)&&b.length>+T.value,R=!Ha(U.value)&&b.length<+U.value;if((W||R)&&(O(W,T.message,U.message),!n))return j(_[p].message),_}if(m&&!k&&rl(b)){const{value:T,message:U}=Yf(m);if(lw(T)&&!b.match(T)&&(_[p]={type:Dl.pattern,message:U,ref:o,...E(Dl.pattern,U)},!n))return j(U),_}if(g){if(uo(g)){const T=await g(b,r),U=R5(T,w);if(U&&(_[p]={...U,...E(Dl.validate,U.message)},!n))return j(U.message),_}else if(cn(g)){let T={};for(const U in g){if(!xs(T)&&!n)break;const W=R5(await g[U](b,r),w,U);W&&(T={...W,...E(U,W.message)},j(W.message),n&&(_[p]=T))}if(!xs(T)&&(_[p]={ref:w,...T},!n))return _}}return j(!0),_};const DWe={mode:co.onSubmit,reValidateMode:co.onChange,shouldFocusError:!0};function RWe(e={}){let t={...DWe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:uo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=cn(t.defaultValues)||cn(t.values)?Nn(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Nn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:N5(),state:N5()},m=t.criteriaMode===co.all,g=se=>ge=>{clearTimeout(u),u=setTimeout(se,ge)},p=async se=>{if(!t.disabled&&(d.isValid||f.isValid||se)){const ge=t.resolver?xs((await N()).errors):await k(n,!0);ge!==r.isValid&&h.state.next({isValid:ge})}},v=(se,ge)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((se||Array.from(l.mount)).forEach(re=>{re&&(ge?pr(r.validatingFields,re,ge):fn(r.validatingFields,re))}),h.state.next({validatingFields:r.validatingFields,isValidating:!xs(r.validatingFields)}))},y=(se,ge=[],re,ae,fe=!0,Ee=!0)=>{if(ae&&re&&!t.disabled){if(o.action=!0,Ee&&Array.isArray(Qe(n,se))){const Re=re(Qe(n,se),ae.argA,ae.argB);fe&&pr(n,se,Re)}if(Ee&&Array.isArray(Qe(r.errors,se))){const Re=re(Qe(r.errors,se),ae.argA,ae.argB);fe&&pr(r.errors,se,Re),PWe(r.errors,se)}if((d.touchedFields||f.touchedFields)&&Ee&&Array.isArray(Qe(r.touchedFields,se))){const Re=re(Qe(r.touchedFields,se),ae.argA,ae.argB);fe&&pr(r.touchedFields,se,Re)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=c0(a,s)),h.state.next({name:se,isDirty:O(se,ge),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pr(s,se,ge)},b=(se,ge)=>{pr(r.errors,se,ge),h.state.next({errors:r.errors})},w=se=>{r.errors=se,h.state.next({errors:r.errors,isValid:!1})},j=(se,ge,re,ae)=>{const fe=Qe(n,se);if(fe){const Ee=Qe(s,se,rn(re)?Qe(a,se):re);rn(Ee)||ae&&ae.defaultChecked||ge?pr(s,se,ge?Ee:T5(fe._f)):W(se,Ee),o.mount&&p()}},_=(se,ge,re,ae,fe)=>{let Ee=!1,Re=!1;const Je={name:se};if(!t.disabled){if(!re||ae){(d.isDirty||f.isDirty)&&(Re=r.isDirty,r.isDirty=Je.isDirty=O(),Ee=Re!==Je.isDirty);const Xe=Bl(Qe(a,se),ge);Re=!!Qe(r.dirtyFields,se),Xe?fn(r.dirtyFields,se):pr(r.dirtyFields,se,!0),Je.dirtyFields=r.dirtyFields,Ee=Ee||(d.dirtyFields||f.dirtyFields)&&Re!==!Xe}if(re){const Xe=Qe(r.touchedFields,se);Xe||(pr(r.touchedFields,se,re),Je.touchedFields=r.touchedFields,Ee=Ee||(d.touchedFields||f.touchedFields)&&Xe!==re)}Ee&&fe&&h.state.next(Je)}return Ee?Je:{}},S=(se,ge,re,ae)=>{const fe=Qe(r.errors,se),Ee=(d.isValid||f.isValid)&&Gs(ge)&&r.isValid!==ge;if(t.delayError&&re?(c=g(()=>b(se,re)),c(t.delayError)):(clearTimeout(u),c=null,re?pr(r.errors,se,re):fn(r.errors,se)),(re?!Bl(fe,re):fe)||!xs(ae)||Ee){const Re={...ae,...Ee&&Gs(ge)?{isValid:ge}:{},errors:r.errors,name:se};r={...r,...Re},h.state.next(Re)}},N=async se=>{v(se,!0);const ge=await t.resolver(s,t.context,NWe(se||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(se),ge},C=async se=>{const{errors:ge}=await N(se);if(se)for(const re of se){const ae=Qe(ge,re);ae?pr(r.errors,re,ae):fn(r.errors,re)}else r.errors=ge;return ge},k=async(se,ge,re={valid:!0})=>{for(const ae in se){const fe=se[ae];if(fe){const{_f:Ee,...Re}=fe;if(Ee){const Je=l.array.has(Ee.name),Xe=fe._f&&kWe(fe._f);Xe&&d.validatingFields&&v([ae],!0);const _t=await M5(fe,l.disabled,s,m,t.shouldUseNativeValidation&&!ge,Je);if(Xe&&d.validatingFields&&v([ae]),_t[Ee.name]&&(re.valid=!1,ge))break;!ge&&(Qe(_t,Ee.name)?Je?OWe(r.errors,_t,Ee.name):pr(r.errors,Ee.name,_t[Ee.name]):fn(r.errors,Ee.name))}!xs(Re)&&await k(Re,ge,re)}}return re.valid},E=()=>{for(const se of l.unMount){const ge=Qe(n,se);ge&&(ge._f.refs?ge._f.refs.every(re=>!SN(re)):!SN(ge._f.ref))&&le(se)}l.unMount=new Set},O=(se,ge)=>!t.disabled&&(se&&ge&&pr(s,se,ge),!Bl(q(),a)),T=(se,ge,re)=>pY(se,l,{...o.mount?s:rn(ge)?a:rl(se)?{[se]:ge}:ge},re,ge),U=se=>uO(Qe(o.mount?s:a,se,t.shouldUnregister?Qe(a,se,[]):[])),W=(se,ge,re={})=>{const ae=Qe(n,se);let fe=ge;if(ae){const Ee=ae._f;Ee&&(!Ee.disabled&&pr(s,se,wY(ge,Ee)),fe=iw(Ee.ref)&&Ha(ge)?"":ge,vY(Ee.ref)?[...Ee.ref.options].forEach(Re=>Re.selected=fe.includes(Re.value)):Ee.refs?bx(Ee.ref)?Ee.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(fe)?Re.checked=!!fe.find(Je=>Je===Re.value):Re.checked=fe===Re.value||!!fe)}):Ee.refs.forEach(Re=>Re.checked=Re.value===fe):mO(Ee.ref)?Ee.ref.value="":(Ee.ref.value=fe,Ee.ref.type||h.state.next({name:se,values:Nn(s)})))}(re.shouldDirty||re.shouldTouch)&&_(se,fe,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&L(se)},R=(se,ge,re)=>{for(const ae in ge){if(!ge.hasOwnProperty(ae))return;const fe=ge[ae],Ee=se+"."+ae,Re=Qe(n,Ee);(l.array.has(se)||cn(fe)||Re&&!Re._f)&&!_d(fe)?R(Ee,fe,re):W(Ee,fe,re)}},z=(se,ge,re={})=>{const ae=Qe(n,se),fe=l.array.has(se),Ee=Nn(ge);pr(s,se,Ee),fe?(h.array.next({name:se,values:Nn(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&re.shouldDirty&&h.state.next({name:se,dirtyFields:c0(a,s),isDirty:O(se,Ee)})):ae&&!ae._f&&!Ha(Ee)?R(se,Ee,re):W(se,Ee,re),O5(se,l)&&h.state.next({...r,name:se}),h.state.next({name:o.mount?se:void 0,values:Nn(s)})},P=async se=>{o.mount=!0;const ge=se.target;let re=ge.name,ae=!0;const fe=Qe(n,re),Ee=Xe=>{ae=Number.isNaN(Xe)||_d(Xe)&&isNaN(Xe.getTime())||Bl(Xe,Qe(s,re,Xe))},Re=A5(t.mode),Je=A5(t.reValidateMode);if(fe){let Xe,_t;const _e=ge.type?T5(fe._f):fY(se),$e=se.type===sw.BLUR||se.type===sw.FOCUS_OUT,Be=!CWe(fe._f)&&!t.resolver&&!Qe(r.errors,re)&&!fe._f.deps||AWe($e,Qe(r.touchedFields,re),r.isSubmitted,Je,Re),He=O5(re,l,$e);pr(s,re,_e),$e?(fe._f.onBlur&&fe._f.onBlur(se),c&&c(0)):fe._f.onChange&&fe._f.onChange(se);const wt=_(re,_e,$e),Wt=!xs(wt)||He;if(!$e&&h.state.next({name:re,type:se.type,values:Nn(s)}),Be)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?$e&&p():$e||p()),Wt&&h.state.next({name:re,...He?{}:wt});if(!$e&&He&&h.state.next({...r}),t.resolver){const{errors:Bt}=await N([re]);if(Ee(_e),ae){const mr=D5(r.errors,n,re),lr=D5(Bt,n,mr.name||re);Xe=lr.error,re=lr.name,_t=xs(Bt)}}else v([re],!0),Xe=(await M5(fe,l.disabled,s,m,t.shouldUseNativeValidation))[re],v([re]),Ee(_e),ae&&(Xe?_t=!1:(d.isValid||f.isValid)&&(_t=await k(n,!0)));ae&&(fe._f.deps&&L(fe._f.deps),S(re,_t,Xe,wt))}},M=(se,ge)=>{if(Qe(r.errors,ge)&&se.focus)return se.focus(),1},L=async(se,ge={})=>{let re,ae;const fe=tg(se);if(t.resolver){const Ee=await C(rn(se)?se:fe);re=xs(Ee),ae=se?!fe.some(Re=>Qe(Ee,Re)):re}else se?(ae=(await Promise.all(fe.map(async Ee=>{const Re=Qe(n,Ee);return await k(Re&&Re._f?{[Ee]:Re}:Re)}))).every(Boolean),!(!ae&&!r.isValid)&&p()):ae=re=await k(n);return h.state.next({...!rl(se)||(d.isValid||f.isValid)&&re!==r.isValid?{}:{name:se},...t.resolver||!se?{isValid:re}:{},errors:r.errors}),ge.shouldFocus&&!ae&&rg(n,M,se?fe:l.mount),ae},q=se=>{const ge={...o.mount?s:a};return rn(se)?ge:rl(se)?Qe(ge,se):se.map(re=>Qe(ge,re))},Z=(se,ge)=>({invalid:!!Qe((ge||r).errors,se),isDirty:!!Qe((ge||r).dirtyFields,se),error:Qe((ge||r).errors,se),isValidating:!!Qe(r.validatingFields,se),isTouched:!!Qe((ge||r).touchedFields,se)}),A=se=>{se&&tg(se).forEach(ge=>fn(r.errors,ge)),h.state.next({errors:se?r.errors:{}})},B=(se,ge,re)=>{const ae=(Qe(n,se,{_f:{}})._f||{}).ref,fe=Qe(r.errors,se)||{},{ref:Ee,message:Re,type:Je,...Xe}=fe;pr(r.errors,se,{...Xe,...ge,ref:ae}),h.state.next({name:se,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&ae&&ae.focus&&ae.focus()},H=(se,ge)=>uo(se)?h.state.subscribe({next:re=>"values"in re&&se(T(void 0,ge),re)}):T(se,ge,!0),V=se=>h.state.subscribe({next:ge=>{TWe(se.name,ge.name,se.exact)&&EWe(ge,se.formState||d,De,se.reRenderRoot)&&se.callback({values:{...s},...r,...ge,defaultValues:a})}}).unsubscribe,te=se=>(o.mount=!0,f={...f,...se.formState},V({...se,formState:f})),le=(se,ge={})=>{for(const re of se?tg(se):l.mount)l.mount.delete(re),l.array.delete(re),ge.keepValue||(fn(n,re),fn(s,re)),!ge.keepError&&fn(r.errors,re),!ge.keepDirty&&fn(r.dirtyFields,re),!ge.keepTouched&&fn(r.touchedFields,re),!ge.keepIsValidating&&fn(r.validatingFields,re),!t.shouldUnregister&&!ge.keepDefaultValue&&fn(a,re);h.state.next({values:Nn(s)}),h.state.next({...r,...ge.keepDirty?{isDirty:O()}:{}}),!ge.keepIsValid&&p()},xe=({disabled:se,name:ge})=>{(Gs(se)&&o.mount||se||l.disabled.has(ge))&&(se?l.disabled.add(ge):l.disabled.delete(ge))},ie=(se,ge={})=>{let re=Qe(n,se);const ae=Gs(ge.disabled)||Gs(t.disabled);return pr(n,se,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:se}},name:se,mount:!0,...ge}}),l.mount.add(se),re?xe({disabled:Gs(ge.disabled)?ge.disabled:t.disabled,name:se}):j(se,!0,ge.value),{...ae?{disabled:ge.disabled||t.disabled}:{},...t.progressive?{required:!!ge.required,min:u0(ge.min),max:u0(ge.max),minLength:u0(ge.minLength),maxLength:u0(ge.maxLength),pattern:u0(ge.pattern)}:{},name:se,onChange:P,onBlur:P,ref:fe=>{if(fe){ie(se,ge),re=Qe(n,se);const Ee=rn(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,Re=_We(Ee),Je=re._f.refs||[];if(Re?Je.find(Xe=>Xe===Ee):Ee===re._f.ref)return;pr(n,se,{_f:{...re._f,...Re?{refs:[...Je.filter(SN),Ee,...Array.isArray(Qe(a,se))?[{}]:[]],ref:{type:Ee.type,name:se}}:{ref:Ee}}}),j(se,!1,void 0,Ee)}else re=Qe(n,se,{}),re._f&&(re._f.mount=!1),(t.shouldUnregister||ge.shouldUnregister)&&!(hY(l.array,se)&&o.action)&&l.unMount.add(se)}}},G=()=>t.shouldFocusError&&rg(n,M,l.mount),Q=se=>{Gs(se)&&(h.state.next({disabled:se}),rg(n,(ge,re)=>{const ae=Qe(n,re);ae&&(ge.disabled=ae._f.disabled||se,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(fe=>{fe.disabled=ae._f.disabled||se}))},0,!1))},D=(se,ge)=>async re=>{let ae;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let fe=Nn(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Ee,values:Re}=await N();r.errors=Ee,fe=Nn(Re)}else await k(n);if(l.disabled.size)for(const Ee of l.disabled)fn(fe,Ee);if(fn(r.errors,"root"),xs(r.errors)){h.state.next({errors:{}});try{await se(fe,re)}catch(Ee){ae=Ee}}else ge&&await ge({...r.errors},re),G(),setTimeout(G);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xs(r.errors)&&!ae,submitCount:r.submitCount+1,errors:r.errors}),ae)throw ae},ce=(se,ge={})=>{Qe(n,se)&&(rn(ge.defaultValue)?z(se,Nn(Qe(a,se))):(z(se,ge.defaultValue),pr(a,se,Nn(ge.defaultValue))),ge.keepTouched||fn(r.touchedFields,se),ge.keepDirty||(fn(r.dirtyFields,se),r.isDirty=ge.defaultValue?O(se,Nn(Qe(a,se))):O()),ge.keepError||(fn(r.errors,se),d.isValid&&p()),h.state.next({...r}))},je=(se,ge={})=>{const re=se?Nn(se):a,ae=Nn(re),fe=xs(se),Ee=fe?a:ae;if(ge.keepDefaultValues||(a=re),!ge.keepValues){if(ge.keepDirtyValues){const Re=new Set([...l.mount,...Object.keys(c0(a,s))]);for(const Je of Array.from(Re))Qe(r.dirtyFields,Je)?pr(Ee,Je,Qe(s,Je)):z(Je,Qe(Ee,Je))}else{if(cO&&rn(se))for(const Re of l.mount){const Je=Qe(n,Re);if(Je&&Je._f){const Xe=Array.isArray(Je._f.refs)?Je._f.refs[0]:Je._f.ref;if(iw(Xe)){const _t=Xe.closest("form");if(_t){_t.reset();break}}}}if(ge.keepFieldsRef)for(const Re of l.mount)z(Re,Qe(Ee,Re));else n={}}s=t.shouldUnregister?ge.keepDefaultValues?Nn(a):{}:Nn(Ee),h.array.next({values:{...Ee}}),h.state.next({values:{...Ee}})}l={mount:ge.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ge.keepIsValid||!!ge.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:ge.keepSubmitCount?r.submitCount:0,isDirty:fe?!1:ge.keepDirty?r.isDirty:!!(ge.keepDefaultValues&&!Bl(se,a)),isSubmitted:ge.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:fe?{}:ge.keepDirtyValues?ge.keepDefaultValues&&s?c0(a,s):r.dirtyFields:ge.keepDefaultValues&&se?c0(a,se):ge.keepDirty?r.dirtyFields:{},touchedFields:ge.keepTouched?r.touchedFields:{},errors:ge.keepErrors?r.errors:{},isSubmitSuccessful:ge.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},be=(se,ge)=>je(uo(se)?se(s):se,ge),Pe=(se,ge={})=>{const re=Qe(n,se),ae=re&&re._f;if(ae){const fe=ae.refs?ae.refs[0]:ae.ref;fe.focus&&(fe.focus(),ge.shouldSelect&&uo(fe.select)&&fe.select())}},De=se=>{r={...r,...se}},et={control:{register:ie,unregister:le,getFieldState:Z,handleSubmit:D,setError:B,_subscribe:V,_runSchema:N,_focusError:G,_getWatch:T,_getDirty:O,_setValid:p,_setFieldArray:y,_setDisabledField:xe,_setErrors:w,_getFieldArray:U,_reset:je,_resetDefaultValues:()=>uo(t.defaultValues)&&t.defaultValues().then(se=>{be(se,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:Q,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(se){o=se},get _defaultValues(){return a},get _names(){return l},set _names(se){l=se},get _formState(){return r},get _options(){return t},set _options(se){t={...t,...se}}},subscribe:te,trigger:L,register:ie,handleSubmit:D,watch:H,setValue:z,getValues:q,reset:be,resetField:ce,clearErrors:A,unregister:le,setError:B,setFocus:Pe,getFieldState:Z};return{...et,formControl:et}}function MWe(e={}){const t=ue.useRef(void 0),r=ue.useRef(void 0),[n,a]=ue.useState({isDirty:!1,isValidating:!1,isLoading:uo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:uo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!uo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=RWe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,hO(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),ue.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ue.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),ue.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),ue.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),ue.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),ue.useEffect(()=>{e.values&&!Bl(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),ue.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=mY(n,s),t.current}const F5=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Qe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},jY=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?F5(n.ref,r,e):n.refs&&n.refs.forEach(a=>F5(a,r,e))}},FWe=(e,t)=>{t.shouldUseNativeValidation&&jY(e,t);const r={};for(const n in e){const a=Qe(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(IWe(t.names||Object.keys(e),n)){const o=Object.assign({},Qe(r,n));pr(o,"root",s),pr(r,n,o)}else pr(r,n,s)}return r},IWe=(e,t)=>e.some(r=>r.startsWith(t+"."));var LWe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=gY(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},$We=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&jY({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:FWe(LWe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},nr;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(nr||(nr={}));var I5;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(I5||(I5={}));const vt=nr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bc=e=>{switch(typeof e){case"undefined":return vt.undefined;case"string":return vt.string;case"number":return Number.isNaN(e)?vt.nan:vt.number;case"boolean":return vt.boolean;case"function":return vt.function;case"bigint":return vt.bigint;case"symbol":return vt.symbol;case"object":return Array.isArray(e)?vt.array:e===null?vt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?vt.promise:typeof Map<"u"&&e instanceof Map?vt.map:typeof Set<"u"&&e instanceof Set?vt.set:typeof Date<"u"&&e instanceof Date?vt.date:vt.object;default:return vt.unknown}},qe=nr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class vc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof vc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}vc.create=e=>new vc(e);const rE=(e,t)=>{let r;switch(e.code){case qe.invalid_type:e.received===vt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case qe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,nr.jsonStringifyReplacer)}`;break;case qe.unrecognized_keys:r=`Unrecognized key(s) in object: ${nr.joinValues(e.keys,", ")}`;break;case qe.invalid_union:r="Invalid input";break;case qe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${nr.joinValues(e.options)}`;break;case qe.invalid_enum_value:r=`Invalid enum value. Expected ${nr.joinValues(e.options)}, received '${e.received}'`;break;case qe.invalid_arguments:r="Invalid function arguments";break;case qe.invalid_return_type:r="Invalid function return type";break;case qe.invalid_date:r="Invalid date";break;case qe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:nr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case qe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case qe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case qe.custom:r="Invalid input";break;case qe.invalid_intersection_types:r="Intersection results could not be merged";break;case qe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case qe.not_finite:r="Number must be finite";break;default:r=t.defaultError,nr.assertNever(e)}return{message:r}};let BWe=rE;function UWe(){return BWe}const zWe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function nt(e,t){const r=UWe(),n=zWe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===rE?void 0:rE].filter(a=>!!a)});e.common.issues.push(n)}class oi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Ot;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return oi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return Ot;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Ot=Object.freeze({status:"aborted"}),S0=e=>({status:"dirty",value:e}),Vi=e=>({status:"valid",value:e}),L5=e=>e.status==="aborted",$5=e=>e.status==="dirty",Jm=e=>e.status==="valid",cw=e=>typeof Promise<"u"&&e instanceof Promise;var yt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(yt||(yt={}));class Ru{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const B5=(e,t)=>{if(Jm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new vc(e.common.issues);return this._error=r,this._error}}};function zt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class rr{get description(){return this._def.description}_getType(t){return Bc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Bc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new oi,ctx:{common:t.parent.common,data:t.data,parsedType:Bc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(cw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bc(t)},a=this._parseSync({data:t,path:n.path,parent:n});return B5(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bc(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return Jm(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>Jm(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bc(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(cw(a)?a:Promise.resolve(a));return B5(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=t(a),l=()=>s.addIssue({code:qe.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new tp({schema:this,typeName:Dt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Su.create(this,this._def)}nullable(){return rp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cl.create(this)}promise(){return hw.create(this,this._def)}or(t){return dw.create([this,t],this._def)}and(t){return fw.create(this,t,this._def)}transform(t){return new tp({...zt(this._def),schema:this,typeName:Dt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new aE({...zt(this._def),innerType:this,defaultValue:r,typeName:Dt.ZodDefault})}brand(){return new dHe({typeName:Dt.ZodBranded,type:this,...zt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new sE({...zt(this._def),innerType:this,catchValue:r,typeName:Dt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return gO.create(this,t)}readonly(){return iE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const VWe=/^c[^\s-]{8,}$/i,WWe=/^[0-9a-z]+$/,HWe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qWe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,GWe=/^[a-z0-9_-]{21}$/i,KWe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,YWe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,XWe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,QWe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let NN;const JWe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ZWe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eHe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tHe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rHe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nHe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,SY="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aHe=new RegExp(`^${SY}$`);function NY(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function sHe(e){return new RegExp(`^${NY(e)}$`)}function iHe(e){let t=`${SY}T${NY(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function oHe(e,t){return!!((t==="v4"||!t)&&JWe.test(e)||(t==="v6"||!t)&&eHe.test(e))}function lHe(e,t){if(!KWe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function cHe(e,t){return!!((t==="v4"||!t)&&ZWe.test(e)||(t==="v6"||!t)&&tHe.test(e))}class uu extends rr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==vt.string){const s=this._getOrReturnCtx(t);return nt(s,{code:qe.invalid_type,expected:vt.string,received:s.parsedType}),Ot}const n=new oi;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),nt(a,{code:qe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),nt(a,{code:qe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?nt(a,{code:qe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&nt(a,{code:qe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")XWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"email",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")NN||(NN=new RegExp(QWe,"u")),NN.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"emoji",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")qWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"uuid",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")GWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"nanoid",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")VWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"cuid",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")WWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"cuid2",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")HWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"ulid",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),nt(a,{validation:"url",code:qe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"regex",code:qe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),nt(a,{code:qe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),nt(a,{code:qe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),nt(a,{code:qe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?iHe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{code:qe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?aHe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{code:qe.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?sHe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{code:qe.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?YWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"duration",code:qe.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?oHe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"ip",code:qe.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?lHe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"jwt",code:qe.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?cHe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"cidr",code:qe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?rHe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"base64",code:qe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?nHe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"base64url",code:qe.invalid_string,message:s.message}),n.dirty()):nr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:qe.invalid_string,...yt.errToObj(n)})}_addCheck(t){return new uu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...yt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...yt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...yt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...yt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...yt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...yt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...yt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...yt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...yt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...yt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...yt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...yt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...yt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...yt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...yt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...yt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...yt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...yt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...yt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...yt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...yt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...yt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...yt.errToObj(r)})}nonempty(t){return this.min(1,yt.errToObj(t))}trim(){return new uu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new uu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new uu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}uu.create=e=>new uu({checks:[],typeName:Dt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...zt(e)});function uHe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}class Zm extends rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==vt.number){const s=this._getOrReturnCtx(t);return nt(s,{code:qe.invalid_type,expected:vt.number,received:s.parsedType}),Ot}let n;const a=new oi;for(const s of this._def.checks)s.kind==="int"?nr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),nt(n,{code:qe.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:qe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:qe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?uHe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),nt(n,{code:qe.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),nt(n,{code:qe.not_finite,message:s.message}),a.dirty()):nr.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,yt.toString(r))}setLimit(t,r,n,a){return new Zm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:yt.toString(a)}]})}_addCheck(t){return new Zm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:yt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:yt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:yt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:yt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:yt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&nr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Zm.create=e=>new Zm({checks:[],typeName:Dt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class _v extends rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==vt.bigint)return this._getInvalidInput(t);let n;const a=new oi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:qe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:qe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:qe.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):nr.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return nt(r,{code:qe.invalid_type,expected:vt.bigint,received:r.parsedType}),Ot}gte(t,r){return this.setLimit("min",t,!0,yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,yt.toString(r))}setLimit(t,r,n,a){return new _v({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:yt.toString(a)}]})}_addCheck(t){return new _v({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:yt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}_v.create=e=>new _v({checks:[],typeName:Dt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...zt(e)});class U5 extends rr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==vt.boolean){const n=this._getOrReturnCtx(t);return nt(n,{code:qe.invalid_type,expected:vt.boolean,received:n.parsedType}),Ot}return Vi(t.data)}}U5.create=e=>new U5({typeName:Dt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class uw extends rr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==vt.date){const s=this._getOrReturnCtx(t);return nt(s,{code:qe.invalid_type,expected:vt.date,received:s.parsedType}),Ot}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return nt(s,{code:qe.invalid_date}),Ot}const n=new oi;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),nt(a,{code:qe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),nt(a,{code:qe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):nr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new uw({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:yt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:yt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}uw.create=e=>new uw({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Dt.ZodDate,...zt(e)});class z5 extends rr{_parse(t){if(this._getType(t)!==vt.symbol){const n=this._getOrReturnCtx(t);return nt(n,{code:qe.invalid_type,expected:vt.symbol,received:n.parsedType}),Ot}return Vi(t.data)}}z5.create=e=>new z5({typeName:Dt.ZodSymbol,...zt(e)});class V5 extends rr{_parse(t){if(this._getType(t)!==vt.undefined){const n=this._getOrReturnCtx(t);return nt(n,{code:qe.invalid_type,expected:vt.undefined,received:n.parsedType}),Ot}return Vi(t.data)}}V5.create=e=>new V5({typeName:Dt.ZodUndefined,...zt(e)});class W5 extends rr{_parse(t){if(this._getType(t)!==vt.null){const n=this._getOrReturnCtx(t);return nt(n,{code:qe.invalid_type,expected:vt.null,received:n.parsedType}),Ot}return Vi(t.data)}}W5.create=e=>new W5({typeName:Dt.ZodNull,...zt(e)});class H5 extends rr{constructor(){super(...arguments),this._any=!0}_parse(t){return Vi(t.data)}}H5.create=e=>new H5({typeName:Dt.ZodAny,...zt(e)});class q5 extends rr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Vi(t.data)}}q5.create=e=>new q5({typeName:Dt.ZodUnknown,...zt(e)});class Mu extends rr{_parse(t){const r=this._getOrReturnCtx(t);return nt(r,{code:qe.invalid_type,expected:vt.never,received:r.parsedType}),Ot}}Mu.create=e=>new Mu({typeName:Dt.ZodNever,...zt(e)});class G5 extends rr{_parse(t){if(this._getType(t)!==vt.undefined){const n=this._getOrReturnCtx(t);return nt(n,{code:qe.invalid_type,expected:vt.void,received:n.parsedType}),Ot}return Vi(t.data)}}G5.create=e=>new G5({typeName:Dt.ZodVoid,...zt(e)});class cl extends rr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==vt.array)return nt(r,{code:qe.invalid_type,expected:vt.array,received:r.parsedType}),Ot;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(nt(r,{code:o?qe.too_big:qe.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(nt(r,{code:qe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(nt(r,{code:qe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Ru(r,o,r.path,l)))).then(o=>oi.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new Ru(r,o,r.path,l)));return oi.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new cl({...this._def,minLength:{value:t,message:yt.toString(r)}})}max(t,r){return new cl({...this._def,maxLength:{value:t,message:yt.toString(r)}})}length(t,r){return new cl({...this._def,exactLength:{value:t,message:yt.toString(r)}})}nonempty(t){return this.min(1,t)}}cl.create=(e,t)=>new cl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Dt.ZodArray,...zt(t)});function rh(e){if(e instanceof Kr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Su.create(rh(n))}return new Kr({...e._def,shape:()=>t})}else return e instanceof cl?new cl({...e._def,type:rh(e.element)}):e instanceof Su?Su.create(rh(e.unwrap())):e instanceof rp?rp.create(rh(e.unwrap())):e instanceof gf?gf.create(e.items.map(t=>rh(t))):e}class Kr extends rr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=nr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==vt.object){const u=this._getOrReturnCtx(t);return nt(u,{code:qe.invalid_type,expected:vt.object,received:u.parsedType}),Ot}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Mu&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ru(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Mu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(nt(a,{code:qe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ru(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>oi.mergeObjectSync(n,u)):oi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return yt.errToObj,new Kr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o;const a=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:yt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Kr({...this._def,unknownKeys:"strip"})}passthrough(){return new Kr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Kr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Kr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Dt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Kr({...this._def,catchall:t})}pick(t){const r={};for(const n of nr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of nr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}deepPartial(){return rh(this)}partial(t){const r={};for(const n of nr.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Kr({...this._def,shape:()=>r})}required(t){const r={};for(const n of nr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Su;)s=s._def.innerType;r[n]=s}return new Kr({...this._def,shape:()=>r})}keyof(){return kY(nr.objectKeys(this.shape))}}Kr.create=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strip",catchall:Mu.create(),typeName:Dt.ZodObject,...zt(t)});Kr.strictCreate=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strict",catchall:Mu.create(),typeName:Dt.ZodObject,...zt(t)});Kr.lazycreate=(e,t)=>new Kr({shape:e,unknownKeys:"strip",catchall:Mu.create(),typeName:Dt.ZodObject,...zt(t)});class dw extends rr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new vc(l.ctx.common.issues));return nt(r,{code:qe.invalid_union,unionErrors:o}),Ot}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new vc(c));return nt(r,{code:qe.invalid_union,unionErrors:l}),Ot}}get options(){return this._def.options}}dw.create=(e,t)=>new dw({options:e,typeName:Dt.ZodUnion,...zt(t)});function nE(e,t){const r=Bc(e),n=Bc(t);if(e===t)return{valid:!0,data:e};if(r===vt.object&&n===vt.object){const a=nr.objectKeys(t),s=nr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=nE(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===vt.array&&n===vt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=nE(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===vt.date&&n===vt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class fw extends rr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,o)=>{if(L5(s)||L5(o))return Ot;const l=nE(s.value,o.value);return l.valid?(($5(s)||$5(o))&&r.dirty(),{status:r.value,value:l.data}):(nt(n,{code:qe.invalid_intersection_types}),Ot)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}fw.create=(e,t,r)=>new fw({left:e,right:t,typeName:Dt.ZodIntersection,...zt(r)});class gf extends rr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==vt.array)return nt(n,{code:qe.invalid_type,expected:vt.array,received:n.parsedType}),Ot;if(n.data.length<this._def.items.length)return nt(n,{code:qe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ot;!this._def.rest&&n.data.length>this._def.items.length&&(nt(n,{code:qe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ru(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>oi.mergeArray(r,o)):oi.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new gf({...this._def,rest:t})}}gf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gf({items:e,typeName:Dt.ZodTuple,rest:null,...zt(t)})};class K5 extends rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==vt.map)return nt(n,{code:qe.invalid_type,expected:vt.map,received:n.parsedType}),Ot;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Ru(n,l,n.path,[u,"key"])),value:s._parse(new Ru(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ot;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ot;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}K5.create=(e,t,r)=>new K5({valueType:t,keyType:e,typeName:Dt.ZodMap,...zt(r)});class jv extends rr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==vt.set)return nt(n,{code:qe.invalid_type,expected:vt.set,received:n.parsedType}),Ot;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(nt(n,{code:qe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(nt(n,{code:qe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ot;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Ru(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new jv({...this._def,minSize:{value:t,message:yt.toString(r)}})}max(t,r){return new jv({...this._def,maxSize:{value:t,message:yt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}jv.create=(e,t)=>new jv({valueType:e,minSize:null,maxSize:null,typeName:Dt.ZodSet,...zt(t)});class Y5 extends rr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Y5.create=(e,t)=>new Y5({getter:e,typeName:Dt.ZodLazy,...zt(t)});class X5 extends rr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return nt(r,{received:r.data,code:qe.invalid_literal,expected:this._def.value}),Ot}return{status:"valid",value:t.data}}get value(){return this._def.value}}X5.create=(e,t)=>new X5({value:e,typeName:Dt.ZodLiteral,...zt(t)});function kY(e,t){return new ep({values:e,typeName:Dt.ZodEnum,...zt(t)})}class ep extends rr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return nt(r,{expected:nr.joinValues(n),received:r.parsedType,code:qe.invalid_type}),Ot}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return nt(r,{received:r.data,code:qe.invalid_enum_value,options:n}),Ot}return Vi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ep.create(t,{...this._def,...r})}exclude(t,r=this._def){return ep.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ep.create=kY;class Q5 extends rr{_parse(t){const r=nr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==vt.string&&n.parsedType!==vt.number){const a=nr.objectValues(r);return nt(n,{expected:nr.joinValues(a),received:n.parsedType,code:qe.invalid_type}),Ot}if(this._cache||(this._cache=new Set(nr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=nr.objectValues(r);return nt(n,{received:n.data,code:qe.invalid_enum_value,options:a}),Ot}return Vi(t.data)}get enum(){return this._def.values}}Q5.create=(e,t)=>new Q5({values:e,typeName:Dt.ZodNativeEnum,...zt(t)});class hw extends rr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==vt.promise&&r.common.async===!1)return nt(r,{code:qe.invalid_type,expected:vt.promise,received:r.parsedType}),Ot;const n=r.parsedType===vt.promise?r.data:Promise.resolve(r.data);return Vi(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}hw.create=(e,t)=>new hw({type:e,typeName:Dt.ZodPromise,...zt(t)});class tp extends rr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:o=>{nt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ot;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ot:c.status==="dirty"||r.value==="dirty"?S0(c.value):c});{if(r.value==="aborted")return Ot;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ot:l.status==="dirty"||r.value==="dirty"?S0(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ot:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ot:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Jm(o))return Ot;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Jm(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):Ot);nr.assertNever(a)}}tp.create=(e,t,r)=>new tp({schema:e,typeName:Dt.ZodEffects,effect:t,...zt(r)});tp.createWithPreprocess=(e,t,r)=>new tp({schema:t,effect:{type:"preprocess",transform:e},typeName:Dt.ZodEffects,...zt(r)});class Su extends rr{_parse(t){return this._getType(t)===vt.undefined?Vi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Su.create=(e,t)=>new Su({innerType:e,typeName:Dt.ZodOptional,...zt(t)});class rp extends rr{_parse(t){return this._getType(t)===vt.null?Vi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}rp.create=(e,t)=>new rp({innerType:e,typeName:Dt.ZodNullable,...zt(t)});class aE extends rr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===vt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}aE.create=(e,t)=>new aE({innerType:e,typeName:Dt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...zt(t)});class sE extends rr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return cw(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new vc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new vc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}sE.create=(e,t)=>new sE({innerType:e,typeName:Dt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...zt(t)});class J5 extends rr{_parse(t){if(this._getType(t)!==vt.nan){const n=this._getOrReturnCtx(t);return nt(n,{code:qe.invalid_type,expected:vt.nan,received:n.parsedType}),Ot}return{status:"valid",value:t.data}}}J5.create=e=>new J5({typeName:Dt.ZodNaN,...zt(e)});class dHe extends rr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class gO extends rr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ot:s.status==="dirty"?(r.dirty(),S0(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ot:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new gO({in:t,out:r,typeName:Dt.ZodPipeline})}}class iE extends rr{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Jm(a)&&(a.value=Object.freeze(a.value)),a);return cw(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}iE.create=(e,t)=>new iE({innerType:e,typeName:Dt.ZodReadonly,...zt(t)});Kr.lazycreate;var Dt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Dt||(Dt={}));const Ny=uu.create,fHe=Zm.create;Mu.create;cl.create;const hHe=Kr.create;Kr.strictCreate;dw.create;fw.create;gf.create;ep.create;hw.create;Su.create;rp.create;const mHe=vWe,CY=x.createContext({}),d0=({...e})=>i.jsx(CY.Provider,{value:{name:e.name},children:i.jsx(wWe,{...e})}),mj=()=>{const e=x.useContext(CY),t=x.useContext(EY),{getFieldState:r,formState:n}=hj(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},EY=x.createContext({}),nh=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return i.jsx(EY.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:Ce("space-y-2",e),...t})})});nh.displayName="FormItem";const ah=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=mj();return i.jsx(ze,{ref:r,className:Ce(n&&"text-destructive",e),htmlFor:a,...t})});ah.displayName="FormLabel";const sh=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=mj();return i.jsx(CB,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});sh.displayName="FormControl";const pHe=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=mj();return i.jsx("p",{ref:r,id:n,className:Ce("text-sm text-muted-foreground",e),...t})});pHe.displayName="FormDescription";const ih=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=mj(),o=a?String(a==null?void 0:a.message):t;return o?i.jsx("p",{ref:n,id:s,className:Ce("text-sm font-medium text-destructive",e),...r,children:o}):null});ih.displayName="FormMessage";const gHe=hHe({request_title:Ny().min(1,"Title is required"),request_description:Ny().optional(),request_type:Ny().optional(),priority:fHe().optional(),status:Ny().optional()});function vHe({open:e,onOpenChange:t,onSubmit:r,initialData:n}){const{t:a}=At(),{isRTL:s}=ir(),{user:o}=hr(),l=(o==null?void 0:o.role)==="admin"||(o==null?void 0:o.role)==="manager",c=MWe({resolver:$We(gHe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});x.useEffect(()=>{n?c.reset({request_title:n.request_title,request_description:n.request_description||"",request_type:n.request_type||"internal_task",priority:n.priority||1,status:n.status||"pending"}):c.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[n,c,e]);const u=async d=>{await r(d),t(!1),c.reset()};return i.jsx(fl,{open:e,onOpenChange:t,children:i.jsxs(No,{side:s?"left":"right",className:"sm:max-w-md overflow-y-auto",children:[i.jsx(uc,{children:i.jsx(hl,{children:a(n?"requests.editRequest":"requests.createRequest")})}),i.jsx("div",{className:"py-4",children:i.jsx(mHe,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4",children:[i.jsx(d0,{control:c.control,name:"request_title",render:({field:d})=>i.jsxs(nh,{children:[i.jsx(ah,{children:a("requests.title")}),i.jsx(sh,{children:i.jsx(Ue,{placeholder:a("requests.titlePlaceholder"),...d})}),i.jsx(ih,{})]})}),i.jsx(d0,{control:c.control,name:"request_description",render:({field:d})=>i.jsxs(nh,{children:[i.jsx(ah,{children:a("requests.description")}),i.jsx(sh,{children:i.jsx(Dn,{placeholder:a("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...d})}),i.jsx(ih,{})]})}),l&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(d0,{control:c.control,name:"request_type",render:({field:d})=>i.jsxs(nh,{children:[i.jsx(ah,{children:a("requests.type")}),i.jsxs(ft,{onValueChange:d.onChange,defaultValue:d.value,value:d.value,children:[i.jsx(sh,{children:i.jsx(ut,{children:i.jsx(ht,{placeholder:"Select type"})})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"internal_task",children:a("requests.types.internalTask")}),i.jsx(ke,{value:"support",children:a("requests.types.support")}),i.jsx(ke,{value:"feature",children:a("requests.types.feature")})]})]}),i.jsx(ih,{})]})}),i.jsx(d0,{control:c.control,name:"priority",render:({field:d})=>{var f,h;return i.jsxs(nh,{children:[i.jsx(ah,{children:a("requests.priority")}),i.jsxs(ft,{onValueChange:m=>d.onChange(parseInt(m)),defaultValue:(f=d.value)==null?void 0:f.toString(),value:(h=d.value)==null?void 0:h.toString(),children:[i.jsx(sh,{children:i.jsx(ut,{children:i.jsx(ht,{placeholder:"Select priority"})})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"0",children:a("requests.priorities.low")}),i.jsx(ke,{value:"1",children:a("requests.priorities.medium")}),i.jsx(ke,{value:"2",children:a("requests.priorities.high")})]})]}),i.jsx(ih,{})]})}})]}),i.jsx(d0,{control:c.control,name:"status",render:({field:d})=>i.jsxs(nh,{children:[i.jsx(ah,{children:a("requests.status")}),i.jsxs(ft,{onValueChange:d.onChange,defaultValue:d.value,value:d.value,children:[i.jsx(sh,{children:i.jsx(ut,{children:i.jsx(ht,{placeholder:"Select status"})})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"pending",children:a("status.pending")}),i.jsx(ke,{value:"in_progress",children:a("status.in_progress")}),i.jsx(ke,{value:"completed",children:a("status.completed")}),i.jsx(ke,{value:"approved",children:a("status.approved")}),i.jsx(ke,{value:"rejected",children:a("status.rejected")})]})]}),i.jsx(ih,{})]})})]}),i.jsx("div",{className:"flex justify-end pt-4 gap-2",children:i.jsx(de,{type:"submit",children:a(n?"common.save":"common.create")})})]})})})]})})}function xHe(){const{t:e}=At(),{toast:t}=Li(),{user:r}=hr();Ur();const{isRTL:n}=ir(),[a,s]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(""),[d,f]=x.useState(!1),[h,m]=x.useState(null),[g,p]=x.useState(null),[v,y]=x.useState([]),[b,w]=x.useState("all"),[j,_]=x.useState("all"),[S,N]=x.useState(1),C=10,k=async()=>{try{l(!0);const A=await l0.getRequests();s(A)}catch(A){console.error("Failed to fetch requests:",A),t({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{l(!1)}};x.useEffect(()=>{k()},[]);const E=()=>{m(null),f(!0)},O=A=>{m(A),f(!0)},T=async()=>{if(g)try{await l0.deleteRequest(g),t({title:e("common.success"),description:e("requests.deleteSuccess")}),k()}catch(A){console.error("Failed to delete request:",A),t({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{p(null)}},U=async A=>{try{if(!(r!=null&&r.id)){t({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}h?(await l0.updateRequest(h.request_id,A),t({title:e("common.success"),description:e("requests.updateSuccess")})):(await l0.createRequest({...A,requested_by_auth:r.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),t({title:e("common.success"),description:e("requests.createSuccess")})),k()}catch(B){console.error("Failed to save request:",B),t({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},W=a.filter(A=>{var te;const B=A.request_title.toLowerCase().includes(c.toLowerCase()),H=b==="all"||A.status===b,V=j==="all"||((te=A.priority)==null?void 0:te.toString())===j;return B&&H&&V}),R=Math.ceil(W.length/C),z=(S-1)*C,P=z+C,M=W.slice(z,P),L=A=>{switch(A){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},q=A=>{switch(A){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},Z=A=>{switch(A){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:n?"rtl":"ltr",children:[i.jsx(lx,{title:e("requests.title"),description:e("requests.subtitle"),icon:i.jsx(ya,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(de,{onClick:E,children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ue,{placeholder:e("requests.searchPlaceholder"),className:"pl-10 h-9",value:c,onChange:A=>u(A.target.value)})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs(ft,{value:j,onValueChange:_,children:[i.jsx(ut,{className:"w-[130px] h-9",children:i.jsx(ht,{placeholder:e("requests.priority")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:e("common.all")}),i.jsx(ke,{value:"0",children:e("requests.priorities.low")}),i.jsx(ke,{value:"1",children:e("requests.priorities.medium")}),i.jsx(ke,{value:"2",children:e("requests.priorities.high")})]})]}),i.jsxs(ft,{value:b,onValueChange:w,children:[i.jsx(ut,{className:"w-[130px] h-9",children:i.jsx(ht,{placeholder:e("requests.status")})}),i.jsxs(dt,{children:[i.jsx(ke,{value:"all",children:e("common.all")}),i.jsx(ke,{value:"pending",children:e("status.pending")}),i.jsx(ke,{value:"approved",children:e("status.approved")}),i.jsx(ke,{value:"rejected",children:e("status.rejected")}),i.jsx(ke,{value:"in_progress",children:e("status.in_progress")}),i.jsx(ke,{value:"completed",children:e("status.completed")})]})]})]})]}),(()=>{const A=[{key:"title",header:e("requests.requestTitle"),render:V=>{var te;return i.jsx(pc,{title:V.request_title,subtitle:(te=V.request_type)==null?void 0:te.replace("_"," ")})}},{key:"priority",header:e("requests.priority"),render:V=>i.jsx(pt,{variant:"outline",className:q(V.priority),children:Z(V.priority)})},{key:"status",header:e("requests.status"),render:V=>i.jsx(pt,{variant:"secondary",className:`capitalize ${L(V.status)}`,children:V.status?e(`status.${V.status}`):e("status.pending")})},{key:"created",header:e("requests.createdDate"),hideOnMobile:!0,render:V=>i.jsx(kf,{date:V.created_at})}],B=[{icon:i.jsx(z2,{}),label:e("common.edit"),onClick:O},{icon:i.jsx(Zt,{}),label:e("common.delete"),onClick:V=>p(V.request_id),variant:"destructive"}],H=[{label:e("buttons.delete"),icon:i.jsx(Zt,{className:"h-4 w-4"}),onClick:async V=>{try{await Promise.all(V.map(te=>l0.deleteRequest(te.request_id))),t({title:e("common.success"),description:e("requests.deleteSuccess")}),s(te=>te.filter(le=>!V.find(xe=>xe.request_id===le.request_id))),y([])}catch(te){console.error("Failed to bulk delete requests:",te),t({title:e("common.error"),description:e("requests.deleteError"),variant:"destructive"})}}}];return i.jsx(mc,{data:M,columns:A,actions:B,bulkActions:H,keyExtractor:V=>V.request_id,onRowClick:O,enableBulkSelect:!0})})(),i.jsx(vHe,{open:d,onOpenChange:f,onSubmit:U,initialData:h}),i.jsx(Rs,{open:!!g,onOpenChange:A=>!A&&p(null),children:i.jsxs(ns,{children:[i.jsxs(as,{children:[i.jsx(is,{children:e("common.confirmDelete")}),i.jsx(os,{children:e("requests.deleteConfirmation")})]}),i.jsxs(ss,{children:[i.jsx(cs,{children:e("common.cancel")}),i.jsx(ls,{className:"bg-red-500 hover:bg-red-600",onClick:T,children:e("common.delete")})]})]})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:R>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Km,{children:i.jsxs(Ym,{children:[i.jsx(Sa,{children:i.jsx(iu,{onClick:()=>N(Math.max(1,S-1)),className:S===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",S," ",e("common.of")," ",R]})}),i.jsx(Sa,{children:i.jsx(ou,{onClick:()=>N(Math.min(R,S+1)),className:S===R?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})}class yHe{constructor(){Fp(this,"connections",new Map);Fp(this,"reconnectAttempts",new Map);Fp(this,"maxReconnectAttempts",5);Fp(this,"reconnectDelay",3e3)}getToken(){return localStorage.getItem("authToken")}getCurrentUser(){try{const t=localStorage.getItem("authUser");return t?JSON.parse(t):null}catch{return null}}connect(t,r){const n=this.getToken(),a=this.getCurrentUser();if(!n)throw new Error("No authentication token found");if(!a)throw new Error("No user data found");const s=new URLSearchParams;s.append("token",n),r.filters&&s.append("filters",JSON.stringify(r.filters)),r.father&&s.append("father",r.father);const o=`wss://api.middar.com/api/v1/${t}/ws?${s.toString()}`,l=`${t}_${JSON.stringify(r.filters||{})}`;this.disconnect(l);const c=new WebSocket(o);return this.connections.set(l,c),c.onopen=()=>{var u;console.log(`WebSocket connected to ${t}`),this.reconnectAttempts.set(l,0),(u=r.onConnect)==null||u.call(r)},c.onmessage=u=>{var d,f,h;try{const m=JSON.parse(u.data);if(m.type==="connected"){console.log("WebSocket subscription confirmed:",m);return}if(m.type==="error"){console.error("WebSocket error:",m.message),(d=r.onError)==null||d.call(r,m);return}(f=r.onMessage)==null||f.call(r,m)}catch(m){console.error("Error parsing WebSocket message:",m),(h=r.onError)==null||h.call(r,m)}},c.onerror=u=>{var d;console.error("WebSocket error:",u),(d=r.onError)==null||d.call(r,u)},c.onclose=()=>{var u;console.log(`WebSocket disconnected from ${t}`),this.connections.delete(l),(u=r.onDisconnect)==null||u.call(r),this.attemptReconnect(l,t,r)},c}attemptReconnect(t,r,n){const a=this.reconnectAttempts.get(t)||0;a<this.maxReconnectAttempts?(this.reconnectAttempts.set(t,a+1),setTimeout(()=>{console.log(`Attempting to reconnect to ${r} (attempt ${a+1})`),this.connect(r,n)},this.reconnectDelay*Math.pow(2,a))):console.error(`Max reconnection attempts reached for ${r}`)}disconnect(t){if(t){const r=this.connections.get(t);r&&(r.close(),this.connections.delete(t),this.reconnectAttempts.delete(t))}else this.connections.forEach((r,n)=>{r.close()}),this.connections.clear(),this.reconnectAttempts.clear()}isConnected(t){const r=this.connections.get(t);return(r==null?void 0:r.readyState)===WebSocket.OPEN}sendMessage(t,r){const n=this.connections.get(t);n&&n.readyState===WebSocket.OPEN?n.send(JSON.stringify(r)):console.warn("WebSocket not connected, cannot send message")}getConnections(){return Array.from(this.connections.keys())}getConnectionStatuses(){const t={};return this.connections.forEach((r,n)=>{t[n]=r.readyState===WebSocket.OPEN}),t}}const ky=new yHe;function Z5(e,t){const[r,n]=x.useState(!1),[a,s]=x.useState([]),o=x.useRef(null),l=x.useRef(""),c=x.useRef(t);x.useEffect(()=>{c.current=t},[t]);const u=`${e}_${JSON.stringify(t.filters||{})}`;l.current=u;const d=x.useCallback(b=>{var w,j;s(_=>[..._,b]),(j=(w=c.current).onMessage)==null||j.call(w,b)},[]),f=x.useCallback(b=>{var w,j;console.error("WebSocket hook error:",b),(j=(w=c.current).onError)==null||j.call(w,b)},[]),h=x.useCallback(()=>{n(!0)},[]),m=x.useCallback(()=>{n(!1)},[]),g=x.useCallback(()=>{var b,w;try{o.current=ky.connect(e,{...c.current,table:e,onConnect:h,onDisconnect:m,onMessage:d,onError:f})}catch(j){console.error("Failed to connect WebSocket:",j),(w=(b=c.current).onError)==null||w.call(b,j)}},[e,d,f,h,m]),p=x.useCallback(()=>{console.log("Manual reconnect triggered"),g()},[g]);x.useEffect(()=>(g(),()=>{ky.disconnect(u)}),[g]);const v=x.useCallback(b=>{ky.sendMessage(u,b)},[u]),y=x.useCallback(()=>{ky.disconnect(u)},[u]);return{isConnected:r,messages:a,sendMessage:v,disconnect:y,connectionKey:u,reconnect:p}}const e$="9",t$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyaWQiOjEsInBlcm1pc3Npb25zIjoidXNlciIsImNvbXBhbnlfY29kZSI6ImNybWRiIiwiY29tcGFueV9pZCI6MjQsImV4cCI6MTc3MDUzNjU0OX0.uYGncrK-4KEZgy_eoJcfNWuRSHs12ju6O41BmrA59GM";function bHe(){At();const{isRTL:e}=ir(),{toast:t}=Li();Ur();const[r,n]=x.useState([]),[a,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState(null),[d,f]=x.useState([]),[h,m]=x.useState(""),[g,p]=x.useState(null),[v,y]=x.useState(!0),[b,w]=x.useState(!1),[j,_]=x.useState(null),[S,N]=x.useState(!1),C=x.useRef(null),{isConnected:k,reconnect:E,connectionKey:O}=Z5("whatsapp_conversations",{filters:a?{session_id:a.session_id}:void 0,onMessage:G=>{console.log("New conversation update:",G),G.type==="created"?l(Q=>Q.find(ce=>ce.id===G.data.id)?Q:[G.data,...Q]):G.type==="updated"?l(Q=>Q.map(D=>D.id===G.data.id?{...D,...G.data}:D)):G.type==="deleted"&&(l(Q=>Q.filter(D=>D.id!==G.data.id)),(c==null?void 0:c.id)===G.data.id&&(u(null),f([])))},onError:G=>{console.error("Conversations WebSocket error:",G),t({title:"Connection Error",description:"Failed to connect to real-time conversation updates",variant:"destructive"})}}),{isConnected:T,reconnect:U,connectionKey:W}=Z5("whatsapp_messages",{filters:a?{session_id:a.session_id}:void 0,onMessage:G=>{console.log("New message update:",G),G.type==="created"?(G.data.conversation_id===(c==null?void 0:c.id)&&(f(Q=>[...Q,G.data]),setTimeout(()=>{C.current&&(C.current.scrollTop=C.current.scrollHeight)},100)),l(Q=>Q.map(D=>D.id===G.data.conversation_id?{...D,last_message_at:G.data.created_at}:D).sort((D,ce)=>new Date(ce.last_message_at||0).getTime()-new Date(D.last_message_at||0).getTime()))):G.type==="updated"?f(Q=>Q.map(D=>D.id===G.data.id?{...D,...G.data}:D)):G.type==="deleted"&&f(Q=>Q.filter(D=>D.id!==G.data.id))},onError:G=>{console.error("Messages WebSocket error:",G),t({title:"Connection Error",description:"Failed to connect to real-time message updates",variant:"destructive"})}}),R=x.useCallback(async(G,Q={})=>{const D=`https://api.middar.com/api/v1/plugins/${e$}`;console.log(`Calling plugin API: ${D}`,{action:G,data:Q});try{const je=await(await fetch(D,{method:"POST",headers:{Authorization:`Bearer ${t$}`,"Content-Type":"application/json"},body:JSON.stringify({action:G,...Q})})).json();return console.log("Plugin API response:",je),je}catch(ce){return console.error("Plugin API error:",ce),{success:!1,message:ce.message}}},[e$,t$]);x.useEffect(()=>{const G=localStorage.getItem("whatsapp_sessions");if(G)try{const Q=JSON.parse(G);console.log("Loading sessions from localStorage:",Q),n(Q);const D=Q.find(ce=>ce.is_primary);s(D||null),(D==null?void 0:D.state)==="connected"&&L()}catch(Q){console.error("Failed to load sessions from localStorage:",Q)}},[]),x.useEffect(()=>{setTimeout(async()=>{localStorage.getItem("whatsapp_sessions")?console.log("Using existing sessions from localStorage"):(console.log("No local sessions found, loading from API"),await M()),await z()},100)},[]),x.useEffect(()=>{(a==null?void 0:a.state)==="connected"&&L()},[a]);const z=async()=>{try{const G=await R("enable_crm");console.log("Global CRM enable result:",G);for(const Q of r){const D=await R("enable_crm",{session_id:Q.session_id});console.log(`CRM enable result for session ${Q.session_id}:`,D)}G.success&&(console.log("CRM enabled successfully"),t({title:"CRM Enabled",description:"WhatsApp CRM integration is now active"}))}catch(G){console.error("Failed to enable CRM:",G),t({variant:"destructive",title:"CRM Enable Failed",description:"Could not enable CRM functionality"})}};x.useEffect(()=>{console.log("WebSocket Status:",{conversationsConnected:k,messagesConnected:T,activeSession:a==null?void 0:a.session_id,conversationsKey:O,messagesKey:W}),k&&T&&(sessionStorage.getItem("ws_notification_shown")||(t({title:"Real-time Updates Active",description:"WhatsApp conversations and messages will update in real-time"}),sessionStorage.setItem("ws_notification_shown","true")))},[k,T,a,O,W]);const P=(G,Q)=>{n(ce=>ce.map(je=>je.session_id===G?{...je,state:Q}:je));const D=localStorage.getItem("whatsapp_sessions");if(D)try{const je=JSON.parse(D).map(be=>be.session_id===G?{...be,state:Q}:be);localStorage.setItem("whatsapp_sessions",JSON.stringify(je))}catch(ce){console.error("Failed to update localStorage session state:",ce)}};x.useEffect(()=>{r.length>0&&localStorage.setItem("whatsapp_sessions",JSON.stringify(r))},[r]);const M=async()=>{console.log("Loading sessions...");const G=await R("list_sessions");if(console.log("Sessions result:",G),G.success){const Q=G.data||[];console.log("Sessions array from API:",Q),console.log("Sessions length from API:",Q.length);const D=localStorage.getItem("whatsapp_sessions");let ce=[];if(D)try{ce=JSON.parse(D)}catch(Le){console.error("Failed to parse saved sessions:",Le)}const je=[];ce.forEach(Le=>{const et=Q.find(se=>se.session_id===Le.session_id);et?Le.state==="connected"&&et.state==="inactive"?(console.log(`Preserving connected state for session ${Le.session_id}, ignoring API inactive state`),je.push({...et,state:"connected"})):(console.log(`Updating session ${Le.session_id} state from ${Le.state} to ${et.state}`),je.push(et)):(console.log(`Keeping existing session ${Le.session_id} not found in API response`),je.push(Le))}),Q.forEach(Le=>{ce.find(et=>et.session_id===Le.session_id)||je.push(Le)}),console.log("Merged sessions:",je),n(je);const be=je.find(Le=>Le.is_primary),Pe=je[0]||null;s(be||Pe);const De=be||Pe;(De==null?void 0:De.state)==="connected"&&L()}else t({variant:"destructive",title:"Error",description:G.message||"Failed to load sessions"})};x.useEffect(()=>{c&&q(c.id)},[c]);const L=async()=>{if(a)try{const G=await R("get_conversations",{limit:50,offset:0});G.success?(l(G.data||[]),v&&y(!1)):t({variant:"destructive",title:"Error",description:G.message||"Failed to load conversations"})}catch(G){console.error(G),v&&y(!1)}},q=async G=>{if(a)try{const Q=await R("get_conversation_messages",{conversation_id:G,limit:50,offset:0});Q.success&&(f(Q.data||[]),setTimeout(()=>xe(),100))}catch(Q){console.error(Q)}},Z=async G=>{_(G);const Q=await R("connect_session",{session_id:G});return console.log("Connect session result:",Q),Q.success?Q.needs_qr&&Q.qr_code?(p(Q.qr_code),A(G)):Q.message==="already connected"?await M():A(G):t({variant:"destructive",title:"Connection failed",description:Q.message||"Failed to connect session"}),_(null),Q},A=async(G,Q=40)=>{for(let D=0;D<Q;D++){const ce=await R("get_status",{session_id:G});if(console.log(`Status check ${D+1}:`,ce),ce.success&&ce.data){const je=ce.data.state||ce.data.status;if(console.log("Session state:",je),je==="connected"){p(null),P(G,"connected"),await M();return}else if(je==="pending_qr"&&ce.data.qr_code){p(ce.data.qr_code),P(G,"pending_qr");return}else if(je==="pending_qr")console.log("Still waiting for QR code..."),P(G,"pending_qr");else if(je==="active"||je==="working"){p(null),P(G,"connected"),await M();return}else if(je==="inactive"){console.log("Session inactive, attempting to connect..."),P(G,"inactive");return}else if(je==="error"){console.log("Session error, stopping polling"),p(null),P(G,"error"),t({variant:"destructive",title:"Connection Error",description:ce.data.error_message||"Session encountered an error"});return}}await new Promise(je=>setTimeout(je,3e3))}t({variant:"destructive",title:"Connection timeout",description:"Timeout waiting for QR scan"}),p(null)},B=async G=>{var Q,D,ce,je,be,Pe,De;console.log("Creating session:",G);try{const Le=await R("create_session",{display_name:G,is_primary:!1});if(console.log("Create session result:",Le),Le.success){const et={session_id:((Q=Le.data)==null?void 0:Q.session_id)||Date.now(),display_name:((D=Le.data)==null?void 0:D.display_name)||G,state:((ce=Le.data)==null?void 0:ce.state)||"inactive",is_primary:((je=Le.data)==null?void 0:je.is_primary)||!1,created_at:((be=Le.data)==null?void 0:be.created_at)||new Date().toISOString(),last_activity:((Pe=Le.data)==null?void 0:Pe.last_activity)||new Date().toISOString(),jid:((De=Le.data)==null?void 0:De.jid)||""};console.log("Adding session to state:",et),n(ge=>[...ge,et]);const se=localStorage.getItem("whatsapp_sessions");if(se)try{const re=[...JSON.parse(se),et];localStorage.setItem("whatsapp_sessions",JSON.stringify(re)),console.log("Saved to localStorage")}catch(ge){console.error("Failed to save to localStorage:",ge)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([et]));t({title:"Session created",description:"New session created successfully (local mode)"})}else if(confirm(`API create failed: ${Le.message}. Create local session anyway?`)){const et={session_id:Date.now(),display_name:G,state:"inactive",is_primary:!1,created_at:new Date().toISOString(),last_activity:new Date().toISOString(),jid:""};n(ge=>[...ge,et]);const se=localStorage.getItem("whatsapp_sessions");if(se)try{const re=[...JSON.parse(se),et];localStorage.setItem("whatsapp_sessions",JSON.stringify(re))}catch(ge){console.error("Failed to save to localStorage:",ge)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([et]));t({title:"Local Session Created",description:"Session created locally (API failed)"})}else t({variant:"destructive",title:"Creation failed",description:Le.message||"Failed to create session"})}catch(Le){console.error("Create session error:",Le),t({variant:"destructive",title:"Creation failed",description:"An error occurred while creating session"})}},H=async G=>{const Q=await R("pause_session",{session_id:G});Q.success?await M():t({variant:"destructive",title:"Pause failed",description:Q.message||"Failed to pause session"})},V=async G=>{const Q=await R("resume_session",{session_id:G});Q.success?await M():t({variant:"destructive",title:"Resume failed",description:Q.message||"Failed to resume session"})},te=async G=>{const Q=await R("disconnect_session",{session_id:G});Q.success?(await M(),t({title:"Session Disconnected",description:"Session disconnected successfully"})):t({variant:"destructive",title:"Disconnect failed",description:Q.message||"Failed to disconnect session"})},le=async G=>{if(confirm("Are you sure you want to delete this session?")){console.log("Deleting session:",G);try{const Q=await R("delete_session",{session_id:G});if(console.log("Delete result:",Q),Q.success){const D=localStorage.getItem("whatsapp_sessions");if(D)try{const je=JSON.parse(D).filter(be=>be.session_id!==G);localStorage.setItem("whatsapp_sessions",JSON.stringify(je)),console.log("Removed session from localStorage")}catch(ce){console.error("Failed to update localStorage:",ce)}n(ce=>ce.filter(je=>je.session_id!==G)),t({title:"Session deleted",description:"Session deleted successfully"})}else if(confirm(`API delete failed: ${Q.message}. Remove from local list anyway?`)){const D=localStorage.getItem("whatsapp_sessions");if(D)try{const je=JSON.parse(D).filter(be=>be.session_id!==G);localStorage.setItem("whatsapp_sessions",JSON.stringify(je))}catch(ce){console.error("Failed to update localStorage:",ce)}n(ce=>ce.filter(je=>je.session_id!==G)),t({title:"Session removed locally",description:"Session removed from local list (API delete failed)"})}else t({variant:"destructive",title:"Delete failed",description:Q.message||"Failed to delete session"})}catch(Q){console.error("Delete session error:",Q),t({variant:"destructive",title:"Delete failed",description:"An error occurred while deleting session"})}}},xe=()=>{C.current&&(C.current.scrollTop=C.current.scrollHeight)},ie=async G=>{if(G==null||G.preventDefault(),!(!h.trim()||!c||!a)){w(!0);try{const Q=await R("send_text",{phone:c.phone,message:h,session_id:a.session_id});if(Q.success)m(""),setTimeout(()=>q(c.id),500);else throw new Error(Q.message||"Failed to send message")}catch(Q){t({variant:"destructive",title:"Error sending message",description:(Q==null?void 0:Q.message)||"Unknown error"})}finally{w(!1)}}};return i.jsxs("div",{className:"h-full flex flex-1 overflow-hidden bg-background border rounded-lg",dir:e?"rtl":"ltr",children:[i.jsxs("div",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b bg-background/50 backdrop-blur",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"font-semibold flex items-center gap-2",children:[i.jsx(Vl,{className:"h-4 w-4"}),"WhatsApp"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(de,{variant:"outline",size:"sm",onClick:()=>N(!S),className:"flex items-center gap-2",children:[i.jsx(kg,{className:"h-4 w-4"}),"Sessions"]}),i.jsx(de,{variant:"ghost",size:"icon",onClick:L,children:i.jsx(oR,{className:"h-4 w-4"})}),a&&i.jsx(i.Fragment,{children:a.state==="connected"?i.jsxs(de,{variant:"outline",size:"sm",onClick:()=>te(a.session_id),className:"flex items-center gap-2",children:[i.jsx(Vl,{className:"h-4 w-4 rotate-135"}),"Disconnect"]}):i.jsxs(de,{variant:"default",size:"sm",onClick:()=>Z(a.session_id),disabled:j===a.session_id,className:"flex items-center gap-2",children:[i.jsx(Vl,{className:"h-4 w-4"}),j===a.session_id?"Connecting...":"Connect"]})})]})]}),a&&i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${a.state==="connected"?"bg-green-500":a.state==="pending_qr"?"bg-yellow-500":a.state==="connecting"?"bg-blue-500":a.state==="paused"?"bg-orange-500":"bg-red-500"}`}),i.jsx("span",{className:"text-sm font-medium",children:a.display_name}),a.is_primary&&i.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:"PRIMARY"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:a.state==="connected"?" Connected":a.state==="pending_qr"?" Waiting QR":a.state==="connecting"?" Connecting":a.state==="paused"?" Paused":" Disconnected"})]}),i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg mb-3",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[k?i.jsx(dR,{className:"h-4 w-4 text-green-500"}):i.jsx(uR,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Conversations"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[T?i.jsx(dR,{className:"h-4 w-4 text-green-500"}):i.jsx(uR,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Messages"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[(!k||!T)&&i.jsx(de,{variant:"outline",size:"sm",onClick:()=>{k||E(),T||U()},className:"h-6 px-2 text-xs",children:"Reconnect"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:k&&T?" Real-time active":" Real-time disconnected"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(hs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Ue,{placeholder:"Search...",className:"pl-9"})]})]}),i.jsx(Ka,{className:"flex-1",children:S?i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-medium",children:"Session Manager"}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs(de,{variant:"outline",size:"sm",onClick:M,className:"flex items-center gap-2",children:[i.jsx(oR,{className:"h-4 w-4"}),"Refresh"]}),i.jsx(de,{variant:"outline",size:"sm",onClick:async()=>{console.log("Check Status clicked"),console.log("Current sessions:",r),console.log("Active session:",a);const G=a||r[0];if(G){console.log("Checking status for session:",G.session_id);const Q=await R("get_status",{session_id:G.session_id});if(console.log("Manual status check:",Q),Q.success&&Q.data){const D=Q.data.state||Q.data.status;console.log("Current session status:",D),P(G.session_id,D),t({title:"Status Updated",description:`Session status: ${D}`})}else t({variant:"destructive",title:"Status Check Failed",description:Q.message||"Failed to check status"})}else t({variant:"destructive",title:"No Session",description:"No session available to check"})},children:"Check Status"}),i.jsx(de,{variant:"outline",size:"sm",onClick:z,children:"Enable CRM"}),i.jsx(de,{variant:"outline",size:"sm",onClick:()=>{confirm("Clear all local sessions? This will remove all sessions from the UI.")&&(localStorage.removeItem("whatsapp_sessions"),n([]),s(null),t({title:"Sessions Cleared",description:"All local sessions have been removed"}))},children:"Clear Local"}),i.jsxs(de,{variant:"outline",size:"sm",onClick:()=>B("New Session"),className:"flex items-center gap-2",children:[i.jsx(Ut,{className:"h-4 w-4"}),"Create Session"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[r.map(G=>i.jsxs("div",{className:`p-3 border rounded-lg ${G.is_primary?"border-primary/20 bg-primary/5":"border-border"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${G.state==="connected"?"bg-green-500":G.state==="pending_qr"?"bg-yellow-500":G.state==="connecting"?"bg-blue-500":G.state==="paused"?"bg-orange-500":"bg-red-500"}`}),i.jsx("span",{className:"font-medium text-sm",children:G.display_name}),G.is_primary&&i.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"PRIMARY"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:G.state==="connected"?"":G.state==="pending_qr"?"":G.state==="connecting"?"":G.state==="paused"?"":G.state==="disconnected"?"":""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(de,{size:"sm",variant:"outline",onClick:()=>Z(G.session_id),disabled:G.state!=="inactive"&&G.state!=="disconnected"||j===G.session_id,children:j===G.session_id?"Connecting...":"Connect"}),G.state==="connected"&&i.jsx(de,{size:"sm",variant:"outline",onClick:()=>H(G.session_id),children:i.jsx(bae,{className:"h-3 w-3"})}),G.state==="paused"&&i.jsx(de,{size:"sm",variant:"outline",onClick:()=>V(G.session_id),children:i.jsx(V2,{className:"h-3 w-3"})}),i.jsx(de,{size:"sm",variant:"outline",onClick:()=>le(G.session_id),className:"text-destructive hover:text-destructive",children:i.jsx(Zt,{className:"h-3 w-3"})})]})]},`session-${G.session_id}-${G.state}`)),r.length===0&&i.jsx("div",{className:"text-center p-4 text-muted-foreground text-sm",children:"No sessions configured. Create your first session to get started."})]})]}):i.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[o.map(G=>i.jsxs("button",{onClick:()=>u(G),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${(c==null?void 0:c.id)===G.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted"}`,children:[i.jsx(Os,{children:i.jsx(Ds,{className:"bg-green-100 text-green-700",children:i.jsx(On,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium truncate",children:G.phone}),i.jsx("span",{className:"text-xs text-muted-foreground",children:G.last_message_at&&ts(new Date(G.last_message_at),"MMM d")})]}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Tap to view messages"})]})]},G.id)),o.length===0&&!v&&i.jsx("div",{className:"text-center p-8 text-muted-foreground text-sm",children:a?"No conversations yet.":"Connect a session to start messaging."})]})})]}),i.jsx("div",{className:"flex-1 flex flex-col bg-background relative",children:c?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-background z-10",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Os,{className:"h-10 w-10",children:i.jsx(Ds,{className:"bg-green-600 text-white",children:"WA"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:c.phone}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"WhatsApp Business"]})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50 ltr",ref:C,dir:"ltr",children:d.map(G=>{const Q=G.direction==="outbound"||G.direction==="outgoing";return i.jsx("div",{className:`flex ${Q?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${Q?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 border rounded-bl-none"}`,children:[G.message&&i.jsx("p",{className:"text-sm",children:G.message}),i.jsx("p",{className:`text-[10px] mt-1 text-right ${Q?"text-green-100":"text-muted-foreground"}`,children:G.created_at?ts(new Date(G.created_at),"HH:mm"):""})]})},G.id)})}),i.jsx("div",{className:"p-4 border-t bg-background",children:i.jsxs("form",{onSubmit:ie,className:"flex gap-2",children:[i.jsx(Ue,{value:h,onChange:G=>m(G.target.value),placeholder:"Type a message...",className:"flex-1",disabled:b}),i.jsx(de,{type:"submit",size:"icon",disabled:b||!h.trim(),children:i.jsx(Mv,{className:"h-4 w-4"})})]})})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-8",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:i.jsx(Vl,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:a?"Select a conversation":"No active session"}),i.jsx("p",{className:"max-w-xs text-center text-sm",children:a?"Choose a conversation from the sidebar to start messaging.":"Connect a WhatsApp session to start messaging."})]})}),g&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-background rounded-lg p-6 max-w-sm w-full mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(wae,{className:"h-5 w-5"}),"Scan QR Code"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(de,{variant:"ghost",size:"icon",onClick:()=>p(null),children:""}),i.jsx(de,{variant:"outline",size:"sm",onClick:async()=>{var Q;const G=await R("get_status",{session_id:a==null?void 0:a.session_id});G.success&&((Q=G.data)!=null&&Q.qr_code)&&p(G.data.qr_code)},children:"Refresh QR"})]})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("img",{src:g.startsWith("data:image/png;base64,")?g:`data:image/png;base64,${g}`,alt:"WhatsApp QR Code",className:"w-64 h-64 border-2 border-border rounded-lg mb-4"}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"font-medium",children:"Scan with WhatsApp"}),i.jsxs("ol",{className:"text-sm text-left space-y-1 text-muted-foreground",children:[i.jsx("li",{children:"1. Open WhatsApp on your phone"}),i.jsx("li",{children:"2. Tap Settings  Linked Devices"}),i.jsx("li",{children:"3. Tap Link a Device"}),i.jsx("li",{children:"4. Point camera at this QR code"})]})]})]})]})})]})}function wHe(){const{t:e}=At(),{isRTL:t}=ir(),r=Ur(),{setBreadcrumbs:n}=Rv(),{toast:a}=Li(),[s,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,g]=x.useState(!1),[p,v]=x.useState(!1),[y,b]=x.useState({});x.useEffect(()=>{n([{label:e("navigation.dashboard"),href:"/"},{label:"Permissions",href:"/permissions"}]),w()},[]);const w=async()=>{try{c(!0);const E=await X.permissions.list({sort:"ASC"});o(E.data||[]),d(null)}catch(E){d(E.message||"Failed to load permissions")}finally{c(!1)}},j=E=>{h(E),b({...E}),v(!0),g(!0)},_=()=>{h(null),b({permissions_Name:"",is_offline_mode:0,can_edit:0,can_update:0,can_delete:0,can_view_system_settings:0,can_view_delete_button:0}),v(!1),g(!0)},S=async()=>{try{if(!y.permissions_Name){a({title:"Error",description:"Permission name is required",variant:"destructive"});return}f?(await X.permissions.update(f.permissions_ID,y),a({title:"Success",description:"Permission updated"})):(await X.permissions.create(y),a({title:"Success",description:"Permission created"})),g(!1),w()}catch(E){a({title:"Error",description:E.message,variant:"destructive"})}},N=[{key:"permissions_Name",header:"Role Name",render:E=>i.jsx(pc,{title:E.permissions_Name||"Unnamed Role",icon:i.jsx(A1,{className:"h-4 w-4 text-primary"})}),align:"left"},{key:"permissions_ID",header:"ID",render:E=>i.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["#",E.permissions_ID]}),align:"left"}],C=[{icon:i.jsx(Di,{}),label:"Edit",onClick:E=>j(E)}],k=()=>{const E=Object.keys(y).filter(O=>O!=="permissions_ID"&&O!=="permissions_Name"&&O!=="created_at"&&O!=="updated_at");return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:E.map(O=>i.jsxs("div",{className:"flex items-center gap-2 border p-3 rounded-md",children:[i.jsx(Vb,{id:O,checked:!!y[O],onCheckedChange:T=>{b(U=>({...U,[O]:T?1:0}))}}),i.jsx(ze,{htmlFor:O,className:"cursor-pointer flex-1 capitalize",children:O.replace(/_/g," ")})]},O))})};return l?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(Pa,{message:e("common.loading"),size:"2xl"})}):u?i.jsx(Tp,{message:u,onRetry:w}):i.jsxs("div",{className:"space-y-4 p-4",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Permissions"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and access rights"})]}),i.jsxs(de,{onClick:_,children:[i.jsx(Ut,{className:Ce("h-4 w-4","me-2")})," Add Role"]})]}),i.jsx(mc,{data:s,columns:N,actions:C,keyExtractor:E=>E.permissions_ID.toString(),rtl:t,isMobile:r}),i.jsx(fl,{open:m,onOpenChange:g,children:i.jsxs(No,{side:t?"left":"right",className:"w-full sm:max-w-[850px] overflow-y-auto",dir:t?"rtl":"ltr",children:[i.jsxs(uc,{children:[i.jsx(hl,{children:f?"Edit Role":"New Role"}),i.jsx(ef,{children:"Configure access permissions for this role."})]}),i.jsxs("div",{className:"py-4 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"roleName",children:"Role Name"}),i.jsx(Ue,{id:"roleName",value:y.permissions_Name||"",onChange:E=>b(O=>({...O,permissions_Name:E.target.value}))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Access Rights"}),k(),Object.keys(y).filter(E=>E!=="permissions_ID"&&E!=="permissions_Name").length===0&&i.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["No permission flags detected.",s.length===0&&" Add your first permission to define the schema or ensure backend migration."]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[i.jsx(de,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),i.jsx(de,{onClick:S,children:"Save Changes"})]})]})})]})}const _He=()=>i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),i.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),i.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})}),jHe=()=>{const{user:e}=hr();return(e==null?void 0:e.role)==="client"?i.jsx(S5e,{}):i.jsx(KIe,{})},r$=({children:e})=>i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-indigo-400/20 to-blue-400/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-primary/5 to-blue-400/5 rounded-full blur-3xl"})]}),i.jsx("div",{className:"relative z-10 w-full px-4 py-8",children:e})]});function SHe(){return i.jsx(gre,{children:i.jsx(fB,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(Sse,{children:i.jsx($ne,{children:i.jsx(Ine,{children:i.jsx(Bne,{children:i.jsx(NHe,{})})})})})})})}function NHe(){const{isRTL:e}=ir(),t=bl(),{t:r}=At();return x.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),x.useEffect(()=>{const n=t.pathname.split("/").filter(c=>c),a="Middar CRM";if(n.length===0){document.title=a;return}const s=n[n.length-1],o={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys",reports:"navigation.reports","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee",permissions:"navigation.permissions"};let l="";if(o[s])l=r(o[s]);else if(/^\d+$/.test(s)||s.length>20)if(n.length>1){const c=n[n.length-2];o[c]?l=`${r(o[c])} - ${s}`:l=s}else l=s;else l=s.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");document.title=`${l} | ${a}`},[t,r]),i.jsxs(cre,{children:[i.jsx(_r,{path:"/login",element:i.jsx(r$,{children:i.jsx(_se,{})})}),i.jsx(_r,{path:"/signup",element:i.jsx(r$,{children:i.jsx(jse,{})})}),i.jsx(_r,{path:"/unauthorized",element:i.jsx(_He,{})}),i.jsx(_r,{path:"/auth/callback",element:i.jsx(C5e,{})}),i.jsx(_r,{path:"/",element:i.jsx(k5e,{})}),i.jsxs(_r,{element:i.jsx(Gx,{children:i.jsx(ik,{children:i.jsx(qD,{})})}),children:[i.jsx(_r,{path:"/dashboard",element:i.jsx(cMe,{})}),i.jsx(_r,{path:"/leads",element:i.jsx(aIe,{})}),i.jsx(_r,{path:"/projects",element:i.jsx(_Ie,{})}),i.jsx(_r,{path:"/tasks",element:i.jsx(cIe,{})}),i.jsx(_r,{path:"/tickets",element:i.jsx(fIe,{})}),i.jsx(_r,{path:"/users",element:i.jsx(Gx,{denyPermissionIds:[3,4,5,6],children:i.jsx(IIe,{})})}),i.jsx(_r,{path:"/teams",element:i.jsx(LIe,{})}),i.jsx(_r,{path:"/chats",element:i.jsx(jHe,{})}),i.jsx(_r,{path:"/all-chats",element:i.jsx(j5e,{})}),i.jsx(_r,{path:"/whatsapp",element:i.jsx(bHe,{})}),i.jsx(_r,{path:"/requests",element:i.jsx(xHe,{})}),i.jsx(_r,{path:"/client-portal",element:i.jsx(N5e,{})}),i.jsx(_r,{path:"/surveys",element:i.jsx(DVe,{})}),i.jsx(_r,{path:"/reports",element:i.jsx(mWe,{})}),i.jsx(_r,{path:"/mleads",element:i.jsx(dWe,{})}),i.jsx(_r,{path:"/mprojects",element:i.jsx(hWe,{})}),i.jsx(_r,{path:"/permissions",element:i.jsx(Gx,{denyPermissionIds:[3,4,5,6],children:i.jsx(wHe,{})})}),i.jsx(_r,{path:"/settings",element:i.jsx(Gx,{denyPermissionIds:[3,4,5,6],children:i.jsx(RVe,{})})})]}),i.jsx(_r,{element:i.jsx(ik,{children:i.jsx(qD,{})})}),i.jsx(_r,{path:"*",element:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("h1",{children:"404 - Page Not Found"})})})]})}const kHe=new lZ({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});S6(document.getElementById("root")).render(i.jsx(gee,{i18n:Wr,children:i.jsx(hZ,{client:kHe,children:i.jsx(fB,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(SHe,{})})})}));
